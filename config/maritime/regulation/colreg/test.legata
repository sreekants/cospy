# COLREG.Rule24 :
# Status        : REVIEW

define: {
    OS: OwnShip
}


condition: { 
    :OS.Operation in ['Vessel.Operation.TOWING','Vessel.Operation.PUSHING','Vessel.Operation.PUSHED']
}

# Towing and Pushing

# (a) A power-driven vessel when towing shall exhibit:
# (i) instead of the light prescribed in Rule 23(a)(i) or (a)(ii), two masthead lights in
# a vertical line. When the length of the tow, measuring from the stern of the
# towing vessel to the after end of the tow exceeds 200 metres, three such lights
# in a vertical line;
# (ii) sidelights;
# (iii) a sternlight;
# (iv) a towing light in a vertical line above the sternlight;
# (v) when the length of the tow exceeds 200 metres, a diamond shape where it can
# best be seen.
clause['COLREG.Rule24.a']:{
    :{
        condition: { 
			:(OS.Type is Vessel.Type.PowerDriven)
		}
        assure: { 
            :OS.Signal.ON has 'Light.Masthead.Forward.2x'
            :OS.Signal.ON has 'Light.Sidelight'
            :OS.Signal.ON has 'Light.Sternlight'
            :OS.Signal.ON has 'Light.TowingLight'
            :{
				condition: { 
					:OS.Length > meters(200)
				}
				assure: { 
					:OS.Signal.ON has 'Light.Diamond'
				}
			}	
        }
    }
}