var cM=Object.defineProperty;var uM=(r,e,t)=>e in r?cM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var it=(r,e,t)=>uM(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function My(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const Mt={},hc=[],us=()=>{},hM=()=>!1,Og=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),Py=r=>r.startsWith("onUpdate:"),hr=Object.assign,Ry=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},dM=Object.prototype.hasOwnProperty,Dt=(r,e)=>dM.call(r,e),Qe=Array.isArray,dc=r=>$g(r)==="[object Map]",Dw=r=>$g(r)==="[object Set]",tt=r=>typeof r=="function",xi=r=>typeof r=="string",co=r=>typeof r=="symbol",Yt=r=>r!==null&&typeof r=="object",Ow=r=>(Yt(r)||tt(r))&&tt(r.then)&&tt(r.catch),$w=Object.prototype.toString,$g=r=>$w.call(r),fM=r=>$g(r).slice(8,-1),Vw=r=>$g(r)==="[object Object]",Dy=r=>xi(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,wh=My(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vg=r=>{const e=Object.create(null);return t=>e[t]||(e[t]=r(t))},pM=/-(\w)/g,Jr=Vg(r=>r.replace(pM,(e,t)=>t?t.toUpperCase():"")),gM=/\B([A-Z])/g,ma=Vg(r=>r.replace(gM,"-$1").toLowerCase()),Fg=Vg(r=>r.charAt(0).toUpperCase()+r.slice(1)),i2=Vg(r=>r?`on${Fg(r)}`:""),Ar=(r,e)=>!Object.is(r,e),r2=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},Fw=(r,e,t,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:t})},mM=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let Z3;const Bg=()=>Z3||(Z3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Lc(r){if(Qe(r)){const e={};for(let t=0;t<r.length;t++){const i=r[t],n=xi(i)?_M(i):Lc(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(xi(r)||Yt(r))return r}const vM=/;(?![^(]*\))/g,yM=/:([^]+)/,bM=/\/\*[^]*?\*\//g;function _M(r){const e={};return r.replace(bM,"").split(vM).forEach(t=>{if(t){const i=t.split(yM);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Po(r){let e="";if(xi(r))e=r;else if(Qe(r))for(let t=0;t<r.length;t++){const i=Po(r[t]);i&&(e+=i+" ")}else if(Yt(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const wM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",CM=My(wM);function Bw(r){return!!r||r===""}const Nw=r=>!!(r&&r.__v_isRef===!0),Qt=r=>xi(r)?r:r==null?"":Qe(r)||Yt(r)&&(r.toString===$w||!tt(r.toString))?Nw(r)?Qt(r.value):JSON.stringify(r,Hw,2):String(r),Hw=(r,e)=>Nw(e)?Hw(r,e.value):dc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,n],s)=>(t[n2(i,s)+" =>"]=n,t),{})}:Dw(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>n2(t))}:co(e)?n2(e):Yt(e)&&!Qe(e)&&!Vw(e)?String(e):e,n2=(r,e="")=>{var t;return co(r)?`Symbol(${(t=r.description)!=null?t:e})`:r};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vr;class Uw{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vr,!e&&vr&&(this.index=(vr.scopes||(vr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=vr;try{return vr=this,e()}finally{vr=t}}}on(){vr=this}off(){vr=this.parent}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function zw(r){return new Uw(r)}function Oy(){return vr}function jw(r,e=!1){vr&&vr.cleanups.push(r)}let Gt;const s2=new WeakSet;class Gw{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vr&&vr.active&&vr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,s2.has(this)&&(s2.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ww(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,W3(this),Kw(this);const e=Gt,t=Pn;Gt=this,Pn=!0;try{return this.fn()}finally{qw(this),Gt=e,Pn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Fy(e);this.deps=this.depsTail=void 0,W3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?s2.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kv(this)&&this.run()}get dirty(){return kv(this)}}let Zw=0,Ch,xh;function Ww(r,e=!1){if(r.flags|=8,e){r.next=xh,xh=r;return}r.next=Ch,Ch=r}function $y(){Zw++}function Vy(){if(--Zw>0)return;if(xh){let e=xh;for(xh=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;Ch;){let e=Ch;for(Ch=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){r||(r=i)}e=t}}if(r)throw r}function Kw(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function qw(r){let e,t=r.depsTail,i=t;for(;i;){const n=i.prevDep;i.version===-1?(i===t&&(t=n),Fy(i),xM(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}r.deps=e,r.depsTail=t}function kv(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Yw(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function Yw(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===qh))return;r.globalVersion=qh;const e=r.dep;if(r.flags|=2,e.version>0&&!r.isSSR&&r.deps&&!kv(r)){r.flags&=-3;return}const t=Gt,i=Pn;Gt=r,Pn=!0;try{Kw(r);const n=r.fn(r._value);(e.version===0||Ar(n,r._value))&&(r._value=n,e.version++)}catch(n){throw e.version++,n}finally{Gt=t,Pn=i,qw(r),r.flags&=-3}}function Fy(r,e=!1){const{dep:t,prevSub:i,nextSub:n}=r;if(i&&(i.nextSub=n,r.prevSub=void 0),n&&(n.prevSub=i,r.nextSub=void 0),t.subs===r&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)Fy(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function xM(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}let Pn=!0;const Xw=[];function va(){Xw.push(Pn),Pn=!1}function ya(){const r=Xw.pop();Pn=r===void 0?!0:r}function W3(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=Gt;Gt=void 0;try{e()}finally{Gt=t}}}let qh=0;class EM{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ng{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Gt||!Pn||Gt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Gt)t=this.activeLink=new EM(Gt,this),Gt.deps?(t.prevDep=Gt.depsTail,Gt.depsTail.nextDep=t,Gt.depsTail=t):Gt.deps=Gt.depsTail=t,Qw(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=Gt.depsTail,t.nextDep=void 0,Gt.depsTail.nextDep=t,Gt.depsTail=t,Gt.deps===t&&(Gt.deps=i)}return t}trigger(e){this.version++,qh++,this.notify(e)}notify(e){$y();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Vy()}}}function Qw(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Qw(i)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const ap=new WeakMap,qa=Symbol(""),Iv=Symbol(""),Yh=Symbol("");function nr(r,e,t){if(Pn&&Gt){let i=ap.get(r);i||ap.set(r,i=new Map);let n=i.get(t);n||(i.set(t,n=new Ng),n.map=i,n.key=t),n.track()}}function Us(r,e,t,i,n,s){const o=ap.get(r);if(!o){qh++;return}const a=l=>{l&&l.trigger()};if($y(),e==="clear")o.forEach(a);else{const l=Qe(r),c=l&&Dy(t);if(l&&t==="length"){const u=Number(i);o.forEach((h,d)=>{(d==="length"||d===Yh||!co(d)&&d>=u)&&a(h)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),c&&a(o.get(Yh)),e){case"add":l?c&&a(o.get("length")):(a(o.get(qa)),dc(r)&&a(o.get(Iv)));break;case"delete":l||(a(o.get(qa)),dc(r)&&a(o.get(Iv)));break;case"set":dc(r)&&a(o.get(qa));break}}Vy()}function TM(r,e){const t=ap.get(r);return t&&t.get(e)}function Fl(r){const e=yt(r);return e===r?e:(nr(e,"iterate",Yh),yn(r)?e:e.map(sr))}function Hg(r){return nr(r=yt(r),"iterate",Yh),r}const LM={__proto__:null,[Symbol.iterator](){return o2(this,Symbol.iterator,sr)},concat(...r){return Fl(this).concat(...r.map(e=>Qe(e)?Fl(e):e))},entries(){return o2(this,"entries",r=>(r[1]=sr(r[1]),r))},every(r,e){return Ss(this,"every",r,e,void 0,arguments)},filter(r,e){return Ss(this,"filter",r,e,t=>t.map(sr),arguments)},find(r,e){return Ss(this,"find",r,e,sr,arguments)},findIndex(r,e){return Ss(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return Ss(this,"findLast",r,e,sr,arguments)},findLastIndex(r,e){return Ss(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return Ss(this,"forEach",r,e,void 0,arguments)},includes(...r){return a2(this,"includes",r)},indexOf(...r){return a2(this,"indexOf",r)},join(r){return Fl(this).join(r)},lastIndexOf(...r){return a2(this,"lastIndexOf",r)},map(r,e){return Ss(this,"map",r,e,void 0,arguments)},pop(){return Hu(this,"pop")},push(...r){return Hu(this,"push",r)},reduce(r,...e){return K3(this,"reduce",r,e)},reduceRight(r,...e){return K3(this,"reduceRight",r,e)},shift(){return Hu(this,"shift")},some(r,e){return Ss(this,"some",r,e,void 0,arguments)},splice(...r){return Hu(this,"splice",r)},toReversed(){return Fl(this).toReversed()},toSorted(r){return Fl(this).toSorted(r)},toSpliced(...r){return Fl(this).toSpliced(...r)},unshift(...r){return Hu(this,"unshift",r)},values(){return o2(this,"values",sr)}};function o2(r,e,t){const i=Hg(r),n=i[e]();return i!==r&&!yn(r)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=t(s.value)),s}),n}const SM=Array.prototype;function Ss(r,e,t,i,n,s){const o=Hg(r),a=o!==r&&!yn(r),l=o[e];if(l!==SM[e]){const h=l.apply(r,s);return a?sr(h):h}let c=t;o!==r&&(a?c=function(h,d){return t.call(this,sr(h),d,r)}:t.length>2&&(c=function(h,d){return t.call(this,h,d,r)}));const u=l.call(o,c,i);return a&&n?n(u):u}function K3(r,e,t,i){const n=Hg(r);let s=t;return n!==r&&(yn(r)?t.length>3&&(s=function(o,a,l){return t.call(this,o,a,l,r)}):s=function(o,a,l){return t.call(this,o,sr(a),l,r)}),n[e](s,...i)}function a2(r,e,t){const i=yt(r);nr(i,"iterate",Yh);const n=i[e](...t);return(n===-1||n===!1)&&tf(t[0])?(t[0]=yt(t[0]),i[e](...t)):n}function Hu(r,e,t=[]){va(),$y();const i=yt(r)[e].apply(r,t);return Vy(),ya(),i}const AM=My("__proto__,__v_isRef,__isVue"),Jw=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(co));function kM(r){co(r)||(r=String(r));const e=yt(this);return nr(e,"has",r),e.hasOwnProperty(r)}class eC{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(n?s?BM:nC:s?rC:iC).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Qe(e);if(!n){let l;if(o&&(l=LM[t]))return l;if(t==="hasOwnProperty")return kM}const a=Reflect.get(e,t,ci(e)?e:i);return(co(t)?Jw.has(t):AM(t))||(n||nr(e,"get",t),s)?a:ci(a)?o&&Dy(t)?a:a.value:Yt(a)?n?Ug(a):At(a):a}}class tC extends eC{constructor(e=!1){super(!1,e)}set(e,t,i,n){let s=e[t];if(!this._isShallow){const l=ol(s);if(!yn(i)&&!ol(i)&&(s=yt(s),i=yt(i)),!Qe(e)&&ci(s)&&!ci(i))return l?!1:(s.value=i,!0)}const o=Qe(e)&&Dy(t)?Number(t)<e.length:Dt(e,t),a=Reflect.set(e,t,i,ci(e)?e:n);return e===yt(n)&&(o?Ar(i,s)&&Us(e,"set",t,i):Us(e,"add",t,i)),a}deleteProperty(e,t){const i=Dt(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&Us(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return(!co(t)||!Jw.has(t))&&nr(e,"has",t),i}ownKeys(e){return nr(e,"iterate",Qe(e)?"length":qa),Reflect.ownKeys(e)}}class IM extends eC{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const MM=new tC,PM=new IM,RM=new tC(!0);const Mv=r=>r,$f=r=>Reflect.getPrototypeOf(r);function DM(r,e,t){return function(...i){const n=this.__v_raw,s=yt(n),o=dc(s),a=r==="entries"||r===Symbol.iterator&&o,l=r==="keys"&&o,c=n[r](...i),u=t?Mv:e?Pv:sr;return!e&&nr(s,"iterate",l?Iv:qa),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Vf(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function OM(r,e){const t={get(n){const s=this.__v_raw,o=yt(s),a=yt(n);r||(Ar(n,a)&&nr(o,"get",n),nr(o,"get",a));const{has:l}=$f(o),c=e?Mv:r?Pv:sr;if(l.call(o,n))return c(s.get(n));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(n)},get size(){const n=this.__v_raw;return!r&&nr(yt(n),"iterate",qa),Reflect.get(n,"size",n)},has(n){const s=this.__v_raw,o=yt(s),a=yt(n);return r||(Ar(n,a)&&nr(o,"has",n),nr(o,"has",a)),n===a?s.has(n):s.has(n)||s.has(a)},forEach(n,s){const o=this,a=o.__v_raw,l=yt(a),c=e?Mv:r?Pv:sr;return!r&&nr(l,"iterate",qa),a.forEach((u,h)=>n.call(s,c(u),c(h),o))}};return hr(t,r?{add:Vf("add"),set:Vf("set"),delete:Vf("delete"),clear:Vf("clear")}:{add(n){!e&&!yn(n)&&!ol(n)&&(n=yt(n));const s=yt(this);return $f(s).has.call(s,n)||(s.add(n),Us(s,"add",n,n)),this},set(n,s){!e&&!yn(s)&&!ol(s)&&(s=yt(s));const o=yt(this),{has:a,get:l}=$f(o);let c=a.call(o,n);c||(n=yt(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,s),c?Ar(s,u)&&Us(o,"set",n,s):Us(o,"add",n,s),this},delete(n){const s=yt(this),{has:o,get:a}=$f(s);let l=o.call(s,n);l||(n=yt(n),l=o.call(s,n)),a&&a.call(s,n);const c=s.delete(n);return l&&Us(s,"delete",n,void 0),c},clear(){const n=yt(this),s=n.size!==0,o=n.clear();return s&&Us(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=DM(n,r,e)}),t}function By(r,e){const t=OM(r,e);return(i,n,s)=>n==="__v_isReactive"?!r:n==="__v_isReadonly"?r:n==="__v_raw"?i:Reflect.get(Dt(t,n)&&n in i?t:i,n,s)}const $M={get:By(!1,!1)},VM={get:By(!1,!0)},FM={get:By(!0,!1)};const iC=new WeakMap,rC=new WeakMap,nC=new WeakMap,BM=new WeakMap;function NM(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HM(r){return r.__v_skip||!Object.isExtensible(r)?0:NM(fM(r))}function At(r){return ol(r)?r:Ny(r,!1,MM,$M,iC)}function sC(r){return Ny(r,!1,RM,VM,rC)}function Ug(r){return Ny(r,!0,PM,FM,nC)}function Ny(r,e,t,i,n){if(!Yt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=n.get(r);if(s)return s;const o=HM(r);if(o===0)return r;const a=new Proxy(r,o===2?i:t);return n.set(r,a),a}function No(r){return ol(r)?No(r.__v_raw):!!(r&&r.__v_isReactive)}function ol(r){return!!(r&&r.__v_isReadonly)}function yn(r){return!!(r&&r.__v_isShallow)}function tf(r){return r?!!r.__v_raw:!1}function yt(r){const e=r&&r.__v_raw;return e?yt(e):r}function Hy(r){return!Dt(r,"__v_skip")&&Object.isExtensible(r)&&Fw(r,"__v_skip",!0),r}const sr=r=>Yt(r)?At(r):r,Pv=r=>Yt(r)?Ug(r):r;function ci(r){return r?r.__v_isRef===!0:!1}function je(r){return oC(r,!1)}function rf(r){return oC(r,!0)}function oC(r,e){return ci(r)?r:new UM(r,e)}class UM{constructor(e,t){this.dep=new Ng,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:yt(e),this._value=t?e:sr(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||yn(e)||ol(e);e=i?e:yt(e),Ar(e,t)&&(this._rawValue=e,this._value=i?e:sr(e),this.dep.trigger())}}function N(r){return ci(r)?r.value:r}function Ya(r){return tt(r)?r():N(r)}const zM={get:(r,e,t)=>e==="__v_raw"?r:N(Reflect.get(r,e,t)),set:(r,e,t,i)=>{const n=r[e];return ci(n)&&!ci(t)?(n.value=t,!0):Reflect.set(r,e,t,i)}};function aC(r){return No(r)?r:new Proxy(r,zM)}class jM{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Ng,{get:i,set:n}=e(t.track.bind(t),t.trigger.bind(t));this._get=i,this._set=n}get value(){return this._value=this._get()}set value(e){this._set(e)}}function lC(r){return new jM(r)}function GM(r){const e=Qe(r)?new Array(r.length):{};for(const t in r)e[t]=cC(r,t);return e}class ZM{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return TM(yt(this._object),this._key)}}class WM{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function KM(r,e,t){return ci(r)?r:tt(r)?new WM(r):Yt(r)&&arguments.length>1?cC(r,e,t):je(r)}function cC(r,e,t){const i=r[e];return ci(i)?i:new ZM(r,e,t)}class qM{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ng(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qh-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Gt!==this)return Ww(this,!0),!0}get value(){const e=this.dep.track();return Yw(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function YM(r,e,t=!1){let i,n;return tt(r)?i=r:(i=r.get,n=r.set),new qM(i,n,t)}const Ff={},lp=new WeakMap;let $a;function XM(r,e=!1,t=$a){if(t){let i=lp.get(t);i||lp.set(t,i=[]),i.push(r)}}function QM(r,e,t=Mt){const{immediate:i,deep:n,once:s,scheduler:o,augmentJob:a,call:l}=t,c=S=>n?S:yn(S)||n===!1||n===0?zs(S,1):zs(S);let u,h,d,f,g=!1,m=!1;if(ci(r)?(h=()=>r.value,g=yn(r)):No(r)?(h=()=>c(r),g=!0):Qe(r)?(m=!0,g=r.some(S=>No(S)||yn(S)),h=()=>r.map(S=>{if(ci(S))return S.value;if(No(S))return c(S);if(tt(S))return l?l(S,2):S()})):tt(r)?e?h=l?()=>l(r,2):r:h=()=>{if(d){va();try{d()}finally{ya()}}const S=$a;$a=u;try{return l?l(r,3,[f]):r(f)}finally{$a=S}}:h=us,e&&n){const S=h,k=n===!0?1/0:n;h=()=>zs(S(),k)}const v=Oy(),y=()=>{u.stop(),v&&v.active&&Ry(v.effects,u)};if(s&&e){const S=e;e=(...k)=>{S(...k),y()}}let _=m?new Array(r.length).fill(Ff):Ff;const w=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const k=u.run();if(n||g||(m?k.some((P,x)=>Ar(P,_[x])):Ar(k,_))){d&&d();const P=$a;$a=u;try{const x=[k,_===Ff?void 0:m&&_[0]===Ff?[]:_,f];l?l(e,3,x):e(...x),_=k}finally{$a=P}}}else u.run()};return a&&a(w),u=new Gw(h),u.scheduler=o?()=>o(w,!1):w,f=S=>XM(S,!1,u),d=u.onStop=()=>{const S=lp.get(u);if(S){if(l)l(S,4);else for(const k of S)k();lp.delete(u)}},e?i?w(!0):_=u.run():o?o(w.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function zs(r,e=1/0,t){if(e<=0||!Yt(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),e--,ci(r))zs(r.value,e,t);else if(Qe(r))for(let i=0;i<r.length;i++)zs(r[i],e,t);else if(Dw(r)||dc(r))r.forEach(i=>{zs(i,e,t)});else if(Vw(r)){for(const i in r)zs(r[i],e,t);for(const i of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,i)&&zs(r[i],e,t)}return r}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nf(r,e,t,i){try{return i?r(...i):r()}catch(n){zg(n,e,t)}}function ms(r,e,t,i){if(tt(r)){const n=nf(r,e,t,i);return n&&Ow(n)&&n.catch(s=>{zg(s,e,t)}),n}if(Qe(r)){const n=[];for(let s=0;s<r.length;s++)n.push(ms(r[s],e,t,i));return n}}function zg(r,e,t,i=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Mt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](r,l,c)===!1)return}a=a.parent}if(s){va(),nf(s,null,10,[r,l,c]),ya();return}}JM(r,t,n,i,o)}function JM(r,e,t,i=!0,n=!1){if(n)throw r;console.error(r)}const yr=[];let Kn=-1;const fc=[];let To=null,Yl=0;const uC=Promise.resolve();let cp=null;function du(r){const e=cp||uC;return r?e.then(this?r.bind(this):r):e}function eP(r){let e=Kn+1,t=yr.length;for(;e<t;){const i=e+t>>>1,n=yr[i],s=Xh(n);s<r||s===r&&n.flags&2?e=i+1:t=i}return e}function Uy(r){if(!(r.flags&1)){const e=Xh(r),t=yr[yr.length-1];!t||!(r.flags&2)&&e>=Xh(t)?yr.push(r):yr.splice(eP(e),0,r),r.flags|=1,hC()}}function hC(){cp||(cp=uC.then(fC))}function tP(r){Qe(r)?fc.push(...r):To&&r.id===-1?To.splice(Yl+1,0,r):r.flags&1||(fc.push(r),r.flags|=1),hC()}function q3(r,e,t=Kn+1){for(;t<yr.length;t++){const i=yr[t];if(i&&i.flags&2){if(r&&i.id!==r.uid)continue;yr.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function dC(r){if(fc.length){const e=[...new Set(fc)].sort((t,i)=>Xh(t)-Xh(i));if(fc.length=0,To){To.push(...e);return}for(To=e,Yl=0;Yl<To.length;Yl++){const t=To[Yl];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}To=null,Yl=0}}const Xh=r=>r.id==null?r.flags&2?-1:1/0:r.id;function fC(r){try{for(Kn=0;Kn<yr.length;Kn++){const e=yr[Kn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),nf(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Kn<yr.length;Kn++){const e=yr[Kn];e&&(e.flags&=-2)}Kn=-1,yr.length=0,dC(),cp=null,(yr.length||fc.length)&&fC()}}let ki=null,pC=null;function up(r){const e=ki;return ki=r,pC=r&&r.type.__scopeId||null,e}function J(r,e=ki,t){if(!e||r._n)return r;const i=(...n)=>{i._d&&s8(-1);const s=up(e);let o;try{o=r(...n)}finally{up(s),i._d&&s8(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ft(r,e){if(ki===null)return r;const t=qg(ki),i=r.dirs||(r.dirs=[]);for(let n=0;n<e.length;n++){let[s,o,a,l=Mt]=e[n];s&&(tt(s)&&(s={mounted:s,updated:s}),s.deep&&zs(o),i.push({dir:s,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return r}function Aa(r,e,t,i){const n=r.dirs,s=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(va(),ms(l,t,8,[r.el,a,r,e]),ya())}}const iP=Symbol("_vte"),rP=r=>r.__isTeleport;function zy(r,e){r.shapeFlag&6&&r.component?(r.transition=e,zy(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Ne(r,e){return tt(r)?hr({name:r.name},e,{setup:r}):r}function gC(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}function hp(r,e,t,i,n=!1){if(Qe(r)){r.forEach((g,m)=>hp(g,e&&(Qe(e)?e[m]:e),t,i,n));return}if(pc(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&hp(r,e,t,i.component.subTree);return}const s=i.shapeFlag&4?qg(i.component):i.el,o=n?null:s,{i:a,r:l}=r,c=e&&e.r,u=a.refs===Mt?a.refs={}:a.refs,h=a.setupState,d=yt(h),f=h===Mt?()=>!1:g=>Dt(d,g);if(c!=null&&c!==l&&(xi(c)?(u[c]=null,f(c)&&(h[c]=null)):ci(c)&&(c.value=null)),tt(l))nf(l,a,12,[o,u]);else{const g=xi(l),m=ci(l);if(g||m){const v=()=>{if(r.f){const y=g?f(l)?h[l]:u[l]:l.value;n?Qe(y)&&Ry(y,s):Qe(y)?y.includes(s)||y.push(s):g?(u[l]=[s],f(l)&&(h[l]=u[l])):(l.value=[s],r.k&&(u[r.k]=l.value))}else g?(u[l]=o,f(l)&&(h[l]=o)):m&&(l.value=o,r.k&&(u[r.k]=o))};o?(v.id=-1,zr(v,t)):v()}}}Bg().requestIdleCallback;Bg().cancelIdleCallback;const pc=r=>!!r.type.__asyncLoader,mC=r=>r.type.__isKeepAlive;function nP(r,e){vC(r,"a",e)}function sP(r,e){vC(r,"da",e)}function vC(r,e,t=$i){const i=r.__wdc||(r.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return r()});if(jg(e,i,t),t){let n=t.parent;for(;n&&n.parent;)mC(n.parent.vnode)&&oP(i,e,t,n),n=n.parent}}function oP(r,e,t,i){const n=jg(e,r,i,!0);Gg(()=>{Ry(i[e],n)},t)}function jg(r,e,t=$i,i=!1){if(t){const n=t[r]||(t[r]=[]),s=e.__weh||(e.__weh=(...o)=>{va();const a=sf(t),l=ms(e,t,r,o);return a(),ya(),l});return i?n.unshift(s):n.push(s),s}}const uo=r=>(e,t=$i)=>{(!ed||r==="sp")&&jg(r,(...i)=>e(...i),t)},aP=uo("bm"),Fn=uo("m"),lP=uo("bu"),cP=uo("u"),yC=uo("bum"),Gg=uo("um"),uP=uo("sp"),hP=uo("rtg"),dP=uo("rtc");function fP(r,e=$i){jg("ec",r,e)}const pP="components";function gP(r,e){return vP(pP,r,!0,e)||r}const mP=Symbol.for("v-ndc");function vP(r,e,t=!0,i=!1){const n=ki||$i;if(n){const s=n.type;{const a=lR(s,!1);if(a&&(a===e||a===Jr(e)||a===Fg(Jr(e))))return s}const o=Y3(n[r]||s[r],e)||Y3(n.appContext[r],e);return!o&&i?s:o}}function Y3(r,e){return r&&(r[e]||r[Jr(e)]||r[Fg(Jr(e))])}function Ws(r,e,t,i){let n;const s=t,o=Qe(r);if(o||xi(r)){const a=o&&No(r);let l=!1;a&&(l=!yn(r),r=Hg(r)),n=new Array(r.length);for(let c=0,u=r.length;c<u;c++)n[c]=e(l?sr(r[c]):r[c],c,void 0,s)}else if(typeof r=="number"){n=new Array(r);for(let a=0;a<r;a++)n[a]=e(a+1,a,void 0,s)}else if(Yt(r))if(r[Symbol.iterator])n=Array.from(r,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(r);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(r[u],u,l,s)}}else n=[];return n}function yP(r,e){for(let t=0;t<e.length;t++){const i=e[t];if(Qe(i))for(let n=0;n<i.length;n++)r[i[n].name]=i[n].fn;else i&&(r[i.name]=i.key?(...n)=>{const s=i.fn(...n);return s&&(s.key=i.key),s}:i.fn)}return r}function bP(r,e,t={},i,n){if(ki.ce||ki.parent&&pc(ki.parent)&&ki.parent.ce)return G(),Re(pt,null,[ue("slot",t,i)],64);let s=r[e];s&&s._c&&(s._d=!1),G();const o=s&&bC(s(t)),a=t.key||o&&o.key,l=Re(pt,{key:(a&&!co(a)?a:`_${e}`)+""},o||[],o&&r._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function bC(r){return r.some(e=>Jh(e)?!(e.type===qo||e.type===pt&&!bC(e.children)):!0)?r:null}const Rv=r=>r?NC(r)?qg(r):Rv(r.parent):null,Eh=hr(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Rv(r.parent),$root:r=>Rv(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>wC(r),$forceUpdate:r=>r.f||(r.f=()=>{Uy(r.update)}),$nextTick:r=>r.n||(r.n=du.bind(r.proxy)),$watch:r=>zP.bind(r)}),l2=(r,e)=>r!==Mt&&!r.__isScriptSetup&&Dt(r,e),_P={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:n,props:s,accessCache:o,type:a,appContext:l}=r;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return s[e]}else{if(l2(i,e))return o[e]=1,i[e];if(n!==Mt&&Dt(n,e))return o[e]=2,n[e];if((c=r.propsOptions[0])&&Dt(c,e))return o[e]=3,s[e];if(t!==Mt&&Dt(t,e))return o[e]=4,t[e];Dv&&(o[e]=0)}}const u=Eh[e];let h,d;if(u)return e==="$attrs"&&nr(r.attrs,"get",""),u(r);if((h=a.__cssModules)&&(h=h[e]))return h;if(t!==Mt&&Dt(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,Dt(d,e))return d[e]},set({_:r},e,t){const{data:i,setupState:n,ctx:s}=r;return l2(n,e)?(n[e]=t,!0):i!==Mt&&Dt(i,e)?(i[e]=t,!0):Dt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(s[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:i,appContext:n,propsOptions:s}},o){let a;return!!t[o]||r!==Mt&&Dt(r,o)||l2(e,o)||(a=s[0])&&Dt(a,o)||Dt(i,o)||Dt(Eh,o)||Dt(n.config.globalProperties,o)},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:Dt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};function mt(){return wP().slots}function wP(){const r=Kg();return r.setupContext||(r.setupContext=UC(r))}function X3(r){return Qe(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}let Dv=!0;function CP(r){const e=wC(r),t=r.proxy,i=r.ctx;Dv=!1,e.beforeCreate&&Q3(e.beforeCreate,r,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:g,activated:m,deactivated:v,beforeDestroy:y,beforeUnmount:_,destroyed:w,unmounted:S,render:k,renderTracked:P,renderTriggered:x,errorCaptured:C,serverPrefetch:E,expose:A,inheritAttrs:I,components:D,directives:R,filters:fe}=e;if(c&&xP(c,i,null),o)for(const K in o){const ae=o[K];tt(ae)&&(i[K]=ae.bind(t))}if(n){const K=n.call(t,t);Yt(K)&&(r.data=At(K))}if(Dv=!0,s)for(const K in s){const ae=s[K],ne=tt(ae)?ae.bind(t,t):tt(ae.get)?ae.get.bind(t,t):us,ce=!tt(ae)&&tt(ae.set)?ae.set.bind(t):us,ke=Xe({get:ne,set:ce});Object.defineProperty(i,K,{enumerable:!0,configurable:!0,get:()=>ke.value,set:ye=>ke.value=ye})}if(a)for(const K in a)_C(a[K],i,t,K);if(l){const K=tt(l)?l.call(t):l;Reflect.ownKeys(K).forEach(ae=>{M1(ae,K[ae])})}u&&Q3(u,r,"c");function Y(K,ae){Qe(ae)?ae.forEach(ne=>K(ne.bind(t))):ae&&K(ae.bind(t))}if(Y(aP,h),Y(Fn,d),Y(lP,f),Y(cP,g),Y(nP,m),Y(sP,v),Y(fP,C),Y(dP,P),Y(hP,x),Y(yC,_),Y(Gg,S),Y(uP,E),Qe(A))if(A.length){const K=r.exposed||(r.exposed={});A.forEach(ae=>{Object.defineProperty(K,ae,{get:()=>t[ae],set:ne=>t[ae]=ne})})}else r.exposed||(r.exposed={});k&&r.render===us&&(r.render=k),I!=null&&(r.inheritAttrs=I),D&&(r.components=D),R&&(r.directives=R),E&&gC(r)}function xP(r,e,t=us){Qe(r)&&(r=Ov(r));for(const i in r){const n=r[i];let s;Yt(n)?"default"in n?s=bn(n.from||i,n.default,!0):s=bn(n.from||i):s=bn(n),ci(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function Q3(r,e,t){ms(Qe(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,t)}function _C(r,e,t,i){let n=i.includes(".")?DC(t,i):()=>t[i];if(xi(r)){const s=e[r];tt(s)&&Cr(n,s)}else if(tt(r))Cr(n,r.bind(t));else if(Yt(r))if(Qe(r))r.forEach(s=>_C(s,e,t,i));else{const s=tt(r.handler)?r.handler.bind(t):e[r.handler];tt(s)&&Cr(n,s,r)}}function wC(r){const e=r.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=r.appContext,a=s.get(e);let l;return a?l=a:!n.length&&!t&&!i?l=e:(l={},n.length&&n.forEach(c=>dp(l,c,o,!0)),dp(l,e,o)),Yt(e)&&s.set(e,l),l}function dp(r,e,t,i=!1){const{mixins:n,extends:s}=e;s&&dp(r,s,t,!0),n&&n.forEach(o=>dp(r,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=EP[o]||t&&t[o];r[o]=a?a(r[o],e[o]):e[o]}return r}const EP={data:J3,props:e8,emits:e8,methods:th,computed:th,beforeCreate:mr,created:mr,beforeMount:mr,mounted:mr,beforeUpdate:mr,updated:mr,beforeDestroy:mr,beforeUnmount:mr,destroyed:mr,unmounted:mr,activated:mr,deactivated:mr,errorCaptured:mr,serverPrefetch:mr,components:th,directives:th,watch:LP,provide:J3,inject:TP};function J3(r,e){return e?r?function(){return hr(tt(r)?r.call(this,this):r,tt(e)?e.call(this,this):e)}:e:r}function TP(r,e){return th(Ov(r),Ov(e))}function Ov(r){if(Qe(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function mr(r,e){return r?[...new Set([].concat(r,e))]:e}function th(r,e){return r?hr(Object.create(null),r,e):e}function e8(r,e){return r?Qe(r)&&Qe(e)?[...new Set([...r,...e])]:hr(Object.create(null),X3(r),X3(e??{})):e}function LP(r,e){if(!r)return e;if(!e)return r;const t=hr(Object.create(null),r);for(const i in e)t[i]=mr(r[i],e[i]);return t}function CC(){return{app:null,config:{isNativeTag:hM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let SP=0;function AP(r,e){return function(i,n=null){tt(i)||(i=hr({},i)),n!=null&&!Yt(n)&&(n=null);const s=CC(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:SP++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:zC,get config(){return s.config},set config(u){},use(u,...h){return o.has(u)||(u&&tt(u.install)?(o.add(u),u.install(c,...h)):tt(u)&&(o.add(u),u(c,...h))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,h){return h?(s.components[u]=h,c):s.components[u]},directive(u,h){return h?(s.directives[u]=h,c):s.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||ue(i,n);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),r(f,u,d),l=!0,c._container=u,u.__vue_app__=c,qg(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ms(a,c._instance,16),r(null,c._container),delete c._container.__vue_app__)},provide(u,h){return s.provides[u]=h,c},runWithContext(u){const h=Xa;Xa=c;try{return u()}finally{Xa=h}}};return c}}let Xa=null;function M1(r,e){if($i){let t=$i.provides;const i=$i.parent&&$i.parent.provides;i===t&&(t=$i.provides=Object.create(i)),t[r]=e}}function bn(r,e,t=!1){const i=$i||ki;if(i||Xa){const n=Xa?Xa._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&r in n)return n[r];if(arguments.length>1)return t&&tt(e)?e.call(i&&i.proxy):e}}function kP(){return!!($i||ki||Xa)}const xC={},EC=()=>Object.create(xC),TC=r=>Object.getPrototypeOf(r)===xC;function IP(r,e,t,i=!1){const n={},s=EC();r.propsDefaults=Object.create(null),LC(r,e,n,s);for(const o in r.propsOptions[0])o in n||(n[o]=void 0);t?r.props=i?n:sC(n):r.type.props?r.props=n:r.props=s,r.attrs=s}function MP(r,e,t,i){const{props:n,attrs:s,vnode:{patchFlag:o}}=r,a=yt(n),[l]=r.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=r.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Zg(r.emitsOptions,d))continue;const f=e[d];if(l)if(Dt(s,d))f!==s[d]&&(s[d]=f,c=!0);else{const g=Jr(d);n[g]=$v(l,a,g,f,r,!1)}else f!==s[d]&&(s[d]=f,c=!0)}}}else{LC(r,e,n,s)&&(c=!0);let u;for(const h in a)(!e||!Dt(e,h)&&((u=ma(h))===h||!Dt(e,u)))&&(l?t&&(t[h]!==void 0||t[u]!==void 0)&&(n[h]=$v(l,a,h,void 0,r,!0)):delete n[h]);if(s!==a)for(const h in s)(!e||!Dt(e,h))&&(delete s[h],c=!0)}c&&Us(r.attrs,"set","")}function LC(r,e,t,i){const[n,s]=r.propsOptions;let o=!1,a;if(e)for(let l in e){if(wh(l))continue;const c=e[l];let u;n&&Dt(n,u=Jr(l))?!s||!s.includes(u)?t[u]=c:(a||(a={}))[u]=c:Zg(r.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=yt(t),c=a||Mt;for(let u=0;u<s.length;u++){const h=s[u];t[h]=$v(n,l,h,c[h],r,!Dt(c,h))}}return o}function $v(r,e,t,i,n,s){const o=r[t];if(o!=null){const a=Dt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&tt(l)){const{propsDefaults:c}=n;if(t in c)i=c[t];else{const u=sf(n);i=c[t]=l.call(null,e),u()}}else i=l;n.ce&&n.ce._setProp(t,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===ma(t))&&(i=!0))}return i}const PP=new WeakMap;function SC(r,e,t=!1){const i=t?PP:e.propsCache,n=i.get(r);if(n)return n;const s=r.props,o={},a=[];let l=!1;if(!tt(r)){const u=h=>{l=!0;const[d,f]=SC(h,e,!0);hr(o,d),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!s&&!l)return Yt(r)&&i.set(r,hc),hc;if(Qe(s))for(let u=0;u<s.length;u++){const h=Jr(s[u]);t8(h)&&(o[h]=Mt)}else if(s)for(const u in s){const h=Jr(u);if(t8(h)){const d=s[u],f=o[h]=Qe(d)||tt(d)?{type:d}:hr({},d),g=f.type;let m=!1,v=!0;if(Qe(g))for(let y=0;y<g.length;++y){const _=g[y],w=tt(_)&&_.name;if(w==="Boolean"){m=!0;break}else w==="String"&&(v=!1)}else m=tt(g)&&g.name==="Boolean";f[0]=m,f[1]=v,(m||Dt(f,"default"))&&a.push(h)}}const c=[o,a];return Yt(r)&&i.set(r,c),c}function t8(r){return r[0]!=="$"&&!wh(r)}const AC=r=>r[0]==="_"||r==="$stable",jy=r=>Qe(r)?r.map(is):[is(r)],RP=(r,e,t)=>{if(e._n)return e;const i=J((...n)=>jy(e(...n)),t);return i._c=!1,i},kC=(r,e,t)=>{const i=r._ctx;for(const n in r){if(AC(n))continue;const s=r[n];if(tt(s))e[n]=RP(n,s,i);else if(s!=null){const o=jy(s);e[n]=()=>o}}},IC=(r,e)=>{const t=jy(e);r.slots.default=()=>t},MC=(r,e,t)=>{for(const i in e)(t||i!=="_")&&(r[i]=e[i])},DP=(r,e,t)=>{const i=r.slots=EC();if(r.vnode.shapeFlag&32){const n=e._;n?(MC(i,e,t),t&&Fw(i,"_",n,!0)):kC(e,i)}else e&&IC(r,e)},OP=(r,e,t)=>{const{vnode:i,slots:n}=r;let s=!0,o=Mt;if(i.shapeFlag&32){const a=e._;a?t&&a===1?s=!1:MC(n,e,t):(s=!e.$stable,kC(e,n)),o=e}else e&&(IC(r,e),o={default:1});if(s)for(const a in n)!AC(a)&&o[a]==null&&delete n[a]},zr=YP;function $P(r){return VP(r)}function VP(r,e){const t=Bg();t.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=us,insertStaticContent:g}=r,m=(V,B,H,le=null,W=null,te=null,_e=void 0,be=null,pe=!!B.dynamicChildren)=>{if(V===B)return;V&&!Uu(V,B)&&(le=q(V),ye(V,W,te,!0),V=null),B.patchFlag===-2&&(pe=!1,B.dynamicChildren=null);const{type:de,ref:Be,shapeFlag:Le}=B;switch(de){case Wg:v(V,B,H,le);break;case qo:y(V,B,H,le);break;case P1:V==null&&_(B,H,le,_e);break;case pt:D(V,B,H,le,W,te,_e,be,pe);break;default:Le&1?k(V,B,H,le,W,te,_e,be,pe):Le&6?R(V,B,H,le,W,te,_e,be,pe):(Le&64||Le&128)&&de.process(V,B,H,le,W,te,_e,be,pe,Pe)}Be!=null&&W&&hp(Be,V&&V.ref,te,B||V,!B)},v=(V,B,H,le)=>{if(V==null)i(B.el=a(B.children),H,le);else{const W=B.el=V.el;B.children!==V.children&&c(W,B.children)}},y=(V,B,H,le)=>{V==null?i(B.el=l(B.children||""),H,le):B.el=V.el},_=(V,B,H,le)=>{[V.el,V.anchor]=g(V.children,B,H,le,V.el,V.anchor)},w=({el:V,anchor:B},H,le)=>{let W;for(;V&&V!==B;)W=d(V),i(V,H,le),V=W;i(B,H,le)},S=({el:V,anchor:B})=>{let H;for(;V&&V!==B;)H=d(V),n(V),V=H;n(B)},k=(V,B,H,le,W,te,_e,be,pe)=>{B.type==="svg"?_e="svg":B.type==="math"&&(_e="mathml"),V==null?P(B,H,le,W,te,_e,be,pe):E(V,B,W,te,_e,be,pe)},P=(V,B,H,le,W,te,_e,be)=>{let pe,de;const{props:Be,shapeFlag:Le,transition:Oe,dirs:Ge}=V;if(pe=V.el=o(V.type,te,Be&&Be.is,Be),Le&8?u(pe,V.children):Le&16&&C(V.children,pe,null,le,W,c2(V,te),_e,be),Ge&&Aa(V,null,le,"created"),x(pe,V,V.scopeId,_e,le),Be){for(const Je in Be)Je!=="value"&&!wh(Je)&&s(pe,Je,null,Be[Je],te,le);"value"in Be&&s(pe,"value",null,Be.value,te),(de=Be.onVnodeBeforeMount)&&zn(de,le,V)}Ge&&Aa(V,null,le,"beforeMount");const Ue=FP(W,Oe);Ue&&Oe.beforeEnter(pe),i(pe,B,H),((de=Be&&Be.onVnodeMounted)||Ue||Ge)&&zr(()=>{de&&zn(de,le,V),Ue&&Oe.enter(pe),Ge&&Aa(V,null,le,"mounted")},W)},x=(V,B,H,le,W)=>{if(H&&f(V,H),le)for(let te=0;te<le.length;te++)f(V,le[te]);if(W){let te=W.subTree;if(B===te||VC(te.type)&&(te.ssContent===B||te.ssFallback===B)){const _e=W.vnode;x(V,_e,_e.scopeId,_e.slotScopeIds,W.parent)}}},C=(V,B,H,le,W,te,_e,be,pe=0)=>{for(let de=pe;de<V.length;de++){const Be=V[de]=be?Lo(V[de]):is(V[de]);m(null,Be,B,H,le,W,te,_e,be)}},E=(V,B,H,le,W,te,_e)=>{const be=B.el=V.el;let{patchFlag:pe,dynamicChildren:de,dirs:Be}=B;pe|=V.patchFlag&16;const Le=V.props||Mt,Oe=B.props||Mt;let Ge;if(H&&ka(H,!1),(Ge=Oe.onVnodeBeforeUpdate)&&zn(Ge,H,B,V),Be&&Aa(B,V,H,"beforeUpdate"),H&&ka(H,!0),(Le.innerHTML&&Oe.innerHTML==null||Le.textContent&&Oe.textContent==null)&&u(be,""),de?A(V.dynamicChildren,de,be,H,le,c2(B,W),te):_e||ae(V,B,be,null,H,le,c2(B,W),te,!1),pe>0){if(pe&16)I(be,Le,Oe,H,W);else if(pe&2&&Le.class!==Oe.class&&s(be,"class",null,Oe.class,W),pe&4&&s(be,"style",Le.style,Oe.style,W),pe&8){const Ue=B.dynamicProps;for(let Je=0;Je<Ue.length;Je++){const ft=Ue[Je],Ei=Le[ft],bi=Oe[ft];(bi!==Ei||ft==="value")&&s(be,ft,Ei,bi,W,H)}}pe&1&&V.children!==B.children&&u(be,B.children)}else!_e&&de==null&&I(be,Le,Oe,H,W);((Ge=Oe.onVnodeUpdated)||Be)&&zr(()=>{Ge&&zn(Ge,H,B,V),Be&&Aa(B,V,H,"updated")},le)},A=(V,B,H,le,W,te,_e)=>{for(let be=0;be<B.length;be++){const pe=V[be],de=B[be],Be=pe.el&&(pe.type===pt||!Uu(pe,de)||pe.shapeFlag&70)?h(pe.el):H;m(pe,de,Be,null,le,W,te,_e,!0)}},I=(V,B,H,le,W)=>{if(B!==H){if(B!==Mt)for(const te in B)!wh(te)&&!(te in H)&&s(V,te,B[te],null,W,le);for(const te in H){if(wh(te))continue;const _e=H[te],be=B[te];_e!==be&&te!=="value"&&s(V,te,be,_e,W,le)}"value"in H&&s(V,"value",B.value,H.value,W)}},D=(V,B,H,le,W,te,_e,be,pe)=>{const de=B.el=V?V.el:a(""),Be=B.anchor=V?V.anchor:a("");let{patchFlag:Le,dynamicChildren:Oe,slotScopeIds:Ge}=B;Ge&&(be=be?be.concat(Ge):Ge),V==null?(i(de,H,le),i(Be,H,le),C(B.children||[],H,Be,W,te,_e,be,pe)):Le>0&&Le&64&&Oe&&V.dynamicChildren?(A(V.dynamicChildren,Oe,H,W,te,_e,be),(B.key!=null||W&&B===W.subTree)&&PC(V,B,!0)):ae(V,B,H,Be,W,te,_e,be,pe)},R=(V,B,H,le,W,te,_e,be,pe)=>{B.slotScopeIds=be,V==null?B.shapeFlag&512?W.ctx.activate(B,H,le,_e,pe):fe(B,H,le,W,te,_e,pe):se(V,B,pe)},fe=(V,B,H,le,W,te,_e)=>{const be=V.component=nR(V,le,W);if(mC(V)&&(be.ctx.renderer=Pe),sR(be,!1,_e),be.asyncDep){if(W&&W.registerDep(be,Y,_e),!V.el){const pe=be.subTree=ue(qo);y(null,pe,B,H)}}else Y(be,V,B,H,W,te,_e)},se=(V,B,H)=>{const le=B.component=V.component;if(KP(V,B,H))if(le.asyncDep&&!le.asyncResolved){K(le,B,H);return}else le.next=B,le.update();else B.el=V.el,le.vnode=B},Y=(V,B,H,le,W,te,_e)=>{const be=()=>{if(V.isMounted){let{next:Le,bu:Oe,u:Ge,parent:Ue,vnode:Je}=V;{const Xi=RC(V);if(Xi){Le&&(Le.el=Je.el,K(V,Le,_e)),Xi.asyncDep.then(()=>{V.isUnmounted||be()});return}}let ft=Le,Ei;ka(V,!1),Le?(Le.el=Je.el,K(V,Le,_e)):Le=Je,Oe&&r2(Oe),(Ei=Le.props&&Le.props.onVnodeBeforeUpdate)&&zn(Ei,Ue,Le,Je),ka(V,!0);const bi=r8(V),Pi=V.subTree;V.subTree=bi,m(Pi,bi,h(Pi.el),q(Pi),V,W,te),Le.el=bi.el,ft===null&&qP(V,bi.el),Ge&&zr(Ge,W),(Ei=Le.props&&Le.props.onVnodeUpdated)&&zr(()=>zn(Ei,Ue,Le,Je),W)}else{let Le;const{el:Oe,props:Ge}=B,{bm:Ue,m:Je,parent:ft,root:Ei,type:bi}=V,Pi=pc(B);ka(V,!1),Ue&&r2(Ue),!Pi&&(Le=Ge&&Ge.onVnodeBeforeMount)&&zn(Le,ft,B),ka(V,!0);{Ei.ce&&Ei.ce._injectChildStyle(bi);const Xi=V.subTree=r8(V);m(null,Xi,H,le,V,W,te),B.el=Xi.el}if(Je&&zr(Je,W),!Pi&&(Le=Ge&&Ge.onVnodeMounted)){const Xi=B;zr(()=>zn(Le,ft,Xi),W)}(B.shapeFlag&256||ft&&pc(ft.vnode)&&ft.vnode.shapeFlag&256)&&V.a&&zr(V.a,W),V.isMounted=!0,B=H=le=null}};V.scope.on();const pe=V.effect=new Gw(be);V.scope.off();const de=V.update=pe.run.bind(pe),Be=V.job=pe.runIfDirty.bind(pe);Be.i=V,Be.id=V.uid,pe.scheduler=()=>Uy(Be),ka(V,!0),de()},K=(V,B,H)=>{B.component=V;const le=V.vnode.props;V.vnode=B,V.next=null,MP(V,B.props,le,H),OP(V,B.children,H),va(),q3(V),ya()},ae=(V,B,H,le,W,te,_e,be,pe=!1)=>{const de=V&&V.children,Be=V?V.shapeFlag:0,Le=B.children,{patchFlag:Oe,shapeFlag:Ge}=B;if(Oe>0){if(Oe&128){ce(de,Le,H,le,W,te,_e,be,pe);return}else if(Oe&256){ne(de,Le,H,le,W,te,_e,be,pe);return}}Ge&8?(Be&16&&Ce(de,W,te),Le!==de&&u(H,Le)):Be&16?Ge&16?ce(de,Le,H,le,W,te,_e,be,pe):Ce(de,W,te,!0):(Be&8&&u(H,""),Ge&16&&C(Le,H,le,W,te,_e,be,pe))},ne=(V,B,H,le,W,te,_e,be,pe)=>{V=V||hc,B=B||hc;const de=V.length,Be=B.length,Le=Math.min(de,Be);let Oe;for(Oe=0;Oe<Le;Oe++){const Ge=B[Oe]=pe?Lo(B[Oe]):is(B[Oe]);m(V[Oe],Ge,H,null,W,te,_e,be,pe)}de>Be?Ce(V,W,te,!0,!1,Le):C(B,H,le,W,te,_e,be,pe,Le)},ce=(V,B,H,le,W,te,_e,be,pe)=>{let de=0;const Be=B.length;let Le=V.length-1,Oe=Be-1;for(;de<=Le&&de<=Oe;){const Ge=V[de],Ue=B[de]=pe?Lo(B[de]):is(B[de]);if(Uu(Ge,Ue))m(Ge,Ue,H,null,W,te,_e,be,pe);else break;de++}for(;de<=Le&&de<=Oe;){const Ge=V[Le],Ue=B[Oe]=pe?Lo(B[Oe]):is(B[Oe]);if(Uu(Ge,Ue))m(Ge,Ue,H,null,W,te,_e,be,pe);else break;Le--,Oe--}if(de>Le){if(de<=Oe){const Ge=Oe+1,Ue=Ge<Be?B[Ge].el:le;for(;de<=Oe;)m(null,B[de]=pe?Lo(B[de]):is(B[de]),H,Ue,W,te,_e,be,pe),de++}}else if(de>Oe)for(;de<=Le;)ye(V[de],W,te,!0),de++;else{const Ge=de,Ue=de,Je=new Map;for(de=Ue;de<=Oe;de++){const Hi=B[de]=pe?Lo(B[de]):is(B[de]);Hi.key!=null&&Je.set(Hi.key,de)}let ft,Ei=0;const bi=Oe-Ue+1;let Pi=!1,Xi=0;const go=new Array(bi);for(de=0;de<bi;de++)go[de]=0;for(de=Ge;de<=Le;de++){const Hi=V[de];if(Ei>=bi){ye(Hi,W,te,!0);continue}let ln;if(Hi.key!=null)ln=Je.get(Hi.key);else for(ft=Ue;ft<=Oe;ft++)if(go[ft-Ue]===0&&Uu(Hi,B[ft])){ln=ft;break}ln===void 0?ye(Hi,W,te,!0):(go[ln-Ue]=de+1,ln>=Xi?Xi=ln:Pi=!0,m(Hi,B[ln],H,null,W,te,_e,be,pe),Ei++)}const Au=Pi?BP(go):hc;for(ft=Au.length-1,de=bi-1;de>=0;de--){const Hi=Ue+de,ln=B[Hi],_f=Hi+1<Be?B[Hi+1].el:le;go[de]===0?m(null,ln,H,_f,W,te,_e,be,pe):Pi&&(ft<0||de!==Au[ft]?ke(ln,H,_f,2):ft--)}}},ke=(V,B,H,le,W=null)=>{const{el:te,type:_e,transition:be,children:pe,shapeFlag:de}=V;if(de&6){ke(V.component.subTree,B,H,le);return}if(de&128){V.suspense.move(B,H,le);return}if(de&64){_e.move(V,B,H,Pe);return}if(_e===pt){i(te,B,H);for(let Le=0;Le<pe.length;Le++)ke(pe[Le],B,H,le);i(V.anchor,B,H);return}if(_e===P1){w(V,B,H);return}if(le!==2&&de&1&&be)if(le===0)be.beforeEnter(te),i(te,B,H),zr(()=>be.enter(te),W);else{const{leave:Le,delayLeave:Oe,afterLeave:Ge}=be,Ue=()=>i(te,B,H),Je=()=>{Le(te,()=>{Ue(),Ge&&Ge()})};Oe?Oe(te,Ue,Je):Je()}else i(te,B,H)},ye=(V,B,H,le=!1,W=!1)=>{const{type:te,props:_e,ref:be,children:pe,dynamicChildren:de,shapeFlag:Be,patchFlag:Le,dirs:Oe,cacheIndex:Ge}=V;if(Le===-2&&(W=!1),be!=null&&hp(be,null,H,V,!0),Ge!=null&&(B.renderCache[Ge]=void 0),Be&256){B.ctx.deactivate(V);return}const Ue=Be&1&&Oe,Je=!pc(V);let ft;if(Je&&(ft=_e&&_e.onVnodeBeforeUnmount)&&zn(ft,B,V),Be&6)Fe(V.component,H,le);else{if(Be&128){V.suspense.unmount(H,le);return}Ue&&Aa(V,null,B,"beforeUnmount"),Be&64?V.type.remove(V,B,H,Pe,le):de&&!de.hasOnce&&(te!==pt||Le>0&&Le&64)?Ce(de,B,H,!1,!0):(te===pt&&Le&384||!W&&Be&16)&&Ce(pe,B,H),le&&ge(V)}(Je&&(ft=_e&&_e.onVnodeUnmounted)||Ue)&&zr(()=>{ft&&zn(ft,B,V),Ue&&Aa(V,null,B,"unmounted")},H)},ge=V=>{const{type:B,el:H,anchor:le,transition:W}=V;if(B===pt){X(H,le);return}if(B===P1){S(V);return}const te=()=>{n(H),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(V.shapeFlag&1&&W&&!W.persisted){const{leave:_e,delayLeave:be}=W,pe=()=>_e(H,te);be?be(V.el,te,pe):pe()}else te()},X=(V,B)=>{let H;for(;V!==B;)H=d(V),n(V),V=H;n(B)},Fe=(V,B,H)=>{const{bum:le,scope:W,job:te,subTree:_e,um:be,m:pe,a:de}=V;i8(pe),i8(de),le&&r2(le),W.stop(),te&&(te.flags|=8,ye(_e,V,B,H)),be&&zr(be,B),zr(()=>{V.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},Ce=(V,B,H,le=!1,W=!1,te=0)=>{for(let _e=te;_e<V.length;_e++)ye(V[_e],B,H,le,W)},q=V=>{if(V.shapeFlag&6)return q(V.component.subTree);if(V.shapeFlag&128)return V.suspense.next();const B=d(V.anchor||V.el),H=B&&B[iP];return H?d(H):B};let xe=!1;const Ee=(V,B,H)=>{V==null?B._vnode&&ye(B._vnode,null,null,!0):m(B._vnode||null,V,B,null,null,null,H),B._vnode=V,xe||(xe=!0,q3(),dC(),xe=!1)},Pe={p:m,um:ye,m:ke,r:ge,mt:fe,mc:C,pc:ae,pbc:A,n:q,o:r};return{render:Ee,hydrate:void 0,createApp:AP(Ee)}}function c2({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ka({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function FP(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function PC(r,e,t=!1){const i=r.children,n=e.children;if(Qe(i)&&Qe(n))for(let s=0;s<i.length;s++){const o=i[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Lo(n[s]),a.el=o.el),!t&&a.patchFlag!==-2&&PC(o,a)),a.type===Wg&&(a.el=o.el)}}function BP(r){const e=r.slice(),t=[0];let i,n,s,o,a;const l=r.length;for(i=0;i<l;i++){const c=r[i];if(c!==0){if(n=t[t.length-1],r[n]<c){e[i]=n,t.push(i);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,r[t[a]]<c?s=a+1:o=a;c<r[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function RC(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:RC(e)}function i8(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}const NP=Symbol.for("v-scx"),HP=()=>bn(NP);function UP(r,e){return Gy(r,null,{flush:"sync"})}function Cr(r,e,t){return Gy(r,e,t)}function Gy(r,e,t=Mt){const{immediate:i,deep:n,flush:s,once:o}=t,a=hr({},t),l=e&&i||!e&&s!=="post";let c;if(ed){if(s==="sync"){const f=HP();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=us,f.resume=us,f.pause=us,f}}const u=$i;a.call=(f,g,m)=>ms(f,u,g,m);let h=!1;s==="post"?a.scheduler=f=>{zr(f,u&&u.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(f,g)=>{g?f():Uy(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=QM(r,e,a);return ed&&(c?c.push(d):l&&d()),d}function zP(r,e,t){const i=this.proxy,n=xi(r)?r.includes(".")?DC(i,r):()=>i[r]:r.bind(i,i);let s;tt(e)?s=e:(s=e.handler,t=e);const o=sf(this),a=Gy(n,s.bind(i),t);return o(),a}function DC(r,e){const t=e.split(".");return()=>{let i=r;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}function jP(r,e,t=Mt){const i=Kg(),n=Jr(e),s=ma(e),o=OC(r,n),a=lC((l,c)=>{let u,h=Mt,d;return UP(()=>{const f=r[n];Ar(u,f)&&(u=f,c())}),{get(){return l(),t.get?t.get(u):u},set(f){const g=t.set?t.set(f):f;if(!Ar(g,u)&&!(h!==Mt&&Ar(f,h)))return;const m=i.vnode.props;m&&(e in m||n in m||s in m)&&(`onUpdate:${e}`in m||`onUpdate:${n}`in m||`onUpdate:${s}`in m)||(u=f,c()),i.emit(`update:${e}`,g),Ar(f,g)&&Ar(f,h)&&!Ar(g,d)&&c(),h=f,d=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Mt:a,done:!1}:{done:!0}}}},a}const OC=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${Jr(e)}Modifiers`]||r[`${ma(e)}Modifiers`];function GP(r,e,...t){if(r.isUnmounted)return;const i=r.vnode.props||Mt;let n=t;const s=e.startsWith("update:"),o=s&&OC(i,e.slice(7));o&&(o.trim&&(n=t.map(u=>xi(u)?u.trim():u)),o.number&&(n=t.map(mM)));let a,l=i[a=i2(e)]||i[a=i2(Jr(e))];!l&&s&&(l=i[a=i2(ma(e))]),l&&ms(l,r,6,n);const c=i[a+"Once"];if(c){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,ms(c,r,6,n)}}function $C(r,e,t=!1){const i=e.emitsCache,n=i.get(r);if(n!==void 0)return n;const s=r.emits;let o={},a=!1;if(!tt(r)){const l=c=>{const u=$C(c,e,!0);u&&(a=!0,hr(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),r.extends&&l(r.extends),r.mixins&&r.mixins.forEach(l)}return!s&&!a?(Yt(r)&&i.set(r,null),null):(Qe(s)?s.forEach(l=>o[l]=null):hr(o,s),Yt(r)&&i.set(r,o),o)}function Zg(r,e){return!r||!Og(e)?!1:(e=e.slice(2).replace(/Once$/,""),Dt(r,e[0].toLowerCase()+e.slice(1))||Dt(r,ma(e))||Dt(r,e))}function r8(r){const{type:e,vnode:t,proxy:i,withProxy:n,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:g,inheritAttrs:m}=r,v=up(r);let y,_;try{if(t.shapeFlag&4){const S=n||i,k=S;y=is(c.call(k,S,u,h,f,d,g)),_=a}else{const S=e;y=is(S.length>1?S(h,{attrs:a,slots:o,emit:l}):S(h,null)),_=e.props?a:ZP(a)}}catch(S){Th.length=0,zg(S,r,1),y=ue(qo)}let w=y;if(_&&m!==!1){const S=Object.keys(_),{shapeFlag:k}=w;S.length&&k&7&&(s&&S.some(Py)&&(_=WP(_,s)),w=Sc(w,_,!1,!0))}return t.dirs&&(w=Sc(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(t.dirs):t.dirs),t.transition&&zy(w,t.transition),y=w,up(v),y}const ZP=r=>{let e;for(const t in r)(t==="class"||t==="style"||Og(t))&&((e||(e={}))[t]=r[t]);return e},WP=(r,e)=>{const t={};for(const i in r)(!Py(i)||!(i.slice(9)in e))&&(t[i]=r[i]);return t};function KP(r,e,t){const{props:i,children:n,component:s}=r,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?n8(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==i[d]&&!Zg(c,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?n8(i,o,c):!0:!!o;return!1}function n8(r,e,t){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==r[s]&&!Zg(t,s))return!0}return!1}function qP({vnode:r,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=t,e=e.parent;else break}}const VC=r=>r.__isSuspense;function YP(r,e){e&&e.pendingBranch?Qe(r)?e.effects.push(...r):e.effects.push(r):tP(r)}const pt=Symbol.for("v-fgt"),Wg=Symbol.for("v-txt"),qo=Symbol.for("v-cmt"),P1=Symbol.for("v-stc"),Th=[];let Kr=null;function G(r=!1){Th.push(Kr=r?null:[])}function XP(){Th.pop(),Kr=Th[Th.length-1]||null}let Qh=1;function s8(r,e=!1){Qh+=r,r<0&&Kr&&e&&(Kr.hasOnce=!0)}function FC(r){return r.dynamicChildren=Qh>0?Kr||hc:null,XP(),Qh>0&&Kr&&Kr.push(r),r}function we(r,e,t,i,n,s){return FC(Z(r,e,t,i,n,s,!0))}function Re(r,e,t,i,n){return FC(ue(r,e,t,i,n,!0))}function Jh(r){return r?r.__v_isVNode===!0:!1}function Uu(r,e){return r.type===e.type&&r.key===e.key}const BC=({key:r})=>r??null,R1=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?xi(r)||ci(r)||tt(r)?{i:ki,r,k:e,f:!!t}:r:null);function Z(r,e=null,t=null,i=0,n=null,s=r===pt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&BC(e),ref:e&&R1(e),scopeId:pC,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ki};return a?(Zy(l,t),s&128&&r.normalize(l)):t&&(l.shapeFlag|=xi(t)?8:16),Qh>0&&!o&&Kr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Kr.push(l),l}const ue=QP;function QP(r,e=null,t=null,i=0,n=null,s=!1){if((!r||r===mP)&&(r=qo),Jh(r)){const a=Sc(r,e,!0);return t&&Zy(a,t),Qh>0&&!s&&Kr&&(a.shapeFlag&6?Kr[Kr.indexOf(r)]=a:Kr.push(a)),a.patchFlag=-2,a}if(cR(r)&&(r=r.__vccOpts),e){e=JP(e);let{class:a,style:l}=e;a&&!xi(a)&&(e.class=Po(a)),Yt(l)&&(tf(l)&&!Qe(l)&&(l=hr({},l)),e.style=Lc(l))}const o=xi(r)?1:VC(r)?128:rP(r)?64:Yt(r)?4:tt(r)?2:0;return Z(r,e,t,i,n,o,s,!0)}function JP(r){return r?tf(r)||TC(r)?hr({},r):r:null}function Sc(r,e,t=!1,i=!1){const{props:n,ref:s,patchFlag:o,children:a,transition:l}=r,c=e?tR(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:r.type,props:c,key:c&&BC(c),ref:e&&e.ref?t&&s?Qe(s)?s.concat(R1(e)):[s,R1(e)]:R1(e):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:a,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==pt?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:l,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Sc(r.ssContent),ssFallback:r.ssFallback&&Sc(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return l&&i&&zy(u,l.clone(u)),u}function It(r=" ",e=0){return ue(Wg,null,r,e)}function eR(r,e){const t=ue(P1,null,r);return t.staticCount=e,t}function $t(r="",e=!1){return e?(G(),Re(qo,null,r)):ue(qo,null,r)}function is(r){return r==null||typeof r=="boolean"?ue(qo):Qe(r)?ue(pt,null,r.slice()):Jh(r)?Lo(r):ue(Wg,null,String(r))}function Lo(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Sc(r)}function Zy(r,e){let t=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(Qe(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),Zy(r,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!TC(e)?e._ctx=ki:n===3&&ki&&(ki.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:ki},t=32):(e=String(e),i&64?(t=16,e=[It(e)]):t=8);r.children=e,r.shapeFlag|=t}function tR(...r){const e={};for(let t=0;t<r.length;t++){const i=r[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Po([e.class,i.class]));else if(n==="style")e.style=Lc([e.style,i.style]);else if(Og(n)){const s=e[n],o=i[n];o&&s!==o&&!(Qe(s)&&s.includes(o))&&(e[n]=s?[].concat(s,o):o)}else n!==""&&(e[n]=i[n])}return e}function zn(r,e,t,i=null){ms(r,e,7,[t,i])}const iR=CC();let rR=0;function nR(r,e,t){const i=r.type,n=(e?e.appContext:r.appContext)||iR,s={uid:rR++,vnode:r,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Uw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:SC(i,n),emitsOptions:$C(i,n),emit:null,emitted:null,propsDefaults:Mt,inheritAttrs:i.inheritAttrs,ctx:Mt,data:Mt,props:Mt,attrs:Mt,slots:Mt,refs:Mt,setupState:Mt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=GP.bind(null,s),r.ce&&r.ce(s),s}let $i=null;const Kg=()=>$i||ki;let fp,Vv;{const r=Bg(),e=(t,i)=>{let n;return(n=r[t])||(n=r[t]=[]),n.push(i),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};fp=e("__VUE_INSTANCE_SETTERS__",t=>$i=t),Vv=e("__VUE_SSR_SETTERS__",t=>ed=t)}const sf=r=>{const e=$i;return fp(r),r.scope.on(),()=>{r.scope.off(),fp(e)}},o8=()=>{$i&&$i.scope.off(),fp(null)};function NC(r){return r.vnode.shapeFlag&4}let ed=!1;function sR(r,e=!1,t=!1){e&&Vv(e);const{props:i,children:n}=r.vnode,s=NC(r);IP(r,i,s,e),DP(r,n,t);const o=s?oR(r,e):void 0;return e&&Vv(!1),o}function oR(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,_P);const{setup:i}=t;if(i){va();const n=r.setupContext=i.length>1?UC(r):null,s=sf(r),o=nf(i,r,0,[r.props,n]),a=Ow(o);if(ya(),s(),(a||r.sp)&&!pc(r)&&gC(r),a){if(o.then(o8,o8),e)return o.then(l=>{a8(r,l)}).catch(l=>{zg(l,r,0)});r.asyncDep=o}else a8(r,o)}else HC(r)}function a8(r,e,t){tt(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:Yt(e)&&(r.setupState=aC(e)),HC(r)}function HC(r,e,t){const i=r.type;r.render||(r.render=i.render||us);{const n=sf(r);va();try{CP(r)}finally{ya(),n()}}}const aR={get(r,e){return nr(r,"get",""),r[e]}};function UC(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,aR),slots:r.slots,emit:r.emit,expose:e}}function qg(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(aC(Hy(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in Eh)return Eh[t](r)},has(e,t){return t in e||t in Eh}})):r.proxy}function lR(r,e=!0){return tt(r)?r.displayName||r.name:r.name||e&&r.__name}function cR(r){return tt(r)&&"__vccOpts"in r}const Xe=(r,e)=>YM(r,e,ed);function lt(r,e,t){const i=arguments.length;return i===2?Yt(e)&&!Qe(e)?Jh(e)?ue(r,null,[e]):ue(r,e):ue(r,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&Jh(t)&&(t=[t]),ue(r,e,t))}const zC="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fv;const l8=typeof window<"u"&&window.trustedTypes;if(l8)try{Fv=l8.createPolicy("vue",{createHTML:r=>r})}catch{}const jC=Fv?r=>Fv.createHTML(r):r=>r,uR="http://www.w3.org/2000/svg",hR="http://www.w3.org/1998/Math/MathML",Os=typeof document<"u"?document:null,c8=Os&&Os.createElement("template"),dR={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,i)=>{const n=e==="svg"?Os.createElementNS(uR,r):e==="mathml"?Os.createElementNS(hR,r):t?Os.createElement(r,{is:t}):Os.createElement(r);return r==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:r=>Os.createTextNode(r),createComment:r=>Os.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Os.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,t,i,n,s){const o=t?t.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===s||!(n=n.nextSibling)););else{c8.innerHTML=jC(i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r);const a=c8.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},fR=Symbol("_vtc");function pR(r,e,t){const i=r[fR];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}const pp=Symbol("_vod"),GC=Symbol("_vsh"),u2={beforeMount(r,{value:e},{transition:t}){r[pp]=r.style.display==="none"?"":r.style.display,t&&e?t.beforeEnter(r):zu(r,e)},mounted(r,{value:e},{transition:t}){t&&e&&t.enter(r)},updated(r,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(r),zu(r,!0),i.enter(r)):i.leave(r,()=>{zu(r,!1)}):zu(r,e))},beforeUnmount(r,{value:e}){zu(r,e)}};function zu(r,e){r.style.display=e?r[pp]:"none",r[GC]=!e}const gR=Symbol(""),mR=/(^|;)\s*display\s*:/;function vR(r,e,t){const i=r.style,n=xi(t);let s=!1;if(t&&!n){if(e)if(xi(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&D1(i,a,"")}else for(const o in e)t[o]==null&&D1(i,o,"");for(const o in t)o==="display"&&(s=!0),D1(i,o,t[o])}else if(n){if(e!==t){const o=i[gR];o&&(t+=";"+o),i.cssText=t,s=mR.test(t)}}else e&&r.removeAttribute("style");pp in r&&(r[pp]=s?i.display:"",r[GC]&&(i.display="none"))}const u8=/\s*!important$/;function D1(r,e,t){if(Qe(t))t.forEach(i=>D1(r,e,i));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const i=yR(r,e);u8.test(t)?r.setProperty(ma(i),t.replace(u8,""),"important"):r[i]=t}}const h8=["Webkit","Moz","ms"],h2={};function yR(r,e){const t=h2[e];if(t)return t;let i=Jr(e);if(i!=="filter"&&i in r)return h2[e]=i;i=Fg(i);for(let n=0;n<h8.length;n++){const s=h8[n]+i;if(s in r)return h2[e]=s}return e}const d8="http://www.w3.org/1999/xlink";function f8(r,e,t,i,n,s=CM(e)){i&&e.startsWith("xlink:")?t==null?r.removeAttributeNS(d8,e.slice(6,e.length)):r.setAttributeNS(d8,e,t):t==null||s&&!Bw(t)?r.removeAttribute(e):r.setAttribute(e,s?"":co(t)?String(t):t)}function p8(r,e,t,i,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(r[e]=e==="innerHTML"?jC(t):t);return}const s=r.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?r.getAttribute("value")||"":r.value,l=t==null?r.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in r))&&(r.value=l),t==null&&r.removeAttribute(e),r._value=t;return}let o=!1;if(t===""||t==null){const a=typeof r[e];a==="boolean"?t=Bw(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{r[e]=t}catch{}o&&r.removeAttribute(n||e)}function bR(r,e,t,i){r.addEventListener(e,t,i)}function _R(r,e,t,i){r.removeEventListener(e,t,i)}const g8=Symbol("_vei");function wR(r,e,t,i,n=null){const s=r[g8]||(r[g8]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=CR(e);if(i){const c=s[e]=TR(i,n);bR(r,a,c,l)}else o&&(_R(r,a,o,l),s[e]=void 0)}}const m8=/(?:Once|Passive|Capture)$/;function CR(r){let e;if(m8.test(r)){e={};let i;for(;i=r.match(m8);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):ma(r.slice(2)),e]}let d2=0;const xR=Promise.resolve(),ER=()=>d2||(xR.then(()=>d2=0),d2=Date.now());function TR(r,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;ms(LR(i,t.value),e,5,[i])};return t.value=r,t.attached=ER(),t}function LR(r,e){if(Qe(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const v8=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,SR=(r,e,t,i,n,s)=>{const o=n==="svg";e==="class"?pR(r,i,o):e==="style"?vR(r,t,i):Og(e)?Py(e)||wR(r,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):AR(r,e,i,o))?(p8(r,e,i),!r.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&f8(r,e,i,o,s,e!=="value")):r._isVueCE&&(/[A-Z]/.test(e)||!xi(i))?p8(r,Jr(e),i,s,e):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),f8(r,e,i,o))};function AR(r,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&v8(e)&&tt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=r.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return v8(e)&&xi(t)?!1:e in r}const kR=["ctrl","shift","alt","meta"],IR={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>kR.some(t=>r[`${t}Key`]&&!e.includes(t))},MR=(r,e)=>{const t=r._withMods||(r._withMods={}),i=e.join(".");return t[i]||(t[i]=(n,...s)=>{for(let o=0;o<e.length;o++){const a=IR[e[o]];if(a&&a(n,e))return}return r(n,...s)})},PR=hr({patchProp:SR},dR);let y8;function RR(){return y8||(y8=$P(PR))}const DR=(...r)=>{const e=RR().createApp(...r),{mount:t}=e;return e.mount=i=>{const n=$R(i);if(!n)return;const s=e._component;!tt(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=t(n,!1,OR(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function OR(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function $R(r){return xi(r)?document.querySelector(r):r}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ZC;const Yg=r=>ZC=r,WC=Symbol();function Bv(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Lh;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Lh||(Lh={}));function VR(){const r=zw(!0),e=r.run(()=>je({}));let t=[],i=[];const n=Hy({install(s){Yg(n),n._a=s,s.provide(WC,n),s.config.globalProperties.$pinia=n,i.forEach(o=>t.push(o)),i=[]},use(s){return this._a?t.push(s):i.push(s),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return n}const KC=()=>{};function b8(r,e,t,i=KC){r.push(e);const n=()=>{const s=r.indexOf(e);s>-1&&(r.splice(s,1),i())};return!t&&Oy()&&jw(n),n}function Bl(r,...e){r.slice().forEach(t=>{t(...e)})}const FR=r=>r(),_8=Symbol(),f2=Symbol();function Nv(r,e){r instanceof Map&&e instanceof Map?e.forEach((t,i)=>r.set(i,t)):r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],n=r[t];Bv(n)&&Bv(i)&&r.hasOwnProperty(t)&&!ci(i)&&!No(i)?r[t]=Nv(n,i):r[t]=i}return r}const BR=Symbol();function NR(r){return!Bv(r)||!r.hasOwnProperty(BR)}const{assign:xo}=Object;function HR(r){return!!(ci(r)&&r.effect)}function UR(r,e,t,i){const{state:n,actions:s,getters:o}=e,a=t.state.value[r];let l;function c(){a||(t.state.value[r]=n?n():{});const u=GM(t.state.value[r]);return xo(u,s,Object.keys(o||{}).reduce((h,d)=>(h[d]=Hy(Xe(()=>{Yg(t);const f=t._s.get(r);return o[d].call(f,f)})),h),{}))}return l=qC(r,c,e,t,i,!0),l}function qC(r,e,t={},i,n,s){let o;const a=xo({actions:{}},t),l={deep:!0};let c,u,h=[],d=[],f;const g=i.state.value[r];!s&&!g&&(i.state.value[r]={}),je({});let m;function v(C){let E;c=u=!1,typeof C=="function"?(C(i.state.value[r]),E={type:Lh.patchFunction,storeId:r,events:f}):(Nv(i.state.value[r],C),E={type:Lh.patchObject,payload:C,storeId:r,events:f});const A=m=Symbol();du().then(()=>{m===A&&(c=!0)}),u=!0,Bl(h,E,i.state.value[r])}const y=s?function(){const{state:E}=t,A=E?E():{};this.$patch(I=>{xo(I,A)})}:KC;function _(){o.stop(),h=[],d=[],i._s.delete(r)}const w=(C,E="")=>{if(_8 in C)return C[f2]=E,C;const A=function(){Yg(i);const I=Array.from(arguments),D=[],R=[];function fe(K){D.push(K)}function se(K){R.push(K)}Bl(d,{args:I,name:A[f2],store:k,after:fe,onError:se});let Y;try{Y=C.apply(this&&this.$id===r?this:k,I)}catch(K){throw Bl(R,K),K}return Y instanceof Promise?Y.then(K=>(Bl(D,K),K)).catch(K=>(Bl(R,K),Promise.reject(K))):(Bl(D,Y),Y)};return A[_8]=!0,A[f2]=E,A},S={_p:i,$id:r,$onAction:b8.bind(null,d),$patch:v,$reset:y,$subscribe(C,E={}){const A=b8(h,C,E.detached,()=>I()),I=o.run(()=>Cr(()=>i.state.value[r],D=>{(E.flush==="sync"?u:c)&&C({storeId:r,type:Lh.direct,events:f},D)},xo({},l,E)));return A},$dispose:_},k=At(S);i._s.set(r,k);const x=(i._a&&i._a.runWithContext||FR)(()=>i._e.run(()=>(o=zw()).run(()=>e({action:w}))));for(const C in x){const E=x[C];if(ci(E)&&!HR(E)||No(E))s||(g&&NR(E)&&(ci(E)?E.value=g[C]:Nv(E,g[C])),i.state.value[r][C]=E);else if(typeof E=="function"){const A=w(E,C);x[C]=A,a.actions[C]=E}}return xo(k,x),xo(yt(k),x),Object.defineProperty(k,"$state",{get:()=>i.state.value[r],set:C=>{v(E=>{xo(E,C)})}}),i._p.forEach(C=>{xo(k,o.run(()=>C({store:k,app:i._a,pinia:i,options:a})))}),g&&s&&t.hydrate&&t.hydrate(k.$state,g),c=!0,u=!0,k}/*! #__NO_SIDE_EFFECTS__ */function Xg(r,e,t){let i;const n=typeof e=="function";i=n?t:e;function s(o,a){const l=kP();return o=o||(l?bn(WC,null):null),o&&Yg(o),o=ZC,o._s.has(r)||(n?qC(r,e,i,o):UR(r,i,o)),o._s.get(r)}return s.$id=r,s}const zR="modulepreload",jR=function(r){return"/"+r},w8={},C8=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(t.map(l=>{if(l=jR(l),l in w8)return;w8[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":zR,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Xl=typeof document<"u";function YC(r){return typeof r=="object"||"displayName"in r||"props"in r||"__vccOpts"in r}function GR(r){return r.__esModule||r[Symbol.toStringTag]==="Module"||r.default&&YC(r.default)}const Rt=Object.assign;function p2(r,e){const t={};for(const i in e){const n=e[i];t[i]=Dn(n)?n.map(r):r(n)}return t}const Sh=()=>{},Dn=Array.isArray,XC=/#/g,ZR=/&/g,WR=/\//g,KR=/=/g,qR=/\?/g,QC=/\+/g,YR=/%5B/g,XR=/%5D/g,JC=/%5E/g,QR=/%60/g,ex=/%7B/g,JR=/%7C/g,tx=/%7D/g,eD=/%20/g;function Wy(r){return encodeURI(""+r).replace(JR,"|").replace(YR,"[").replace(XR,"]")}function tD(r){return Wy(r).replace(ex,"{").replace(tx,"}").replace(JC,"^")}function Hv(r){return Wy(r).replace(QC,"%2B").replace(eD,"+").replace(XC,"%23").replace(ZR,"%26").replace(QR,"`").replace(ex,"{").replace(tx,"}").replace(JC,"^")}function iD(r){return Hv(r).replace(KR,"%3D")}function rD(r){return Wy(r).replace(XC,"%23").replace(qR,"%3F")}function nD(r){return r==null?"":rD(r).replace(WR,"%2F")}function td(r){try{return decodeURIComponent(""+r)}catch{}return""+r}const sD=/\/$/,oD=r=>r.replace(sD,"");function g2(r,e,t="/"){let i,n={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),n=r(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=uD(i??e,t),{fullPath:i+(s&&"?")+s+o,path:i,query:n,hash:td(o)}}function aD(r,e){const t=e.query?r(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function x8(r,e){return!e||!r.toLowerCase().startsWith(e.toLowerCase())?r:r.slice(e.length)||"/"}function lD(r,e,t){const i=e.matched.length-1,n=t.matched.length-1;return i>-1&&i===n&&Ac(e.matched[i],t.matched[n])&&ix(e.params,t.params)&&r(e.query)===r(t.query)&&e.hash===t.hash}function Ac(r,e){return(r.aliasOf||r)===(e.aliasOf||e)}function ix(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(!cD(r[t],e[t]))return!1;return!0}function cD(r,e){return Dn(r)?E8(r,e):Dn(e)?E8(e,r):r===e}function E8(r,e){return Dn(e)?r.length===e.length&&r.every((t,i)=>t===e[i]):r.length===1&&r[0]===e}function uD(r,e){if(r.startsWith("/"))return r;if(!r)return e;const t=e.split("/"),i=r.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let s=t.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return t.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const bo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var id;(function(r){r.pop="pop",r.push="push"})(id||(id={}));var Ah;(function(r){r.back="back",r.forward="forward",r.unknown=""})(Ah||(Ah={}));function hD(r){if(!r)if(Xl){const e=document.querySelector("base");r=e&&e.getAttribute("href")||"/",r=r.replace(/^\w+:\/\/[^\/]+/,"")}else r="/";return r[0]!=="/"&&r[0]!=="#"&&(r="/"+r),oD(r)}const dD=/^[^#]+#/;function fD(r,e){return r.replace(dD,"#")+e}function pD(r,e){const t=document.documentElement.getBoundingClientRect(),i=r.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Qg=()=>({left:window.scrollX,top:window.scrollY});function gD(r){let e;if("el"in r){const t=r.el,i=typeof t=="string"&&t.startsWith("#"),n=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!n)return;e=pD(n,r)}else e=r;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function T8(r,e){return(history.state?history.state.position-e:-1)+r}const Uv=new Map;function mD(r,e){Uv.set(r,e)}function vD(r){const e=Uv.get(r);return Uv.delete(r),e}let yD=()=>location.protocol+"//"+location.host;function rx(r,e){const{pathname:t,search:i,hash:n}=e,s=r.indexOf("#");if(s>-1){let a=n.includes(r.slice(s))?r.slice(s).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),x8(l,"")}return x8(t,r)+i+n}function bD(r,e,t,i){let n=[],s=[],o=null;const a=({state:d})=>{const f=rx(r,location),g=t.value,m=e.value;let v=0;if(d){if(t.value=f,e.value=d,o&&o===g){o=null;return}v=m?d.position-m.position:0}else i(f);n.forEach(y=>{y(t.value,g,{delta:v,type:id.pop,direction:v?v>0?Ah.forward:Ah.back:Ah.unknown})})};function l(){o=t.value}function c(d){n.push(d);const f=()=>{const g=n.indexOf(d);g>-1&&n.splice(g,1)};return s.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(Rt({},d.state,{scroll:Qg()}),"")}function h(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function L8(r,e,t,i=!1,n=!1){return{back:r,current:e,forward:t,replaced:i,position:window.history.length,scroll:n?Qg():null}}function _D(r){const{history:e,location:t}=window,i={value:rx(r,t)},n={value:e.state};n.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const h=r.indexOf("#"),d=h>-1?(t.host&&document.querySelector("base")?r:r.slice(h))+l:yD()+r+l;try{e[u?"replaceState":"pushState"](c,"",d),n.value=c}catch(f){console.error(f),t[u?"replace":"assign"](d)}}function o(l,c){const u=Rt({},e.state,L8(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=Rt({},n.value,e.state,{forward:l,scroll:Qg()});s(u.current,u,!0);const h=Rt({},L8(i.value,l,null),{position:u.position+1},c);s(l,h,!1),i.value=l}return{location:i,state:n,push:a,replace:o}}function wD(r){r=hD(r);const e=_D(r),t=bD(r,e.state,e.location,e.replace);function i(s,o=!0){o||t.pauseListeners(),history.go(s)}const n=Rt({location:"",base:r,go:i,createHref:fD.bind(null,r)},e,t);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function CD(r){return typeof r=="string"||r&&typeof r=="object"}function nx(r){return typeof r=="string"||typeof r=="symbol"}const sx=Symbol("");var S8;(function(r){r[r.aborted=4]="aborted",r[r.cancelled=8]="cancelled",r[r.duplicated=16]="duplicated"})(S8||(S8={}));function kc(r,e){return Rt(new Error,{type:r,[sx]:!0},e)}function As(r,e){return r instanceof Error&&sx in r&&(e==null||!!(r.type&e))}const A8="[^/]+?",xD={sensitive:!1,strict:!1,start:!0,end:!0},ED=/[.+*?^${}()[\]/\\]/g;function TD(r,e){const t=Rt({},xD,e),i=[];let n=t.start?"^":"";const s=[];for(const c of r){const u=c.length?[]:[90];t.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(t.sensitive?.25:0);if(d.type===0)h||(n+="/"),n+=d.value.replace(ED,"\\$&"),f+=40;else if(d.type===1){const{value:g,repeatable:m,optional:v,regexp:y}=d;s.push({name:g,repeatable:m,optional:v});const _=y||A8;if(_!==A8){f+=10;try{new RegExp(`(${_})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${g}" (${_}): `+S.message)}}let w=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(w=v&&c.length<2?`(?:/${w})`:"/"+w),v&&(w+="?"),n+=w,f+=20,v&&(f+=-8),m&&(f+=-20),_===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(t.strict&&t.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}t.strict||(n+="/?"),t.end?n+="$":t.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,t.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",g=s[d-1];h[g.name]=f&&g.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of r){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:m,optional:v}=f,y=g in c?c[g]:"";if(Dn(y)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const _=Dn(y)?y.join("/"):y;if(!_)if(v)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=_}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function LD(r,e){let t=0;for(;t<r.length&&t<e.length;){const i=e[t]-r[t];if(i)return i;t++}return r.length<e.length?r.length===1&&r[0]===80?-1:1:r.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ox(r,e){let t=0;const i=r.score,n=e.score;for(;t<i.length&&t<n.length;){const s=LD(i[t],n[t]);if(s)return s;t++}if(Math.abs(n.length-i.length)===1){if(k8(i))return 1;if(k8(n))return-1}return n.length-i.length}function k8(r){const e=r[r.length-1];return r.length>0&&e[e.length-1]<0}const SD={type:0,value:""},AD=/[a-zA-Z0-9_]/;function kD(r){if(!r)return[[]];if(r==="/")return[[SD]];if(!r.startsWith("/"))throw new Error(`Invalid path "${r}"`);function e(f){throw new Error(`ERR (${t})/"${c}": ${f}`)}let t=0,i=t;const n=[];let s;function o(){s&&n.push(s),s=[]}let a=0,l,c="",u="";function h(){c&&(t===0?s.push({type:0,value:c}):t===1||t===2||t===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<r.length;){if(l=r[a++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),t=1):d();break;case 4:d(),t=i;break;case 1:l==="("?t=2:AD.test(l)?d():(h(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:h(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}function ID(r,e,t){const i=TD(kD(r.path),t),n=Rt(i,{record:r,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function MD(r,e){const t=[],i=new Map;e=R8({strict:!1,end:!0,sensitive:!1},e);function n(h){return i.get(h)}function s(h,d,f){const g=!f,m=M8(h);m.aliasOf=f&&f.record;const v=R8(e,h),y=[m];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const k of S)y.push(M8(Rt({},m,{components:f?f.record.components:m.components,path:k,aliasOf:f?f.record:m})))}let _,w;for(const S of y){const{path:k}=S;if(d&&k[0]!=="/"){const P=d.record.path,x=P[P.length-1]==="/"?"":"/";S.path=d.record.path+(k&&x+k)}if(_=ID(S,d,v),f?f.alias.push(_):(w=w||_,w!==_&&w.alias.push(_),g&&h.name&&!P8(_)&&o(h.name)),ax(_)&&l(_),m.children){const P=m.children;for(let x=0;x<P.length;x++)s(P[x],_,f&&f.children[x])}f=f||_}return w?()=>{o(w)}:Sh}function o(h){if(nx(h)){const d=i.get(h);d&&(i.delete(h),t.splice(t.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=t.indexOf(h);d>-1&&(t.splice(d,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return t}function l(h){const d=DD(h,t);t.splice(d,0,h),h.record.name&&!P8(h)&&i.set(h.record.name,h)}function c(h,d){let f,g={},m,v;if("name"in h&&h.name){if(f=i.get(h.name),!f)throw kc(1,{location:h});v=f.record.name,g=Rt(I8(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&I8(h.params,f.keys.map(w=>w.name))),m=f.stringify(g)}else if(h.path!=null)m=h.path,f=t.find(w=>w.re.test(m)),f&&(g=f.parse(m),v=f.record.name);else{if(f=d.name?i.get(d.name):t.find(w=>w.re.test(d.path)),!f)throw kc(1,{location:h,currentLocation:d});v=f.record.name,g=Rt({},d.params,h.params),m=f.stringify(g)}const y=[];let _=f;for(;_;)y.unshift(_.record),_=_.parent;return{name:v,path:m,params:g,matched:y,meta:RD(y)}}r.forEach(h=>s(h));function u(){t.length=0,i.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function I8(r,e){const t={};for(const i of e)i in r&&(t[i]=r[i]);return t}function M8(r){const e={path:r.path,redirect:r.redirect,name:r.name,meta:r.meta||{},aliasOf:r.aliasOf,beforeEnter:r.beforeEnter,props:PD(r),children:r.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in r?r.components||null:r.component&&{default:r.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function PD(r){const e={},t=r.props||!1;if("component"in r)e.default=t;else for(const i in r.components)e[i]=typeof t=="object"?t[i]:t;return e}function P8(r){for(;r;){if(r.record.aliasOf)return!0;r=r.parent}return!1}function RD(r){return r.reduce((e,t)=>Rt(e,t.meta),{})}function R8(r,e){const t={};for(const i in r)t[i]=i in e?e[i]:r[i];return t}function DD(r,e){let t=0,i=e.length;for(;t!==i;){const s=t+i>>1;ox(r,e[s])<0?i=s:t=s+1}const n=OD(r);return n&&(i=e.lastIndexOf(n,i-1)),i}function OD(r){let e=r;for(;e=e.parent;)if(ax(e)&&ox(r,e)===0)return e}function ax({record:r}){return!!(r.name||r.components&&Object.keys(r.components).length||r.redirect)}function $D(r){const e={};if(r===""||r==="?")return e;const i=(r[0]==="?"?r.slice(1):r).split("&");for(let n=0;n<i.length;++n){const s=i[n].replace(QC," "),o=s.indexOf("="),a=td(o<0?s:s.slice(0,o)),l=o<0?null:td(s.slice(o+1));if(a in e){let c=e[a];Dn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function D8(r){let e="";for(let t in r){const i=r[t];if(t=iD(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Dn(i)?i.map(s=>s&&Hv(s)):[i&&Hv(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function VD(r){const e={};for(const t in r){const i=r[t];i!==void 0&&(e[t]=Dn(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const FD=Symbol(""),O8=Symbol(""),Jg=Symbol(""),Ky=Symbol(""),zv=Symbol("");function ju(){let r=[];function e(i){return r.push(i),()=>{const n=r.indexOf(i);n>-1&&r.splice(n,1)}}function t(){r=[]}return{add:e,list:()=>r.slice(),reset:t}}function So(r,e,t,i,n,s=o=>o()){const o=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(kc(4,{from:t,to:e})):d instanceof Error?l(d):CD(d)?l(kc(2,{from:e,to:d})):(o&&i.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>r.call(i&&i.instances[n],e,t,c));let h=Promise.resolve(u);r.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function m2(r,e,t,i,n=s=>s()){const s=[];for(const o of r)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(YC(l)){const u=(l.__vccOpts||l)[e];u&&s.push(So(u,t,i,o,a,n))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=GR(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&So(f,t,i,o,a,n)()}))}}return s}function $8(r){const e=bn(Jg),t=bn(Ky),i=Xe(()=>{const l=N(r.to);return e.resolve(l)}),n=Xe(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=t.matched;if(!u||!h.length)return-1;const d=h.findIndex(Ac.bind(null,u));if(d>-1)return d;const f=V8(l[c-2]);return c>1&&V8(u)===f&&h[h.length-1].path!==f?h.findIndex(Ac.bind(null,l[c-2])):d}),s=Xe(()=>n.value>-1&&UD(t.params,i.value.params)),o=Xe(()=>n.value>-1&&n.value===t.matched.length-1&&ix(t.params,i.value.params));function a(l={}){if(HD(l)){const c=e[N(r.replace)?"replace":"push"](N(r.to)).catch(Sh);return r.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:Xe(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function BD(r){return r.length===1?r[0]:r}const ND=Ne({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$8,setup(r,{slots:e}){const t=At($8(r)),{options:i}=bn(Jg),n=Xe(()=>({[F8(r.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[F8(r.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&BD(e.default(t));return r.custom?s:lt("a",{"aria-current":t.isExactActive?r.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:n.value},s)}}}),lx=ND;function HD(r){if(!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)&&!r.defaultPrevented&&!(r.button!==void 0&&r.button!==0)){if(r.currentTarget&&r.currentTarget.getAttribute){const e=r.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return r.preventDefault&&r.preventDefault(),!0}}function UD(r,e){for(const t in e){const i=e[t],n=r[t];if(typeof i=="string"){if(i!==n)return!1}else if(!Dn(n)||n.length!==i.length||i.some((s,o)=>s!==n[o]))return!1}return!0}function V8(r){return r?r.aliasOf?r.aliasOf.path:r.path:""}const F8=(r,e,t)=>r??e??t,zD=Ne({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(r,{attrs:e,slots:t}){const i=bn(zv),n=Xe(()=>r.route||i.value),s=bn(O8,0),o=Xe(()=>{let c=N(s);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Xe(()=>n.value.matched[o.value]);M1(O8,Xe(()=>o.value+1)),M1(FD,a),M1(zv,n);const l=je();return Cr(()=>[l.value,a.value,r.name],([c,u,h],[d,f,g])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Ac(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=n.value,u=r.name,h=a.value,d=h&&h.components[u];if(!d)return B8(t.default,{Component:d,route:c});const f=h.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,v=lt(d,Rt({},g,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return B8(t.default,{Component:v,route:c})||v}}});function B8(r,e){if(!r)return null;const t=r(e);return t.length===1?t[0]:t}const jD=zD;function GD(r){const e=MD(r.routes,r),t=r.parseQuery||$D,i=r.stringifyQuery||D8,n=r.history,s=ju(),o=ju(),a=ju(),l=rf(bo);let c=bo;Xl&&r.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=p2.bind(null,q=>""+q),h=p2.bind(null,nD),d=p2.bind(null,td);function f(q,xe){let Ee,Pe;return nx(q)?(Ee=e.getRecordMatcher(q),Pe=xe):Pe=q,e.addRoute(Pe,Ee)}function g(q){const xe=e.getRecordMatcher(q);xe&&e.removeRoute(xe)}function m(){return e.getRoutes().map(q=>q.record)}function v(q){return!!e.getRecordMatcher(q)}function y(q,xe){if(xe=Rt({},xe||l.value),typeof q=="string"){const H=g2(t,q,xe.path),le=e.resolve({path:H.path},xe),W=n.createHref(H.fullPath);return Rt(H,le,{params:d(le.params),hash:td(H.hash),redirectedFrom:void 0,href:W})}let Ee;if(q.path!=null)Ee=Rt({},q,{path:g2(t,q.path,xe.path).path});else{const H=Rt({},q.params);for(const le in H)H[le]==null&&delete H[le];Ee=Rt({},q,{params:h(H)}),xe.params=h(xe.params)}const Pe=e.resolve(Ee,xe),Ct=q.hash||"";Pe.params=u(d(Pe.params));const V=aD(i,Rt({},q,{hash:tD(Ct),path:Pe.path})),B=n.createHref(V);return Rt({fullPath:V,hash:Ct,query:i===D8?VD(q.query):q.query||{}},Pe,{redirectedFrom:void 0,href:B})}function _(q){return typeof q=="string"?g2(t,q,l.value.path):Rt({},q)}function w(q,xe){if(c!==q)return kc(8,{from:xe,to:q})}function S(q){return x(q)}function k(q){return S(Rt(_(q),{replace:!0}))}function P(q){const xe=q.matched[q.matched.length-1];if(xe&&xe.redirect){const{redirect:Ee}=xe;let Pe=typeof Ee=="function"?Ee(q):Ee;return typeof Pe=="string"&&(Pe=Pe.includes("?")||Pe.includes("#")?Pe=_(Pe):{path:Pe},Pe.params={}),Rt({query:q.query,hash:q.hash,params:Pe.path!=null?{}:q.params},Pe)}}function x(q,xe){const Ee=c=y(q),Pe=l.value,Ct=q.state,V=q.force,B=q.replace===!0,H=P(Ee);if(H)return x(Rt(_(H),{state:typeof H=="object"?Rt({},Ct,H.state):Ct,force:V,replace:B}),xe||Ee);const le=Ee;le.redirectedFrom=xe;let W;return!V&&lD(i,Pe,Ee)&&(W=kc(16,{to:le,from:Pe}),ke(Pe,Pe,!0,!1)),(W?Promise.resolve(W):A(le,Pe)).catch(te=>As(te)?As(te,2)?te:ce(te):ae(te,le,Pe)).then(te=>{if(te){if(As(te,2))return x(Rt({replace:B},_(te.to),{state:typeof te.to=="object"?Rt({},Ct,te.to.state):Ct,force:V}),xe||le)}else te=D(le,Pe,!0,B,Ct);return I(le,Pe,te),te})}function C(q,xe){const Ee=w(q,xe);return Ee?Promise.reject(Ee):Promise.resolve()}function E(q){const xe=X.values().next().value;return xe&&typeof xe.runWithContext=="function"?xe.runWithContext(q):q()}function A(q,xe){let Ee;const[Pe,Ct,V]=ZD(q,xe);Ee=m2(Pe.reverse(),"beforeRouteLeave",q,xe);for(const H of Pe)H.leaveGuards.forEach(le=>{Ee.push(So(le,q,xe))});const B=C.bind(null,q,xe);return Ee.push(B),Ce(Ee).then(()=>{Ee=[];for(const H of s.list())Ee.push(So(H,q,xe));return Ee.push(B),Ce(Ee)}).then(()=>{Ee=m2(Ct,"beforeRouteUpdate",q,xe);for(const H of Ct)H.updateGuards.forEach(le=>{Ee.push(So(le,q,xe))});return Ee.push(B),Ce(Ee)}).then(()=>{Ee=[];for(const H of V)if(H.beforeEnter)if(Dn(H.beforeEnter))for(const le of H.beforeEnter)Ee.push(So(le,q,xe));else Ee.push(So(H.beforeEnter,q,xe));return Ee.push(B),Ce(Ee)}).then(()=>(q.matched.forEach(H=>H.enterCallbacks={}),Ee=m2(V,"beforeRouteEnter",q,xe,E),Ee.push(B),Ce(Ee))).then(()=>{Ee=[];for(const H of o.list())Ee.push(So(H,q,xe));return Ee.push(B),Ce(Ee)}).catch(H=>As(H,8)?H:Promise.reject(H))}function I(q,xe,Ee){a.list().forEach(Pe=>E(()=>Pe(q,xe,Ee)))}function D(q,xe,Ee,Pe,Ct){const V=w(q,xe);if(V)return V;const B=xe===bo,H=Xl?history.state:{};Ee&&(Pe||B?n.replace(q.fullPath,Rt({scroll:B&&H&&H.scroll},Ct)):n.push(q.fullPath,Ct)),l.value=q,ke(q,xe,Ee,B),ce()}let R;function fe(){R||(R=n.listen((q,xe,Ee)=>{if(!Fe.listening)return;const Pe=y(q),Ct=P(Pe);if(Ct){x(Rt(Ct,{replace:!0,force:!0}),Pe).catch(Sh);return}c=Pe;const V=l.value;Xl&&mD(T8(V.fullPath,Ee.delta),Qg()),A(Pe,V).catch(B=>As(B,12)?B:As(B,2)?(x(Rt(_(B.to),{force:!0}),Pe).then(H=>{As(H,20)&&!Ee.delta&&Ee.type===id.pop&&n.go(-1,!1)}).catch(Sh),Promise.reject()):(Ee.delta&&n.go(-Ee.delta,!1),ae(B,Pe,V))).then(B=>{B=B||D(Pe,V,!1),B&&(Ee.delta&&!As(B,8)?n.go(-Ee.delta,!1):Ee.type===id.pop&&As(B,20)&&n.go(-1,!1)),I(Pe,V,B)}).catch(Sh)}))}let se=ju(),Y=ju(),K;function ae(q,xe,Ee){ce(q);const Pe=Y.list();return Pe.length?Pe.forEach(Ct=>Ct(q,xe,Ee)):console.error(q),Promise.reject(q)}function ne(){return K&&l.value!==bo?Promise.resolve():new Promise((q,xe)=>{se.add([q,xe])})}function ce(q){return K||(K=!q,fe(),se.list().forEach(([xe,Ee])=>q?Ee(q):xe()),se.reset()),q}function ke(q,xe,Ee,Pe){const{scrollBehavior:Ct}=r;if(!Xl||!Ct)return Promise.resolve();const V=!Ee&&vD(T8(q.fullPath,0))||(Pe||!Ee)&&history.state&&history.state.scroll||null;return du().then(()=>Ct(q,xe,V)).then(B=>B&&gD(B)).catch(B=>ae(B,q,xe))}const ye=q=>n.go(q);let ge;const X=new Set,Fe={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:m,resolve:y,options:r,push:S,replace:k,go:ye,back:()=>ye(-1),forward:()=>ye(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:Y.add,isReady:ne,install(q){const xe=this;q.component("RouterLink",lx),q.component("RouterView",jD),q.config.globalProperties.$router=xe,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>N(l)}),Xl&&!ge&&l.value===bo&&(ge=!0,S(n.location).catch(Ct=>{}));const Ee={};for(const Ct in bo)Object.defineProperty(Ee,Ct,{get:()=>l.value[Ct],enumerable:!0});q.provide(Jg,xe),q.provide(Ky,sC(Ee)),q.provide(zv,l);const Pe=q.unmount;X.add(q),q.unmount=function(){X.delete(q),X.size<1&&(c=bo,R&&R(),R=null,l.value=bo,ge=!1,K=!1),Pe()}}};function Ce(q){return q.reduce((xe,Ee)=>xe.then(()=>E(Ee)),Promise.resolve())}return Fe}function ZD(r,e){const t=[],i=[],n=[],s=Math.max(e.matched.length,r.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(r.matched.find(c=>Ac(c,a))?i.push(a):t.push(a));const l=r.matched[o];l&&(e.matched.find(c=>Ac(c,l))||n.push(l))}return[t,i,n]}function cx(){return bn(Jg)}function WD(r){return bn(Ky)}const KD=["label","checked","onClick"],qD={slot:"icon"},Zn=Ne({__name:"DemoRouterLink",props:{label:{type:String,required:!0},to:{type:[String,Object],required:!0}},emits:["click"],setup(r,{emit:e}){const t=e,i=r;function n(s){t("click"),s()}return(s,o)=>(G(),Re(N(lx),{to:i.to},{default:J(({navigate:a,isActive:l})=>[Z("obc-navigation-item",{label:i.label,checked:l,onClick:c=>n(a)},[Z("template",qD,[bP(s.$slots,"default")])],8,KD)]),_:3},8,["to"]))}}),vt=r=>Object.keys(r).map(e=>r[e]().map(t=>e==="default"?t:(i=>typeof i.type=="string")(t)?((i,n)=>((i.props??(i.props={})).slot=n,i))(t,e):((i,n)=>lt("span",{style:"display: contents;",slot:n},i))(t,e)));/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const O1=globalThis,qy=O1.ShadowRoot&&(O1.ShadyCSS===void 0||O1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Yy=Symbol(),N8=new WeakMap;let ux=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==Yy)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(qy&&e===void 0){const i=t!==void 0&&t.length===1;i&&(e=N8.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&N8.set(t,e))}return e}toString(){return this.cssText}};const ot=r=>new ux(typeof r=="string"?r:r+"",void 0,Yy),re=(r,...e)=>{const t=r.length===1?r[0]:e.reduce((i,n,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+r[s+1],r[0]);return new ux(t,r,Yy)},YD=(r,e)=>{if(qy)r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of e){const i=document.createElement("style"),n=O1.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=t.cssText,r.appendChild(i)}},H8=qy?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return ot(t)})(r):r;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:XD,defineProperty:QD,getOwnPropertyDescriptor:JD,getOwnPropertyNames:eO,getOwnPropertySymbols:tO,getPrototypeOf:iO}=Object,Ho=globalThis,U8=Ho.trustedTypes,rO=U8?U8.emptyScript:"",v2=Ho.reactiveElementPolyfillSupport,kh=(r,e)=>r,gp={toAttribute(r,e){switch(e){case Boolean:r=r?rO:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},Xy=(r,e)=>!XD(r,e),z8={attribute:!0,type:String,converter:gp,reflect:!1,hasChanged:Xy};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Ho.litPropertyMetadata??(Ho.litPropertyMetadata=new WeakMap);let Ql=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=z8){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),n=this.getPropertyDescriptor(e,i,t);n!==void 0&&QD(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){const{get:n,set:s}=JD(this.prototype,e)??{get(){return this[t]},set(o){this[t]=o}};return{get(){return n==null?void 0:n.call(this)},set(o){const a=n==null?void 0:n.call(this);s.call(this,o),this.requestUpdate(e,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??z8}static _$Ei(){if(this.hasOwnProperty(kh("elementProperties")))return;const e=iO(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(kh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(kh("properties"))){const t=this.properties,i=[...eO(t),...tO(t)];for(const n of i)this.createProperty(n,t[n])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[i,n]of t)this.elementProperties.set(i,n)}this._$Eh=new Map;for(const[t,i]of this.elementProperties){const n=this._$Eu(t,i);n!==void 0&&this._$Eh.set(n,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const n of i)t.unshift(H8(n))}else e!==void 0&&t.push(H8(e));return t}static _$Eu(e,t){const i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((t=e.hostConnected)==null||t.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return YD(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(t=>{var i;return(i=t.hostConnected)==null?void 0:i.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var i;return(i=t.hostDisconnected)==null?void 0:i.call(t)})}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EC(e,t){var s;const i=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,i);if(n!==void 0&&i.reflect===!0){const o=(((s=i.converter)==null?void 0:s.toAttribute)!==void 0?i.converter:gp).toAttribute(t,i.type);this._$Em=e,o==null?this.removeAttribute(n):this.setAttribute(n,o),this._$Em=null}}_$AK(e,t){var s;const i=this.constructor,n=i._$Eh.get(e);if(n!==void 0&&this._$Em!==n){const o=i.getPropertyOptions(n),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((s=o.converter)==null?void 0:s.fromAttribute)!==void 0?o.converter:gp;this._$Em=n,this[n]=a.fromAttribute(t,o.type),this._$Em=null}}requestUpdate(e,t,i){if(e!==void 0){if(i??(i=this.constructor.getPropertyOptions(e)),!(i.hasChanged??Xy)(this[e],t))return;this.P(e,t,i)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,t,i){this._$AL.has(e)||this._$AL.set(e,t),i.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[s,o]of n)o.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],o)}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(i=this._$EO)==null||i.forEach(n=>{var s;return(s=n.hostUpdate)==null?void 0:s.call(n)}),this.update(t)):this._$EU()}catch(n){throw e=!1,this._$EU(),n}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(i=>{var n;return(n=i.hostUpdated)==null?void 0:n.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(t=>this._$EC(t,this[t]))),this._$EU()}updated(e){}firstUpdated(e){}};Ql.elementStyles=[],Ql.shadowRootOptions={mode:"open"},Ql[kh("elementProperties")]=new Map,Ql[kh("finalized")]=new Map,v2==null||v2({ReactiveElement:Ql}),(Ho.reactiveElementVersions??(Ho.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ih=globalThis,mp=Ih.trustedTypes,j8=mp?mp.createPolicy("lit-html",{createHTML:r=>r}):void 0,hx="$lit$",Mo=`lit$${Math.random().toFixed(9).slice(2)}$`,dx="?"+Mo,nO=`<${dx}>`,al=document,rd=()=>al.createComment(""),nd=r=>r===null||typeof r!="object"&&typeof r!="function",Qy=Array.isArray,sO=r=>Qy(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function",y2=`[ 	
\f\r]`,Gu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,G8=/-->/g,Z8=/>/g,Ia=RegExp(`>|${y2}(?:([^\\s"'>=/]+)(${y2}*=${y2}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),W8=/'/g,K8=/"/g,fx=/^(?:script|style|textarea|title)$/i,px=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),F=px(1),$=px(2),gn=Symbol.for("lit-noChange"),He=Symbol.for("lit-nothing"),q8=new WeakMap,Ua=al.createTreeWalker(al,129);function gx(r,e){if(!Qy(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return j8!==void 0?j8.createHTML(e):e}const oO=(r,e)=>{const t=r.length-1,i=[];let n,s=e===2?"<svg>":e===3?"<math>":"",o=Gu;for(let a=0;a<t;a++){const l=r[a];let c,u,h=-1,d=0;for(;d<l.length&&(o.lastIndex=d,u=o.exec(l),u!==null);)d=o.lastIndex,o===Gu?u[1]==="!--"?o=G8:u[1]!==void 0?o=Z8:u[2]!==void 0?(fx.test(u[2])&&(n=RegExp("</"+u[2],"g")),o=Ia):u[3]!==void 0&&(o=Ia):o===Ia?u[0]===">"?(o=n??Gu,h=-1):u[1]===void 0?h=-2:(h=o.lastIndex-u[2].length,c=u[1],o=u[3]===void 0?Ia:u[3]==='"'?K8:W8):o===K8||o===W8?o=Ia:o===G8||o===Z8?o=Gu:(o=Ia,n=void 0);const f=o===Ia&&r[a+1].startsWith("/>")?" ":"";s+=o===Gu?l+nO:h>=0?(i.push(c),l.slice(0,h)+hx+l.slice(h)+Mo+f):l+Mo+(h===-2?a:f)}return[gx(r,s+(r[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};let jv=class mx{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let s=0,o=0;const a=e.length-1,l=this.parts,[c,u]=oO(e,t);if(this.el=mx.createElement(c,i),Ua.currentNode=this.el.content,t===2||t===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(n=Ua.nextNode())!==null&&l.length<a;){if(n.nodeType===1){if(n.hasAttributes())for(const h of n.getAttributeNames())if(h.endsWith(hx)){const d=u[o++],f=n.getAttribute(h).split(Mo),g=/([.?@])?(.*)/.exec(d);l.push({type:1,index:s,name:g[2],strings:f,ctor:g[1]==="."?lO:g[1]==="?"?cO:g[1]==="@"?uO:em}),n.removeAttribute(h)}else h.startsWith(Mo)&&(l.push({type:6,index:s}),n.removeAttribute(h));if(fx.test(n.tagName)){const h=n.textContent.split(Mo),d=h.length-1;if(d>0){n.textContent=mp?mp.emptyScript:"";for(let f=0;f<d;f++)n.append(h[f],rd()),Ua.nextNode(),l.push({type:2,index:++s});n.append(h[d],rd())}}}else if(n.nodeType===8)if(n.data===dx)l.push({type:2,index:s});else{let h=-1;for(;(h=n.data.indexOf(Mo,h+1))!==-1;)l.push({type:7,index:s}),h+=Mo.length-1}s++}}static createElement(e,t){const i=al.createElement("template");return i.innerHTML=e,i}};function Ic(r,e,t=r,i){var o,a;if(e===gn)return e;let n=i!==void 0?(o=t._$Co)==null?void 0:o[i]:t._$Cl;const s=nd(e)?void 0:e._$litDirective$;return(n==null?void 0:n.constructor)!==s&&((a=n==null?void 0:n._$AO)==null||a.call(n,!1),s===void 0?n=void 0:(n=new s(r),n._$AT(r,t,i)),i!==void 0?(t._$Co??(t._$Co=[]))[i]=n:t._$Cl=n),n!==void 0&&(e=Ic(r,n._$AS(r,e.values),n,i)),e}let aO=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,n=((e==null?void 0:e.creationScope)??al).importNode(t,!0);Ua.currentNode=n;let s=Ua.nextNode(),o=0,a=0,l=i[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new of(s,s.nextSibling,this,e):l.type===1?c=new l.ctor(s,l.name,l.strings,this,e):l.type===6&&(c=new hO(s,this,e)),this._$AV.push(c),l=i[++a]}o!==(l==null?void 0:l.index)&&(s=Ua.nextNode(),o++)}return Ua.currentNode=al,n}p(e){let t=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}};class of{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,t,i,n){this.type=2,this._$AH=He,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cv=(n==null?void 0:n.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Ic(this,e,t),nd(e)?e===He||e==null||e===""?(this._$AH!==He&&this._$AR(),this._$AH=He):e!==this._$AH&&e!==gn&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):sO(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==He&&nd(this._$AH)?this._$AA.nextSibling.data=e:this.T(al.createTextNode(e)),this._$AH=e}$(e){var s;const{values:t,_$litType$:i}=e,n=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=jv.createElement(gx(i.h,i.h[0]),this.options)),i);if(((s=this._$AH)==null?void 0:s._$AD)===n)this._$AH.p(t);else{const o=new aO(n,this),a=o.u(this.options);o.p(t),this.T(a),this._$AH=o}}_$AC(e){let t=q8.get(e.strings);return t===void 0&&q8.set(e.strings,t=new jv(e)),t}k(e){Qy(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,n=0;for(const s of e)n===t.length?t.push(i=new of(this.O(rd()),this.O(rd()),this,this.options)):i=t[n],i._$AI(s),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,t);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){var t;this._$AM===void 0&&(this._$Cv=e,(t=this._$AP)==null||t.call(this,e))}}let em=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,n,s){this.type=1,this._$AH=He,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=He}_$AI(e,t=this,i,n){const s=this.strings;let o=!1;if(s===void 0)e=Ic(this,e,t,0),o=!nd(e)||e!==this._$AH&&e!==gn,o&&(this._$AH=e);else{const a=e;let l,c;for(e=s[0],l=0;l<s.length-1;l++)c=Ic(this,a[i+l],t,l),c===gn&&(c=this._$AH[l]),o||(o=!nd(c)||c!==this._$AH[l]),c===He?e=He:e!==He&&(e+=(c??"")+s[l+1]),this._$AH[l]=c}o&&!n&&this.j(e)}j(e){e===He?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}};class lO extends em{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===He?void 0:e}}class cO extends em{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==He)}}class uO extends em{constructor(e,t,i,n,s){super(e,t,i,n,s),this.type=5}_$AI(e,t=this){if((e=Ic(this,e,t,0)??He)===gn)return;const i=this._$AH,n=e===He&&i!==He||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==He&&(i===He||n);n&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t;typeof this._$AH=="function"?this._$AH.call(((t=this.options)==null?void 0:t.host)??this.element,e):this._$AH.handleEvent(e)}}let hO=class{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Ic(this,e)}};const b2=Ih.litHtmlPolyfillSupport;b2==null||b2(jv,of),(Ih.litHtmlVersions??(Ih.litHtmlVersions=[])).push("3.2.1");const dO=(r,e,t)=>{const i=(t==null?void 0:t.renderBefore)??e;let n=i._$litPart$;if(n===void 0){const s=(t==null?void 0:t.renderBefore)??null;i._$litPart$=n=new of(e.insertBefore(rd(),s),s,void 0,t??{})}return n._$AI(r),n};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let ee=class extends Ql{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const e=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=e.firstChild),e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=dO(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return gn}};var Rw;ee._$litElement$=!0,ee.finalized=!0,(Rw=globalThis.litElementHydrateSupport)==null||Rw.call(globalThis,{LitElement:ee});const _2=globalThis.litElementPolyfillSupport;_2==null||_2({LitElement:ee});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ie=r=>(e,t)=>{t!==void 0?t.addInitializer(()=>{customElements.define(r,e)}):customElements.define(r,e)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fO={attribute:!0,type:String,converter:gp,reflect:!1,hasChanged:Xy},pO=(r=fO,e,t)=>{const{kind:i,metadata:n}=t;let s=globalThis.litPropertyMetadata.get(n);if(s===void 0&&globalThis.litPropertyMetadata.set(n,s=new Map),s.set(t.name,r),i==="accessor"){const{name:o}=t;return{set(a){const l=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,l,r)},init(a){return a!==void 0&&this.P(o,void 0,r),a}}}if(i==="setter"){const{name:o}=t;return function(a){const l=this[o];e.call(this,a),this.requestUpdate(o,l,r)}}throw Error("Unsupported decorator location: "+i)};function M(r){return(e,t)=>typeof t=="object"?pO(r,e,t):((i,n,s)=>{const o=n.hasOwnProperty(s);return n.constructor.createProperty(s,o?{...i,wrapped:!0}:i),o?Object.getOwnPropertyDescriptor(n,s):void 0})(r,e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ba(r){return M({...r,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gO=(r,e,t)=>(t.configurable=!0,t.enumerable=!0,Reflect.decorate&&typeof e!="object"&&Object.defineProperty(r,e,t),t);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function af(r){return(e,t)=>{const{slot:i,selector:n}=r??{},s="slot"+(i?`[name=${i}]`:":not([name])");return gO(e,t,{get(){var l;const o=(l=this.renderRoot)==null?void 0:l.querySelector(s),a=(o==null?void 0:o.assignedElements(r))??[];return n===void 0?a:a.filter(c=>c.matches(n))}})}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ao={ATTRIBUTE:1,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Jy=r=>(...e)=>({_$litDirective$:r,values:e});let e4=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ti=Jy(class extends e4{constructor(r){var e;if(super(r),r.type!==Ao.ATTRIBUTE||r.name!=="class"||((e=r.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(e=>r[e]).join(" ")+" "}update(r,[e]){var i,n;if(this.st===void 0){this.st=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!((i=this.nt)!=null&&i.has(s))&&this.st.add(s);return this.render(e)}const t=r.element.classList;for(const s of this.st)s in e||(t.remove(s),this.st.delete(s));for(const s in e){const o=!!e[s];o===this.st.has(s)||(n=this.nt)!=null&&n.has(s)||(o?(t.add(s),this.st.add(s)):(t.remove(s),this.st.delete(s)))}return gn}}),mO=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.wrapper {
  height: var(--app-components-topbar-touch-target-size);
  padding: 0px var(--app-components-topbar-margin-global);

  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.wrapper:not(.inactive) {
    background: var(--container-global-color, #fcfcfc);
    box-shadow: var(--shadow-flat);
  }

.wrapper.inactive {
    padding-left: 8px;
  }

.wrapper.tall {
    height: var(--app-components-topbar-touch-target-tall);
  }

.group {
  display: flex;
  align-items: center;
  
}

.group.left > * {
    margin-right: 8px;
    margin-left: 8px;
  }

.group.right {
    justify-content: flex-end;
    flex-grow: 1;
  }

.settings .group.left > * {
    margin-right: 0;
    margin-left: 0;
  }

.group.left .menu-button {
    margin-right: 0;
    margin-left: 0;
  }

.wide:is(.group.left .menu-button) {
      margin-left: 8px;
      margin-right: 8px;
    }

.alert-container {
  display: flex;
  flex-grow: 1;
  gap: var(--app-components-topbar-label-spacing);
  align-items: center;
  justify-content: right;
}

.title {
  color: var(--element-active-color, #1a1a1a);

  /* UI/Body */

  font-feature-settings: 'liga' off, 'clig' off;

  font-family: var(--font-family-main);

  font-size: var(--global-typography-ui-body-font-size);

  font-style: normal;

  font-weight: var(--global-typography-ui-body-font-weight);

  line-height: var(--global-typography-ui-body-line-height);

  text-decoration: none;
}

.settings .group.left .title  {
  margin-left: 16px;
  margin-right: 16px;
}

.page-name {
  color: var(--element-active-color, #1a1a1a);

  /* UI/Body-Active */

  font-feature-settings: 'liga' off, 'clig' off;

  font-family: var(--font-family-main);

  font-size: var(--global-typography-ui-body-active-font-size);

  font-style: normal;

  font-weight: var(--font-weight-bold);

  line-height: var(--global-typography-ui-body-active-line-height);
}

.left-more-button{
  display: none;
}
`;class za{constructor(e,t){this.hasAssignedElements=!1,this.hasRendered=!1,this.host=e,this.slotName=t,this.host.addController(this)}hostUpdated(){var e;if(!this.hasRendered){this.hasRendered=!0;const t=(e=this.host.shadowRoot)==null?void 0:e.querySelector(`slot[name="${this.slotName}"]`);t?(this.hasAssignedElements=t.assignedElements().length>0,t.addEventListener("slotchange",()=>this.handleSlotChange(t)),this.host.requestUpdate()):console.error(`SlotController: Slot with name "${this.slotName}" not found in host`)}}handleSlotChange(e){this.hasAssignedElements=e.assignedElements().length>0,this.host.requestUpdate()}}const vO=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.wrapper {
  background: transparent;
  min-height: var(--ui-components-button-touch-target-size);
  min-width: var(--ui-components-button-touch-target-size);
  padding: 0;

  appearance: none;
  border: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.wrapper .visible-wrapper {
    height: var(--ui-components-icon-button-visual-target-size);
    width: var(--ui-components-icon-button-visual-target-size);
    border-radius: var(--ui-components-button-border-radius-top-left) var(--ui-components-button-border-radius-top-right) var(--ui-components-button-border-radius-bottom-right) var(--ui-components-button-border-radius-bottom-left);
    display: flex;
    align-items: center;
    justify-content: center;
  }

.wrapper.wide .visible-wrapper {
    width: var(--ui-components-button-touch-target-size);
  }

.wrapper.corner-left {
    align-items: flex-end;
    padding-right: 0;
    
  }

.wrapper.corner-left .visible-wrapper {
      width: calc(var(--ui-components-icon-button-visual-target-size) + var(--ui-components-icon-button-padding-right));
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

.wrapper.corner-right {
    align-items: flex-start;
    padding-left: 0;
  }

.wrapper.corner-right .visible-wrapper {
      width: calc(var(--ui-components-icon-button-visual-target-size) + var(--ui-components-icon-button-padding-left));
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

.wrapper .icon {
    width: var(--ui-components-icon-button-icon-size);
    height: var(--ui-components-icon-button-icon-size);
  }

.wrapper.has-label {
    padding: var(--ui-components-icon-button-padding-vertical) 0;
  }

.wrapper .label {
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-label-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-label-font-weight);
    line-height: var(--global-typography-ui-label-line-height);
  }

.wrapper.variant-normal {
            cursor: pointer;
}

.wrapper.variant-normal:focus {
            outline: none;
}

.wrapper.variant-normal.activated .visible-wrapper {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

.wrapper.variant-normal .visible-wrapper {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

.wrapper.variant-normal:hover .visible-wrapper {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

.wrapper.variant-normal:active .visible-wrapper {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

.wrapper.variant-normal:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper.variant-normal:disabled .visible-wrapper {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

.wrapper.variant-normal {
    color: var(--on-normal-neutral-color);
}

.wrapper.variant-normal.active-color {
      color: var(--on-normal-active-color);
    }

.wrapper.variant-flat {
            cursor: pointer;
}

.wrapper.variant-flat:focus {
            outline: none;
}

.wrapper.variant-flat.activated .visible-wrapper {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

.wrapper.variant-flat .visible-wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

.wrapper.variant-flat:hover .visible-wrapper {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.wrapper.variant-flat:active .visible-wrapper {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.wrapper.variant-flat:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper.variant-flat:disabled .visible-wrapper {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.wrapper.variant-flat {
    color: var(--on-flat-neutral-color);
}

.wrapper.variant-flat.active-color {
      color: var(--on-flat-active-color);
    }

.wrapper.variant-raised {
            cursor: pointer;
}

.wrapper.variant-raised:focus {
            outline: none;
}

.wrapper.variant-raised.activated .visible-wrapper {
            border-color: var(--raised-activated-border-color);
            background-color: var(--raised-activated-background-color);
}

.wrapper.variant-raised .visible-wrapper {
            border-color: var(--raised-enabled-border-color);
            background-color: var(--raised-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

.wrapper.variant-raised:hover .visible-wrapper {
                        border-color: var(--raised-hover-border-color);
                        background-color: var(--raised-hover-background-color);
            }
}

.wrapper.variant-raised:active .visible-wrapper {
            border-color: var(--raised-pressed-border-color);
            background-color: var(--raised-pressed-background-color);
}

.wrapper.variant-raised:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper.variant-raised:disabled .visible-wrapper {
            border-color: var(--raised-disabled-border-color);
            background-color: var(--raised-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-raised-disabled-color);
}

.wrapper.variant-raised {
    color: var(--on-raised-active-color);
}

.wrapper.variant-raised.active-color {
      color: var(--on-raised-active-color);
    }
`;var yO=Object.defineProperty,bO=Object.getOwnPropertyDescriptor,_a=(r,e,t,i)=>{for(var n=i>1?void 0:i?bO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&yO(e,t,n),n},Mh=(r=>(r.normal="normal",r.raised="raised",r.flat="flat",r))(Mh||{});let vs=class extends ee{constructor(){super(...arguments),this.variant="normal",this.activated=!1,this.cornerLeft=!1,this.cornerRight=!1,this.activeColor=!1,this.wide=!1,this.disabled=!1,this.hasLabelController=new za(this,"label")}render(){return F`
      <button
        class=${ti({wrapper:!0,["variant-"+this.variant]:!0,activated:this.activated,"corner-left":this.cornerLeft,"corner-right":this.cornerRight,"active-color":this.activeColor,"has-label":this.hasLabelController.hasAssignedElements,wide:this.wide})}
        ?disabled=${this.disabled}
      >
        <div class="visible-wrapper" part="visible-wrapper">
          <div class="icon" part="icon">
            <slot></slot>
          </div>
        </div>
        <div class="label" part="label">
          <slot name="label"></slot>
        </div>
      </button>
    `}};vs.styles=ot(vO);_a([M({type:String})],vs.prototype,"variant",2);_a([M({type:Boolean})],vs.prototype,"activated",2);_a([M({type:Boolean})],vs.prototype,"cornerLeft",2);_a([M({type:Boolean})],vs.prototype,"cornerRight",2);_a([M({type:Boolean})],vs.prototype,"activeColor",2);_a([M({type:Boolean})],vs.prototype,"wide",2);_a([M({type:Boolean})],vs.prototype,"disabled",2);vs=_a([ie("obc-icon-button")],vs);const _O=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

:host {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 12px;
}

.clock {
  color: var(--element-active-color, #1a1a1a);
  text-align: center;

  font-feature-settings: 'liga' off, 'clig' off;

  font-family: var(--font-family-main);

  font-size: var(--global-typography-ui-button-font-size);

  font-style: normal;

  font-weight: var(--global-typography-ui-button-font-weight);

  line-height: var(--global-typography-ui-button-line-height);
}

.blink {
  display: none;
}

@keyframes ticks {
  from {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.ticks {
  animation: ticks 1s linear infinite;
  width: 7px;
  text-align: center;
  padding: 0 2px;
  position: relative;
  top: -0.08em;
}

.blink .ticks {
    display: block;
    width: 16px;
    padding: 0;
  }

.date {
  color: var(--element-active-color, #1a1a1a);
  text-align: center;

  /* UI/Body */

  font-feature-settings: 'liga' off, 'clig' off;

  font-family: var(--font-family-main);

  font-size: var(--global-typography-ui-body-font-size);

  font-style: normal;

  font-weight: var(--global-typography-ui-body-font-weight);

  line-height: var(--global-typography-ui-body-line-height);

  text-decoration: none;
}`;var wO=Object.defineProperty,CO=Object.getOwnPropertyDescriptor,tm=(r,e,t,i)=>{for(var n=i>1?void 0:i?CO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&wO(e,t,n),n};const xO=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let Mc=class extends ee{constructor(){super(...arguments),this.date="2021-01-01T11:11:11.111Z",this.showDate=!1,this.blinkOnlyBreakpointPx=0}render(){const r=new Date(this.date),e=r.getHours(),t=r.getMinutes(),i=e<10?`0${e}`:`${e}`,n=t<10?`0${t}`:`${t}`,s=r.getDate(),o=xO[r.getMonth()],a=`${s}. ${o}`;return F`
      <style>
        @media (max-width: ${this.blinkOnlyBreakpointPx}px) {
          .clock {
            display: none;
          }
          .clock.blink {
            display: block;
          }

          :host {
            padding: 0 !important;
          }
        }
      </style>
      <div class="clock">
        ${i}<span class="ticks">:</span>${n}
      </div>
      <div class="clock blink">
        <span class="ticks">:</span>
      </div>
      ${this.showDate?F`<div class="date">${a}</div>`:null}
    `}};Mc.styles=ot(_O);tm([M({type:String})],Mc.prototype,"date",2);tm([M({type:Boolean})],Mc.prototype,"showDate",2);tm([M({type:Number})],Mc.prototype,"blinkOnlyBreakpointPx",2);Mc=tm([ie("obc-clock")],Mc);const EO=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
:host {
    width: 1px;
    height: 24px;
    flex-shrink: 0;
    border-radius: 1px;
    background: var(--border-divider-color, rgba(0, 0, 0, 0.08));
}`;var TO=Object.getOwnPropertyDescriptor,LO=(r,e,t,i)=>{for(var n=i>1?void 0:i?TO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Gv=class extends ee{render(){return F``}};Gv.styles=ot(EO);Gv=LO([ie("obc-divider")],Gv);const SO=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

ol {
    padding: 4px;
    margin: 0;
    list-style-type: none;
    display: flex;
}

li {
    color: var(--on-flat-neutral-color, rgba(0, 0, 0, 0.90));
    /* UI/Body */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-body-font-weight);
    line-height: var(--global-typography-ui-body-line-height);
    text-decoration: none;
    display: flex;
}

li .label {
        color: var(--on-flat-active-color, rgba(0, 0, 0, 0.90));
    }

li:last-of-type .label {
        /* UI/Body-Active */
        font-feature-settings: 'liga' off, 'clig' off;
        font-family: var(--font-family-main);
        font-size: var(--global-typography-ui-body-active-font-size);
        font-style: normal;
        font-weight: var(--font-weight-bold);
        line-height: var(--global-typography-ui-body-active-line-height);
    }

.divider {
    display: block;
    width: 24px;
    height: 24px;
}`;var AO=Object.defineProperty,kO=Object.getOwnPropertyDescriptor,vx=(r,e,t,i)=>{for(var n=i>1?void 0:i?kO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&AO(e,t,n),n};let vp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M8.59009 7.41L10.0001 6L16.0001 12L10.0001 18L8.59009 16.59L13.1701 12L8.59009 7.41Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.59009 7.41L10.0001 6L16.0001 12L10.0001 18L8.59009 16.59L13.1701 12L8.59009 7.41Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};vp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;vx([M({type:Boolean})],vp.prototype,"useCssColor",2);vp=vx([ie("obi-chevron-right-google")],vp);var IO=Object.defineProperty,MO=Object.getOwnPropertyDescriptor,yx=(r,e,t,i)=>{for(var n=i>1?void 0:i?MO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&IO(e,t,n),n};let yp=class extends ee{constructor(){super(...arguments),this.items=[]}render(){return F`
      <nav aria-label="Breadcrumb" class="breadcrumb">
        <ol>
          ${this.items.map((r,e)=>F`
              <li>
                ${e>0?F`<span class="icon">
                      <obi-chevron-right-google class="divider">
                      </obi-chevron-right-google>
                    </span>`:""}
                <span class="label">${r.label}</span>
              </li>
            `)}
        </ol>
      </nav>
    `}};yp.styles=ot(SO);yx([M({attribute:!1})],yp.prototype,"items",2);yp=yx([ie("obc-breadcrumb")],yp);var PO=Object.defineProperty,RO=Object.getOwnPropertyDescriptor,bx=(r,e,t,i)=>{for(var n=i>1?void 0:i?RO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&PO(e,t,n),n};let bp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M3 13H21V11H3V13Z" fill="currentColor"/>
<path d="M3 18H21V16H3V18Z" fill="currentColor"/>
<path d="M3 6V8H21V6H3Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 13H21V11H3V13Z" style="fill: var(--element-active-color)"/>
<path d="M3 18H21V16H3V18Z" style="fill: var(--element-active-color)"/>
<path d="M3 6V8H21V6H3Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};bp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;bx([M({type:Boolean})],bp.prototype,"useCssColor",2);bp=bx([ie("obi-menu-iec")],bp);var DO=Object.defineProperty,OO=Object.getOwnPropertyDescriptor,_x=(r,e,t,i)=>{for(var n=i>1?void 0:i?OO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&DO(e,t,n),n};let _p=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};_p.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;_x([M({type:Boolean})],_p.prototype,"useCssColor",2);_p=_x([ie("obi-close-google")],_p);var $O=Object.defineProperty,VO=Object.getOwnPropertyDescriptor,wx=(r,e,t,i)=>{for(var n=i>1?void 0:i?VO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&$O(e,t,n),n};let wp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M7.83 11H20V13H7.83L13.41 18.59L12 20L4 12L12 4L13.42 5.41L7.83 11Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.83 11H20V13H7.83L13.41 18.59L12 20L4 12L12 4L13.42 5.41L7.83 11Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};wp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;wx([M({type:Boolean})],wp.prototype,"useCssColor",2);wp=wx([ie("obi-arrow-left-google")],wp);var FO=Object.defineProperty,BO=Object.getOwnPropertyDescriptor,Cx=(r,e,t,i)=>{for(var n=i>1?void 0:i?BO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&FO(e,t,n),n};let Cp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Cp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Cx([M({type:Boolean})],Cp.prototype,"useCssColor",2);Cp=Cx([ie("obi-arrow-right-google")],Cp);var NO=Object.defineProperty,HO=Object.getOwnPropertyDescriptor,xx=(r,e,t,i)=>{for(var n=i>1?void 0:i?HO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&NO(e,t,n),n};let xp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.99976 11.9999C6.99976 10.6738 7.52654 9.40202 8.46422 8.46434C9.4019 7.52666 10.6737 6.99988 11.9998 6.99988C13.3258 6.99988 14.5976 7.52666 15.5353 8.46434L16.2424 9.17145L9.17133 16.2425L8.46422 15.5354C7.52654 14.5977 6.99976 13.326 6.99976 11.9999ZM9.87843 9.87856C9.31583 10.4412 8.99976 11.2042 8.99976 11.9999C8.99976 12.4516 9.10163 12.8928 9.29265 13.2928L13.2926 9.29277C12.8927 9.10175 12.4515 8.99988 11.9998 8.99988C11.2041 8.99988 10.441 9.31595 9.87843 9.87856Z" fill="currentColor"/>
<path d="M3.51447 19.0709L6.3429 16.2425L7.75711 17.6567L4.92869 20.4852L3.51447 19.0709Z" fill="currentColor"/>
<path d="M0.999756 10.9999H4.99976V12.9999H0.999756V10.9999Z" fill="currentColor"/>
<path d="M4.92874 3.51462L7.75717 6.34304L6.34295 7.75726L3.51453 4.92883L4.92874 3.51462Z" fill="currentColor"/>
<path d="M12.9998 0.999878V4.99988H10.9998V0.999878H12.9998Z" fill="currentColor"/>
<path d="M20.4851 4.92878L17.6567 7.75721L16.2425 6.343L19.0709 3.51457L20.4851 4.92878Z" fill="currentColor"/>
<path d="M20.1539 11C20.8 11 21.4154 11.088 22 11.253C19.5016 11.9515 17.6924 14.036 17.6924 16.5C17.6924 18.964 19.5016 21.0485 22 21.747C21.4154 21.912 20.8 22 20.1539 22C16.757 22 14 19.536 14 16.5C14 13.464 16.757 11 20.1539 11Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.99976 11.9999C6.99976 10.6738 7.52654 9.40202 8.46422 8.46434C9.4019 7.52666 10.6737 6.99988 11.9998 6.99988C13.3258 6.99988 14.5976 7.52666 15.5353 8.46434L16.2424 9.17145L9.17133 16.2425L8.46422 15.5354C7.52654 14.5977 6.99976 13.326 6.99976 11.9999ZM9.87843 9.87856C9.31583 10.4412 8.99976 11.2042 8.99976 11.9999C8.99976 12.4516 9.10163 12.8928 9.29265 13.2928L13.2926 9.29277C12.8927 9.10175 12.4515 8.99988 11.9998 8.99988C11.2041 8.99988 10.441 9.31595 9.87843 9.87856Z" style="fill: var(--element-active-color)"/>
<path d="M3.51447 19.0709L6.3429 16.2425L7.75711 17.6567L4.92869 20.4852L3.51447 19.0709Z" style="fill: var(--element-active-color)"/>
<path d="M0.999756 10.9999H4.99976V12.9999H0.999756V10.9999Z" style="fill: var(--element-active-color)"/>
<path d="M4.92874 3.51462L7.75717 6.34304L6.34295 7.75726L3.51453 4.92883L4.92874 3.51462Z" style="fill: var(--element-active-color)"/>
<path d="M12.9998 0.999878V4.99988H10.9998V0.999878H12.9998Z" style="fill: var(--element-active-color)"/>
<path d="M20.4851 4.92878L17.6567 7.75721L16.2425 6.343L19.0709 3.51457L20.4851 4.92878Z" style="fill: var(--element-active-color)"/>
<path d="M20.1539 11C20.8 11 21.4154 11.088 22 11.253C19.5016 11.9515 17.6924 14.036 17.6924 16.5C17.6924 18.964 19.5016 21.0485 22 21.747C21.4154 21.912 20.8 22 20.1539 22C16.757 22 14 19.536 14 16.5C14 13.464 16.757 11 20.1539 11Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};xp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;xx([M({type:Boolean})],xp.prototype,"useCssColor",2);xp=xx([ie("obi-palette-day-night-iec")],xp);var UO=Object.defineProperty,zO=Object.getOwnPropertyDescriptor,Ex=(r,e,t,i)=>{for(var n=i>1?void 0:i?zO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&UO(e,t,n),n};let Ep=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4 8H8V4H4V8ZM10 20H14V16H10V20ZM4 20H8V16H4V20ZM4 14H8V10H4V14ZM10 14H14V10H10V14ZM16 4V8H20V4H16ZM10 8H14V4H10V8ZM16 14H20V10H16V14ZM16 20H20V16H16V20Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4 8H8V4H4V8ZM10 20H14V16H10V20ZM4 20H8V16H4V20ZM4 14H8V10H4V14ZM10 14H14V10H10V14ZM16 4V8H20V4H16ZM10 8H14V4H10V8ZM16 14H20V10H16V14ZM16 20H20V16H16V20Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Ep.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Ex([M({type:Boolean})],Ep.prototype,"useCssColor",2);Ep=Ex([ie("obi-applications")],Ep);var jO=Object.defineProperty,GO=Object.getOwnPropertyDescriptor,Tx=(r,e,t,i)=>{for(var n=i>1?void 0:i?GO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&jO(e,t,n),n};let Tp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M14 6C14 4.9 13.1 4 12 4C10.9 4 10 4.9 10 6C10 7.1 10.9 8 12 8C13.1 8 14 7.1 14 6Z" fill="currentColor"/>
<path d="M14 12C14 10.9 13.1 10 12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12Z" fill="currentColor"/>
<path d="M14 18C14 16.9 13.1 16 12 16C10.9 16 10 16.9 10 18C10 19.1 10.9 20 12 20C13.1 20 14 19.1 14 18Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14 6C14 4.9 13.1 4 12 4C10.9 4 10 4.9 10 6C10 7.1 10.9 8 12 8C13.1 8 14 7.1 14 6Z" style="fill: var(--element-active-color)"/>
<path d="M14 12C14 10.9 13.1 10 12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12Z" style="fill: var(--element-active-color)"/>
<path d="M14 18C14 16.9 13.1 16 12 16C10.9 16 10 16.9 10 18C10 19.1 10.9 20 12 20C13.1 20 14 19.1 14 18Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Tp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Tx([M({type:Boolean})],Tp.prototype,"useCssColor",2);Tp=Tx([ie("obi-more-vertical-google")],Tp);var ZO=Object.defineProperty,WO=Object.getOwnPropertyDescriptor,Lx=(r,e,t,i)=>{for(var n=i>1?void 0:i?WO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&ZO(e,t,n),n};let Lp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M5.85 17.1C6.7 16.45 7.65 15.9375 8.7 15.5625C9.75 15.1875 10.85 15 12 15C13.15 15 14.25 15.1875 15.3 15.5625C16.35 15.9375 17.3 16.45 18.15 17.1C18.7333 16.4167 19.1875 15.6417 19.5125 14.775C19.8375 13.9083 20 12.9833 20 12C20 9.78333 19.2208 7.89583 17.6625 6.3375C16.1042 4.77917 14.2167 4 12 4C9.78333 4 7.89583 4.77917 6.3375 6.3375C4.77917 7.89583 4 9.78333 4 12C4 12.9833 4.1625 13.9083 4.4875 14.775C4.8125 15.6417 5.26667 16.4167 5.85 17.1ZM12 13C11.0167 13 10.1875 12.6625 9.5125 11.9875C8.8375 11.3125 8.5 10.4833 8.5 9.5C8.5 8.51667 8.8375 7.6875 9.5125 7.0125C10.1875 6.3375 11.0167 6 12 6C12.9833 6 13.8125 6.3375 14.4875 7.0125C15.1625 7.6875 15.5 8.51667 15.5 9.5C15.5 10.4833 15.1625 11.3125 14.4875 11.9875C13.8125 12.6625 12.9833 13 12 13ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.85 17.1C6.7 16.45 7.65 15.9375 8.7 15.5625C9.75 15.1875 10.85 15 12 15C13.15 15 14.25 15.1875 15.3 15.5625C16.35 15.9375 17.3 16.45 18.15 17.1C18.7333 16.4167 19.1875 15.6417 19.5125 14.775C19.8375 13.9083 20 12.9833 20 12C20 9.78333 19.2208 7.89583 17.6625 6.3375C16.1042 4.77917 14.2167 4 12 4C9.78333 4 7.89583 4.77917 6.3375 6.3375C4.77917 7.89583 4 9.78333 4 12C4 12.9833 4.1625 13.9083 4.4875 14.775C4.8125 15.6417 5.26667 16.4167 5.85 17.1ZM12 13C11.0167 13 10.1875 12.6625 9.5125 11.9875C8.8375 11.3125 8.5 10.4833 8.5 9.5C8.5 8.51667 8.8375 7.6875 9.5125 7.0125C10.1875 6.3375 11.0167 6 12 6C12.9833 6 13.8125 6.3375 14.4875 7.0125C15.1625 7.6875 15.5 8.51667 15.5 9.5C15.5 10.4833 15.1625 11.3125 14.4875 11.9875C13.8125 12.6625 12.9833 13 12 13ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Lp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Lx([M({type:Boolean})],Lp.prototype,"useCssColor",2);Lp=Lx([ie("obi-user")],Lp);var KO=Object.defineProperty,qO=Object.getOwnPropertyDescriptor,ni=(r,e,t,i)=>{for(var n=i>1?void 0:i?qO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&KO(e,t,n),n};let Wt=class extends ee{constructor(){super(...arguments),this.appTitle="App",this.pageName="Page",this.date="2021-01-01T11:11:11.111Z",this.menuButtonActivated=!1,this.dimmingButtonActivated=!1,this.appsButtonActivated=!1,this.leftMoreButtonActivated=!1,this.userButtonActivated=!1,this.tall=!1,this.wideMenuButton=!1,this.showAppsButton=!1,this.showDimmingButton=!1,this.showUserButton=!1,this.showClock=!1,this.showDate=!1,this.inactive=!1,this.appButtonBreakpointPx=500,this.dimmingButtonBreakpointPx=500,this.appTitleBreakpointPx=500,this.clockMinimizeBreakpointPx=300,this.userButtonBreakpointPx=500,this.settings=!1,this.breadcrumbItems=[]}menuButtonClicked(){this.dispatchEvent(new CustomEvent("menu-button-clicked"))}dimmingButtonClicked(){this.dispatchEvent(new CustomEvent("dimming-button-clicked"))}appsButtonClicked(){this.dispatchEvent(new CustomEvent("apps-button-clicked"))}leftMoreButtonClicked(){this.dispatchEvent(new CustomEvent("left-more-button-clicked"))}userButtonClicked(){this.dispatchEvent(new CustomEvent("user-button-clicked"))}render(){const r=[];this.settings?(r.push(F`<div class="menu-button">
          <obc-icon-button
            variant="flat"
            @click=${()=>this.dispatchEvent(new CustomEvent("close"))}
          >
            <obi-close-google></obi-close-google>
          </obc-icon-button>
        </div>`),r.push(F`<obc-divider></obc-divider>`),r.push(F`<obc-icon-button
          variant="flat"
          cornerLeft
          @click=${()=>this.dispatchEvent(new CustomEvent("back"))}
        >
          <obi-arrow-left-google></obi-arrow-left-google>
        </obc-icon-button>`),r.push(F`<obc-icon-button
          variant="flat"
          cornerRight
          @click=${()=>this.dispatchEvent(new CustomEvent("forward"))}
        >
          <obi-arrow-right-google></obi-arrow-right-google>
        </obc-icon-button>`),r.push(F`<obc-divider></obc-divider>`),r.push(F`<div class="title">${this.appTitle}</div>`),r.push(F`<obc-breadcrumb .items=${this.breadcrumbItems}></obc-breadcrumb>`)):(this.inactive||r.push(F`<div class="menu-button ${this.wideMenuButton?"wide":null}">
            <obc-icon-button
              variant="flat"
              @click=${this.menuButtonClicked}
              ?activated=${this.menuButtonActivated}
            >
              <obi-menu-iec></obi-menu-iec>
            </obc-icon-button>
          </div>`),r.push(F`<div class="title">${this.appTitle}</div>`),r.push(F`<div class="page-name">${this.pageName}</div>`));const e=Math.max(this.appButtonBreakpointPx,this.dimmingButtonBreakpointPx);return F`
      <style>
        @media (max-width: ${e}px) {
          .left-more-button {
            display: revert !important;
          }

          .group.left > * {
            margin-right: 4px;
            margin-left: 4px;
          }
        }

        @media (max-width: ${this.appButtonBreakpointPx}px) {
          .apps-button {
            display: none;
          }
        }

        @media (max-width: ${this.dimmingButtonBreakpointPx}px) {
          .dimming-button {
            display: none;
          }
        }

        @media (max-width: ${this.appTitleBreakpointPx}px) {
          .title {
            display: none;
          }
        }

        @media (max-width: ${this.userButtonBreakpointPx}px) {
          .user-button {
            display: none;
          }
      </style>
      <nav
        class=${ti({wrapper:!0,inactive:this.inactive,settings:this.settings,tall:this.tall})}
      >
        <div class="left group">${r}</div>
        <div class="right group">
          <div class="alert-container">
            <slot name="alerts"></slot>
          </div>
          ${this.showDimmingButton&&!this.inactive?F`<obc-icon-button
                class="dimming-button"
                part="dimming-button"
                variant="flat"
                @click=${this.dimmingButtonClicked}
                ?activated=${this.dimmingButtonActivated}
              >
                <obi-palette-day-night-iec></obi-palette-day-night-iec>
              </obc-icon-button>`:null}
          ${this.showUserButton&&!this.inactive?F`<obc-icon-button
                class="user-button"
                variant="flat"
                part="user-button"
                @click=${this.userButtonClicked}
                ?activated=${this.userButtonActivated}
              >
                <obi-user></obi-user>
              </obc-icon-button>`:null}
          ${this.showAppsButton&&!this.inactive?F`<obc-icon-button
                class="apps-button"
                variant="flat"
                part="apps-button"
                @click=${this.appsButtonClicked}
                ?activated=${this.appsButtonActivated}
              >
                <obi-applications></obi-applications>
              </obc-icon-button>`:null}
          ${this.showClock?F`<obc-clock
                .date=${this.date}
                .blinkOnlyBreakpointPx=${this.clockMinimizeBreakpointPx}
                .showDate=${this.showDate}
              ></obc-clock>`:null}
          ${this.inactive?null:F`<obc-icon-button
                class="left-more-button"
                part="left-more-button"
                variant="flat"
                @click=${this.leftMoreButtonClicked}
                ?activated=${this.leftMoreButtonActivated}
              >
                <obi-more-vertical-google></obi-more-vertical-google>
              </obc-icon-button>`}
        </div>
      </nav>
    `}};Wt.styles=ot(mO);ni([M({type:String})],Wt.prototype,"appTitle",2);ni([M({type:String})],Wt.prototype,"pageName",2);ni([M({type:String})],Wt.prototype,"date",2);ni([M({type:Boolean})],Wt.prototype,"menuButtonActivated",2);ni([M({type:Boolean})],Wt.prototype,"dimmingButtonActivated",2);ni([M({type:Boolean})],Wt.prototype,"appsButtonActivated",2);ni([M({type:Boolean})],Wt.prototype,"leftMoreButtonActivated",2);ni([M({type:Boolean})],Wt.prototype,"userButtonActivated",2);ni([M({type:Boolean})],Wt.prototype,"tall",2);ni([M({type:Boolean})],Wt.prototype,"wideMenuButton",2);ni([M({type:Boolean})],Wt.prototype,"showAppsButton",2);ni([M({type:Boolean})],Wt.prototype,"showDimmingButton",2);ni([M({type:Boolean})],Wt.prototype,"showUserButton",2);ni([M({type:Boolean})],Wt.prototype,"showClock",2);ni([M({type:Boolean})],Wt.prototype,"showDate",2);ni([M({type:Boolean})],Wt.prototype,"inactive",2);ni([M({type:Number})],Wt.prototype,"appButtonBreakpointPx",2);ni([M({type:Number})],Wt.prototype,"dimmingButtonBreakpointPx",2);ni([M({type:Number})],Wt.prototype,"appTitleBreakpointPx",2);ni([M({type:Number})],Wt.prototype,"clockMinimizeBreakpointPx",2);ni([M({type:Number})],Wt.prototype,"userButtonBreakpointPx",2);ni([M({type:Boolean})],Wt.prototype,"settings",2);ni([M({type:Array})],Wt.prototype,"breadcrumbItems",2);Wt=ni([ie("obc-top-bar")],Wt);const YO=Ne({__name:"ObcTopBar",props:{appTitle:{},pageName:{},date:{},menuButtonActivated:{type:Boolean},dimmingButtonActivated:{type:Boolean},appsButtonActivated:{type:Boolean},leftMoreButtonActivated:{type:Boolean},userButtonActivated:{type:Boolean},tall:{type:Boolean},wideMenuButton:{type:Boolean},showAppsButton:{type:Boolean},showDimmingButton:{type:Boolean},showUserButton:{type:Boolean},showClock:{type:Boolean},showDate:{type:Boolean},inactive:{type:Boolean},appButtonBreakpointPx:{},dimmingButtonBreakpointPx:{},appTitleBreakpointPx:{},clockMinimizeBreakpointPx:{},userButtonBreakpointPx:{},settings:{type:Boolean},breadcrumbItems:{}},emits:["menu-button-clicked","dimming-button-clicked","apps-button-clicked","left-more-button-clicked","user-button-clicked"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onMenuButtonClicked:u=>o("menu-button-clicked",u),onDimmingButtonClicked:u=>o("dimming-button-clicked",u),onAppsButtonClicked:u=>o("apps-button-clicked",u),onLeftMoreButtonClicked:u=>o("left-more-button-clicked",u),onUserButtonClicked:u=>o("user-button-clicked",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-top-bar",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}}),XO=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

.wrapper {
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
    width: 320px;
    background: var(--container-global-color, #FCFCFC);
    box-shadow: var(--shadow-flat);
}

.wrapper nav {
        padding: var(--app-components-navigation-menu-margin-vertical) var(--app-components-navigation-menu-footer-margin-horizontal);
    }

.wrapper.icon-only,.wrapper.compact {
        width: fit-content;
    }

:is(.wrapper.icon-only,.wrapper.compact) nav.main {
            padding: var(--app-components-navigation-menu-margin-vertical) 0px;
        }

:is(.wrapper.icon-only,.wrapper.compact) .footer nav {
            padding: 0;
        }

.wrapper.icon-only-large {
        width: fit-content;
    }

.wrapper .main {
        flex: 1;
    }

.wrapper .footer {
        display: flex;
        flex-direction: column;
        border-top: 1px solid var(--border-outline-color, rgba(0, 0, 0, 0.08));
        flex: 0;   
    }

.full .footer nav {
    border-bottom: 1px solid var(--border-outline-color, rgba(0, 0, 0, 0.08));        
}

.full .logo {
    height: 96px;
    width: 100%;
}

.icon-only-large .footer nav {
    padding-bottom: 0;
}

.icon-only-large .logo {
    padding: var(--app-components-navigation-menu-margin-vertical) var(--app-components-navigation-menu-footer-margin-horizontal);
    padding-top: 0;
    height: calc(var(--menu-navigation-components-navigation-item-touch-target-size) + var(--app-components-navigation-menu-margin-vertical));
}

.icon-only .logo {
    height: var(--menu-navigation-components-navigation-item-touch-target-size);
}

.compact .logo {
    height: var(--menu-navigation-components-navigation-item-touch-target-size-large);
}

.logo {
    transition: height 200ms;
}

::slotted([slot="logo"]) {
    width: 100%;
}

ol {
    list-style: none;
    margin: 0;
    padding: 0;
}`;var QO=Object.defineProperty,JO=Object.getOwnPropertyDescriptor,Sx=(r,e,t,i)=>{for(var n=i>1?void 0:i?JO(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&QO(e,t,n),n},Lr=(r=>(r.Full="full",r.IconOnly="icon-only",r.IconOnlyLarge="icon-only-large",r.Compact="compact",r))(Lr||{});let Sp=class extends ee{constructor(){super(...arguments),this.variant="full"}findAllElements(r,e,t){const i=[];for(const n of r.children)if(n.tagName.toLowerCase()===e)i.push(n);else{if(t&&n.tagName.toLowerCase()===t)continue;i.push(...this.findAllElements(n,e,t))}return i}findAllGroups(r){return this.findAllElements(r,"obc-navigation-item-group")}findRootItems(r){return this.findAllElements(r,"obc-navigation-item","obc-navigation-item-group")}findAllItems(r){return this.findAllElements(r,"obc-navigation-item")}closeAllGroups(){this.findAllGroups(this).forEach(e=>{e.close()})}registerGroup(r){r.forEach(e=>{e.addEventListener("open",()=>{r.forEach(i=>{i!==e&&i.close()})});const t=this.findAllGroups(e);this.registerGroup(t)})}firstUpdated(r){super.firstUpdated(r);const e=this.findAllGroups(this);this.registerGroup(e)}updated(r){super.updated(r),r.has("variant")&&this.setupItems()}handleSlotChange(){this.setupItems()}connectedCallback(){super.connectedCallback(),this.addEventListener("slotchange",this.handleSlotChange)}disconnectedCallback(){this.removeEventListener("slotchange",this.handleSlotChange),super.disconnectedCallback()}setupItems(){const r=this.variant!=="full";this.setHugToGroups(this,r),this.findAllGroups(this).forEach(n=>{n.variant=this.variant}),this.findRootItems(this).forEach(n=>{n.variant=this.variant}),this.findAllItems(this).forEach(n=>{n.addEventListener("click",()=>{this.closeAllGroups()})})}setHugToGroups(r,e){this.findAllGroups(r).forEach(i=>{i.hug=e,this.setHugToGroups(i,e)})}render(){return F`
      <div class="wrapper ${this.variant}">
        <nav class="main">
          <ol>
            <slot name="main"></slot>
          </ol>
        </nav>
        <div class="footer">
          <nav>
            <ol>
              <slot name="footer"></slot>
            </ol>
          </nav>
          <div class="logo">
            <slot name="logo"></slot>
          </div>
        </div>
      </div>
    `}};Sp.styles=ot(XO);Sx([M({type:String})],Sp.prototype,"variant",2);Sp=Sx([ie("obc-navigation-menu")],Sp);const Ax=Ne({__name:"ObcNavigationMenu",props:{variant:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-navigation-menu",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),e$=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

#group-item {
    anchor-name: --group-item;
}

* {
    box-sizing: border-box;
}

#flyout-wrapper{
    display: none;
    position: fixed;
    position-anchor: --group-item;
    left: calc(anchor(right) + var(--app-components-navigation-menu-footer-margin-horizontal));
    min-width: 320px;
    top: var(--obc-navigation-item-flyout-top, 0px);
    bottom: 0;
    height: auto;
    margin: 0;
    border: none;
    outline: none;
}

#flyout-wrapper .content {
        display: flex;
        flex-direction: column;
        background: var(--container-global-color);
        padding: var(--app-components-navigation-menu-margin-vertical) var(--app-components-navigation-menu-margin-horizontal);
        height: 100%;
    }

#flyout-wrapper.open {
        display: block;
    }

#flyout-wrapper:not(.hug) {
        border-left: 1px solid var(--border-outline-color);
    }

#flyout-wrapper.hug {
        position: absolute;
        top: calc(anchor(top) - var(--ui-components-context-menu-margin-vertical));
        bottom: auto;
        height: auto;
        left: calc(anchor(right) + var(--app-components-navigation-menu-footer-margin-horizontal) + 1px);   
    }

#flyout-wrapper.hug .content {
            padding: var(--ui-components-context-menu-margin-vertical) var(--ui-components-context-menu-margin-horizontal);
            border-radius: var(--ui-components-context-menu-border-radius);
        }

#flyout-wrapper.hug.compact {
            left: calc(anchor(right) + 1px);
        }

#flyout-wrapper.hug.compact {
        top: calc(anchor(top) - var(--ui-components-context-menu-margin-vertical) + var(--menu-navigation-components-navigation-item-margin-vertical-icon-button));
        
    }

#flyout-wrapper:not(.hug)::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        width: 1px;
        box-shadow: var(--shadow-flat);
        z-index: -1;
    }

#flyout-wrapper{

    anchor-name: --flyout-wrapper;
}

.shadow.open.hug {
    position-anchor: --flyout-wrapper;
    content: '';
    position: absolute;
    top: anchor(top);
    left: anchor(left);
    right: anchor(right);
    bottom: anchor(bottom);
    box-shadow: var(--shadow-floating);
    border-radius: var(--ui-components-context-menu-border-radius);
    z-index: -1;
}

.content {
    display: flex;
    flex-direction: column;
}`;var t$=Object.defineProperty,i$=Object.getOwnPropertyDescriptor,wl=(r,e,t,i)=>{for(var n=i>1?void 0:i?i$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&t$(e,t,n),n};let Ys=class extends ee{constructor(){super(...arguments),this.label="Label",this.checked=!1,this.variant=Lr.Full,this.hug=!1,this.openContainer=!1}onClickGroup(){this.openContainer?this.close():this.open()}open(){this.openContainer=!0,this.dispatchEvent(new CustomEvent("open"))}close(){this.openContainer=!1,this.querySelectorAll("obc-navigation-item-group").forEach(r=>{r.close()})}render(){return F`
      <obc-navigation-item
        @click=${this.onClickGroup}
        .checked=${this.checked}
        .groupSelected=${this.openContainer}
        .href=${this.href}
        .label=${this.label}
        .variant=${this.variant}
        group
        id="group-item"
      >
        <slot name="icon" slot="icon"></slot>
      </obc-navigation-item>
      <div
        part="flyout"
        id="flyout-wrapper"
        class=${ti({hug:this.hug,[this.variant]:!0,open:this.openContainer})}
      >
        <div class="content">
          <slot></slot>
        </div>
      </div>
      <div
        class=${ti({shadow:!0,open:this.openContainer,hug:this.hug})}
      ></div>
    `}};Ys.styles=ot(e$);wl([M({type:String})],Ys.prototype,"label",2);wl([M({type:String})],Ys.prototype,"href",2);wl([M({type:Boolean})],Ys.prototype,"checked",2);wl([M({type:String})],Ys.prototype,"variant",2);wl([M({type:Boolean})],Ys.prototype,"hug",2);wl([ba()],Ys.prototype,"openContainer",2);Ys=wl([ie("obc-navigation-item-group")],Ys);const r$=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.wrapper {
  display: flex;
  align-items: center;
  width: 100%;
  height: var(--menu-navigation-components-navigation-item-touch-target-size);
  transition: height 200ms;
  text-decoration: none;
  user-select: none;
}

.wrapper:focus-visible {
    outline-offset: -4px;
  }

.wrapper {
            cursor: pointer;
}

.wrapper:focus {
            outline: none;
}

.wrapper.activated .visible-wrapper {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

.wrapper .visible-wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

.wrapper:hover .visible-wrapper {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.wrapper:active .visible-wrapper {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.wrapper:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper:disabled .visible-wrapper {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.wrapper {
  color: var(--on-flat-active-color);
}

.wrapper .visible-wrapper {
    display: flex;
    align-items: center;
    width: 100%;
    height: 100%;
    border-radius: var(--menu-navigation-components-navigation-item-border-radius);
    padding: 0px calc( var(--menu-navigation-components-navigation-item-margin-horizontal-list-item) + var(--menu-navigation-components-navigation-item-padding-horizontal));
  }

.wrapper {



  /* UI/Body */



  font-feature-settings: 'liga' off, 'clig' off;



  font-family: var(--font-family-main);



  font-size: var(--global-typography-ui-body-font-size);



  font-style: normal;



  font-weight: var(--global-typography-ui-body-font-weight);



  line-height: var(--global-typography-ui-body-line-height);



  text-decoration: none;
}

.wrapper.full .flyout-wrapper {
    display: flex;
    width: var(--menu-navigation-components-navigation-item-flyout-icon-container-size);
    align-items: center;
  }

:is(.wrapper.full .flyout-wrapper) .icon {
      flex-shrink: 0;
    }

.wrapper.icon-only,.wrapper.icon-only-large {
    width: var(--menu-navigation-components-navigation-item-touch-target-size);
    padding: var(--menu-navigation-components-navigation-item-margin-vertical-icon-button) var(--menu-navigation-components-navigation-item-margin-horizontal-icon-button);

   

    
  }

:is(.wrapper.icon-only,.wrapper.icon-only-large) .visible-wrapper {
      position: relative;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

.wrapper.icon-only-large {
    width: var(--menu-navigation-components-navigation-item-touch-target-size);
    height: var(--menu-navigation-components-navigation-item-touch-target-size);
    padding: 0;
  }

.wrapper.icon-only-large .icon.leading {
      anchor-name: --leading-icon;
    }

.wrapper.icon-only-large .icon.trailing {
      width: var(--menu-navigation-components-navigation-item-icon-size);
      height: var(--menu-navigation-components-navigation-item-icon-size);
      flex-shrink: 0;
      position: absolute;
      right: anchor(right);
      transform: translateX(60%);
      position-anchor: --leading-icon;
      top: anchor(top);
      bottom: anchor(bottom);
      margin: auto;
    }

.wrapper.compact {
    position: relative;
    width: var(--menu-navigation-components-navigation-item-touch-target-size-large);
    height: var(--menu-navigation-components-navigation-item-touch-target-size-large);
    padding: var(--menu-navigation-components-navigation-item-margin-vertical-icon-button) var(--menu-navigation-components-navigation-item-margin-horizontal-icon-button);
}

.wrapper.compact .visible-wrapper {
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

.wrapper.compact .icon.leading {
      anchor-name: --leading-icon;
    }

.wrapper.compact .icon.trailing {
      width: var(--menu-navigation-components-navigation-item-icon-size);
      height: var(--menu-navigation-components-navigation-item-icon-size);
      flex-shrink: 0;
      position: absolute;
      right: anchor(right);
      transform: translateX(60%);
      position-anchor: --leading-icon;
      top: anchor(top);
      bottom: anchor(bottom);
      margin: auto;
    }

.wrapper.compact .label {
      font-feature-settings: 'liga' off, 'clig' off;
      font-family: var(--font-family-main);
      font-size: var(--global-typography-ui-label-font-size);
      font-style: normal;
      font-weight: var(--global-typography-ui-label-font-weight);
      line-height: var(--global-typography-ui-label-line-height);
      flex-grow: 0;
      flex-basis: auto;
    }

.checked :is(.wrapper.compact .label) {
        font-feature-settings: 'liga' off, 'clig' off;
        font-family: var(--font-family-main);
        font-size: var(--global-typography-ui-label-active-font-size);
        font-style: normal;
        font-weight: var(--global-typography-ui-label-active-font-weight);
        line-height: var(--global-typography-ui-label-active-line-height);
      }

.wrapper.checked {
            cursor: pointer;
}

.wrapper.checked:focus {
            outline: none;
}

.wrapper.checked.activated .visible-wrapper {
            border-color: var(--amplified-activated-border-color);
            background-color: var(--amplified-activated-background-color);
}

.wrapper.checked .visible-wrapper {
            border-color: var(--amplified-enabled-border-color);
            background-color: var(--amplified-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

.wrapper.checked:hover .visible-wrapper {
                        border-color: var(--amplified-hover-border-color);
                        background-color: var(--amplified-hover-background-color);
            }
}

.wrapper.checked:active .visible-wrapper {
            border-color: var(--amplified-pressed-border-color);
            background-color: var(--amplified-pressed-background-color);
}

.wrapper.checked:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper.checked:disabled .visible-wrapper {
            border-color: var(--amplified-disabled-border-color);
            background-color: var(--amplified-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-amplified-disabled-color);
}

.wrapper.checked {
    /* UI/Body-Active */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-active-font-size);
    font-style: normal;
    font-weight: var(--font-weight-bold);
    line-height: var(--global-typography-ui-body-active-line-height);
}

.wrapper.checked .icon.leading {
      color: var(--instrument-enhanced-secondary-color);
    }

.wrapper.group-selected .visible-wrapper{
    background: var(--flat-pressed-background-color);
    border-color: var(--flat-hover-border-color);
  }

.wrapper .icon {
    display: flex;
    align-items: center;
    color: var(--on-flat-neutral-color);
  }

.wrapper.full .icon.leading {
    margin-right: var(--menu-navigation-components-navigation-item-label-spacing);
  }

.wrapper ::slotted([slot="icon"]),.wrapper ::slotted([slot="trailing-icon"]) {
    display: block;
    width: var(--menu-navigation-components-navigation-item-icon-size);
    height: var(--menu-navigation-components-navigation-item-icon-size);
  }

.wrapper .icon.trailing {
    width: var(--menu-navigation-components-navigation-item-icon-size);
    height: var(--menu-navigation-components-navigation-item-icon-size);
  }

.wrapper .label {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    min-width: 0;
  }
`;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ll=r=>r??He;var n$=Object.defineProperty,s$=Object.getOwnPropertyDescriptor,kx=(r,e,t,i)=>{for(var n=i>1?void 0:i?s$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&n$(e,t,n),n};let Ap=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M9.5 15.0686C9.5 15.6744 9.5 15.9773 9.6198 16.1176C9.72374 16.2393 9.87967 16.3039 10.0392 16.2913C10.2231 16.2769 10.4373 16.0627 10.8657 15.6343L13.9343 12.5657C14.1323 12.3677 14.2313 12.2687 14.2684 12.1545C14.3011 12.0541 14.3011 11.9459 14.2684 11.8455C14.2313 11.7313 14.1323 11.6323 13.9343 11.4343L10.8657 8.36567C10.4373 7.9373 10.2231 7.72311 10.0392 7.70864C9.87967 7.69608 9.72374 7.76067 9.6198 7.88237C9.5 8.02264 9.5 8.32554 9.5 8.93136L9.5 15.0686Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.5 15.0686C9.5 15.6744 9.5 15.9773 9.6198 16.1176C9.72374 16.2393 9.87967 16.3039 10.0392 16.2913C10.2231 16.2769 10.4373 16.0627 10.8657 15.6343L13.9343 12.5657C14.1323 12.3677 14.2313 12.2687 14.2684 12.1545C14.3011 12.0541 14.3011 11.9459 14.2684 11.8455C14.2313 11.7313 14.1323 11.6323 13.9343 11.4343L10.8657 8.36567C10.4373 7.9373 10.2231 7.72311 10.0392 7.70864C9.87967 7.69608 9.72374 7.76067 9.6198 7.88237C9.5 8.02264 9.5 8.32554 9.5 8.93136L9.5 15.0686Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Ap.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;kx([M({type:Boolean})],Ap.prototype,"useCssColor",2);Ap=kx([ie("obi-arrow-flyout-google")],Ap);var o$=Object.defineProperty,a$=Object.getOwnPropertyDescriptor,Cl=(r,e,t,i)=>{for(var n=i>1?void 0:i?a$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&o$(e,t,n),n};let Xs=class extends ee{constructor(){super(...arguments),this.label="Label",this.checked=!1,this.variant=Lr.Full,this.group=!1,this.groupSelected=!1}onClick(){dispatchEvent(new CustomEvent("click"))}render(){return F`
      <a
        class="${ti({wrapper:!0,checked:this.checked,"group-selected":this.groupSelected&&this.group,[this.variant]:!0})}"
        href="${ll(this.href)}"
        @click=${this.onClick}
      >
        <div class="visible-wrapper">
          <slot name="icon" class="icon leading"></slot>
          ${[Lr.IconOnly,Lr.IconOnlyLarge].includes(this.variant)?He:F`<span class="label"> ${this.label} </span>`}
          ${this.group&&this.variant!==Lr.IconOnly?F` <div class="flyout-wrapper">
                <obi-arrow-flyout-google
                  class="icon trailing"
                ></obi-arrow-flyout-google>
              </div>`:He}
        </div>
      </a>
    `}};Xs.styles=ot(r$);Cl([M({type:String})],Xs.prototype,"label",2);Cl([M({type:String})],Xs.prototype,"href",2);Cl([M({type:Boolean})],Xs.prototype,"checked",2);Cl([M({type:String})],Xs.prototype,"variant",2);Cl([M({type:Boolean})],Xs.prototype,"group",2);Cl([M({type:Boolean})],Xs.prototype,"groupSelected",2);Xs=Cl([ie("obc-navigation-item")],Xs);const Y8=Ne({__name:"ObcNavigationItem",props:{label:{},href:{},checked:{type:Boolean},variant:{},group:{type:Boolean},groupSelected:{type:Boolean}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-navigation-item",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}});var l$=Object.defineProperty,c$=Object.getOwnPropertyDescriptor,Ix=(r,e,t,i)=>{for(var n=i>1?void 0:i?c$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&l$(e,t,n),n};let kp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M11.7 17C10.3167 17 9.13755 16.5125 8.16255 15.5375C7.18755 14.5625 6.70005 13.3833 6.70005 12C6.70005 10.6166 7.18755 9.43745 8.16255 8.46245C9.13755 7.48745 10.3167 6.99995 11.7 6.99995C12.0667 6.99995 12.425 7.03745 12.775 7.11245C13.125 7.18745 13.4667 7.29995 13.8 7.44995C12.9 7.86662 12.1875 8.48328 11.6625 9.29995C11.1375 10.1166 10.875 11.0166 10.875 12C10.875 12.9833 11.1375 13.8833 11.6625 14.7C12.1875 15.5166 12.9 16.1333 13.8 16.55C13.4667 16.7 13.125 16.8125 12.775 16.8875C12.425 16.9625 12.0667 17 11.7 17ZM12 23.3L15.35 20H20V15.35L23.3 12L20 8.64995V3.99995H15.35L12 0.699951L8.65005 3.99995H4.00005V8.64995L0.700048 12L4.00005 15.35V20H8.65005L12 23.3ZM12 20.5L9.50005 18H6.00005V14.5L3.50005 12L6.00005 9.49995V5.99995H9.50005L12 3.49995L14.5 5.99995H18V9.49995L20.5 12L18 14.5V18H14.5L12 20.5Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.7 17C10.3167 17 9.13755 16.5125 8.16255 15.5375C7.18755 14.5625 6.70005 13.3833 6.70005 12C6.70005 10.6166 7.18755 9.43745 8.16255 8.46245C9.13755 7.48745 10.3167 6.99995 11.7 6.99995C12.0667 6.99995 12.425 7.03745 12.775 7.11245C13.125 7.18745 13.4667 7.29995 13.8 7.44995C12.9 7.86662 12.1875 8.48328 11.6625 9.29995C11.1375 10.1166 10.875 11.0166 10.875 12C10.875 12.9833 11.1375 13.8833 11.6625 14.7C12.1875 15.5166 12.9 16.1333 13.8 16.55C13.4667 16.7 13.125 16.8125 12.775 16.8875C12.425 16.9625 12.0667 17 11.7 17ZM12 23.3L15.35 20H20V15.35L23.3 12L20 8.64995V3.99995H15.35L12 0.699951L8.65005 3.99995H4.00005V8.64995L0.700048 12L4.00005 15.35V20H8.65005L12 23.3ZM12 20.5L9.50005 18H6.00005V14.5L3.50005 12L6.00005 9.49995V5.99995H9.50005L12 3.49995L14.5 5.99995H18V9.49995L20.5 12L18 14.5V18H14.5L12 20.5Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};kp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Ix([M({type:Boolean})],kp.prototype,"useCssColor",2);kp=Ix([ie("obi-palette-dimming")],kp);var u$=Object.defineProperty,h$=Object.getOwnPropertyDescriptor,Mx=(r,e,t,i)=>{for(var n=i>1?void 0:i?h$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&u$(e,t,n),n};let Ip=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M19.88 17.47C20.32 16.77 20.58 15.96 20.58 15.08C20.58 12.59 18.57 10.58 16.08 10.58C13.59 10.58 11.58 12.59 11.58 15.08C11.58 17.57 13.59 19.58 16.07 19.58C16.95 19.58 17.77 19.32 18.46 18.88L21.58 22L23 20.58L19.88 17.47ZM16.08 17.58C14.7 17.58 13.58 16.46 13.58 15.08C13.58 13.7 14.7 12.58 16.08 12.58C17.46 12.58 18.58 13.7 18.58 15.08C18.58 16.46 17.46 17.58 16.08 17.58ZM15.72 9.08C14.98 9.1 14.27 9.26 13.62 9.53L13.07 8.7L9.27 14.88L6.26 11.36L2.63 17.17L1 16L6 8L9 11.5L13 5L15.72 9.08ZM18.31 9.58C17.67 9.3 16.98 9.13 16.26 9.09L21.38 1L23 2.18L18.31 9.58Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M19.88 17.47C20.32 16.77 20.58 15.96 20.58 15.08C20.58 12.59 18.57 10.58 16.08 10.58C13.59 10.58 11.58 12.59 11.58 15.08C11.58 17.57 13.59 19.58 16.07 19.58C16.95 19.58 17.77 19.32 18.46 18.88L21.58 22L23 20.58L19.88 17.47ZM16.08 17.58C14.7 17.58 13.58 16.46 13.58 15.08C13.58 13.7 14.7 12.58 16.08 12.58C17.46 12.58 18.58 13.7 18.58 15.08C18.58 16.46 17.46 17.58 16.08 17.58ZM15.72 9.08C14.98 9.1 14.27 9.26 13.62 9.53L13.07 8.7L9.27 14.88L6.26 11.36L2.63 17.17L1 16L6 8L9 11.5L13 5L15.72 9.08ZM18.31 9.58C17.67 9.3 16.98 9.13 16.26 9.09L21.38 1L23 2.18L18.31 9.58Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Ip.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Mx([M({type:Boolean})],Ip.prototype,"useCssColor",2);Ip=Mx([ie("obi-diagnostic-google")],Ip);var d$=Object.defineProperty,f$=Object.getOwnPropertyDescriptor,Px=(r,e,t,i)=>{for(var n=i>1?void 0:i?f$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&d$(e,t,n),n};let Mp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M11 7H13V11H17V13H13V17H11V13H7V11H11V7Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M1.61214 10.516L10.516 1.61214C11.3322 0.795953 12.6678 0.795953 13.484 1.61214L22.3879 10.516C23.204 11.3322 23.204 12.6678 22.3879 13.484L13.484 22.3879C12.6678 23.204 11.3322 23.204 10.516 22.3879L1.61214 13.484C0.795953 12.6678 0.795953 11.3322 1.61214 10.516ZM12 3L3 12L12 21L21 12L12 3Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11 7H13V11H17V13H13V17H11V13H7V11H11V7Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M1.61214 10.516L10.516 1.61214C11.3322 0.795953 12.6678 0.795953 13.484 1.61214L22.3879 10.516C23.204 11.3322 23.204 12.6678 22.3879 13.484L13.484 22.3879C12.6678 23.204 11.3322 23.204 10.516 22.3879L1.61214 13.484C0.795953 12.6678 0.795953 11.3322 1.61214 10.516ZM12 3L3 12L12 21L21 12L12 3Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Mp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Px([M({type:Boolean})],Mp.prototype,"useCssColor",2);Mp=Px([ie("obi-placeholder")],Mp);var p$=Object.defineProperty,g$=Object.getOwnPropertyDescriptor,Rx=(r,e,t,i)=>{for(var n=i>1?void 0:i?g$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&p$(e,t,n),n};let Pp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M3 4.25C3.37014 4.25 3.69331 4.0489 3.86622 3.75H5V11.75H3.86622C3.69331 11.4511 3.37014 11.25 3 11.25C2.44772 11.25 2 11.6977 2 12.25C2 12.8023 2.44772 13.25 3 13.25C3.37014 13.25 3.69331 13.0489 3.86622 12.75H5V20.75H3.86622C3.69331 20.4511 3.37014 20.25 3 20.25C2.44772 20.25 2 20.6977 2 21.25C2 21.8023 2.44772 22.25 3 22.25C3.37014 22.25 3.69331 22.0489 3.86622 21.75H6V2.75H3.86622C3.69331 2.4511 3.37014 2.25 3 2.25C2.44772 2.25 2 2.69772 2 3.25C2 3.80228 2.44772 4.25 3 4.25Z" fill="currentColor"/>
<path d="M22 12.25C22 12.8023 21.5523 13.25 21 13.25C20.6299 13.25 20.3067 13.0489 20.1338 12.75H19V20.75H20.1338C20.3067 20.4511 20.6299 20.25 21 20.25C21.5523 20.25 22 20.6977 22 21.25C22 21.8023 21.5523 22.25 21 22.25C20.6299 22.25 20.3067 22.0489 20.1338 21.75H18L18 2.75L20.1338 2.75C20.3067 2.4511 20.6299 2.25 21 2.25C21.5523 2.25 22 2.69772 22 3.25C22 3.80228 21.5523 4.25 21 4.25C20.6299 4.25 20.3067 4.0489 20.1338 3.75L19 3.75V11.75H20.1338C20.3067 11.4511 20.6299 11.25 21 11.25C21.5523 11.25 22 11.6977 22 12.25Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M11 17L10.7 15.5C10.5 15.4167 10.3125 15.3292 10.1375 15.2375C9.9625 15.1458 9.78333 15.0333 9.6 14.9L8.15 15.35L7.15 13.65L8.3 12.65C8.26667 12.4167 8.25 12.2 8.25 12C8.25 11.8 8.26667 11.5833 8.3 11.35L7.15 10.35L8.15 8.65L9.6 9.1C9.78333 8.96667 9.9625 8.85417 10.1375 8.7625C10.3125 8.67083 10.5 8.58333 10.7 8.5L11 7H13L13.3 8.5C13.5 8.58333 13.6875 8.675 13.8625 8.775C14.0375 8.875 14.2167 9 14.4 9.15L15.85 8.65L16.85 10.4L15.7 11.4C15.7333 11.6 15.75 11.8083 15.75 12.025C15.75 12.2417 15.7333 12.45 15.7 12.65L16.85 13.65L15.85 15.35L14.4 14.9C14.2167 15.0333 14.0375 15.1458 13.8625 15.2375C13.6875 15.3292 13.5 15.4167 13.3 15.5L13 17H11ZM13.4125 13.4125C13.0208 13.8042 12.55 14 12 14C11.45 14 10.9792 13.8042 10.5875 13.4125C10.1958 13.0208 10 12.55 10 12C10 11.45 10.1958 10.9792 10.5875 10.5875C10.9792 10.1958 11.45 10 12 10C12.55 10 13.0208 10.1958 13.4125 10.5875C13.8042 10.9792 14 11.45 14 12C14 12.55 13.8042 13.0208 13.4125 13.4125Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 4.25C3.37014 4.25 3.69331 4.0489 3.86622 3.75H5V11.75H3.86622C3.69331 11.4511 3.37014 11.25 3 11.25C2.44772 11.25 2 11.6977 2 12.25C2 12.8023 2.44772 13.25 3 13.25C3.37014 13.25 3.69331 13.0489 3.86622 12.75H5V20.75H3.86622C3.69331 20.4511 3.37014 20.25 3 20.25C2.44772 20.25 2 20.6977 2 21.25C2 21.8023 2.44772 22.25 3 22.25C3.37014 22.25 3.69331 22.0489 3.86622 21.75H6V2.75H3.86622C3.69331 2.4511 3.37014 2.25 3 2.25C2.44772 2.25 2 2.69772 2 3.25C2 3.80228 2.44772 4.25 3 4.25Z" style="fill: var(--element-active-color)"/>
<path d="M22 12.25C22 12.8023 21.5523 13.25 21 13.25C20.6299 13.25 20.3067 13.0489 20.1338 12.75H19V20.75H20.1338C20.3067 20.4511 20.6299 20.25 21 20.25C21.5523 20.25 22 20.6977 22 21.25C22 21.8023 21.5523 22.25 21 22.25C20.6299 22.25 20.3067 22.0489 20.1338 21.75H18L18 2.75L20.1338 2.75C20.3067 2.4511 20.6299 2.25 21 2.25C21.5523 2.25 22 2.69772 22 3.25C22 3.80228 21.5523 4.25 21 4.25C20.6299 4.25 20.3067 4.0489 20.1338 3.75L19 3.75V11.75H20.1338C20.3067 11.4511 20.6299 11.25 21 11.25C21.5523 11.25 22 11.6977 22 12.25Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M11 17L10.7 15.5C10.5 15.4167 10.3125 15.3292 10.1375 15.2375C9.9625 15.1458 9.78333 15.0333 9.6 14.9L8.15 15.35L7.15 13.65L8.3 12.65C8.26667 12.4167 8.25 12.2 8.25 12C8.25 11.8 8.26667 11.5833 8.3 11.35L7.15 10.35L8.15 8.65L9.6 9.1C9.78333 8.96667 9.9625 8.85417 10.1375 8.7625C10.3125 8.67083 10.5 8.58333 10.7 8.5L11 7H13L13.3 8.5C13.5 8.58333 13.6875 8.675 13.8625 8.775C14.0375 8.875 14.2167 9 14.4 9.15L15.85 8.65L16.85 10.4L15.7 11.4C15.7333 11.6 15.75 11.8083 15.75 12.025C15.75 12.2417 15.7333 12.45 15.7 12.65L16.85 13.65L15.85 15.35L14.4 14.9C14.2167 15.0333 14.0375 15.1458 13.8625 15.2375C13.6875 15.3292 13.5 15.4167 13.3 15.5L13 17H11ZM13.4125 13.4125C13.0208 13.8042 12.55 14 12 14C11.45 14 10.9792 13.8042 10.5875 13.4125C10.1958 13.0208 10 12.55 10 12C10 11.45 10.1958 10.9792 10.5875 10.5875C10.9792 10.1958 11.45 10 12 10C12.55 10 13.0208 10.1958 13.4125 10.5875C13.8042 10.9792 14 11.45 14 12C14 12.55 13.8042 13.0208 13.4125 13.4125Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Pp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Rx([M({type:Boolean})],Pp.prototype,"useCssColor",2);Pp=Rx([ie("obi-ias")],Pp);var m$=Object.defineProperty,v$=Object.getOwnPropertyDescriptor,Dx=(r,e,t,i)=>{for(var n=i>1?void 0:i?v$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&m$(e,t,n),n};let Rp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M7.40381 1.03984C7.01328 0.649317 6.38012 0.649317 5.98959 1.03984L3.86827 3.16116C3.47775 3.55169 3.47775 4.18485 3.86827 4.57538L8.11091 8.81802C8.50119 9.20829 9.13379 9.20854 9.52438 8.81876L9.87868 8.46446L10.5858 9.17157L9.17157 10.5858C9.02306 10.7343 8.93103 10.9179 8.89547 11.1099C8.83753 11.4228 8.92956 11.758 9.17157 12L12 14.8284C12.242 15.0704 12.5772 15.1625 12.8901 15.1045C13.0821 15.069 13.2657 14.9769 13.4142 14.8284L14.8284 13.4142L15.5355 14.1213L15.182 14.4749C14.7915 14.8654 14.7915 15.4986 15.182 15.8891L19.4246 20.1317C19.8151 20.5222 20.4483 20.5222 20.8388 20.1317L22.9602 18.0104C23.3507 17.6199 23.3507 16.9867 22.9602 16.5962L18.7175 12.3535C18.327 11.963 17.6938 11.963 17.3033 12.3535L16.9497 12.7071L16.2426 12L19.0711 9.17157C19.4616 8.78104 19.4616 8.14788 19.0711 7.75736L16.2426 4.92893C15.8521 4.5384 15.219 4.5384 14.8284 4.92893L12 7.75736L11.2929 7.05025L11.6472 6.69595C12.037 6.30536 12.0367 5.67276 11.6464 5.28248L7.40381 1.03984ZM15.5355 7.05025L16.9497 8.46446L12.7071 12.7071L11.2929 11.2929L15.5355 7.05025Z" fill="currentColor"/>
<path d="M4.41384 14L2.99963 15.4142L5.12072 17.5353L2.99902 19.657L4.41324 21.0712L6.53493 18.9495L8.65648 21.0711L10.0707 19.6569L7.94915 17.5353L10.0701 15.4144L8.65588 14.0001L6.53493 16.1211L4.41384 14Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M7.40381 1.03984C7.01328 0.649317 6.38012 0.649317 5.98959 1.03984L3.86827 3.16116C3.47775 3.55169 3.47775 4.18485 3.86827 4.57538L8.11091 8.81802C8.50119 9.20829 9.13379 9.20854 9.52438 8.81876L9.87868 8.46446L10.5858 9.17157L9.17157 10.5858C9.02306 10.7343 8.93103 10.9179 8.89547 11.1099C8.83753 11.4228 8.92956 11.758 9.17157 12L12 14.8284C12.242 15.0704 12.5772 15.1625 12.8901 15.1045C13.0821 15.069 13.2657 14.9769 13.4142 14.8284L14.8284 13.4142L15.5355 14.1213L15.182 14.4749C14.7915 14.8654 14.7915 15.4986 15.182 15.8891L19.4246 20.1317C19.8151 20.5222 20.4483 20.5222 20.8388 20.1317L22.9602 18.0104C23.3507 17.6199 23.3507 16.9867 22.9602 16.5962L18.7175 12.3535C18.327 11.963 17.6938 11.963 17.3033 12.3535L16.9497 12.7071L16.2426 12L19.0711 9.17157C19.4616 8.78104 19.4616 8.14788 19.0711 7.75736L16.2426 4.92893C15.8521 4.5384 15.219 4.5384 14.8284 4.92893L12 7.75736L11.2929 7.05025L11.6472 6.69595C12.037 6.30536 12.0367 5.67276 11.6464 5.28248L7.40381 1.03984ZM15.5355 7.05025L16.9497 8.46446L12.7071 12.7071L11.2929 11.2929L15.5355 7.05025Z" style="fill: var(--element-active-color)"/>
<path d="M4.41384 14L2.99963 15.4142L5.12072 17.5353L2.99902 19.657L4.41324 21.0712L6.53493 18.9495L8.65648 21.0711L10.0707 19.6569L7.94915 17.5353L10.0701 15.4144L8.65588 14.0001L6.53493 16.1211L4.41384 14Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Rp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Dx([M({type:Boolean})],Rp.prototype,"useCssColor",2);Rp=Dx([ie("obi-sensor-gps-bad")],Rp);var y$=Object.defineProperty,b$=Object.getOwnPropertyDescriptor,Ox=(r,e,t,i)=>{for(var n=i>1?void 0:i?b$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&y$(e,t,n),n};let Dp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M4 2H2V8H22V2H20V6H18V4H16V6H13V2H11V6H8V4H6V6H4V2Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M2 10H22V12C22 13.3132 21.7413 14.6136 21.2388 15.8268C20.7362 17.0401 19.9997 18.1425 19.0711 19.0711C18.1425 19.9997 17.0401 20.7362 15.8268 21.2388C14.6136 21.7413 13.3132 22 12 22C10.6868 22 9.38642 21.7413 8.17317 21.2388C6.95991 20.7362 5.85752 19.9997 4.92893 19.0711C4.00035 18.1425 3.26375 17.0401 2.7612 15.8268C2.25866 14.6136 2 13.3132 2 12V10ZM12 16C14.2091 16 16 14.2091 16 12L20 12C20 13.0506 19.7931 14.0909 19.391 15.0615C18.989 16.0321 18.3997 16.914 17.6569 17.6569C16.914 18.3997 16.0321 18.989 15.0615 19.391C14.0909 19.7931 13.0506 20 12 20C10.9494 20 9.90914 19.7931 8.93853 19.391C7.96793 18.989 7.08601 18.3997 6.34315 17.6569C5.60028 16.914 5.011 16.0321 4.60896 15.0615C4.20693 14.0909 4 13.0506 4 12H8C8 13.1177 8.45844 14.1284 9.19755 14.8542L7.63403 17.5622L9.36608 18.5622L10.9291 15.855C11.2699 15.9495 11.6291 16 12 16ZM10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12H10Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 2H2V8H22V2H20V6H18V4H16V6H13V2H11V6H8V4H6V6H4V2Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M2 10H22V12C22 13.3132 21.7413 14.6136 21.2388 15.8268C20.7362 17.0401 19.9997 18.1425 19.0711 19.0711C18.1425 19.9997 17.0401 20.7362 15.8268 21.2388C14.6136 21.7413 13.3132 22 12 22C10.6868 22 9.38642 21.7413 8.17317 21.2388C6.95991 20.7362 5.85752 19.9997 4.92893 19.0711C4.00035 18.1425 3.26375 17.0401 2.7612 15.8268C2.25866 14.6136 2 13.3132 2 12V10ZM12 16C14.2091 16 16 14.2091 16 12L20 12C20 13.0506 19.7931 14.0909 19.391 15.0615C18.989 16.0321 18.3997 16.914 17.6569 17.6569C16.914 18.3997 16.0321 18.989 15.0615 19.391C14.0909 19.7931 13.0506 20 12 20C10.9494 20 9.90914 19.7931 8.93853 19.391C7.96793 18.989 7.08601 18.3997 6.34315 17.6569C5.60028 16.914 5.011 16.0321 4.60896 15.0615C4.20693 14.0909 4 13.0506 4 12H8C8 13.1177 8.45844 14.1284 9.19755 14.8542L7.63403 17.5622L9.36608 18.5622L10.9291 15.855C11.2699 15.9495 11.6291 16 12 16ZM10 12C10 13.1046 10.8954 14 12 14C13.1046 14 14 13.1046 14 12H10Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Dp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Ox([M({type:Boolean})],Dp.prototype,"useCssColor",2);Dp=Ox([ie("obi-conning-iec")],Dp);var _$=Object.defineProperty,w$=Object.getOwnPropertyDescriptor,$x=(r,e,t,i)=>{for(var n=i>1?void 0:i?w$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&_$(e,t,n),n};let Op=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.4853 7.75736C20.8758 7.36684 20.8758 6.73367 20.4853 6.34315L17.6569 3.51472C17.2663 3.12419 16.6332 3.12419 16.2426 3.51472L10.5858 9.17157L9.52513 8.11091C9.32986 7.91565 9.01328 7.91565 8.81802 8.11091L8.11091 8.81802C7.91565 9.01328 7.91565 9.32986 8.11091 9.52513L9.17157 10.5858L3.51472 16.2426C3.12419 16.6332 3.12419 17.2663 3.51472 17.6569L6.34315 20.4853C6.73367 20.8758 7.36684 20.8758 7.75736 20.4853L13.4142 14.8284L14.4749 15.8891C14.6701 16.0843 14.9867 16.0843 15.182 15.8891L15.8891 15.182C16.0843 14.9867 16.0843 14.6701 15.8891 14.4749L14.8284 13.4142L20.4853 7.75736ZM16.9497 5.63604L18.364 7.05025L16.2426 9.17157L14.8284 7.75736L16.9497 5.63604ZM12 13.4142L10.5858 12L5.63604 16.9497L7.05025 18.364L12 13.4142Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.0303 3.56267C11.7361 3.40464 10.4229 3.54644 9.19231 3.97711C7.96169 4.40777 6.84665 5.11576 5.93342 6.0463C5.0202 6.97684 4.33327 8.10498 3.92579 9.34347C3.51831 10.5819 3.4012 11.8976 3.58351 13.1886C3.64143 13.5987 3.35589 13.9781 2.94575 14.0361C2.53561 14.094 2.15617 13.8084 2.09825 13.3983C1.88376 11.8795 2.02155 10.3317 2.50093 8.87467C2.98032 7.41763 3.78847 6.09039 4.86285 4.99564C5.93723 3.90089 7.24905 3.06797 8.69683 2.5613C10.1446 2.05464 11.6895 1.88781 13.2121 2.07373C13.6233 2.12394 13.9159 2.49795 13.8657 2.90911C13.8155 3.32027 13.4415 3.61288 13.0303 3.56267Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.9697 20.4373C12.2639 20.5954 13.5771 20.4536 14.8077 20.0229C16.0383 19.5922 17.1534 18.8842 18.0666 17.9537C18.9798 17.0232 19.6667 15.895 20.0742 14.6565C20.4817 13.418 20.5988 12.1024 20.4165 10.8114C20.3586 10.4013 20.6441 10.0219 21.0543 9.96394C21.4644 9.90602 21.8438 10.1916 21.9018 10.6017C22.1162 12.1205 21.9785 13.6683 21.4991 15.1253C21.0197 16.5824 20.2115 17.9096 19.1372 19.0044C18.0628 20.0991 16.7509 20.932 15.3032 21.4387C13.8554 21.9454 12.3105 22.1122 10.7879 21.9263C10.3767 21.8761 10.0841 21.502 10.1343 21.0909C10.1845 20.6797 10.5585 20.3871 10.9697 20.4373Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.4853 7.75736C20.8758 7.36684 20.8758 6.73367 20.4853 6.34315L17.6569 3.51472C17.2663 3.12419 16.6332 3.12419 16.2426 3.51472L10.5858 9.17157L9.52513 8.11091C9.32986 7.91565 9.01328 7.91565 8.81802 8.11091L8.11091 8.81802C7.91565 9.01328 7.91565 9.32986 8.11091 9.52513L9.17157 10.5858L3.51472 16.2426C3.12419 16.6332 3.12419 17.2663 3.51472 17.6569L6.34315 20.4853C6.73367 20.8758 7.36684 20.8758 7.75736 20.4853L13.4142 14.8284L14.4749 15.8891C14.6701 16.0843 14.9867 16.0843 15.182 15.8891L15.8891 15.182C16.0843 14.9867 16.0843 14.6701 15.8891 14.4749L14.8284 13.4142L20.4853 7.75736ZM16.9497 5.63604L18.364 7.05025L16.2426 9.17157L14.8284 7.75736L16.9497 5.63604ZM12 13.4142L10.5858 12L5.63604 16.9497L7.05025 18.364L12 13.4142Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.0303 3.56267C11.7361 3.40464 10.4229 3.54644 9.19231 3.97711C7.96169 4.40777 6.84665 5.11576 5.93342 6.0463C5.0202 6.97684 4.33327 8.10498 3.92579 9.34347C3.51831 10.5819 3.4012 11.8976 3.58351 13.1886C3.64143 13.5987 3.35589 13.9781 2.94575 14.0361C2.53561 14.094 2.15617 13.8084 2.09825 13.3983C1.88376 11.8795 2.02155 10.3317 2.50093 8.87467C2.98032 7.41763 3.78847 6.09039 4.86285 4.99564C5.93723 3.90089 7.24905 3.06797 8.69683 2.5613C10.1446 2.05464 11.6895 1.88781 13.2121 2.07373C13.6233 2.12394 13.9159 2.49795 13.8657 2.90911C13.8155 3.32027 13.4415 3.61288 13.0303 3.56267Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.9697 20.4373C12.2639 20.5954 13.5771 20.4536 14.8077 20.0229C16.0383 19.5922 17.1534 18.8842 18.0666 17.9537C18.9798 17.0232 19.6667 15.895 20.0742 14.6565C20.4817 13.418 20.5988 12.1024 20.4165 10.8114C20.3586 10.4013 20.6441 10.0219 21.0543 9.96394C21.4644 9.90602 21.8438 10.1916 21.9018 10.6017C22.1162 12.1205 21.9785 13.6683 21.4991 15.1253C21.0197 16.5824 20.2115 17.9096 19.1372 19.0044C18.0628 20.0991 16.7509 20.932 15.3032 21.4387C13.8554 21.9454 12.3105 22.1122 10.7879 21.9263C10.3767 21.8761 10.0841 21.502 10.1343 21.0909C10.1845 20.6797 10.5585 20.3871 10.9697 20.4373Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Op.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;$x([M({type:Boolean})],Op.prototype,"useCssColor",2);Op=$x([ie("obi-propulsion-azimuth-thruster")],Op);var C$=Object.defineProperty,x$=Object.getOwnPropertyDescriptor,Vx=(r,e,t,i)=>{for(var n=i>1?void 0:i?x$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&C$(e,t,n),n};let $p=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M11 18H13V16H11V18Z" fill="currentColor"/>
<path d="M12 6C9.79 6 8 7.79 8 10H10C10 8.9 10.9 8 12 8C13.1 8 14 8.9 14 10C14 12 11 11.75 11 15H13C13 12.75 16 12.5 16 10C16 7.79 14.21 6 12 6Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11 18H13V16H11V18Z" style="fill: var(--element-active-color)"/>
<path d="M12 6C9.79 6 8 7.79 8 10H10C10 8.9 10.9 8 12 8C13.1 8 14 8.9 14 10C14 12 11 11.75 11 15H13C13 12.75 16 12.5 16 10C16 7.79 14.21 6 12 6Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};$p.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Vx([M({type:Boolean})],$p.prototype,"useCssColor",2);$p=Vx([ie("obi-support-google")],$p);var E$=Object.defineProperty,T$=Object.getOwnPropertyDescriptor,Fx=(r,e,t,i)=>{for(var n=i>1?void 0:i?T$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&E$(e,t,n),n};let Vp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M8.5 2L2.10608 4.74025C1.7384 4.89783 1.5 5.25937 1.5 5.6594V20.4835C1.5 21.2014 2.23405 21.6854 2.89392 21.4026L6.9574 19.6611C6.73924 19.2141 6.55514 18.7474 6.40848 18.2644L3 19.7252V5.98909L7.75 3.95338V10.0044C8.18363 9.39396 8.68757 8.837 9.25 8.34528V3.77431L14.75 5.34574V6.02917C14.9975 6.00984 15.2476 6 15.5 6C15.7524 6 16.0025 6.00984 16.25 6.02917V5.34574L21 3.98859V7.7531C21.5456 8.14113 22.0484 8.58534 22.5 9.0773V3.32573C22.5 2.66135 21.8641 2.18169 21.2253 2.36421L15.5 4L8.5 2Z" fill="currentColor"/>
<path d="M15.4882 10.5C14.8356 10.5015 14.1895 10.6308 13.5865 10.8806C13.0858 11.088 12.6228 11.3751 12.2154 11.7301C12.129 11.8054 12.0453 11.8836 11.9644 11.9645L13.025 13.0251C13.35 12.7001 13.7359 12.4423 14.1605 12.2664C14.5851 12.0905 15.0403 12 15.4999 12C15.9595 12 16.4146 12.0905 16.8393 12.2664C17.0305 12.3456 17.2138 12.4414 17.3872 12.5525L15.8887 14.051C15.3882 13.9172 14.832 14.0467 14.4393 14.4393C13.8536 15.0251 13.8536 15.9749 14.4393 16.5606C15.0251 17.1464 15.9749 17.1464 16.5607 16.5606C16.9532 16.1681 17.0827 15.6122 16.9492 15.1118L19.5262 12.5348C19.3795 12.3359 19.2184 12.1482 19.0444 11.9734C19.0385 11.9674 19.0326 11.9615 19.0266 11.9556C18.8519 11.7817 18.6644 11.6207 18.4656 11.4741C18.141 11.2349 17.7876 11.0356 17.4133 10.8806C16.8067 10.6293 16.1566 10.5 15.5 10.5" fill="currentColor"/>
<path d="M15.4882 10.5C15.4921 10.5 15.4961 10.5 15.5 10.5L15.4882 10.5Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 23.5C19.9183 23.5 23.5 19.9183 23.5 15.5C23.5 11.0817 19.9183 7.5 15.5 7.5C11.0817 7.5 7.5 11.0817 7.5 15.5C7.5 19.9183 11.0817 23.5 15.5 23.5ZM22 15.5C22 19.0899 19.0899 22 15.5 22C11.9101 22 9 19.0899 9 15.5C9 11.9101 11.9101 9 15.5 9C19.0899 9 22 11.9101 22 15.5Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.5 2L2.10608 4.74025C1.7384 4.89783 1.5 5.25937 1.5 5.6594V20.4835C1.5 21.2014 2.23405 21.6854 2.89392 21.4026L6.9574 19.6611C6.73924 19.2141 6.55514 18.7474 6.40848 18.2644L3 19.7252V5.98909L7.75 3.95338V10.0044C8.18363 9.39396 8.68757 8.837 9.25 8.34528V3.77431L14.75 5.34574V6.02917C14.9975 6.00984 15.2476 6 15.5 6C15.7524 6 16.0025 6.00984 16.25 6.02917V5.34574L21 3.98859V7.7531C21.5456 8.14113 22.0484 8.58534 22.5 9.0773V3.32573C22.5 2.66135 21.8641 2.18169 21.2253 2.36421L15.5 4L8.5 2Z" style="fill: var(--element-active-color)"/>
<path d="M15.4882 10.5C14.8356 10.5015 14.1895 10.6308 13.5865 10.8806C13.0858 11.088 12.6228 11.3751 12.2154 11.7301C12.129 11.8054 12.0453 11.8836 11.9644 11.9645L13.025 13.0251C13.35 12.7001 13.7359 12.4423 14.1605 12.2664C14.5851 12.0905 15.0403 12 15.4999 12C15.9595 12 16.4146 12.0905 16.8393 12.2664C17.0305 12.3456 17.2138 12.4414 17.3872 12.5525L15.8887 14.051C15.3882 13.9172 14.832 14.0467 14.4393 14.4393C13.8536 15.0251 13.8536 15.9749 14.4393 16.5606C15.0251 17.1464 15.9749 17.1464 16.5607 16.5606C16.9532 16.1681 17.0827 15.6122 16.9492 15.1118L19.5262 12.5348C19.3795 12.3359 19.2184 12.1482 19.0444 11.9734C19.0385 11.9674 19.0326 11.9615 19.0266 11.9556C18.8519 11.7817 18.6644 11.6207 18.4656 11.4741C18.141 11.2349 17.7876 11.0356 17.4133 10.8806C16.8067 10.6293 16.1566 10.5 15.5 10.5" style="fill: var(--element-active-color)"/>
<path d="M15.4882 10.5C15.4921 10.5 15.4961 10.5 15.5 10.5L15.4882 10.5Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 23.5C19.9183 23.5 23.5 19.9183 23.5 15.5C23.5 11.0817 19.9183 7.5 15.5 7.5C11.0817 7.5 7.5 11.0817 7.5 15.5C7.5 19.9183 11.0817 23.5 15.5 23.5ZM22 15.5C22 19.0899 19.0899 22 15.5 22C11.9101 22 9 19.0899 9 15.5C9 11.9101 11.9101 9 15.5 9C19.0899 9 22 11.9101 22 15.5Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Vp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Fx([M({type:Boolean})],Vp.prototype,"useCssColor",2);Vp=Fx([ie("obi-radar-overlay-proposal")],Vp);const L$=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
.card {
  border-radius: 8px;
  background: var(--container-global-color, #fcfcfc);
  /* Shadow/Floating */
  box-shadow: var(--shadow-floating);
  display: flex;
  flex-direction: column;
  padding: 16px 24px;
  box-sizing: border-box;
  width: 360px;
  gap: 8px;
}
h3 {
  /* UI/Overline */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-overline-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-overline-font-weight);
  line-height: var(--global-typography-ui-overline-line-height);
  letter-spacing: var(--global-typography-ui-overline-letter-spacing);
  text-transform: capitalize;
  color: var(--element-neutral-color, rgba(0, 0, 0, 0.59));
  margin-bottom: 16px;
}
.divider {
  height: 1px;
  align-self: stretch;
  margin-top: 16px;
  margin-bottom: 16px;

  border-radius: 2px;
  background: var(--border-outline-color, rgba(0, 0, 0, 0.08));
}`;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Bx="important",S$=" !"+Bx,X8=Jy(class extends e4{constructor(r){var e;if(super(r),r.type!==Ao.ATTRIBUTE||r.name!=="style"||((e=r.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(r){return Object.keys(r).reduce((e,t)=>{const i=r[t];return i==null?e:e+`${t=t.includes("-")?t:t.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(r,[e]){const{style:t}=r.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?t.removeProperty(i):t[i]=null);for(const i in e){const n=e[i];if(n!=null){this.ft.add(i);const s=typeof n=="string"&&n.endsWith(S$);i.includes("-")||s?t.setProperty(i,s?n.slice(0,-11):n,s?Bx:""):t[i]=n}}return gn}}),A$=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

:host {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 48px;

  color: var(--element-neutral-color, #1a1a1a);
}

:host([hugcontainer]) {
  margin-left: -12px;
  margin-right: -12px;
}

.wrapper {
  flex: 1;
  height: 48px;
  position: relative;
}

.slider {
  position: absolute;
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 48px;
  margin: 0;
  padding: 0;
  background: none;
}

.slider::-webkit-slider-container {
  position: absolute;
  margin: auto 0;
  inset: 0;
  width: 100%;
  height: 4px;
  border-radius: 6px;
  background: none;
}

.track {
  position: absolute;
  -webkit-appearance: none;
  appearance: none;
  margin: auto 0;
  padding: 0;
  inset: 0;
  width: 100%;
  height: 4px;
  border-radius: 6px;
  background: var(--border-outline-color);
}

.interactive-track {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  height: 4px;
  border-radius: 6px;
  width: calc(var(--ratio) * 100% + (1 - 2 * var(--ratio)) * 12px);
  margin-top: auto;
  margin-bottom: auto;
  border: 1px solid var(--indent-enabled-border-color);
  background: var(--selected-enabled-background-color);
}

.no-input .interactive-track {
  width: calc(var(--ratio) * 100% + (1 - 2 * var(--ratio)) * 4px);
}

/* used in non-interactive mode */

.passive-thumb {
  position: absolute;
  width: 16px;
  height: 16px;
  top: 16px;
  left: calc(var(--ratio) * 100% - 8px + (1 - 2 * var(--ratio)) * 4px);
  border-radius: 100%;
  border-width: 4px;
  border-style: solid;
  border-color: var(--container-background-color);
  background: var(--selected-enabled-background-color);
}

.wrapper:hover .interactive-track {
  background: var(--selected-hover-background-color);
}

.wrapper:active .interactive-track {
  background: var(--selected-pressed-background-color);
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
  padding: 0;
  width: 24px;
  height: 24px;
  border-radius: 100%;
  background: var(--selected-enabled-background-color);
  cursor: pointer;
}

.slider {
  cursor: pointer;
}

.slider:focus {
    outline: none;
  }

.slider::-webkit-slider-thumb {
    border-color: var(--selected-enabled-border-color);
    background-color: var(--selected-enabled-background-color);
    border-width: 1px;
    border-style: solid;
    cursor: pointer;
  }

.slider:focus-visible::-webkit-slider-thumb{
    outline-color: hsla(211, 100%, 44%, 0.3);
    outline-width: 4px;
    outline-style: solid;
  }

.slider:hover::-webkit-slider-thumb,.slider:hover + .interactive-track{
    border-color: var(--selected-hover-border-color);
    background-color: var(--selected-hover-background-color);
  }

.slider:active::-webkit-slider-thumb {
    border-color: var(--selected-pressed-border-color);
    background-color: var(--selected-pressed-background-color);
  }

.slider:disabled::-webkit-slider-thumb {
    border-color: var(--selected-disabled-border-color);
    background-color: var(--selected-disabled-background-color);
    cursor: not-allowed;
    color: var(--on-selected-disabled-color);
  }`;var k$=Object.defineProperty,I$=Object.getOwnPropertyDescriptor,ho=(r,e,t,i)=>{for(var n=i>1?void 0:i?I$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&k$(e,t,n),n};let On=class extends ee{constructor(){super(...arguments),this.value=50,this.min=0,this.max=100,this.stepClick=10,this.variant="no-value",this.hasLeftIcon=!1,this.hasRightIcon=!1}onInput(r){this.value=r,this.dispatchEvent(new CustomEvent("value",{detail:this.value}))}onReduceClick(){this.onInput(Math.max(this.value-this.stepClick,this.min))}onIncreaseClick(){this.onInput(Math.min(this.value+this.stepClick,this.max))}render(){const r=(this.value-this.min)/(this.max-this.min);return F`
      ${this.hasLeftIcon?F` <obc-icon-button @click=${this.onReduceClick} variant="flat">
            <slot name="icon-left"></slot>
          </obc-icon-button>`:null}
      <div class=${ti({wrapper:!0,[this.variant]:!0})}>
        <div class="track"></div>
        <div
          class="interactive-track"
          style=${X8({"--ratio":r})}
        ></div>
        ${this.variant==="no-input"?F`<div
              class="passive-thumb"
              style=${X8({"--ratio":r})}
            ></div>`:F`
              <input
                type="range"
                min=${this.min}
                max=${this.max}
                step=${ll(this.step)}
                .value=${this.value.toString()}
                class="slider"
                @input=${e=>{this.value=Number(e.target.value),this.dispatchEvent(new CustomEvent("value",{detail:this.value}))}}
              />
            `}
      </div>
      ${this.hasRightIcon?F`<obc-icon-button @click=${this.onIncreaseClick} variant="flat">
            <slot name="icon-right"></slot>
          </obc-icon-button>`:null}
    `}};On.styles=ot(A$);ho([M({type:Number})],On.prototype,"value",2);ho([M({type:Number})],On.prototype,"min",2);ho([M({type:Number})],On.prototype,"max",2);ho([M({type:Number})],On.prototype,"step",2);ho([M({type:Number})],On.prototype,"stepClick",2);ho([M({type:String})],On.prototype,"variant",2);ho([M({type:Boolean})],On.prototype,"hasLeftIcon",2);ho([M({type:Boolean})],On.prototype,"hasRightIcon",2);On=ho([ie("obc-slider")],On);const M$=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

label {
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  height: 48px;

  color: var(--element-active-color, #1a1a1a);

  /* UI/Body */

  font-feature-settings: 'liga' off, 'clig' off;

  font-family: var(--font-family-main);

  font-size: var(--global-typography-ui-body-font-size);

  font-style: normal;

  font-weight: var(--global-typography-ui-body-font-weight);

  line-height: var(--global-typography-ui-body-line-height);

  text-decoration: none;
}

input {
  position: absolute;
  width: 48px;
  height: 48px;
  top: 0; /* (48px-24px)/2= (height of the input - height of the presenter) / 2 */
  bottom: 0;
  right: -1px;
  left: -1px;
  opacity: 1;
  margin: auto;
  opacity: 0;
  cursor: pointer;
}

.presenter {
  box-sizing: border-box;
  width: 48px;
  height: 24px;

  background: var(--indent-enabled-background-color, rgba(0, 0, 0, 0.05));
  border: solid 1px var(--element-inactive-color, rgba(0, 0, 0, 0.42));
  border-radius: 12px;

  display: flex;
  position: relative;
  align-items: center;

  padding: 6px;
}

.presenter:hover {
    background: var(--indent-hover-background-color, rgba(0, 0, 0, 0.1));
  }

.presenter:active {
    background: var(--indent-pressed-background-color, rgba(0, 0, 0, 0.16));
  }

.presenter:has(:focus-visible) {
    border-width: 0;
    outline-color: var(--indent-focused-border-color, rgba(0, 110, 225, 0.3));
    outline-width: 4px;
    outline-style: solid;
  }

.presenter.checked {
    justify-content: flex-end;
  }

.presenter.checked {
            border-color: var(--selected-enabled-border-color);
            background-color: var(--selected-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.presenter.checked:focus {
            outline: none;
}

.presenter.checked.activated {
            border-color: var(--selected-activated-border-color);
            background-color: var(--selected-activated-background-color);
}

@media (hover:hover) {

.presenter.checked:hover {
                        border-color: var(--selected-hover-border-color);
                        background-color: var(--selected-hover-background-color);
            }
}

.presenter.checked:active {
            border-color: var(--selected-pressed-border-color);
            background-color: var(--selected-pressed-background-color);
}

.presenter.checked:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.presenter.checked:disabled {
            border-color: var(--selected-disabled-border-color);
            background-color: var(--selected-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-selected-disabled-color);
}

.knob {
  width: 12px;
  height: 12px;
  border-radius: 50%;

  background: var(--element-neutral-color, rgba(0, 0, 0, 0.59));
}

.checked .knob {
    background: var(--on-selected-active-color, #fff);
  }
`;var P$=Object.defineProperty,R$=Object.getOwnPropertyDescriptor,t4=(r,e,t,i)=>{for(var n=i>1?void 0:i?R$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&P$(e,t,n),n};let sd=class extends ee{constructor(){super(...arguments),this.label="Label",this.checked=!1}render(){return F`
      <label>
        <span>${this.label}</span>
        <div class="switch">
          <div class="presenter ${ti({checked:this.checked})}">
            <div class="knob"></div>
            <input
              type="checkbox"
              ?checked=${this.checked}
              @input=${this._tryChange}
            />
          </div>
        </div>
      </label>
    `}_tryChange(r){this.checked=r.target.checked}};sd.styles=ot(M$);t4([M({type:String})],sd.prototype,"label",2);t4([M({type:Boolean})],sd.prototype,"checked",2);sd=t4([ie("obc-toggle-switch")],sd);const D$=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

.outer-wrapper {
  box-sizing: border-box;
  display: block;
  padding: 8px 0;
  height: 48px;
}

.outer-wrapper.has-labels {
    padding-top: 4px;
    height: 64px;
  }

.wrapper {
  box-sizing: border-box;
  display: flex;
  position: relative;
  height: 32px;
  border-radius: 6px;
  border: 1px solid var(--indent-enabled-border-color, rgba(0, 0, 0, 0.05));
  background: var(--indent-enabled-background-color, rgba(0, 0, 0, 0.05));
  gap: 1px;
}

::slotted(*:not(:first-child))::before {
  box-sizing: border-box;
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  margin: auto 0;
  margin-left: -2px;
  display: block;
  height: 16px;
  width: 1px;
  border-radius: 1px;
  background: var(--border-divider-color, rgba(0, 0, 0, 0.08));
}

::slotted(*:last-child) {
  margin-right: -2px;
}`;var O$=Object.defineProperty,$$=Object.getOwnPropertyDescriptor,im=(r,e,t,i)=>{for(var n=i>1?void 0:i?$$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&O$(e,t,n),n};let Pc=class extends ee{constructor(){super(...arguments),this.hasLabels=!1,this.value=""}firstUpdated(r){super.firstUpdated(r),this.options.forEach(e=>{e.addEventListener("selected",t=>this.handleOptionClick(t)),e.selected=e.value===this.value})}handleOptionClick(r){const e=r.detail.value;this.dispatchEvent(new CustomEvent("value",{detail:{value:e}})),this.options.forEach(t=>{t.selected=t.value===e})}requestUpdate(r,e){return r&&r=="value"&&this.value!==e&&this.options.forEach(t=>{t.selected=t.value===this.value}),super.requestUpdate(r,e)}render(){return F`
      <div class="outer-wrapper ${this.hasLabels?"has-labels":""}">
        <div class="wrapper ">
          <slot></slot>
        </div>
      </div>
    `}};Pc.styles=ot(D$);im([M({type:Boolean})],Pc.prototype,"hasLabels",2);im([M({type:String})],Pc.prototype,"value",2);im([af({selector:"obc-toggle-button-option"})],Pc.prototype,"options",2);Pc=im([ie("obc-toggle-button-group")],Pc);const V$=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

:host {
  flex: 1;
}

.wrapper {
  height: 32px;
  width: 100%;
  padding: 0;
  display: flex;
  position: relative;
  margin: -1px;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
}

.wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.wrapper:focus {
            outline: none;
}

.wrapper.activated {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

@media (hover:hover) {

.wrapper:hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.wrapper:active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.wrapper:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper:disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.icon {
  width: 24px;
  height: 24px;
  color: var(--on-flat-neutral-color, hsla(0, 0%, 0%, 0.55));
}

.label {
  position: absolute;
  top: 36px;
  left: 0;
  right: 0;

  color: var(--element-active-color, #1a1a1a);
  text-align: center;
    
  font-feature-settings: 'liga' off, 'clig' off;
    
  font-family: var(--font-family-main);
    
  font-size: var(--global-typography-ui-label-font-size);
    
  font-style: normal;
    
  font-weight: var(--global-typography-ui-label-font-weight);
    
  line-height: var(--global-typography-ui-label-line-height);
}

.wrapper.selected {
            border-color: var(--selected-enabled-border-color);
            background-color: var(--selected-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.wrapper.selected:focus {
            outline: none;
}

.wrapper.selected.activated {
            border-color: var(--selected-activated-border-color);
            background-color: var(--selected-activated-background-color);
}

@media (hover:hover) {

.wrapper.selected:hover {
                        border-color: var(--selected-hover-border-color);
                        background-color: var(--selected-hover-background-color);
            }
}

.wrapper.selected:active {
            border-color: var(--selected-pressed-border-color);
            background-color: var(--selected-pressed-background-color);
}

.wrapper.selected:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper.selected:disabled {
            border-color: var(--selected-disabled-border-color);
            background-color: var(--selected-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-selected-disabled-color);
}

.wrapper.selected .icon {
    color: var(--on-selected-active-color, #FFFFFF);
  }

.wrapper.selected .label {
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-label-active-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-label-active-font-weight);
    line-height: var(--global-typography-ui-label-active-line-height);
  }
`;var F$=Object.defineProperty,B$=Object.getOwnPropertyDescriptor,i4=(r,e,t,i)=>{for(var n=i>1?void 0:i?B$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&F$(e,t,n),n};let od=class extends ee{constructor(){super(...arguments),this.value="value",this.selected=!1}onClick(){this.dispatchEvent(new CustomEvent("selected",{detail:{value:this.value}}))}render(){return F`
      <button
        class=${ti({wrapper:!0,selected:this.selected})}
        @click=${this.onClick}
      >
        <div class="icon">
          <slot name="icon"> </slot>
        </div>
        <div class="label"><slot></slot></div>
      </button>
    `}};od.styles=ot(V$);i4([M({type:String})],od.prototype,"value",2);i4([M({type:Boolean})],od.prototype,"selected",2);od=i4([ie("obc-toggle-button-option")],od);var N$=Object.defineProperty,H$=Object.getOwnPropertyDescriptor,Nx=(r,e,t,i)=>{for(var n=i>1?void 0:i?H$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&N$(e,t,n),n};let Fp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M16.9498 15.5355L15.5355 16.9497L16.9498 18.364L18.364 16.9497L16.9498 15.5355Z" fill="currentColor"/>
<path d="M13 18V20H11V18H13Z" fill="currentColor"/>
<path d="M8.46447 16.9498L7.05025 15.5355L5.63604 16.9498L7.05025 18.364L8.46447 16.9498Z" fill="currentColor"/>
<path d="M4 13V11H6L6 13H4Z" fill="currentColor"/>
<path d="M7.05025 5.63604L5.63604 7.05025L7.05025 8.46446L8.46447 7.05025L7.05025 5.63604Z" fill="currentColor"/>
<path d="M11 4H13V6H11V4Z" fill="currentColor"/>
<path d="M18.364 7.05025L16.9497 5.63604L15.5355 7.05025L16.9497 8.46447L18.364 7.05025Z" fill="currentColor"/>
<path d="M18 11H20V13H18V11Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.9498 15.5355L15.5355 16.9497L16.9498 18.364L18.364 16.9497L16.9498 15.5355Z" style="fill: var(--element-active-color)"/>
<path d="M13 18V20H11V18H13Z" style="fill: var(--element-active-color)"/>
<path d="M8.46447 16.9498L7.05025 15.5355L5.63604 16.9498L7.05025 18.364L8.46447 16.9498Z" style="fill: var(--element-active-color)"/>
<path d="M4 13V11H6L6 13H4Z" style="fill: var(--element-active-color)"/>
<path d="M7.05025 5.63604L5.63604 7.05025L7.05025 8.46446L8.46447 7.05025L7.05025 5.63604Z" style="fill: var(--element-active-color)"/>
<path d="M11 4H13V6H11V4Z" style="fill: var(--element-active-color)"/>
<path d="M18.364 7.05025L16.9497 5.63604L15.5355 7.05025L16.9497 8.46447L18.364 7.05025Z" style="fill: var(--element-active-color)"/>
<path d="M18 11H20V13H18V11Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Fp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Nx([M({type:Boolean})],Fp.prototype,"useCssColor",2);Fp=Nx([ie("obi-display-brilliance-low")],Fp);var U$=Object.defineProperty,z$=Object.getOwnPropertyDescriptor,Hx=(r,e,t,i)=>{for(var n=i>1?void 0:i?z$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&U$(e,t,n),n};let Bp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.8331 9.17621C14.83 9.17312 14.8269 9.17002 14.8238 9.16694C14.1003 8.4458 13.1022 8 12 8C10.8978 8 9.89964 8.44583 9.17615 9.167C9.1731 9.17005 9.17005 9.1731 9.167 9.17615C8.44583 9.89964 8 10.8978 8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 10.8978 15.5542 9.8997 14.8331 9.17621ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14ZM18.364 4.22182L19.7782 5.63604L16.9497 8.46447L16.237 7.75175L15.5355 7.05025L18.364 4.22182ZM4.22183 5.63604L5.63605 4.22183L8.46447 7.05025L7.76316 7.75157L7.75175 7.76298L7.05026 8.46447L4.22183 5.63604ZM7.05025 15.5355L8.46446 16.9498L5.63603 19.7782L4.22182 18.364L7.05025 15.5355ZM16.9498 15.5355L19.7782 18.364L18.364 19.7782L15.5355 16.9497L16.9498 15.5355ZM11 2H13V6H11V2ZM2 13V11H6V13H2ZM13 22H11V18H13V22ZM22 11V13H18V11H22Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.8331 9.17621C14.83 9.17312 14.8269 9.17002 14.8238 9.16694C14.1003 8.4458 13.1022 8 12 8C10.8978 8 9.89964 8.44583 9.17615 9.167C9.1731 9.17005 9.17005 9.1731 9.167 9.17615C8.44583 9.89964 8 10.8978 8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 10.8978 15.5542 9.8997 14.8331 9.17621ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14ZM18.364 4.22182L19.7782 5.63604L16.9497 8.46447L16.237 7.75175L15.5355 7.05025L18.364 4.22182ZM4.22183 5.63604L5.63605 4.22183L8.46447 7.05025L7.76316 7.75157L7.75175 7.76298L7.05026 8.46447L4.22183 5.63604ZM7.05025 15.5355L8.46446 16.9498L5.63603 19.7782L4.22182 18.364L7.05025 15.5355ZM16.9498 15.5355L19.7782 18.364L18.364 19.7782L15.5355 16.9497L16.9498 15.5355ZM11 2H13V6H11V2ZM2 13V11H6V13H2ZM13 22H11V18H13V22ZM22 11V13H18V11H22Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Bp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Hx([M({type:Boolean})],Bp.prototype,"useCssColor",2);Bp=Hx([ie("obi-display-brilliance-proposal")],Bp);var j$=Object.defineProperty,G$=Object.getOwnPropertyDescriptor,Ux=(r,e,t,i)=>{for(var n=i>1?void 0:i?G$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&j$(e,t,n),n};let Np=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M12 21C9.5 21 7.375 20.125 5.625 18.375C3.875 16.625 3 14.5 3 12C3 9.5 3.875 7.375 5.625 5.625C7.375 3.875 9.5 3 12 3C12.2333 3 12.4625 3.00833 12.6875 3.025C12.9125 3.04167 13.1333 3.06667 13.35 3.1C12.6667 3.58333 12.1208 4.2125 11.7125 4.9875C11.3042 5.7625 11.1 6.6 11.1 7.5C11.1 9 11.625 10.275 12.675 11.325C13.725 12.375 15 12.9 16.5 12.9C17.4167 12.9 18.2583 12.6958 19.025 12.2875C19.7917 11.8792 20.4167 11.3333 20.9 10.65C20.9333 10.8667 20.9583 11.0875 20.975 11.3125C20.9917 11.5375 21 11.7667 21 12C21 14.5 20.125 16.625 18.375 18.375C16.625 20.125 14.5 21 12 21ZM12 19C13.4667 19 14.7833 18.5958 15.95 17.7875C17.1167 16.9792 17.9667 15.925 18.5 14.625C18.1667 14.7083 17.8333 14.775 17.5 14.825C17.1667 14.875 16.8333 14.9 16.5 14.9C14.45 14.9 12.7042 14.1792 11.2625 12.7375C9.82083 11.2958 9.1 9.55 9.1 7.5C9.1 7.16667 9.125 6.83333 9.175 6.5C9.225 6.16667 9.29167 5.83333 9.375 5.5C8.075 6.03333 7.02083 6.88333 6.2125 8.05C5.40417 9.21667 5 10.5333 5 12C5 13.9333 5.68333 15.5833 7.05 16.95C8.41667 18.3167 10.0667 19 12 19Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 21C9.5 21 7.375 20.125 5.625 18.375C3.875 16.625 3 14.5 3 12C3 9.5 3.875 7.375 5.625 5.625C7.375 3.875 9.5 3 12 3C12.2333 3 12.4625 3.00833 12.6875 3.025C12.9125 3.04167 13.1333 3.06667 13.35 3.1C12.6667 3.58333 12.1208 4.2125 11.7125 4.9875C11.3042 5.7625 11.1 6.6 11.1 7.5C11.1 9 11.625 10.275 12.675 11.325C13.725 12.375 15 12.9 16.5 12.9C17.4167 12.9 18.2583 12.6958 19.025 12.2875C19.7917 11.8792 20.4167 11.3333 20.9 10.65C20.9333 10.8667 20.9583 11.0875 20.975 11.3125C20.9917 11.5375 21 11.7667 21 12C21 14.5 20.125 16.625 18.375 18.375C16.625 20.125 14.5 21 12 21ZM12 19C13.4667 19 14.7833 18.5958 15.95 17.7875C17.1167 16.9792 17.9667 15.925 18.5 14.625C18.1667 14.7083 17.8333 14.775 17.5 14.825C17.1667 14.875 16.8333 14.9 16.5 14.9C14.45 14.9 12.7042 14.1792 11.2625 12.7375C9.82083 11.2958 9.1 9.55 9.1 7.5C9.1 7.16667 9.125 6.83333 9.175 6.5C9.225 6.16667 9.29167 5.83333 9.375 5.5C8.075 6.03333 7.02083 6.88333 6.2125 8.05C5.40417 9.21667 5 10.5333 5 12C5 13.9333 5.68333 15.5833 7.05 16.95C8.41667 18.3167 10.0667 19 12 19Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Np.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Ux([M({type:Boolean})],Np.prototype,"useCssColor",2);Np=Ux([ie("obi-palette-night")],Np);var Z$=Object.defineProperty,W$=Object.getOwnPropertyDescriptor,zx=(r,e,t,i)=>{for(var n=i>1?void 0:i?W$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&Z$(e,t,n),n};let Hp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5529 3.75275C11.7695 3.24908 12.4805 3.24908 12.6971 3.75276L13.8662 6.47216C14.0151 6.81843 14.4328 6.95476 14.7559 6.76251L17.2931 5.2527C17.763 4.97306 18.3383 5.39286 18.2187 5.92818L17.5732 8.81846C17.491 9.18649 17.7491 9.5434 18.123 9.57861L21.0592 9.85509C21.603 9.9063 21.8228 10.5855 21.4128 10.948L19.1991 12.9052C19.1278 12.9683 19.0745 13.0436 19.0393 13.125H21C21.4142 13.125 21.75 13.4608 21.75 13.875C21.75 14.2892 21.4142 14.625 21 14.625H3C2.58579 14.625 2.25 14.2892 2.25 13.875C2.25 13.4608 2.58579 13.125 3 13.125H5.21069C5.17546 13.0436 5.12219 12.9683 5.05087 12.9052L2.83724 10.948C2.42724 10.5855 2.64697 9.9063 3.1908 9.85509L6.12699 9.57861C6.50087 9.5434 6.75903 9.18649 6.67683 8.81846L6.0313 5.92818C5.91173 5.39286 6.48698 4.97306 6.95691 5.2527L9.49414 6.76251C9.81722 6.95476 10.2349 6.81843 10.3838 6.47216L11.5529 3.75275ZM7.13114 13.125H17.1189C16.9886 10.4797 14.8026 8.375 12.125 8.375C9.44741 8.375 7.2614 10.4797 7.13114 13.125Z" fill="currentColor"/>
<path d="M7.5 15.75C7.08579 15.75 6.75 16.0858 6.75 16.5C6.75 16.9142 7.08579 17.25 7.5 17.25H16.5C16.9142 17.25 17.25 16.9142 17.25 16.5C17.25 16.0858 16.9142 15.75 16.5 15.75H7.5Z" fill="currentColor"/>
<path d="M13.875 19.25C13.875 19.6642 13.5392 20 13.125 20H12H10.875C10.4608 20 10.125 19.6642 10.125 19.25C10.125 18.8358 10.4608 18.5 10.875 18.5H12H13.125C13.5392 18.5 13.875 18.8358 13.875 19.25Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5529 3.75275C11.7695 3.24908 12.4805 3.24908 12.6971 3.75276L13.8662 6.47216C14.0151 6.81843 14.4328 6.95476 14.7559 6.76251L17.2931 5.2527C17.763 4.97306 18.3383 5.39286 18.2187 5.92818L17.5732 8.81846C17.491 9.18649 17.7491 9.5434 18.123 9.57861L21.0592 9.85509C21.603 9.9063 21.8228 10.5855 21.4128 10.948L19.1991 12.9052C19.1278 12.9683 19.0745 13.0436 19.0393 13.125H21C21.4142 13.125 21.75 13.4608 21.75 13.875C21.75 14.2892 21.4142 14.625 21 14.625H3C2.58579 14.625 2.25 14.2892 2.25 13.875C2.25 13.4608 2.58579 13.125 3 13.125H5.21069C5.17546 13.0436 5.12219 12.9683 5.05087 12.9052L2.83724 10.948C2.42724 10.5855 2.64697 9.9063 3.1908 9.85509L6.12699 9.57861C6.50087 9.5434 6.75903 9.18649 6.67683 8.81846L6.0313 5.92818C5.91173 5.39286 6.48698 4.97306 6.95691 5.2527L9.49414 6.76251C9.81722 6.95476 10.2349 6.81843 10.3838 6.47216L11.5529 3.75275ZM7.13114 13.125H17.1189C16.9886 10.4797 14.8026 8.375 12.125 8.375C9.44741 8.375 7.2614 10.4797 7.13114 13.125Z" style="fill: var(--element-active-color)"/>
<path d="M7.5 15.75C7.08579 15.75 6.75 16.0858 6.75 16.5C6.75 16.9142 7.08579 17.25 7.5 17.25H16.5C16.9142 17.25 17.25 16.9142 17.25 16.5C17.25 16.0858 16.9142 15.75 16.5 15.75H7.5Z" style="fill: var(--element-active-color)"/>
<path d="M13.875 19.25C13.875 19.6642 13.5392 20 13.125 20H12H10.875C10.4608 20 10.125 19.6642 10.125 19.25C10.125 18.8358 10.4608 18.5 10.875 18.5H12H13.125C13.5392 18.5 13.875 18.8358 13.875 19.25Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Hp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;zx([M({type:Boolean})],Hp.prototype,"useCssColor",2);Hp=zx([ie("obi-palette-dusk")],Hp);var K$=Object.defineProperty,q$=Object.getOwnPropertyDescriptor,jx=(r,e,t,i)=>{for(var n=i>1?void 0:i?q$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&K$(e,t,n),n};let Up=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.4178 2.66892C14.7789 2.25636 15.4554 2.47526 15.5064 3.02113L15.7816 5.96838C15.8166 6.34367 16.1721 6.60197 16.5386 6.51851L19.4174 5.8631C19.9506 5.74171 20.3687 6.3182 20.0902 6.79072L18.5862 9.34191C18.3947 9.66677 18.5305 10.0858 18.8753 10.2344L21.5838 11.4014C22.0855 11.6175 22.0854 12.3314 21.5838 12.5501L19.2437 13.5701C19.9738 14.2507 20.5123 15.1503 20.7626 16.1622C21.9582 16.6967 22.7499 17.9449 22.7499 19.3243C22.7499 21.1817 21.3013 22.75 19.4588 22.75H9.62935C8.73882 22.75 7.89257 22.3876 7.27532 21.7385C6.61858 21.085 6.27173 20.2054 6.25014 19.2667L6.24994 19.2581V19.212C6.24994 18.6736 6.37017 18.152 6.59526 17.6786L4.5824 18.1369C4.04921 18.2582 3.63113 17.6818 3.90968 17.2092L5.41363 14.658C5.60514 14.3332 5.46938 13.9141 5.12449 13.7655L2.41601 12.5986C1.91436 12.3825 1.9144 11.6686 2.41608 11.4499L5.12472 10.2692C5.46962 10.1189 5.60543 9.69915 5.41397 9.37526L3.91034 6.83168C3.63185 6.36057 4.05 5.78196 4.58318 5.90066L7.4619 6.54149C7.82846 6.62309 8.18396 6.36299 8.21905 5.98753L8.49462 3.03888C8.54566 2.49275 9.2222 2.27043 9.58323 2.68116L11.5324 4.89872C11.7807 5.18109 12.2201 5.17998 12.4683 4.89635L14.4178 2.66892ZM8.77567 15.8232C9.0014 15.7627 9.23504 15.7262 9.47374 15.7151C9.91656 15.02 10.6813 14.5702 11.5529 14.5702C11.6374 14.5702 11.7229 14.5744 11.8091 14.5835C12.7056 13.1529 14.2426 12.25 15.947 12.25C16.3039 12.25 16.652 12.29 16.9877 12.3658C17.1542 10.1198 15.7772 7.96694 13.5391 7.2428C10.9118 6.39271 8.09283 7.83343 7.24274 10.4608C6.59862 12.4515 7.26972 14.5523 8.77567 15.8232ZM12.8665 15.771C13.4558 14.5213 14.6481 13.75 15.947 13.75C17.6096 13.75 19.0881 15.057 19.371 16.8409L19.4468 17.3191L19.9138 17.4469C20.6575 17.6504 21.2499 18.4014 21.2499 19.3243C21.2499 20.4233 20.4045 21.25 19.4588 21.25H9.62935C9.14786 21.25 8.69223 21.0546 8.35732 20.6995L8.34813 20.6898L8.3386 20.6804C7.9796 20.326 7.7653 19.8279 7.74994 19.2403V19.212C7.74994 18.6904 7.94322 18.1961 8.2958 17.8083C8.65036 17.419 9.1208 17.2115 9.62936 17.2115C9.73976 17.2115 9.76618 17.213 9.79884 17.2188L10.4228 17.329L10.6357 16.7323C10.7806 16.3265 11.1414 16.0702 11.5529 16.0702C11.6726 16.0702 11.7795 16.0905 11.8851 16.1372L12.5544 16.4329L12.8665 15.771Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.4178 2.66892C14.7789 2.25636 15.4554 2.47526 15.5064 3.02113L15.7816 5.96838C15.8166 6.34367 16.1721 6.60197 16.5386 6.51851L19.4174 5.8631C19.9506 5.74171 20.3687 6.3182 20.0902 6.79072L18.5862 9.34191C18.3947 9.66677 18.5305 10.0858 18.8753 10.2344L21.5838 11.4014C22.0855 11.6175 22.0854 12.3314 21.5838 12.5501L19.2437 13.5701C19.9738 14.2507 20.5123 15.1503 20.7626 16.1622C21.9582 16.6967 22.7499 17.9449 22.7499 19.3243C22.7499 21.1817 21.3013 22.75 19.4588 22.75H9.62935C8.73882 22.75 7.89257 22.3876 7.27532 21.7385C6.61858 21.085 6.27173 20.2054 6.25014 19.2667L6.24994 19.2581V19.212C6.24994 18.6736 6.37017 18.152 6.59526 17.6786L4.5824 18.1369C4.04921 18.2582 3.63113 17.6818 3.90968 17.2092L5.41363 14.658C5.60514 14.3332 5.46938 13.9141 5.12449 13.7655L2.41601 12.5986C1.91436 12.3825 1.9144 11.6686 2.41608 11.4499L5.12472 10.2692C5.46962 10.1189 5.60543 9.69915 5.41397 9.37526L3.91034 6.83168C3.63185 6.36057 4.05 5.78196 4.58318 5.90066L7.4619 6.54149C7.82846 6.62309 8.18396 6.36299 8.21905 5.98753L8.49462 3.03888C8.54566 2.49275 9.2222 2.27043 9.58323 2.68116L11.5324 4.89872C11.7807 5.18109 12.2201 5.17998 12.4683 4.89635L14.4178 2.66892ZM8.77567 15.8232C9.0014 15.7627 9.23504 15.7262 9.47374 15.7151C9.91656 15.02 10.6813 14.5702 11.5529 14.5702C11.6374 14.5702 11.7229 14.5744 11.8091 14.5835C12.7056 13.1529 14.2426 12.25 15.947 12.25C16.3039 12.25 16.652 12.29 16.9877 12.3658C17.1542 10.1198 15.7772 7.96694 13.5391 7.2428C10.9118 6.39271 8.09283 7.83343 7.24274 10.4608C6.59862 12.4515 7.26972 14.5523 8.77567 15.8232ZM12.8665 15.771C13.4558 14.5213 14.6481 13.75 15.947 13.75C17.6096 13.75 19.0881 15.057 19.371 16.8409L19.4468 17.3191L19.9138 17.4469C20.6575 17.6504 21.2499 18.4014 21.2499 19.3243C21.2499 20.4233 20.4045 21.25 19.4588 21.25H9.62935C9.14786 21.25 8.69223 21.0546 8.35732 20.6995L8.34813 20.6898L8.3386 20.6804C7.9796 20.326 7.7653 19.8279 7.74994 19.2403V19.212C7.74994 18.6904 7.94322 18.1961 8.2958 17.8083C8.65036 17.419 9.1208 17.2115 9.62936 17.2115C9.73976 17.2115 9.76618 17.213 9.79884 17.2188L10.4228 17.329L10.6357 16.7323C10.7806 16.3265 11.1414 16.0702 11.5529 16.0702C11.6726 16.0702 11.7795 16.0905 11.8851 16.1372L12.5544 16.4329L12.8665 15.771Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Up.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;jx([M({type:Boolean})],Up.prototype,"useCssColor",2);Up=jx([ie("obi-palette-day")],Up);var Y$=Object.defineProperty,X$=Object.getOwnPropertyDescriptor,Gx=(r,e,t,i)=>{for(var n=i>1?void 0:i?X$(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&Y$(e,t,n),n};let zp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4279 2.37775C11.6445 1.87408 12.3555 1.87408 12.5721 2.37776L13.7412 5.09716C13.8901 5.44343 14.3078 5.57976 14.6309 5.38751L17.1681 3.8777C17.638 3.59806 18.2133 4.01786 18.0937 4.55318L17.4482 7.44346C17.366 7.81149 17.6241 8.1684 17.998 8.20361L20.9342 8.48009C21.478 8.5313 21.6978 9.21054 21.2878 9.57303L19.0741 11.5302C18.7923 11.7794 18.7923 12.2206 19.0741 12.4698L21.2878 14.427C21.6978 14.7895 21.478 15.4687 20.9342 15.5199L17.998 15.7964C17.6241 15.8316 17.366 16.1885 17.4482 16.5565L18.0937 19.4468C18.2133 19.9821 17.638 20.4019 17.1681 20.1223L14.6309 18.6125C14.3078 18.4202 13.8901 18.5566 13.7412 18.9028L12.5721 21.6222C12.3555 22.1259 11.6445 22.1259 11.4279 21.6222L10.2588 18.9028C10.1099 18.5566 9.69222 18.4202 9.36914 18.6125L6.83191 20.1223C6.36198 20.4019 5.78673 19.9821 5.9063 19.4468L6.55183 16.5565C6.63403 16.1885 6.37587 15.8316 6.00199 15.7964L3.06579 15.5199C2.52197 15.4687 2.30224 14.7895 2.71224 14.427L4.92587 12.4698C5.20775 12.2206 5.20774 11.7794 4.92587 11.5302L2.71224 9.57303C2.30224 9.21054 2.52197 8.5313 3.0658 8.48009L6.00199 8.20361C6.37587 8.1684 6.63403 7.81149 6.55183 7.44346L5.9063 4.55318C5.78673 4.01786 6.36198 3.59806 6.83191 3.8777L9.36914 5.38751C9.69222 5.57976 10.1099 5.44343 10.2588 5.09716L11.4279 2.37775ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4279 2.37775C11.6445 1.87408 12.3555 1.87408 12.5721 2.37776L13.7412 5.09716C13.8901 5.44343 14.3078 5.57976 14.6309 5.38751L17.1681 3.8777C17.638 3.59806 18.2133 4.01786 18.0937 4.55318L17.4482 7.44346C17.366 7.81149 17.6241 8.1684 17.998 8.20361L20.9342 8.48009C21.478 8.5313 21.6978 9.21054 21.2878 9.57303L19.0741 11.5302C18.7923 11.7794 18.7923 12.2206 19.0741 12.4698L21.2878 14.427C21.6978 14.7895 21.478 15.4687 20.9342 15.5199L17.998 15.7964C17.6241 15.8316 17.366 16.1885 17.4482 16.5565L18.0937 19.4468C18.2133 19.9821 17.638 20.4019 17.1681 20.1223L14.6309 18.6125C14.3078 18.4202 13.8901 18.5566 13.7412 18.9028L12.5721 21.6222C12.3555 22.1259 11.6445 22.1259 11.4279 21.6222L10.2588 18.9028C10.1099 18.5566 9.69222 18.4202 9.36914 18.6125L6.83191 20.1223C6.36198 20.4019 5.78673 19.9821 5.9063 19.4468L6.55183 16.5565C6.63403 16.1885 6.37587 15.8316 6.00199 15.7964L3.06579 15.5199C2.52197 15.4687 2.30224 14.7895 2.71224 14.427L4.92587 12.4698C5.20775 12.2206 5.20774 11.7794 4.92587 11.5302L2.71224 9.57303C2.30224 9.21054 2.52197 8.5313 3.0658 8.48009L6.00199 8.20361C6.37587 8.1684 6.63403 7.81149 6.55183 7.44346L5.9063 4.55318C5.78673 4.01786 6.36198 3.59806 6.83191 3.8777L9.36914 5.38751C9.69222 5.57976 10.1099 5.44343 10.2588 5.09716L11.4279 2.37775ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};zp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Gx([M({type:Boolean})],zp.prototype,"useCssColor",2);zp=Gx([ie("obi-palette-day-bright")],zp);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Q8="lit-localize-status";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Q$=r=>typeof r!="string"&&"strTag"in r,J$=(r,e,t)=>{let i=r[0];for(let n=1;n<r.length;n++)i+=e[n-1],i+=r[n];return i};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const eV=r=>Q$(r)?J$(r.strings,r.values):r;let zi=eV;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class tV{constructor(e){this.__litLocalizeEventHandler=t=>{t.detail.status==="ready"&&this.host.requestUpdate()},this.host=e}hostConnected(){window.addEventListener(Q8,this.__litLocalizeEventHandler)}hostDisconnected(){window.removeEventListener(Q8,this.__litLocalizeEventHandler)}}const iV=r=>r.addController(new tV(r)),rV=iV;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zx=()=>(r,e)=>(r.addInitializer(rV),r);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let nV=class{constructor(){this.settled=!1,this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}};/**
 * @license
 * Copyright 2014 Travis Webb
 * SPDX-License-Identifier: MIT
 */for(let r=0;r<256;r++)(r>>4&15).toString(16)+(r&15).toString(16);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let sV=new nV;sV.resolve();var oV=Object.defineProperty,aV=Object.getOwnPropertyDescriptor,fu=(r,e,t,i)=>{for(var n=i>1?void 0:i?aV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&oV(e,t,n),n},Wx=(r=>(r.night="night",r.dusk="dusk",r.day="day",r.bright="bright",r))(Wx||{});let Yo=class extends ee{constructor(){super(...arguments),this.palette="day",this.brightness=50,this.showAutoBrightness=!1,this.showAutoPalette=!1,this.hideBrightness=!1}onPaletteChanged(r){this.palette=r.detail.value,this.dispatchEvent(new CustomEvent("palette-changed",{detail:{value:r.detail.value}}))}onBrightnessChanged(r){this.brightness=r.detail,this.dispatchEvent(new CustomEvent("brightness-changed",{detail:{value:r.detail}}))}render(){return F`
      <div class="card">
        ${this.hideBrightness?"":F`
              <h3>${zi("Brilliance")}</h3>
              <obc-slider
                value=${this.brightness}
                @value=${this.onBrightnessChanged}
                min="0"
                max="100"
                hugcontainer
                haslefticon
                hasrighticon
              >
                <obi-display-brilliance-low
                  slot="icon-left"
                ></obi-display-brilliance-low>
                <obi-display-brilliance-proposal
                  slot="icon-right"
                ></obi-display-brilliance-proposal>
              </obc-slider>
              ${this.showAutoBrightness?F`<obc-toggle-switch
                    .label="${zi("Auto brilliance")}"
                  ></obc-toggle-switch>`:""}
              <div class="divider"></div>
            `}
        <h3>${zi("Day")} - ${zi("Night")}</h3>
        <obc-toggle-button-group
          value=${this.palette}
          @value=${this.onPaletteChanged}
        >
          <obc-toggle-button-option value="night">
            <obi-palette-night slot="icon"></obi-palette-night>
          </obc-toggle-button-option>
          <obc-toggle-button-option value="dusk">
            <obi-palette-dusk slot="icon"></obi-palette-dusk>
          </obc-toggle-button-option>
          <obc-toggle-button-option value="day">
            <obi-palette-day slot="icon"></obi-palette-day>
          </obc-toggle-button-option>
          <obc-toggle-button-option value="bright">
            <obi-palette-day-bright slot="icon"></obi-palette-day-bright>
          </obc-toggle-button-option>
        </obc-toggle-button-group>
        ${this.showAutoPalette?F`<obc-toggle-switch
              .label="${zi("Auto day - night")}"
              checked
            ></obc-toggle-switch>`:""}
      </div>
    `}};Yo.styles=ot(L$);fu([M({type:String})],Yo.prototype,"palette",2);fu([M({type:Number})],Yo.prototype,"brightness",2);fu([M({type:Boolean})],Yo.prototype,"showAutoBrightness",2);fu([M({type:Boolean})],Yo.prototype,"showAutoPalette",2);fu([M({type:Boolean})],Yo.prototype,"hideBrightness",2);Yo=fu([Zx(),ie("obc-brilliance-menu")],Yo);const lV=Ne({__name:"ObcBrillianceMenu",props:{palette:{},brightness:{},showAutoBrightness:{type:Boolean},showAutoPalette:{type:Boolean},hideBrightness:{type:Boolean}},emits:["palette-changed","brightness-changed"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onPaletteChanged:u=>o("palette-changed",u),onBrightnessChanged:u=>o("brightness-changed",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-brilliance-menu",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}}),cV=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
.card {
  border-radius: 8px;
  background: var(--container-global-color, #fcfcfc);
  /* Shadow/Floating */
  box-shadow: var(--shadow-floating);
  display: flex;
  flex-direction: column;
  padding: 8px 24px 8px;
  box-sizing: border-box;
  max-width: 440px;
}
.card .main-apps {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    padding: 24px 0;
  }
`,uV=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.wrapper {
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-height: var(--ui-components-text-input-field-touch-target-size);
  padding: var(--ui-components-text-input-field-padding-vertical) var(--ui-components-text-input-field-padding-right) var(--ui-components-text-input-field-padding-vertical) var(--ui-components-text-input-field-padding-left);
}

.wrapper.no-horisontal-padding {
    padding-left: 0;
    padding-right: 0;
  }

.input-wrapper {
  position: relative;
}

input {
  color: var(--element-active-color, #1a1a1a);
  /* UI/Body */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-body-font-weight);
  line-height: var(--global-typography-ui-body-line-height);
  text-decoration: none;
  appearance: none;
}

input {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

input:focus {
            outline: none;
}

input.activated {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

@media (hover:hover) {

input:hover {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

input:active {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

input:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

input:disabled {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

input {
  width: 100%;
  padding-left: calc( var(--ui-components-text-input-field-padding-horizontal) + var(--ui-components-text-input-field-label-spacing));  
  padding-right: var(--ui-components-text-input-field-label-spacing);
  height: var(--ui-components-text-input-field-visual-size);
  border-radius: var(--ui-components-text-input-field-border-radius-top-left) var(--ui-components-text-input-field-border-radius-top-right) var(--ui-components-text-input-field-border-radius-bottom-right) var(--ui-components-text-input-field-border-radius-bottom-left);
}

input::placeholder {
    color: var(--element-inactive-color);
  }

input:disabled::placeholder {
    color: var(--element-disabled-color);
  }

.align-right input {
    text-align: right;
  }

.align-center input {
    text-align: center;
    padding-left: var(--ui-components-text-input-field-label-spacing);
  }

.has-leading-icon input {
    padding-left: calc( var(--ui-components-text-input-field-padding-horizontal) + var(--ui-components-text-input-field-label-spacing) +  var(--ui-components-text-input-field-icon-size));
  }

.has-trailing-icon input {
    padding-right: calc( var(--ui-components-text-input-field-padding-horizontal) +  var(--ui-components-text-input-field-icon-size));
  }

.squared input {
    border-radius: 0;
  }

.font-button input {
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-button-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-button-font-weight);
    line-height: var(--global-typography-ui-button-line-height);
  }

.error input {
    outline: var(--global-size-spacing-border-weight-focusframe) solid var(--instrument-port-primary-color);
    outline-offset: calc( -1 * var(--global-size-spacing-border-weight-focusframe));
  }

.icon {
  pointer-events: none;
  color: var(--element-neutral-color);
  width: var(--ui-components-text-input-field-icon-size);
  height: var(--ui-components-text-input-field-icon-size);
  position: absolute;
  top: 0;
  bottom: 0;
  margin: auto;
}

.icon.leading {
    left: var(--ui-components-text-input-field-padding-horizontal);
  }

.icon.trailing {
    right: 0;
    min-width: var(--ui-components-icon-button-visual-target-size);

  }

.helper-text {
font-feature-settings: 'liga' off, 'clig' off;
font-family: var(--font-family-main);
font-size: var(--global-typography-ui-label-font-size);
font-style: normal;
font-weight: var(--global-typography-ui-label-font-weight);
line-height: var(--global-typography-ui-label-line-height);
color: var(--element-neutral-color);
padding: 0px var(--ui-components-text-input-field-padding-horizontal);
}
`;var hV=Object.defineProperty,dV=Object.getOwnPropertyDescriptor,Bn=(r,e,t,i)=>{for(var n=i>1?void 0:i?dV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&hV(e,t,n),n};let en=class extends ee{constructor(){super(...arguments),this.value="",this.placeholder="",this.type="text",this.squared=!1,this.textAlign="left",this.font="body",this.disabled=!1,this.required=!1,this.error=!1,this.noHorisontalPadding=!1,this.hasLeadingIconController=new za(this,"leading-icon"),this.hasTrailingIconController=new za(this,"trailing-icon")}onInput(r){this.value=r.target.value}render(){return F`
      <label
        class=${ti({wrapper:!0,squared:this.squared,"has-leading-icon":this.hasLeadingIconController.hasAssignedElements,"has-trailing-icon":this.hasTrailingIconController.hasAssignedElements,["align-"+this.textAlign]:!0,["font-"+this.font]:!0,disabled:this.disabled,error:this.error,"no-horisontal-padding":this.noHorisontalPadding})}
      >
        <div class="input-wrapper" part="input-wrapper">
          <input
            .type=${this.type}
            class="input"
            .value=${this.value}
            .placeholder=${this.placeholder}
            ?disabled=${this.disabled}
            ?required=${this.required}
            @input=${this.onInput}
          />
          <div class="icon leading" part="icon leading">
            <slot name="leading-icon"></slot>
          </div>
          <div class="icon trailing" part="icon trailing">
            <slot name="trailing-icon"></slot>
          </div>
        </div>
        <div class="helper-text" part="helper-text">
          <slot name="helper-text"></slot>
        </div>
      </label>
    `}};en.styles=ot(uV);Bn([M({type:String})],en.prototype,"value",2);Bn([M({type:String})],en.prototype,"placeholder",2);Bn([M({type:String})],en.prototype,"type",2);Bn([M({type:Boolean})],en.prototype,"squared",2);Bn([M({type:String})],en.prototype,"textAlign",2);Bn([M({type:String})],en.prototype,"font",2);Bn([M({type:Boolean})],en.prototype,"disabled",2);Bn([M({type:Boolean})],en.prototype,"required",2);Bn([M({type:Boolean})],en.prototype,"error",2);Bn([M({type:Boolean})],en.prototype,"noHorisontalPadding",2);en=Bn([ie("obc-input")],en);const fV=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.wrapper {
  display: inline-flex;
  min-width: var(--ui-components-app-button-touch-target-size-enhanced);
  min-height: var(--ui-components-app-button-touch-target-size-enhanced);
  padding: var(--ui-components-app-button-padding-vertical-enhanced) 0px;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border-radius: var(--ui-components-app-button-border-radius-container);
  border-width: 0 !important;
}

.wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.wrapper:focus {
            outline: none;
}

.wrapper.activated {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

@media (hover:hover) {

.wrapper:hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.wrapper:active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.wrapper:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper:disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

:is(.wrapper .icon-wrapper) {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
}

.wrapper .icon-wrapper {
    color: var(--on-normal-neutral-color);

    width: var(--ui-components-app-button-visual-size-enhanced);
    height: var(--ui-components-app-button-visual-size-enhanced);
    border-radius: 100%;

    display: flex;

    align-items: center;
    justify-content: center;
  }

:is(.wrapper .icon-wrapper) .icon {
      width: var(--ui-components-app-button-icon-size-enhanced);
      height: var(--ui-components-app-button-icon-size-enhanced);
    }

.wrapper .label {
    color: var(--element-active-color);
    text-align: center;
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-label-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-label-font-weight);
    line-height: var(--global-typography-ui-label-line-height);
  }

.wrapper.small {
    min-width: var(--ui-components-app-button-touch-target-size);
    min-height: var(--ui-components-app-button-touch-target-size);
    padding: var(--ui-components-app-button-padding-vertical) 0px;
  }

.wrapper.small .icon-wrapper {
      width: var(--ui-components-app-button-visual-size);
      height: var(--ui-components-app-button-visual-size);
    }

.wrapper.small .icon {
      width: var(--ui-components-app-button-icon-size);
      height: var(--ui-components-app-button-icon-size);
    }

:is(.wrapper.checked .icon-wrapper) {
            border-color: var(--selected-enabled-border-color);
            background-color: var(--selected-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

:is(.wrapper.checked .icon-wrapper):focus {
            outline: none;
}

.activated:is(.wrapper.checked .icon-wrapper) {
            border-color: var(--selected-activated-border-color);
            background-color: var(--selected-activated-background-color);
}

@media (hover:hover) {

:is(.wrapper.checked .icon-wrapper):hover {
                        border-color: var(--selected-hover-border-color);
                        background-color: var(--selected-hover-background-color);
            }
}

:is(.wrapper.checked .icon-wrapper):active {
            border-color: var(--selected-pressed-border-color);
            background-color: var(--selected-pressed-background-color);
}

:is(.wrapper.checked .icon-wrapper):focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.wrapper.checked .icon-wrapper):disabled {
            border-color: var(--selected-disabled-border-color);
            background-color: var(--selected-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-selected-disabled-color);
}

.wrapper.checked .icon-wrapper {
      color: var(--on-selected-active-color);
    }

.wrapper.checked .label {
      font-feature-settings: 'liga' off, 'clig' off;
      font-family: var(--font-family-main);
      font-size: var(--global-typography-ui-label-active-font-size);
      font-style: normal;
      font-weight: var(--global-typography-ui-label-active-font-weight);
      line-height: var(--global-typography-ui-label-active-line-height);
    }
`;var pV=Object.defineProperty,gV=Object.getOwnPropertyDescriptor,rm=(r,e,t,i)=>{for(var n=i>1?void 0:i?gV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&pV(e,t,n),n};let Rc=class extends ee{constructor(){super(...arguments),this.label="Button",this.checked=!1,this.size="normal"}render(){return F` <button
      class="${ti({wrapper:!0,checked:this.checked,small:this.size==="small"})}"
    >
      <div class="icon-wrapper">
        <span class="icon">
          <slot name="icon"></slot>
        </span>
      </div>
      <div class="label">${this.label}</div>
    </button>`}};Rc.styles=ot(fV);rm([M({type:String})],Rc.prototype,"label",2);rm([M({type:Boolean})],Rc.prototype,"checked",2);rm([M({type:String})],Rc.prototype,"size",2);Rc=rm([ie("obc-app-button")],Rc);var mV=Object.defineProperty,vV=Object.getOwnPropertyDescriptor,Kx=(r,e,t,i)=>{for(var n=i>1?void 0:i?vV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&mV(e,t,n),n};let jp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 2.99997C14.6421 2.99997 18 6.35783 18 10.5C18 12.2108 17.4271 13.7879 16.4628 15.0498L20.0875 18.6746C20.4781 19.0651 20.4781 19.6983 20.0875 20.0888C19.697 20.4793 19.0639 20.4793 18.6733 20.0888L15.0484 16.4639C13.7867 17.4276 12.2102 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35783 6.35786 2.99997 10.5 2.99997ZM10.5 16C13.5376 16 16 13.5375 16 10.5C16 7.4624 13.5376 4.99997 10.5 4.99997C7.46243 4.99997 5 7.4624 5 10.5C5 13.5375 7.46243 16 10.5 16Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 2.99997C14.6421 2.99997 18 6.35783 18 10.5C18 12.2108 17.4271 13.7879 16.4628 15.0498L20.0875 18.6746C20.4781 19.0651 20.4781 19.6983 20.0875 20.0888C19.697 20.4793 19.0639 20.4793 18.6733 20.0888L15.0484 16.4639C13.7867 17.4276 12.2102 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35783 6.35786 2.99997 10.5 2.99997ZM10.5 16C13.5376 16 16 13.5375 16 10.5C16 7.4624 13.5376 4.99997 10.5 4.99997C7.46243 4.99997 5 7.4624 5 10.5C5 13.5375 7.46243 16 10.5 16Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};jp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Kx([M({type:Boolean})],jp.prototype,"useCssColor",2);jp=Kx([ie("obi-search")],jp);var yV=Object.getOwnPropertyDescriptor,bV=(r,e,t,i)=>{for(var n=i>1?void 0:i?yV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Zv=class extends ee{onSearchInput(r){this.dispatchEvent(new CustomEvent("search",{detail:r.target.value}))}render(){return F`
      <div class="card">
        <obc-input placeholder="Search" @input=${this.onSearchInput}>
          <obi-search slot="leading-icon"></obi-search>
        </obc-input>
        <div class="main-apps">
          <slot></slot>
        </div>
      </div>
    `}};Zv.styles=ot(cV);Zv=bV([ie("obc-app-menu")],Zv);const _V=Ne({__name:"ObcAppMenu",setup(r){const e=mt(),t=()=>lt("obc-app-menu",{},vt(e));return(i,n)=>(G(),Re(t))}}),wV=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.wrapper {
  display: flex;
  flex-direction: row;
  min-width: var(--global-size-spacing-touch-target-min);
}

.wrapper:not(.type-flat) {
    padding: 0px var(--app-components-alert-button-padding-horizontal);
  }

.wrapper.large {
    height: var(--app-components-topbar-message-item-touch-target-size-tall);
    padding-top: var(--app-components-alert-button-tall-padding-vertical);
    padding-bottom: var(--app-components-alert-button-tall-padding-vertical);
  }

.wrapper.large .visible-wrapper,.wrapper.large .blink {
      height: 100%;
    }

.wrapper.type-flat {
    width: min-content;
  }

button {
  appearance: none;
  background: none;
  border: none;
  padding: 0;
  min-height: var(--global-size-spacing-touch-target-min);
  min-width: var(--global-size-spacing-touch-target-min);
  display: flex;
  align-items: center;
  flex-grow: 1;
  flex-basis: var(--global-size-spacing-touch-target-min);
}

.icon {
  display: block;
  width: var(--ui-components-icon-button-icon-size);
  height: var(--global-size-spacing-icon-icon-size-regular);
}

.alert-button {
  position: relative;
  display: flex;
  justify-content: center;
}

:is(.type-flat .alert-button) {
            cursor: pointer;
}

:is(.type-flat .alert-button):focus {
            outline: none;
}

.activated:is(.type-flat .alert-button) .visible-wrapper {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

:is(.type-flat .alert-button) .visible-wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-flat .alert-button):hover .visible-wrapper {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

:is(.type-flat .alert-button):active .visible-wrapper {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

:is(.type-flat .alert-button):focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-flat .alert-button):disabled .visible-wrapper {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

:is(.type-flat .alert-button) {
            cursor: pointer;
}

:is(.type-flat .alert-button):focus {
            outline: none;
}

.activated:is(.type-flat .alert-button) .blink {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

:is(.type-flat .alert-button) .blink {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-flat .alert-button):hover .blink {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

:is(.type-flat .alert-button):active .blink {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

:is(.type-flat .alert-button):focus-visible .blink {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-flat .alert-button):disabled .blink {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.type-normal .alert-button .visible-wrapper,.type-enhanced .alert-button .visible-wrapper {
    width: 100%;
  }

:is(.type-normal .alert-button) {
            cursor: pointer;
}

:is(.type-normal .alert-button):focus {
            outline: none;
}

.activated:is(.type-normal .alert-button) .visible-wrapper {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

:is(.type-normal .alert-button) .visible-wrapper {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-normal .alert-button):hover .visible-wrapper {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

:is(.type-normal .alert-button):active .visible-wrapper {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

:is(.type-normal .alert-button):focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-normal .alert-button):disabled .visible-wrapper {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

:is(.type-normal .alert-button) {
            cursor: pointer;
}

:is(.type-normal .alert-button):focus {
            outline: none;
}

.activated:is(.type-normal .alert-button) .blink {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

:is(.type-normal .alert-button) .blink {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-normal .alert-button):hover .blink {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

:is(.type-normal .alert-button):active .blink {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

:is(.type-normal .alert-button):focus-visible .blink {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-normal .alert-button):disabled .blink {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

:is(.type-enhanced.alert-type-alarm .alert-button) {
            cursor: pointer;
}

:is(.type-enhanced.alert-type-alarm .alert-button):focus {
            outline: none;
}

.activated:is(.type-enhanced.alert-type-alarm .alert-button) .blink {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

:is(.type-enhanced.alert-type-alarm .alert-button) .blink {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-enhanced.alert-type-alarm .alert-button):hover .blink {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

:is(.type-enhanced.alert-type-alarm .alert-button):active .blink {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

:is(.type-enhanced.alert-type-alarm .alert-button):focus-visible .blink {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-enhanced.alert-type-alarm .alert-button):disabled .blink {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

:is(.type-enhanced.alert-type-alarm .alert-button) {
            cursor: pointer;
}

:is(.type-enhanced.alert-type-alarm .alert-button):focus {
            outline: none;
}

.activated:is(.type-enhanced.alert-type-alarm .alert-button) .visible-wrapper {
            border-color: var(--alarm-activated-border-color);
            background-color: var(--alarm-activated-background-color);
}

:is(.type-enhanced.alert-type-alarm .alert-button) .visible-wrapper {
            border-color: var(--alarm-enabled-border-color);
            background-color: var(--alarm-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-enhanced.alert-type-alarm .alert-button):hover .visible-wrapper {
                        border-color: var(--alarm-hover-border-color);
                        background-color: var(--alarm-hover-background-color);
            }
}

:is(.type-enhanced.alert-type-alarm .alert-button):active .visible-wrapper {
            border-color: var(--alarm-pressed-border-color);
            background-color: var(--alarm-pressed-background-color);
}

:is(.type-enhanced.alert-type-alarm .alert-button):focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-enhanced.alert-type-alarm .alert-button):disabled .visible-wrapper {
            border-color: var(--alarm-disabled-border-color);
            background-color: var(--alarm-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-alarm-disabled-color);
}

:is(.type-enhanced.alert-type-alarm .alert-button) .visible-wrapper {
      color: var(--on-alarm-active-color);
    }

:is(.type-enhanced.alert-type-warning .alert-button) {
            cursor: pointer;
}

:is(.type-enhanced.alert-type-warning .alert-button):focus {
            outline: none;
}

.activated:is(.type-enhanced.alert-type-warning .alert-button) .blink {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

:is(.type-enhanced.alert-type-warning .alert-button) .blink {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-enhanced.alert-type-warning .alert-button):hover .blink {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

:is(.type-enhanced.alert-type-warning .alert-button):active .blink {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

:is(.type-enhanced.alert-type-warning .alert-button):focus-visible .blink {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-enhanced.alert-type-warning .alert-button):disabled .blink {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

:is(.type-enhanced.alert-type-warning .alert-button) {
            cursor: pointer;
}

:is(.type-enhanced.alert-type-warning .alert-button):focus {
            outline: none;
}

.activated:is(.type-enhanced.alert-type-warning .alert-button) .visible-wrapper {
            border-color: var(--warning-activated-border-color);
            background-color: var(--warning-activated-background-color);
}

:is(.type-enhanced.alert-type-warning .alert-button) .visible-wrapper {
            border-color: var(--warning-enabled-border-color);
            background-color: var(--warning-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-enhanced.alert-type-warning .alert-button):hover .visible-wrapper {
                        border-color: var(--warning-hover-border-color);
                        background-color: var(--warning-hover-background-color);
            }
}

:is(.type-enhanced.alert-type-warning .alert-button):active .visible-wrapper {
            border-color: var(--warning-pressed-border-color);
            background-color: var(--warning-pressed-background-color);
}

:is(.type-enhanced.alert-type-warning .alert-button):focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-enhanced.alert-type-warning .alert-button):disabled .visible-wrapper {
            border-color: var(--warning-disabled-border-color);
            background-color: var(--warning-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-warning-disabled-color);
}

:is(.type-enhanced.alert-type-warning .alert-button) .visible-wrapper {
      color: var(--on-warning-active-color);
    }

:is(.type-enhanced.alert-type-caution .alert-button) {
            cursor: pointer;
}

:is(.type-enhanced.alert-type-caution .alert-button):focus {
            outline: none;
}

.activated:is(.type-enhanced.alert-type-caution .alert-button) .blink {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

:is(.type-enhanced.alert-type-caution .alert-button) .blink {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-enhanced.alert-type-caution .alert-button):hover .blink {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

:is(.type-enhanced.alert-type-caution .alert-button):active .blink {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

:is(.type-enhanced.alert-type-caution .alert-button):focus-visible .blink {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-enhanced.alert-type-caution .alert-button):disabled .blink {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

:is(.type-enhanced.alert-type-caution .alert-button) {
            cursor: pointer;
}

:is(.type-enhanced.alert-type-caution .alert-button):focus {
            outline: none;
}

.activated:is(.type-enhanced.alert-type-caution .alert-button) .visible-wrapper {
            border-color: var(--caution-activated-border-color);
            background-color: var(--caution-activated-background-color);
}

:is(.type-enhanced.alert-type-caution .alert-button) .visible-wrapper {
            border-color: var(--caution-enabled-border-color);
            background-color: var(--caution-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.type-enhanced.alert-type-caution .alert-button):hover .visible-wrapper {
                        border-color: var(--caution-hover-border-color);
                        background-color: var(--caution-hover-background-color);
            }
}

:is(.type-enhanced.alert-type-caution .alert-button):active .visible-wrapper {
            border-color: var(--caution-pressed-border-color);
            background-color: var(--caution-pressed-background-color);
}

:is(.type-enhanced.alert-type-caution .alert-button):focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.type-enhanced.alert-type-caution .alert-button):disabled .visible-wrapper {
            border-color: var(--caution-disabled-border-color);
            background-color: var(--caution-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-caution-disabled-color);
}

:is(.type-enhanced.alert-type-caution .alert-button) .visible-wrapper {
      color: var(--on-caution-active-color);
    }

.alert-button .visible-wrapper,.alert-button .blink {
    border-radius: var(--ui-components-button-border-radius-top-left) var(--ui-components-button-border-radius-top-right) var(--ui-components-button-border-radius-bottom-right) var(--ui-components-button-border-radius-bottom-left);
    height: var(--ui-components-icon-button-visual-target-size);
    min-width: var(--ui-components-icon-button-visual-target-size);
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--on-normal-active-color);
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-button-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-button-font-weight);
    line-height: var(--global-typography-ui-button-line-height);
  }

.has-silence :is(.alert-button .visible-wrapper,.alert-button .blink) {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

.alert-button .blink {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: auto;
  }

.type-flat :is(.alert-button .blink) {
      width: min-content;
    }

:is(.blinking.alert-type-alarm .alert-button) .visible-wrapper {
    opacity: var(--alarm-blink-on);
  }

:is(.blinking.alert-type-alarm .alert-button) .blink {
    opacity: var(--alarm-blink-off);
  }

:is(.blinking.alert-type-warning .alert-button) .visible-wrapper {
    opacity: var(--alarm-blink-on);
  }

:is(.blinking.alert-type-warning .alert-button) .blink {
    opacity: var(--alarm-blink-off);
  }

.counter .alert-button .visible-wrapper,
.counter .alert-button .blink {
  padding: 0px var(--ui-components-button-padding-horizontal);
  gap: var(--app-components-global-alert-item-counter-spacing);
}

.alert-type-alarm {
  --icon-fill: var(--alarm-enabled-background-color);
  --icon-stroke: var(--alarm-pressed-border-color);
}

.alert-type-warning {
  --icon-fill: var(--warning-enabled-background-color);
  --icon-stroke: var(--warning-pressed-border-color);
}

.alert-type-caution {
  --icon-fill: var(--caution-enabled-background-color);
  --icon-stroke: var(--caution-pressed-border-color);
}

.silence-button {
            cursor: pointer;
}

.silence-button:focus {
            outline: none;
}

.silence-button.activated .visible-wrapper {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

.silence-button .visible-wrapper {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

.silence-button:hover .visible-wrapper {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

.silence-button:active .visible-wrapper {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

.silence-button:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.silence-button:disabled .visible-wrapper {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

.silence-button {
  color: var(--on-normal-active-color);
}

.silence-button .visible-wrapper {
    width: 100%;
    height: var(--ui-components-icon-button-visual-target-size);
    border-radius: 0 var(--ui-components-button-border-radius-top-right) var(--ui-components-button-border-radius-bottom-right) 0;
    border-left: 0;
    display: flex;
    justify-content: center;
    align-items: center;
  }`;var CV=Object.defineProperty,xV=Object.getOwnPropertyDescriptor,qx=(r,e,t,i)=>{for(var n=i>1?void 0:i?xV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&CV(e,t,n),n};let Gp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22ZM8 17H16V10C16 8.9 15.6083 7.95833 14.825 7.175C14.0417 6.39167 13.1 6 12 6C10.9 6 9.95833 6.39167 9.175 7.175C8.39167 7.95833 8 8.9 8 10V17Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22ZM8 17H16V10C16 8.9 15.6083 7.95833 14.825 7.175C14.0417 6.39167 13.1 6 12 6C10.9 6 9.95833 6.39167 9.175 7.175C8.39167 7.95833 8 8.9 8 10V17Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Gp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;qx([M({type:Boolean})],Gp.prototype,"useCssColor",2);Gp=qx([ie("obi-alerts")],Gp);var EV=Object.defineProperty,TV=Object.getOwnPropertyDescriptor,Yx=(r,e,t,i)=>{for(var n=i>1?void 0:i?TV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&EV(e,t,n),n};let Zp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Zp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Yx([M({type:Boolean})],Zp.prototype,"useCssColor",2);Zp=Yx([ie("obi-alerts-active")],Zp);var LV=Object.defineProperty,SV=Object.getOwnPropertyDescriptor,Xx=(r,e,t,i)=>{for(var n=i>1?void 0:i?SV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&LV(e,t,n),n};let Wp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.1716 17H20V5H4V17H9.82843L12 19.1716L14.1716 17ZM12 22L9 19H5.2C4.0799 19 3.51984 19 3.09202 18.782C2.71569 18.5903 2.40973 18.2843 2.21799 17.908C2 17.4802 2 16.9201 2 15.8V6.2C2 5.0799 2 4.51984 2.21799 4.09202C2.40973 3.71569 2.71569 3.40973 3.09202 3.21799C3.51984 3 4.07989 3 5.2 3H18.8C19.9201 3 20.4802 3 20.908 3.21799C21.2843 3.40973 21.5903 3.71569 21.782 4.09202C22 4.51984 22 5.08008 22 6.20055V15.7994C22 16.9199 22 17.4802 21.782 17.908C21.5903 18.2843 21.2843 18.5903 20.908 18.782C20.4802 19 19.9201 19 18.8 19H15L12 22Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.1716 17H20V5H4V17H9.82843L12 19.1716L14.1716 17ZM12 22L9 19H5.2C4.0799 19 3.51984 19 3.09202 18.782C2.71569 18.5903 2.40973 18.2843 2.21799 17.908C2 17.4802 2 16.9201 2 15.8V6.2C2 5.0799 2 4.51984 2.21799 4.09202C2.40973 3.71569 2.71569 3.40973 3.09202 3.21799C3.51984 3 4.07989 3 5.2 3H18.8C19.9201 3 20.4802 3 20.908 3.21799C21.2843 3.40973 21.5903 3.71569 21.782 4.09202C22 4.51984 22 5.08008 22 6.20055V15.7994C22 16.9199 22 17.4802 21.782 17.908C21.5903 18.2843 21.2843 18.5903 20.908 18.782C20.4802 19 19.9201 19 18.8 19H15L12 22Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Wp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Xx([M({type:Boolean})],Wp.prototype,"useCssColor",2);Wp=Xx([ie("obi-notification")],Wp);var AV=Object.defineProperty,kV=Object.getOwnPropertyDescriptor,Qx=(r,e,t,i)=>{for(var n=i>1?void 0:i?kV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&AV(e,t,n),n};let Kp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V16C3 17.1046 3.89543 18 5 18H9L12 21L15 18H19C20.1046 18 21 17.1046 21 16V5C21 3.89543 20.1046 3 19 3H5Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5 3C3.89543 3 3 3.89543 3 5V16C3 17.1046 3.89543 18 5 18H9L12 21L15 18H19C20.1046 18 21 17.1046 21 16V5C21 3.89543 20.1046 3 19 3H5Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Kp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Qx([M({type:Boolean})],Kp.prototype,"useCssColor",2);Kp=Qx([ie("obi-notification-filled")],Kp);var IV=Object.defineProperty,MV=Object.getOwnPropertyDescriptor,Jx=(r,e,t,i)=>{for(var n=i>1?void 0:i?MV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&IV(e,t,n),n};let qp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9 19L12 22L15 19H20C21.1046 19 22 18.1046 22 17V5C22 3.89543 21.1046 3 20 3H4C2.89543 3 2 3.89543 2 5V17C2 18.1046 2.89543 19 4 19H9ZM12 19.1716L14.1716 17H20V5H4L4 17H9.82843L12 19.1716Z" fill="currentColor"/>
<path d="M9.73374 14.6603L11.9999 13.3297L14.2661 14.6603C14.5878 14.8492 14.9786 14.5593 14.8912 14.1967L14.2965 11.7277L16.279 10.0676C16.5695 9.82438 16.4181 9.35125 16.0403 9.32191L13.4152 9.11796L12.3877 6.75425C12.2403 6.41525 11.7595 6.41525 11.6122 6.75425L10.5846 9.11796L7.95951 9.32191C7.58176 9.35125 7.43032 9.82438 7.72082 10.0676L9.70335 11.7277L9.10859 14.1967C9.02124 14.5593 9.41208 14.8492 9.73374 14.6603Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9 19L12 22L15 19H20C21.1046 19 22 18.1046 22 17V5C22 3.89543 21.1046 3 20 3H4C2.89543 3 2 3.89543 2 5V17C2 18.1046 2.89543 19 4 19H9ZM12 19.1716L14.1716 17H20V5H4L4 17H9.82843L12 19.1716Z" style="fill: var(--element-active-color)"/>
<path d="M9.73374 14.6603L11.9999 13.3297L14.2661 14.6603C14.5878 14.8492 14.9786 14.5593 14.8912 14.1967L14.2965 11.7277L16.279 10.0676C16.5695 9.82438 16.4181 9.35125 16.0403 9.32191L13.4152 9.11796L12.3877 6.75425C12.2403 6.41525 11.7595 6.41525 11.6122 6.75425L10.5846 9.11796L7.95951 9.32191C7.58176 9.35125 7.43032 9.82438 7.72082 10.0676L9.70335 11.7277L9.10859 14.1967C9.02124 14.5593 9.41208 14.8492 9.73374 14.6603Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};qp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;Jx([M({type:Boolean})],qp.prototype,"useCssColor",2);qp=Jx([ie("obi-notification-advice")],qp);var PV=Object.defineProperty,RV=Object.getOwnPropertyDescriptor,eE=(r,e,t,i)=>{for(var n=i>1?void 0:i?RV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&PV(e,t,n),n};let Yp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4 19C2.89543 19 2 18.1046 2 17V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V17C22 18.1046 21.1046 19 20 19H15L12 22L9 19H4ZM11.9999 13.5759L9.32009 15.1495C8.93971 15.3728 8.47753 15.03 8.58083 14.6012L9.28416 11.6815L6.93972 9.7184C6.5962 9.43075 6.77528 8.87125 7.22199 8.83654L10.3263 8.59537L11.5414 5.80017C11.7157 5.39929 12.2842 5.39929 12.4585 5.80017L13.6736 8.59537L16.7779 8.83654C17.2246 8.87125 17.4037 9.43075 17.0602 9.7184L14.7157 11.6815L15.4191 14.6012C15.5224 15.03 15.0602 15.3728 14.6798 15.1495L11.9999 13.5759Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4 19C2.89543 19 2 18.1046 2 17V5C2 3.89543 2.89543 3 4 3H20C21.1046 3 22 3.89543 22 5V17C22 18.1046 21.1046 19 20 19H15L12 22L9 19H4ZM11.9999 13.5759L9.32009 15.1495C8.93971 15.3728 8.47753 15.03 8.58083 14.6012L9.28416 11.6815L6.93972 9.7184C6.5962 9.43075 6.77528 8.87125 7.22199 8.83654L10.3263 8.59537L11.5414 5.80017C11.7157 5.39929 12.2842 5.39929 12.4585 5.80017L13.6736 8.59537L16.7779 8.83654C17.2246 8.87125 17.4037 9.43075 17.0602 9.7184L14.7157 11.6815L15.4191 14.6012C15.5224 15.03 15.0602 15.3728 14.6798 15.1495L11.9999 13.5759Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Yp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;eE([M({type:Boolean})],Yp.prototype,"useCssColor",2);Yp=eE([ie("obi-notification-advice-active")],Yp);var DV=Object.defineProperty,OV=Object.getOwnPropertyDescriptor,tE=(r,e,t,i)=>{for(var n=i>1?void 0:i?OV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&DV(e,t,n),n};let Xp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4.51477 2.10051L3.10056 3.51473L7.58576 7.99993H4.6C4.03995 7.99993 3.75992 7.99993 3.54601 8.10892C3.35785 8.20479 3.20487 8.35777 3.10899 8.54594C3 8.75985 3 9.03987 3 9.59993V14.3999C3 14.96 3 15.24 3.10899 15.4539C3.20487 15.6421 3.35785 15.7951 3.54601 15.8909C3.75992 15.9999 4.03995 15.9999 4.6 15.9999H11L16.6343 21.6342C17.0627 22.0626 17.2769 22.2768 17.4608 22.2913C17.6203 22.3038 17.7763 22.2393 17.8802 22.1175C18 21.9773 18 21.6744 18 21.0686V18.4142L20.4853 20.8995L21.8995 19.4853L4.51477 2.10051ZM5 9.99993H9.58576L16 16.4142V18.1715L11.8284 13.9999H5V9.99993Z" fill="currentColor"/>
<path d="M12.1213 6.8786L13.5355 8.29282L16 5.82835V10.7573L18 12.7573V2.9313C18 2.32548 18 2.02257 17.8802 1.88231C17.7763 1.76061 17.6203 1.69602 17.4608 1.70858C17.2769 1.72305 17.0627 1.93724 16.6343 2.36561L12.1213 6.8786Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4.51477 2.10051L3.10056 3.51473L7.58576 7.99993H4.6C4.03995 7.99993 3.75992 7.99993 3.54601 8.10892C3.35785 8.20479 3.20487 8.35777 3.10899 8.54594C3 8.75985 3 9.03987 3 9.59993V14.3999C3 14.96 3 15.24 3.10899 15.4539C3.20487 15.6421 3.35785 15.7951 3.54601 15.8909C3.75992 15.9999 4.03995 15.9999 4.6 15.9999H11L16.6343 21.6342C17.0627 22.0626 17.2769 22.2768 17.4608 22.2913C17.6203 22.3038 17.7763 22.2393 17.8802 22.1175C18 21.9773 18 21.6744 18 21.0686V18.4142L20.4853 20.8995L21.8995 19.4853L4.51477 2.10051ZM5 9.99993H9.58576L16 16.4142V18.1715L11.8284 13.9999H5V9.99993Z" style="fill: var(--element-active-color)"/>
<path d="M12.1213 6.8786L13.5355 8.29282L16 5.82835V10.7573L18 12.7573V2.9313C18 2.32548 18 2.02257 17.8802 1.88231C17.7763 1.76061 17.6203 1.69602 17.4608 1.70858C17.2769 1.72305 17.0627 1.93724 16.6343 2.36561L12.1213 6.8786Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Xp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;tE([M({type:Boolean})],Xp.prototype,"useCssColor",2);Xp=tE([ie("obi-silence-iec")],Xp);var $V=Object.defineProperty,VV=Object.getOwnPropertyDescriptor,iE=(r,e,t,i)=>{for(var n=i>1?void 0:i?VV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&$V(e,t,n),n};let Qp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22Z" fill="currentColor"/>
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22ZM8 17H16V10C16 8.9 15.6083 7.95833 14.825 7.175C14.0417 6.39167 13.1 6 12 6C10.9 6 9.95833 6.39167 9.175 7.175C8.39167 7.95833 8 8.9 8 10V17Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22Z" style="fill: var(--alert-alarm-color)"/>
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22ZM8 17H16V10C16 8.9 15.6083 7.95833 14.825 7.175C14.0417 6.39167 13.1 6 12 6C10.9 6 9.95833 6.39167 9.175 7.175C8.39167 7.95833 8 8.9 8 10V17Z" style="fill: var(--alert-alarm-outline-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Qp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;iE([M({type:Boolean})],Qp.prototype,"useCssColor",2);Qp=iE([ie("obi-alerts-alarm-twotone")],Qp);var FV=Object.defineProperty,BV=Object.getOwnPropertyDescriptor,rE=(r,e,t,i)=>{for(var n=i>1?void 0:i?BV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&FV(e,t,n),n};let Jp=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22Z" fill="currentColor"/>
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22ZM8 17H16V10C16 8.9 15.6083 7.95833 14.825 7.175C14.0417 6.39167 13.1 6 12 6C10.9 6 9.95833 6.39167 9.175 7.175C8.39167 7.95833 8 8.9 8 10V17Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22Z" style="fill: var(--warning-enabled-background-color)"/>
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22ZM8 17H16V10C16 8.9 15.6083 7.95833 14.825 7.175C14.0417 6.39167 13.1 6 12 6C10.9 6 9.95833 6.39167 9.175 7.175C8.39167 7.95833 8 8.9 8 10V17Z" style="fill: var(--alert-warning-outline-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Jp.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;rE([M({type:Boolean})],Jp.prototype,"useCssColor",2);Jp=rE([ie("obi-alerts-warning-twotone")],Jp);var NV=Object.defineProperty,HV=Object.getOwnPropertyDescriptor,nE=(r,e,t,i)=>{for(var n=i>1?void 0:i?HV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&NV(e,t,n),n};let e0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22Z" fill="currentColor"/>
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22ZM8 17H16V10C16 8.9 15.6083 7.95833 14.825 7.175C14.0417 6.39167 13.1 6 12 6C10.9 6 9.95833 6.39167 9.175 7.175C8.39167 7.95833 8 8.9 8 10V17Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22Z" style="fill: var(--alert-caution-color)"/>
<path d="M4 19V17H6V10C6 8.61667 6.41667 7.3875 7.25 6.3125C8.08333 5.2375 9.16667 4.53333 10.5 4.2V3.5C10.5 3.08333 10.6458 2.72917 10.9375 2.4375C11.2292 2.14583 11.5833 2 12 2C12.4167 2 12.7708 2.14583 13.0625 2.4375C13.3542 2.72917 13.5 3.08333 13.5 3.5V4.2C14.8333 4.53333 15.9167 5.2375 16.75 6.3125C17.5833 7.3875 18 8.61667 18 10V17H20V19H4ZM12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H14C14 20.55 13.8042 21.0208 13.4125 21.4125C13.0208 21.8042 12.55 22 12 22ZM8 17H16V10C16 8.9 15.6083 7.95833 14.825 7.175C14.0417 6.39167 13.1 6 12 6C10.9 6 9.95833 6.39167 9.175 7.175C8.39167 7.95833 8 8.9 8 10V17Z" style="fill: var(--alert-caution-outline-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};e0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;nE([M({type:Boolean})],e0.prototype,"useCssColor",2);e0=nE([ie("obi-alerts-caution-twotone")],e0);var js=(r=>(r.Alarm="alarm",r.Warning="warning",r.Caution="caution",r))(js||{}),UV=Object.defineProperty,zV=Object.getOwnPropertyDescriptor,Cn=(r,e,t,i)=>{for(var n=i>1?void 0:i?zV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&UV(e,t,n),n},Wv=(r=>(r.Flat="flat",r.Normal="normal",r.Enhanced="enhanced",r))(Wv||{});let $r=class extends ee{constructor(){super(...arguments),this.nAlerts=0,this.type="normal",this.large=!1,this.showSilenceButton=!1,this.silenceButtonDisabled=!1,this.counter=!1,this.blinking=!1,this.flatMaxBreakpointPx=0,this.silenceButtonMinBreakpointPx=0,this.width=window.innerWidth,this.resizeListener=()=>{this.width=window.innerWidth}}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.resizeListener)}disconnectedCallback(){window.removeEventListener("resize",this.resizeListener),super.disconnectedCallback()}alertIcon(){return this.nAlerts===0?F`<obi-alerts class="icon"></obi-alerts>`:this.type==="enhanced"?F`<obi-alerts-active class="icon"></obi-alerts-active>`:this.alertType===js.Alarm?F`<obi-alerts-alarm-twotone
          useCssColor
          class="icon"
        ></obi-alerts-alarm-twotone>`:this.alertType===js.Warning?F`<obi-alerts-warning-twotone
          useCssColor
          class="icon"
        ></obi-alerts-warning-twotone>`:F`<obi-alerts-caution-twotone
          useCssColor
          class="icon"
        ></obi-alerts-caution-twotone>`}get activeType(){return this.type==="flat"||this.width<this.flatMaxBreakpointPx?"flat":this.type}get showSilenceButtonDynamic(){return this.showSilenceButton&&this.width>=this.silenceButtonMinBreakpointPx&&this.activeType!=="flat"}render(){const r=this.nAlerts>0,e=this.counter&&r&&this.activeType!=="flat",t=this.blinking&&r&&this.alertType!==js.Caution;return F`
      <div
        class=${ti({wrapper:!0,[`alert-type-${this.alertType??"none"}`]:!0,counter:e,"has-silence":this.showSilenceButtonDynamic,[`type-${this.activeType}`]:!0,blinking:t,large:this.large})}
      >
        <button
          class="alert-button"
          @click=${()=>this.dispatchEvent(new CustomEvent("click-alert"))}
        >
          ${t?F` <div class="blink">
                <obi-alerts class="icon"></obi-alerts>
                ${e?F`<div class="badge">${this.nAlerts}</div>`:null}
              </div>`:He}
          <div class="visible-wrapper">
            ${this.alertIcon()}
            ${e?F`<div class="badge">${this.nAlerts}</div>`:He}
          </div>
        </button>

        ${this.showSilenceButtonDynamic?F`
              <button
                class="silence-button"
                @click=${()=>this.dispatchEvent(new CustomEvent("click-silence"))}
                ?disabled=${this.silenceButtonDisabled}
              >
                <div class="visible-wrapper">
                  <obi-silence-iec class="icon"></obi-silence-iec>
                </div>
              </button>
            `:null}
      </div>
    `}};$r.styles=ot(wV);Cn([M({type:Number})],$r.prototype,"nAlerts",2);Cn([M({type:String})],$r.prototype,"alertType",2);Cn([M({type:String})],$r.prototype,"type",2);Cn([M({type:Boolean})],$r.prototype,"large",2);Cn([M({type:Boolean})],$r.prototype,"showSilenceButton",2);Cn([M({type:Boolean})],$r.prototype,"silenceButtonDisabled",2);Cn([M({type:Boolean})],$r.prototype,"counter",2);Cn([M({type:Boolean})],$r.prototype,"blinking",2);Cn([M({type:Number})],$r.prototype,"flatMaxBreakpointPx",2);Cn([M({type:Number})],$r.prototype,"silenceButtonMinBreakpointPx",2);Cn([ba()],$r.prototype,"width",2);$r=Cn([ie("obc-alert-button")],$r);const jV=Ne({__name:"ObcAlertButton",props:{nAlerts:{},alertType:{},type:{},large:{type:Boolean},showSilenceButton:{type:Boolean},silenceButtonDisabled:{type:Boolean},counter:{type:Boolean},blinking:{type:Boolean},flatMaxBreakpointPx:{},silenceButtonMinBreakpointPx:{}},emits:["click-alert","click-silence"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onClickAlert:u=>o("click-alert",u),onClickSilence:u=>o("click-silence",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-alert-button",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}}),GV=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
ol {
    display: block;
    list-style-type: none;
    margin: 0;
    padding: 0;
    width: fit-content;

    border-radius: 6px;
    background: var(--normal-enabled-background-color);
    box-shadow: var(--shadow-floating);
}`;var ZV=Object.getOwnPropertyDescriptor,WV=(r,e,t,i)=>{for(var n=i>1?void 0:i?ZV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Kv=class extends ee{render(){return F` <ol>
      <slot></slot>
    </ol>`}};Kv.styles=ot(GV);Kv=WV([ie("obc-context-menu")],Kv);const KV=Ne({__name:"ObcContextMenu",setup(r){const e=mt(),t=()=>lt("obc-context-menu",{},vt(e));return(i,n)=>(G(),Re(t))}}),qV=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
.wrapper {
    width: 100%;
}
.wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}
.wrapper:focus {
            outline: none;
}
.wrapper.activated {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}
@media (hover:hover) {
            .wrapper:hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}
.wrapper:active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}
.wrapper:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}
.wrapper:disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}
.wrapper:focus-visible {
    outline-offset: -4px;
  }
.wrapper img {
        width: 100%;
        height: 100%;
    }`;var YV=Object.defineProperty,XV=Object.getOwnPropertyDescriptor,r4=(r,e,t,i)=>{for(var n=i>1?void 0:i?XV(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&YV(e,t,n),n};let ad=class extends ee{constructor(){super(...arguments),this.imageSrc="",this.alt="logo"}render(){return F`
      <button class="wrapper">
        <img src=${this.imageSrc} alt=${this.alt} />
      </button>
    `}};ad.styles=ot(qV);r4([M({type:String})],ad.prototype,"imageSrc",2);r4([M({type:String})],ad.prototype,"alt",2);ad=r4([ie("obc-vendor-button")],ad);const QV=Ne({__name:"ObcVendorButton",props:{imageSrc:{},alt:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-vendor-button",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),JV=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
  user-select: none;
}

.wrapper {
  display: flex;
  width: var(--app-components-topbar-message-item-width);
  height: var(--app-components-topbar-message-item-touch-target);
  align-items: center;
}

.wrapper.large {
  height: var(--app-components-topbar-message-item-touch-target-size-tall);
  padding: var(--app-components-topbar-message-item-tall-padding-vertical) 0px;
}

.message-item-touch {
            cursor: pointer;
}

.message-item-touch:focus {
            outline: none;
}

.message-item-touch.activated .message-item {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

.message-item-touch .message-item {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

.message-item-touch:hover .message-item {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

.message-item-touch:active .message-item {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

.message-item-touch:focus-visible .message-item {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.message-item-touch:disabled .message-item {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

.message-item-touch {
  flex-grow: 1;
  flex-shrink: 1;
  min-width: 0;
  display: flex;
  appearance: none;
  border: none;
  background-color: transparent;
  padding: 0;
}

.large .message-item-touch {
    height: 100%;
  }

.message-item {
  display: flex;
  flex-grow: 1;
  min-width: 0;
  height: var(--app-components-topbar-message-item-visual-target);
  padding: 0px var(--app-components-topbar-message-item-padding-horizontal);
  align-items: center;
  border-radius: var(
      --app-components-topbar-message-item-border-radius-top-left
    )
    var(--app-components-topbar-message-item-border-radius-top-right)
    var(--app-components-topbar-message-item-border-radius-bottom-right)
    var(--app-components-topbar-message-item-border-radius-bottom-left);
}

.action-text-button .message-item,.action-icon-button .message-item,.action-icon-no-click .message-item {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    border-right-width: 0;
  }

.large .message-item {
    height: 100%;
  }

.icon-container {
  display: flex;
  align-items: center;
  gap: var(--app-components-topbar-message-item-icon-spacing);
}

.icon {
  width: var(--app-components-topbar-message-item-icon-size);
  height: var(--app-components-topbar-message-item-icon-size);
  color: var(--element-neutral-color);
}

.content-container {
  display: flex;
  min-width: 0;
  padding: 0px var(--app-components-topbar-message-item-label-padding);
  justify-content: start;
  align-items: baseline;
  flex-grow: 1;
  flex-shrink: 1;
  flex-basis: 0;
  gap: var(--app-components-topbar-message-item-label-spacing);
}

.large .content-container {
    padding-left: var(--app-components-topbar-message-item-label-padding);
    flex-direction: column;
    gap: 0;
    align-items: flex-start;
    justify-content: center;
  }

.title-container {
  min-width: 0;
  display: flex;
  justify-content: space-between;
  align-items: baseline;

  gap: var(--app-components-topbar-message-item-label-padding);
}

.large .title-container {
    width: 100%;
  }

.title {
  /* UI/Body-Active */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-active-font-size);
  font-style: normal;
  font-weight: var(--font-weight-bold);
  line-height: var(--global-typography-ui-body-active-line-height);
  color: var(--element-active-color);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
}

.description {
  /* UI/Body */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-body-font-weight);
  line-height: var(--global-typography-ui-body-line-height);
  text-decoration: none;
  flex-shrink: 10000000;
  color: var(--element-neutral-color);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
  width: 100%;
  text-align: left;
}

::slotted(*) {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.time {
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-label-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-label-font-weight);
  line-height: var(--global-typography-ui-label-line-height);
  color: var(--element-neutral-color);
}

.action-wrapper {
  appearance: none;
  border: none;
  background-color: transparent;
  padding: 0;
  display: flex;
  min-width: var(--global-size-spacing-touch-target-min);
  width: var(--app-components-topbar-message-item-cta-button-width);
  min-height: var(--global-size-spacing-touch-target-min);
  padding: var(--ui-components-icon-button-padding-vertical) 0px;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
}

.action-icon-button .action-wrapper,.action-icon-no-click .action-wrapper {
    color: var(--on-normal-neutral-color);
  }

.action-text-button .action-wrapper {
    color: var(--on-normal-active-color);
  }

:is(.action-icon-button .action-wrapper,.action-text-button .action-wrapper) {
            cursor: pointer;
}

:is(.action-icon-button .action-wrapper,.action-text-button .action-wrapper):focus {
            outline: none;
}

.activated:is(.action-icon-button .action-wrapper,.action-text-button .action-wrapper) .action {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

:is(.action-icon-button .action-wrapper,.action-text-button .action-wrapper) .action {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

:is(.action-icon-button .action-wrapper,.action-text-button .action-wrapper):hover .action {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

:is(.action-icon-button .action-wrapper,.action-text-button .action-wrapper):active .action {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

:is(.action-icon-button .action-wrapper,.action-text-button .action-wrapper):focus-visible .action {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.action-icon-button .action-wrapper,.action-text-button .action-wrapper):disabled .action {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

:is(.action-icon-no-click .action-wrapper) .action {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
}

.large .action-wrapper {
    height: 100%;
    padding: 0;
  }

.action {
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-button-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-button-font-weight);
  line-height: var(--global-typography-ui-button-line-height);
  display: flex;
  height: var(--ui-components-icon-button-visual-target-size);
  min-width: var(--global-size-spacing-visual-target-min);
  justify-content: center;
  align-items: center;
  align-self: stretch;
  border-radius: 0 var(--ui-components-button-border-radius-top-right)
    var(--ui-components-button-border-radius-bottom-right) 0;
}

.large .action {
    height: 100%;
  }

.action-text-button .action {
  display: flex;
  padding: 0px var(--ui-components-button-label-spacing);
  justify-content: center;
  align-items: center;
}

.wrapper.empty {
  justify-content: center;
  flex-direction: column;
}

.empty-message {
  display: flex;
  width: 100%;
  height: var(--app-components-topbar-message-item-visual-target);
  padding: 0px var(--app-components-topbar-message-item-padding-horizontal);
  align-items: center;
  flex-shrink: 0;
  align-self: stretch;
  border-radius: var(
      --app-components-topbar-message-item-border-radius-top-left
    )
    var(--app-components-topbar-message-item-border-radius-top-right)
    var(--app-components-topbar-message-item-border-radius-bottom-right)
    var(--app-components-topbar-message-item-border-radius-bottom-left);
}

.empty-message {
            border-color: var(--indent-enabled-border-color);
            background-color: var(--indent-enabled-background-color);
            border-width: 1px;
            border-style: solid;
  color: var(--on-indent-neutral-color);
  /* UI/Body */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-body-font-weight);
  line-height: var(--global-typography-ui-body-line-height);
  text-decoration: none;
}

.large .empty-message {
    height: 100%;
  }

.spacer {
  flex-grow: 1;
}
`;var eF=Object.defineProperty,tF=Object.getOwnPropertyDescriptor,nm=(r,e,t,i)=>{for(var n=i>1?void 0:i?tF(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&eF(e,t,n),n},qv=(r=>(r.TextButton="text-button",r.IconButton="icon-button",r.IconNoClick="icon-no-click",r.None="none",r))(qv||{});let Dc=class extends ee{constructor(){super(...arguments),this.large=!1,this.empty=!1,this.action="none"}onMessageClick(){this.dispatchEvent(new CustomEvent("message-click"))}onActionClick(){this.dispatchEvent(new CustomEvent("action-click"))}render(){return F`
      <div
        class=${ti({wrapper:!0,empty:this.empty,large:this.large,["action-"+this.action]:!0})}
      >
        ${this.empty?F`<div class="empty-message"><slot name="empty"></slot></div>`:F` <button
                class="message-item-touch"
                @click=${this.onMessageClick}
              >
                <div class="message-item">
                  <div class="icon-container">
                    <div class="icon primary">
                      <slot name="primary-icon"></slot>
                    </div>
                    <div class="icon secondary">
                      <slot name="secondary-icon"></slot>
                    </div>
                  </div>
                  <div class="content-container">
                    <div class="title-container">
                      <div class="title">
                        <slot name="title"></slot>
                      </div>
                      ${this.large?F`<div class="time">
                            <slot name="time"></slot>
                          </div>`:He}
                    </div>
                    <div class="description">
                      <slot name="description"></slot>
                    </div>
                    <div class="spacer"></div>
                    ${this.large?He:F`<div class="time"><slot name="time"></slot></div>`}
                  </div>
                </div>
              </button>
              ${this.action==="none"?He:this.action==="icon-no-click"?F`<div class="action-wrapper">
                      <div class="action">
                        <slot name="action-icon"></slot>
                      </div>
                    </div>`:F`
                      <button
                        class="action-wrapper"
                        @click=${this.onActionClick}
                      >
                        <div class="action">
                          ${this.action==="icon-button"?F`<slot name="action-icon"></slot>`:F`<slot name="action-text"></slot>`}
                        </div>
                      </button>
                    `}`}
      </div>
    `}};Dc.styles=ot(JV);nm([M({type:Boolean})],Dc.prototype,"large",2);nm([M({type:Boolean})],Dc.prototype,"empty",2);nm([M({type:String})],Dc.prototype,"action",2);Dc=nm([ie("obc-notification-message")],Dc);const iF=Ne({__name:"ObcNotificationMessage",props:{large:{type:Boolean},empty:{type:Boolean},action:{}},emits:["message-click","action-click"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onMessageClick:u=>o("message-click",u),onActionClick:u=>o("action-click",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-notification-message",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}});var Tt;(function(r){r.assertEqual=n=>n;function e(n){}r.assertIs=e;function t(n){throw new Error}r.assertNever=t,r.arrayToEnum=n=>{const s={};for(const o of n)s[o]=o;return s},r.getValidEnumValues=n=>{const s=r.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),o={};for(const a of s)o[a]=n[a];return r.objectValues(o)},r.objectValues=n=>r.objectKeys(n).map(function(s){return n[s]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.push(o);return s},r.find=(n,s)=>{for(const o of n)if(s(o))return o},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function i(n,s=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}r.joinValues=i,r.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(Tt||(Tt={}));var Yv;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Yv||(Yv={}));const Ie=Tt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bs=r=>{switch(typeof r){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(r)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(r)?Ie.array:r===null?Ie.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Ie.promise:typeof Map<"u"&&r instanceof Map?Ie.map:typeof Set<"u"&&r instanceof Set?Ie.set:typeof Date<"u"&&r instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},me=Tt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rF=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class Yr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},i={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)i._errors.push(t(o));else{let a=i,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return n(this),i}static assert(e){if(!(e instanceof Yr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):i.push(e(n));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}Yr.create=r=>new Yr(r);const Oc=(r,e)=>{let t;switch(r.code){case me.invalid_type:r.received===Ie.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case me.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Tt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:t=`Unrecognized key(s) in object: ${Tt.joinValues(r.keys,", ")}`;break;case me.invalid_union:t="Invalid input";break;case me.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Tt.joinValues(r.options)}`;break;case me.invalid_enum_value:t=`Invalid enum value. Expected ${Tt.joinValues(r.options)}, received '${r.received}'`;break;case me.invalid_arguments:t="Invalid function arguments";break;case me.invalid_return_type:t="Invalid function return type";break;case me.invalid_date:t="Invalid date";break;case me.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Tt.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case me.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case me.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case me.custom:t="Invalid input";break;case me.invalid_intersection_types:t="Intersection results could not be merged";break;case me.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case me.not_finite:t="Number must be finite";break;default:t=e.defaultError,Tt.assertNever(r)}return{message:t}};let sE=Oc;function nF(r){sE=r}function t0(){return sE}const i0=r=>{const{data:e,path:t,errorMaps:i,issueData:n}=r,s=[...t,...n.path||[]],o={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let a="";const l=i.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...n,path:s,message:a}},sF=[];function Se(r,e){const t=t0(),i=i0({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Oc?void 0:Oc].filter(n=>!!n)});r.common.issues.push(i)}class dr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const n of t){if(n.status==="aborted")return qe;n.status==="dirty"&&e.dirty(),i.push(n.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const n of t){const s=await n.key,o=await n.value;i.push({key:s,value:o})}return dr.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const n of t){const{key:s,value:o}=n;if(s.status==="aborted"||o.status==="aborted")return qe;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const qe=Object.freeze({status:"aborted"}),sc=r=>({status:"dirty",value:r}),xr=r=>({status:"valid",value:r}),Xv=r=>r.status==="aborted",Qv=r=>r.status==="dirty",cl=r=>r.status==="valid",ld=r=>typeof Promise<"u"&&r instanceof Promise;function r0(r,e,t,i){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(r)}function oE(r,e,t,i,n){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var $e;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})($e||($e={}));var ih,rh;class ys{constructor(e,t,i,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const J8=(r,e)=>{if(cl(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Yr(r.common.issues);return this._error=t,this._error}}};function at(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:n}=r;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,a)=>{var l,c;const{message:u}=r;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??i)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:a.defaultError}},description:n}}class ht{get description(){return this._def.description}_getType(e){return Bs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new dr,ctx:{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ld(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;const n={common:{issues:[],async:(i=t==null?void 0:t.async)!==null&&i!==void 0?i:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},s=this._parseSync({data:e,path:n.path,parent:n});return J8(n,s)}"~validate"(e){var t,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return cl(s)?{value:s.value}:{issues:n.common.issues}}catch(s){!((i=(t=s==null?void 0:s.message)===null||t===void 0?void 0:t.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>cl(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},n=this._parse({data:e,path:i.path,parent:i}),s=await(ld(n)?n:Promise.resolve(n));return J8(i,s)}refine(e,t){const i=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,s)=>{const o=e(n),a=()=>s.addIssue({code:me.custom,...i(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((i,n)=>e(i)?!0:(n.addIssue(typeof t=="function"?t(i,n):t),!1))}_refinement(e){return new $n({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return hs.create(this,this._def)}nullable(){return ea.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rn.create(this)}promise(){return Vc.create(this,this._def)}or(e){return dd.create([this,e],this._def)}and(e){return fd.create(this,e,this._def)}transform(e){return new $n({...at(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new yd({...at(this._def),innerType:this,defaultValue:t,typeName:Ke.ZodDefault})}brand(){return new n4({typeName:Ke.ZodBranded,type:this,...at(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new bd({...at(this._def),innerType:this,catchValue:t,typeName:Ke.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return lf.create(this,e)}readonly(){return _d.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oF=/^c[^\s-]{8,}$/i,aF=/^[0-9a-z]+$/,lF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uF=/^[a-z0-9_-]{21}$/i,hF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,dF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let w2;const gF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,vF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_F=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wF=new RegExp(`^${aE}$`);function lE(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function CF(r){return new RegExp(`^${lE(r)}$`)}function cE(r){let e=`${aE}T${lE(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function xF(r,e){return!!((e==="v4"||!e)&&gF.test(r)||(e==="v6"||!e)&&vF.test(r))}function EF(r,e){if(!hF.test(r))return!1;try{const[t]=r.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),n=JSON.parse(atob(i));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function TF(r,e){return!!((e==="v4"||!e)&&mF.test(r)||(e==="v6"||!e)&&yF.test(r))}class kn extends ht{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const s=this._getOrReturnCtx(e);return Se(s,{code:me.invalid_type,expected:Ie.string,received:s.parsedType}),qe}const i=new dr;let n;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(n=this._getOrReturnCtx(e,n),o?Se(n,{code:me.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Se(n,{code:me.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")fF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"email",code:me.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")w2||(w2=new RegExp(pF,"u")),w2.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"emoji",code:me.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")cF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"uuid",code:me.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")uF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"nanoid",code:me.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")oF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"cuid",code:me.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")aF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"cuid2",code:me.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")lF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"ulid",code:me.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Se(n,{validation:"url",code:me.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"regex",code:me.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),Se(n,{code:me.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),Se(n,{code:me.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),Se(n,{code:me.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?cE(s).test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{code:me.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?wF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{code:me.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?CF(s).test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{code:me.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?dF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"duration",code:me.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?xF(e.data,s.version)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"ip",code:me.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?EF(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"jwt",code:me.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?TF(e.data,s.version)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"cidr",code:me.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?bF.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"base64",code:me.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?_F.test(e.data)||(n=this._getOrReturnCtx(e,n),Se(n,{validation:"base64url",code:me.invalid_string,message:s.message}),i.dirty()):Tt.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(n=>e.test(n),{validation:t,code:me.invalid_string,...$e.errToObj(i)})}_addCheck(e){return new kn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$e.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$e.errToObj(e)})}datetime(e){var t,i;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(i=e==null?void 0:e.local)!==null&&i!==void 0?i:!1,...$e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...$e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...$e.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...$e.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...$e.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...$e.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...$e.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...$e.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...$e.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...$e.errToObj(t)})}nonempty(e){return this.min(1,$e.errToObj(e))}trim(){return new kn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}kn.create=r=>{var e;return new kn({checks:[],typeName:Ke.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...at(r)})};function LF(r,e){const t=(r.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,n=t>i?t:i,s=parseInt(r.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return s%o/Math.pow(10,n)}class Xo extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const s=this._getOrReturnCtx(e);return Se(s,{code:me.invalid_type,expected:Ie.number,received:s.parsedType}),qe}let i;const n=new dr;for(const s of this._def.checks)s.kind==="int"?Tt.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?LF(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Se(i,{code:me.not_finite,message:s.message}),n.dirty()):Tt.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,$e.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$e.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$e.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$e.toString(t))}setLimit(e,t,i,n){return new Xo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:$e.toString(n)}]})}_addCheck(e){return new Xo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:$e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Tt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Xo.create=r=>new Xo({checks:[],typeName:Ke.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...at(r)});class Qo extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ie.bigint)return this._getInvalidInput(e);let i;const n=new dr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Se(i,{code:me.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):Tt.assertNever(s);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Se(t,{code:me.invalid_type,expected:Ie.bigint,received:t.parsedType}),qe}gte(e,t){return this.setLimit("min",e,!0,$e.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$e.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$e.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$e.toString(t))}setLimit(e,t,i,n){return new Qo({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:$e.toString(n)}]})}_addCheck(e){return new Qo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Qo.create=r=>{var e;return new Qo({checks:[],typeName:Ke.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...at(r)})};class cd extends ht{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Ie.boolean,received:i.parsedType}),qe}return xr(e.data)}}cd.create=r=>new cd({typeName:Ke.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...at(r)});class ul extends ht{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const s=this._getOrReturnCtx(e);return Se(s,{code:me.invalid_type,expected:Ie.date,received:s.parsedType}),qe}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Se(s,{code:me.invalid_date}),qe}const i=new dr;let n;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),Se(n,{code:me.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):Tt.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ul({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:$e.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:$e.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ul.create=r=>new ul({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Ke.ZodDate,...at(r)});class n0 extends ht{_parse(e){if(this._getType(e)!==Ie.symbol){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Ie.symbol,received:i.parsedType}),qe}return xr(e.data)}}n0.create=r=>new n0({typeName:Ke.ZodSymbol,...at(r)});class ud extends ht{_parse(e){if(this._getType(e)!==Ie.undefined){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Ie.undefined,received:i.parsedType}),qe}return xr(e.data)}}ud.create=r=>new ud({typeName:Ke.ZodUndefined,...at(r)});class hd extends ht{_parse(e){if(this._getType(e)!==Ie.null){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Ie.null,received:i.parsedType}),qe}return xr(e.data)}}hd.create=r=>new hd({typeName:Ke.ZodNull,...at(r)});class $c extends ht{constructor(){super(...arguments),this._any=!0}_parse(e){return xr(e.data)}}$c.create=r=>new $c({typeName:Ke.ZodAny,...at(r)});class Qa extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(e){return xr(e.data)}}Qa.create=r=>new Qa({typeName:Ke.ZodUnknown,...at(r)});class Qs extends ht{_parse(e){const t=this._getOrReturnCtx(e);return Se(t,{code:me.invalid_type,expected:Ie.never,received:t.parsedType}),qe}}Qs.create=r=>new Qs({typeName:Ke.ZodNever,...at(r)});class s0 extends ht{_parse(e){if(this._getType(e)!==Ie.undefined){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Ie.void,received:i.parsedType}),qe}return xr(e.data)}}s0.create=r=>new s0({typeName:Ke.ZodVoid,...at(r)});class Rn extends ht{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),n=this._def;if(t.parsedType!==Ie.array)return Se(t,{code:me.invalid_type,expected:Ie.array,received:t.parsedType}),qe;if(n.exactLength!==null){const o=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(o||a)&&(Se(t,{code:o?me.too_big:me.too_small,minimum:a?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),i.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(Se(t,{code:me.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),i.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(Se(t,{code:me.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>n.type._parseAsync(new ys(t,o,t.path,a)))).then(o=>dr.mergeArray(i,o));const s=[...t.data].map((o,a)=>n.type._parseSync(new ys(t,o,t.path,a)));return dr.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new Rn({...this._def,minLength:{value:e,message:$e.toString(t)}})}max(e,t){return new Rn({...this._def,maxLength:{value:e,message:$e.toString(t)}})}length(e,t){return new Rn({...this._def,exactLength:{value:e,message:$e.toString(t)}})}nonempty(e){return this.min(1,e)}}Rn.create=(r,e)=>new Rn({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...at(e)});function Jl(r){if(r instanceof oi){const e={};for(const t in r.shape){const i=r.shape[t];e[t]=hs.create(Jl(i))}return new oi({...r._def,shape:()=>e})}else return r instanceof Rn?new Rn({...r._def,type:Jl(r.element)}):r instanceof hs?hs.create(Jl(r.unwrap())):r instanceof ea?ea.create(Jl(r.unwrap())):r instanceof bs?bs.create(r.items.map(e=>Jl(e))):r}class oi extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Tt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Ie.object){const c=this._getOrReturnCtx(e);return Se(c,{code:me.invalid_type,expected:Ie.object,received:c.parsedType}),qe}const{status:i,ctx:n}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Qs&&this._def.unknownKeys==="strip"))for(const c in n.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ys(n,h,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof Qs){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(c==="strict")a.length>0&&(Se(n,{code:me.unrecognized_keys,keys:a}),i.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ys(n,h,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,d=await u.value;c.push({key:h,value:d,alwaysSet:u.alwaysSet})}return c}).then(c=>dr.mergeObjectSync(i,c)):dr.mergeObjectSync(i,l)}get shape(){return this._def.shape()}strict(e){return $e.errToObj,new oi({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var n,s,o,a;const l=(o=(s=(n=this._def).errorMap)===null||s===void 0?void 0:s.call(n,t,i).message)!==null&&o!==void 0?o:i.defaultError;return t.code==="unrecognized_keys"?{message:(a=$e.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new oi({...this._def,unknownKeys:"strip"})}passthrough(){return new oi({...this._def,unknownKeys:"passthrough"})}extend(e){return new oi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new oi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ke.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new oi({...this._def,catchall:e})}pick(e){const t={};return Tt.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])}),new oi({...this._def,shape:()=>t})}omit(e){const t={};return Tt.objectKeys(this.shape).forEach(i=>{e[i]||(t[i]=this.shape[i])}),new oi({...this._def,shape:()=>t})}deepPartial(){return Jl(this)}partial(e){const t={};return Tt.objectKeys(this.shape).forEach(i=>{const n=this.shape[i];e&&!e[i]?t[i]=n:t[i]=n.optional()}),new oi({...this._def,shape:()=>t})}required(e){const t={};return Tt.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof hs;)s=s._def.innerType;t[i]=s}}),new oi({...this._def,shape:()=>t})}keyof(){return uE(Tt.objectKeys(this.shape))}}oi.create=(r,e)=>new oi({shape:()=>r,unknownKeys:"strip",catchall:Qs.create(),typeName:Ke.ZodObject,...at(e)});oi.strictCreate=(r,e)=>new oi({shape:()=>r,unknownKeys:"strict",catchall:Qs.create(),typeName:Ke.ZodObject,...at(e)});oi.lazycreate=(r,e)=>new oi({shape:r,unknownKeys:"strip",catchall:Qs.create(),typeName:Ke.ZodObject,...at(e)});class dd extends ht{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function n(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Yr(a.ctx.common.issues));return Se(t,{code:me.invalid_union,unionErrors:o}),qe}if(t.common.async)return Promise.all(i.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(n);{let s;const o=[];for(const l of i){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Yr(l));return Se(t,{code:me.invalid_union,unionErrors:a}),qe}}get options(){return this._def.options}}dd.create=(r,e)=>new dd({options:r,typeName:Ke.ZodUnion,...at(e)});const Ps=r=>r instanceof gd?Ps(r.schema):r instanceof $n?Ps(r.innerType()):r instanceof md?[r.value]:r instanceof Jo?r.options:r instanceof vd?Tt.objectValues(r.enum):r instanceof yd?Ps(r._def.innerType):r instanceof ud?[void 0]:r instanceof hd?[null]:r instanceof hs?[void 0,...Ps(r.unwrap())]:r instanceof ea?[null,...Ps(r.unwrap())]:r instanceof n4||r instanceof _d?Ps(r.unwrap()):r instanceof bd?Ps(r._def.innerType):[];class sm extends ht{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ie.object)return Se(t,{code:me.invalid_type,expected:Ie.object,received:t.parsedType}),qe;const i=this.discriminator,n=t.data[i],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Se(t,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){const n=new Map;for(const s of t){const o=Ps(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,s)}}return new sm({typeName:Ke.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...at(i)})}}function Jv(r,e){const t=Bs(r),i=Bs(e);if(r===e)return{valid:!0,data:r};if(t===Ie.object&&i===Ie.object){const n=Tt.objectKeys(e),s=Tt.objectKeys(r).filter(a=>n.indexOf(a)!==-1),o={...r,...e};for(const a of s){const l=Jv(r[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===Ie.array&&i===Ie.array){if(r.length!==e.length)return{valid:!1};const n=[];for(let s=0;s<r.length;s++){const o=r[s],a=e[s],l=Jv(o,a);if(!l.valid)return{valid:!1};n.push(l.data)}return{valid:!0,data:n}}else return t===Ie.date&&i===Ie.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class fd extends ht{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),n=(s,o)=>{if(Xv(s)||Xv(o))return qe;const a=Jv(s.value,o.value);return a.valid?((Qv(s)||Qv(o))&&t.dirty(),{status:t.value,value:a.data}):(Se(i,{code:me.invalid_intersection_types}),qe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>n(s,o)):n(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}fd.create=(r,e,t)=>new fd({left:r,right:e,typeName:Ke.ZodIntersection,...at(t)});class bs extends ht{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ie.array)return Se(i,{code:me.invalid_type,expected:Ie.array,received:i.parsedType}),qe;if(i.data.length<this._def.items.length)return Se(i,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&i.data.length>this._def.items.length&&(Se(i,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ys(i,o,i.path,a)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>dr.mergeArray(t,o)):dr.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new bs({...this._def,rest:e})}}bs.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bs({items:r,typeName:Ke.ZodTuple,rest:null,...at(e)})};class pd extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ie.object)return Se(i,{code:me.invalid_type,expected:Ie.object,received:i.parsedType}),qe;const n=[],s=this._def.keyType,o=this._def.valueType;for(const a in i.data)n.push({key:s._parse(new ys(i,a,i.path,a)),value:o._parse(new ys(i,i.data[a],i.path,a)),alwaysSet:a in i.data});return i.common.async?dr.mergeObjectAsync(t,n):dr.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof ht?new pd({keyType:e,valueType:t,typeName:Ke.ZodRecord,...at(i)}):new pd({keyType:kn.create(),valueType:e,typeName:Ke.ZodRecord,...at(t)})}}class o0 extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ie.map)return Se(i,{code:me.invalid_type,expected:Ie.map,received:i.parsedType}),qe;const n=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([a,l],c)=>({key:n._parse(new ys(i,a,i.path,[c,"key"])),value:s._parse(new ys(i,l,i.path,[c,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return qe;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return qe;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}}}}o0.create=(r,e,t)=>new o0({valueType:e,keyType:r,typeName:Ke.ZodMap,...at(t)});class hl extends ht{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==Ie.set)return Se(i,{code:me.invalid_type,expected:Ie.set,received:i.parsedType}),qe;const n=this._def;n.minSize!==null&&i.data.size<n.minSize.value&&(Se(i,{code:me.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&i.data.size>n.maxSize.value&&(Se(i,{code:me.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return qe;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const a=[...i.data.values()].map((l,c)=>s._parse(new ys(i,l,i.path,c)));return i.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new hl({...this._def,minSize:{value:e,message:$e.toString(t)}})}max(e,t){return new hl({...this._def,maxSize:{value:e,message:$e.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}hl.create=(r,e)=>new hl({valueType:r,minSize:null,maxSize:null,typeName:Ke.ZodSet,...at(e)});class gc extends ht{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ie.function)return Se(t,{code:me.invalid_type,expected:Ie.function,received:t.parsedType}),qe;function i(a,l){return i0({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,t0(),Oc].filter(c=>!!c),issueData:{code:me.invalid_arguments,argumentsError:l}})}function n(a,l){return i0({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,t0(),Oc].filter(c=>!!c),issueData:{code:me.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Vc){const a=this;return xr(async function(...l){const c=new Yr([]),u=await a._def.args.parseAsync(l,s).catch(f=>{throw c.addIssue(i(l,f)),c}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,s).catch(f=>{throw c.addIssue(n(h,f)),c})})}else{const a=this;return xr(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Yr([i(l,c.error)]);const u=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(u,s);if(!h.success)throw new Yr([n(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new gc({...this._def,args:bs.create(e).rest(Qa.create())})}returns(e){return new gc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new gc({args:e||bs.create([]).rest(Qa.create()),returns:t||Qa.create(),typeName:Ke.ZodFunction,...at(i)})}}class gd extends ht{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}gd.create=(r,e)=>new gd({getter:r,typeName:Ke.ZodLazy,...at(e)});class md extends ht{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Se(t,{received:t.data,code:me.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}md.create=(r,e)=>new md({value:r,typeName:Ke.ZodLiteral,...at(e)});function uE(r,e){return new Jo({values:r,typeName:Ke.ZodEnum,...at(e)})}class Jo extends ht{constructor(){super(...arguments),ih.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return Se(t,{expected:Tt.joinValues(i),received:t.parsedType,code:me.invalid_type}),qe}if(r0(this,ih)||oE(this,ih,new Set(this._def.values)),!r0(this,ih).has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return Se(t,{received:t.data,code:me.invalid_enum_value,options:i}),qe}return xr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Jo.create(e,{...this._def,...t})}exclude(e,t=this._def){return Jo.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}ih=new WeakMap;Jo.create=uE;class vd extends ht{constructor(){super(...arguments),rh.set(this,void 0)}_parse(e){const t=Tt.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==Ie.string&&i.parsedType!==Ie.number){const n=Tt.objectValues(t);return Se(i,{expected:Tt.joinValues(n),received:i.parsedType,code:me.invalid_type}),qe}if(r0(this,rh)||oE(this,rh,new Set(Tt.getValidEnumValues(this._def.values))),!r0(this,rh).has(e.data)){const n=Tt.objectValues(t);return Se(i,{received:i.data,code:me.invalid_enum_value,options:n}),qe}return xr(e.data)}get enum(){return this._def.values}}rh=new WeakMap;vd.create=(r,e)=>new vd({values:r,typeName:Ke.ZodNativeEnum,...at(e)});class Vc extends ht{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ie.promise&&t.common.async===!1)return Se(t,{code:me.invalid_type,expected:Ie.promise,received:t.parsedType}),qe;const i=t.parsedType===Ie.promise?t.data:Promise.resolve(t.data);return xr(i.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Vc.create=(r,e)=>new Vc({type:r,typeName:Ke.ZodPromise,...at(e)});class $n extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:o=>{Se(i,o),o.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){const o=n.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return qe;const l=await this._def.schema._parseAsync({data:a,path:i.path,parent:i});return l.status==="aborted"?qe:l.status==="dirty"||t.value==="dirty"?sc(l.value):l});{if(t.value==="aborted")return qe;const a=this._def.schema._parseSync({data:o,path:i.path,parent:i});return a.status==="aborted"?qe:a.status==="dirty"||t.value==="dirty"?sc(a.value):a}}if(n.type==="refinement"){const o=a=>{const l=n.refinement(a,s);if(i.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?qe:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?qe:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(n.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!cl(o))return o;const a=n.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>cl(o)?Promise.resolve(n.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);Tt.assertNever(n)}}$n.create=(r,e,t)=>new $n({schema:r,typeName:Ke.ZodEffects,effect:e,...at(t)});$n.createWithPreprocess=(r,e,t)=>new $n({schema:e,effect:{type:"preprocess",transform:r},typeName:Ke.ZodEffects,...at(t)});class hs extends ht{_parse(e){return this._getType(e)===Ie.undefined?xr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hs.create=(r,e)=>new hs({innerType:r,typeName:Ke.ZodOptional,...at(e)});class ea extends ht{_parse(e){return this._getType(e)===Ie.null?xr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ea.create=(r,e)=>new ea({innerType:r,typeName:Ke.ZodNullable,...at(e)});class yd extends ht{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===Ie.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}yd.create=(r,e)=>new yd({innerType:r,typeName:Ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...at(e)});class bd extends ht{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return ld(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Yr(i.common.issues)},input:i.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Yr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}bd.create=(r,e)=>new bd({innerType:r,typeName:Ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...at(e)});class a0 extends ht{_parse(e){if(this._getType(e)!==Ie.nan){const i=this._getOrReturnCtx(e);return Se(i,{code:me.invalid_type,expected:Ie.nan,received:i.parsedType}),qe}return{status:"valid",value:e.data}}}a0.create=r=>new a0({typeName:Ke.ZodNaN,...at(r)});const SF=Symbol("zod_brand");class n4 extends ht{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class lf extends ht{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?qe:s.status==="dirty"?(t.dirty(),sc(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const n=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return n.status==="aborted"?qe:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:i.path,parent:i})}}static create(e,t){return new lf({in:e,out:t,typeName:Ke.ZodPipeline})}}class _d extends ht{_parse(e){const t=this._def.innerType._parse(e),i=n=>(cl(n)&&(n.value=Object.freeze(n.value)),n);return ld(t)?t.then(n=>i(n)):i(t)}unwrap(){return this._def.innerType}}_d.create=(r,e)=>new _d({innerType:r,typeName:Ke.ZodReadonly,...at(e)});function hE(r,e={},t){return r?$c.create().superRefine((i,n)=>{var s,o;if(!r(i)){const a=typeof e=="function"?e(i):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;n.addIssue({code:"custom",...c,fatal:l})}}):$c.create()}const AF={object:oi.lazycreate};var Ke;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const kF=(r,e={message:`Input not instance of ${r.name}`})=>hE(t=>t instanceof r,e),dE=kn.create,fE=Xo.create,IF=a0.create,MF=Qo.create,pE=cd.create,PF=ul.create,RF=n0.create,DF=ud.create,OF=hd.create,$F=$c.create,VF=Qa.create,FF=Qs.create,BF=s0.create,NF=Rn.create,HF=oi.create,UF=oi.strictCreate,zF=dd.create,jF=sm.create,GF=fd.create,ZF=bs.create,WF=pd.create,KF=o0.create,qF=hl.create,YF=gc.create,XF=gd.create,QF=md.create,JF=Jo.create,eB=vd.create,tB=Vc.create,e7=$n.create,iB=hs.create,rB=ea.create,nB=$n.createWithPreprocess,sB=lf.create,oB=()=>dE().optional(),aB=()=>fE().optional(),lB=()=>pE().optional(),cB={string:r=>kn.create({...r,coerce:!0}),number:r=>Xo.create({...r,coerce:!0}),boolean:r=>cd.create({...r,coerce:!0}),bigint:r=>Qo.create({...r,coerce:!0}),date:r=>ul.create({...r,coerce:!0})},uB=qe;var St=Object.freeze({__proto__:null,defaultErrorMap:Oc,setErrorMap:nF,getErrorMap:t0,makeIssue:i0,EMPTY_PATH:sF,addIssueToContext:Se,ParseStatus:dr,INVALID:qe,DIRTY:sc,OK:xr,isAborted:Xv,isDirty:Qv,isValid:cl,isAsync:ld,get util(){return Tt},get objectUtil(){return Yv},ZodParsedType:Ie,getParsedType:Bs,ZodType:ht,datetimeRegex:cE,ZodString:kn,ZodNumber:Xo,ZodBigInt:Qo,ZodBoolean:cd,ZodDate:ul,ZodSymbol:n0,ZodUndefined:ud,ZodNull:hd,ZodAny:$c,ZodUnknown:Qa,ZodNever:Qs,ZodVoid:s0,ZodArray:Rn,ZodObject:oi,ZodUnion:dd,ZodDiscriminatedUnion:sm,ZodIntersection:fd,ZodTuple:bs,ZodRecord:pd,ZodMap:o0,ZodSet:hl,ZodFunction:gc,ZodLazy:gd,ZodLiteral:md,ZodEnum:Jo,ZodNativeEnum:vd,ZodPromise:Vc,ZodEffects:$n,ZodTransformer:$n,ZodOptional:hs,ZodNullable:ea,ZodDefault:yd,ZodCatch:bd,ZodNaN:a0,BRAND:SF,ZodBranded:n4,ZodPipeline:lf,ZodReadonly:_d,custom:hE,Schema:ht,ZodSchema:ht,late:AF,get ZodFirstPartyTypeKind(){return Ke},coerce:cB,any:$F,array:NF,bigint:MF,boolean:pE,date:PF,discriminatedUnion:jF,effect:e7,enum:JF,function:YF,instanceof:kF,intersection:GF,lazy:XF,literal:QF,map:KF,nan:IF,nativeEnum:eB,never:FF,null:OF,nullable:rB,number:fE,object:HF,oboolean:lB,onumber:aB,optional:iB,ostring:oB,pipeline:sB,preprocess:nB,promise:tB,record:WF,set:qF,strictObject:UF,string:dE,symbol:RF,transformer:e7,tuple:ZF,undefined:DF,union:zF,unknown:VF,void:BF,NEVER:uB,ZodIssueCode:me,quotelessJson:rF,ZodError:Yr});/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hB=(r,e,t)=>{for(const i of e)if(i[0]===r)return(0,i[1])();return t==null?void 0:t()},dB=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

:host {
  --action-width: 82px;
  display: block;
}

.day [name='day'] {
    display: none;
  }

.time [name='time'] {
    display: none;
  }
`,fB=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.action-button-container {
  position: absolute;
  position-anchor: --action;
  anchor-name: --action-button;
  top: anchor(top);
  right: anchor(right);
  min-width: var(--action-width, 0);
  display: flex;
  align-items: center;
  justify-content: center;
}

.wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.wrapper:focus {
            outline: none;
}

.wrapper.activated {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

@media (hover:hover) {

.wrapper:hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.wrapper:active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.wrapper:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper:disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.wrapper {
  width: 100%;
  display: flex;
  container-type: inline-size;
  min-height: var(--app-components-notification-menu-item-touch-target);
  align-items: center;
  padding: var(--app-components-message-menu-item-padding-vertical-4)
    var(--app-components-message-menu-item-padding-horizontal);
  appearance: none;
  gap: var(--app-components-message-menu-item-label-spacing);
  border: none !important;
  border-bottom: 1px solid var(--border-divider-color) !important;
}

.wrapper .content-container {
    display: flex;
    flex-grow: 1;
    min-width: 0;
    gap: var(--app-components-message-menu-item-label-spacing);
    padding: var(--app-components-message-menu-item-padding-vertical-12) 0px;

    align-items: center;
  }

.wrapper .text-container {
    flex-grow: 1;
    display: grid;
    column-gap: var(--app-components-message-menu-item-label-spacing);
    grid-template-areas: 'title description date chevron';
    grid-template-columns: minmax(0, min-content) 1fr min-content min-content;
    text-align: left;
  }

.wrapper .title-container {
    grid-area: title;
    /* UI/Body-Active */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-active-font-size);
    font-style: normal;
    font-weight: var(--font-weight-bold);
    line-height: var(--global-typography-ui-body-active-line-height);
    color: var(--on-flat-active-color);
    white-space: nowrap;
  }

.wrapper .description-container {
    grid-area: description;
    /* UI/Body */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-body-font-weight);
    line-height: var(--global-typography-ui-body-line-height);
    text-decoration: none;
    color: var(--element-neutral-color);
  }

:is(.wrapper.active-size-single-line,.wrapper.active-size-double-line) .description-container {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

:is(.wrapper.active-size-single-line,.wrapper.active-size-double-line) .title-container {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

.wrapper .date-container {
    grid-area: date;
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-label-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-label-font-weight);
    line-height: var(--global-typography-ui-label-line-height);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: var(--app-components-message-menu-item-label-spacing);

    color: var(--element-neutral-color);
  }

:is(.wrapper .date-container) .day,:is(.wrapper .date-container) .time {
      font-feature-settings: 'liga' off, 'clig' off;
      font-family: var(--font-family-main);
      font-size: var(--global-typography-ui-label-font-size);
      font-style: normal;
      font-weight: var(--global-typography-ui-label-font-weight);
      line-height: var(--global-typography-ui-label-line-height);
    }

:is(:is(.wrapper .date-container) .day,:is(.wrapper .date-container) .time):not(:has(:has-slotted)) {
        display: none;
      }

.wrapper .chevron {
    grid-area: chevron;
    width: var(--app-components-message-menu-item-icon-size-regular);
    height: var(--app-components-message-menu-item-icon-size-regular);
  }

.wrapper .icon-container {
    display: flex;

    gap: var(--app-components-message-menu-item-label-spacing);
  }

.wrapper.enhanced-icon .icon-container {
    padding: var(
        --app-components-message-menu-item-icon-container-padding-vertical
      )
      0px;
  }

.wrapper .icon {
    width: var(--app-components-message-menu-item-icon-size-regular);
    height: var(--app-components-message-menu-item-icon-size-regular);
  }

.wrapper .icon:not(:has(:has-slotted)) {
    display: none;
  }

.wrapper.enhanced-icon .icon {
    width: var(--app-components-message-menu-item-icon-size-large);
    height: var(--app-components-message-menu-item-icon-size-large);
  }

.wrapper.active-size-double-line .text-container {
      grid-template-areas: 'title date chevron' 'description description description';
      grid-template-columns: 1fr min-content min-content;
    }

.wrapper.active-size-double-line .icon-container {
      align-self: flex-start;
    }

.wrapper.active-size-multi-line .text-container {
      grid-template-areas: 'title date chevron' 'description description description';
      grid-template-columns: 1fr min-content min-content;
    }

.wrapper.active-size-multi-line .icon-container {
      align-self: flex-start;
    }

.wrapper.size-multi-line .text-container {
      grid-template-areas: 'title date' 'description description';
    }

.wrapper .action-container {
    align-self: flex-start;
    min-width: var(--action-width, 0);
    anchor-name: --action;
    display: flex;
    align-items: center;
    justify-content: center;
    height: var(--ui-components-button-touch-target-size);
  }

:host:has(.action-button-container:hover) .wrapper {
  background-color: var(--flat-hover-background-color);
}

.enhanced-icon.wrapper {
  padding: var(--app-components-message-menu-item-padding-vertical-8)
    var(--app-components-message-menu-item-padding-horizontal);
}

.enhanced-icon.wrapper .content-container {
    padding: var(--app-components-message-menu-item-padding-vertical-4) 0px;
  }

:is(.enhanced-icon.wrapper.active-size-double-line,.enhanced-icon.wrapper.active-size-multi-line) .text-container {
      padding: 8px 0px;
    }

@keyframes enter {
  0% {
    clip-path: polygon(0 100%, 100% 100%, 100% 100%, 0 100%);
    transform: translateY(-100%);
  }
  100% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
    transform: translateY(0%);
  }
}

@container (max-width: 499px) {
  .active-size-single-line .chevron {
    display: none;
  }

  .active-size-single-line .text-container {
    grid-template-areas: 'title description date';
    grid-template-columns: minmax(0, min-content) 1fr min-content;
  }
}

@container (max-width: 450px) {
  .active-size-single-line .date-container {
    display: none;
  }

  .active-size-single-line .text-container {
    grid-template-areas: 'title description';
    grid-template-columns: minmax(0, min-content) 1fr;
  }
}

@container (max-width: 400px) {
  .active-size-single-line .title-container {
    display: none;
  }

  .active-size-single-line .text-container {
    grid-template-areas: 'description';
    grid-template-columns: minmax(0, min-content) 1fr;
  }
}

:host([animateintro]) {
  display: block;
  animation: enter 100ms linear forwards;
  will-change: clip-path, transform;
}
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gE=Symbol.for(""),pB=r=>{if((r==null?void 0:r.r)===gE)return r==null?void 0:r._$litStatic$},qn=(r,...e)=>({_$litStatic$:e.reduce((t,i,n)=>t+(s=>{if(s._$litStatic$!==void 0)return s._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${s}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(i)+r[n+1],r[0]),r:gE}),t7=new Map,gB=r=>(e,...t)=>{const i=t.length;let n,s;const o=[],a=[];let l,c=0,u=!1;for(;c<i;){for(l=e[c];c<i&&(s=t[c],(n=pB(s))!==void 0);)l+=n+e[++c],u=!0;c!==i&&a.push(s),o.push(l),c++}if(c===i&&o.push(e[i]),u){const h=o.join("$$lit$$");(e=t7.get(h))===void 0&&(o.raw=o,t7.set(h,e=o)),t=a}return r(e,...t)},$1=gB(F),mB=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
.wrapper {
  padding: 0;
  background: transparent;
  height: var(--ui-components-button-touch-target-size);
  appearance: none;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  font-feature-settings:
    'liga' off,
    'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-button-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-button-font-weight);
  line-height: var(--global-typography-ui-button-line-height) /* 150% */;
  text-decoration: none;
}
.wrapper.full-width {
    width: 100%;
  }
.wrapper.full-width .visible-wrapper {
      width: 100%;
    }
.wrapper .visible-wrapper {
    border-radius: var(--ui-components-button-border-radius-top-left)
      var(--ui-components-button-border-radius-top-right)
      var(--ui-components-button-border-radius-bottom-right)
      var(--ui-components-button-border-radius-bottom-left);
    display: flex;
    align-items: center;
    justify-content: center;
    padding-left: calc(2 * var(--ui-components-button-padding-horizontal));
    padding-right: calc(2 * var(--ui-components-button-padding-horizontal));
    height: var(--ui-components-button-visual-size);
  }
.wrapper .icon {
    height: var(--ui-components-button-icon-size);
    width: var(--ui-components-button-icon-size);
  }
.wrapper:not(.hasIconLeading) .icon.leading {
    display: none;
    width: 0;
  }
.wrapper:not(.hasIconTrailing) .icon.trailing {
    display: none;
    width: 0;
  }
.wrapper .label {
    padding-left: var(--ui-components-button-label-spacing);
    padding-right: var(--ui-components-button-label-spacing);
  }
.wrapper.variant-normal {
            cursor: pointer;
}
.wrapper.variant-normal:focus {
            outline: none;
}
.wrapper.variant-normal.activated .visible-wrapper {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}
.wrapper.variant-normal .visible-wrapper {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}
@media (hover:hover) {
            .wrapper.variant-normal:hover .visible-wrapper {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}
.wrapper.variant-normal:active .visible-wrapper {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}
.wrapper.variant-normal:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}
.wrapper.variant-normal:disabled .visible-wrapper {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}
.wrapper.variant-normal {
    color: var(--on-normal-active-color);
}
.wrapper.variant-normal .icon {
      color: var(--on-normal-neutral-color);
    }
.wrapper.variant-normal:disabled .icon {
      color: var(--on-normal-disabled-color);
    }
.wrapper.variant-flat {
            cursor: pointer;
}
.wrapper.variant-flat:focus {
            outline: none;
}
.wrapper.variant-flat.activated .visible-wrapper {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}
.wrapper.variant-flat .visible-wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}
@media (hover:hover) {
            .wrapper.variant-flat:hover .visible-wrapper {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}
.wrapper.variant-flat:active .visible-wrapper {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}
.wrapper.variant-flat:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}
.wrapper.variant-flat:disabled .visible-wrapper {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}
.wrapper.variant-flat {
    color: var(--on-flat-active-color);
}
.wrapper.variant-flat .icon {
      color: var(--on-flat-neutral-color);
    }
.wrapper.variant-flat:disabled .icon {
      color: var(--on-flat-disabled-color);
    }
.wrapper.variant-raised {
            cursor: pointer;
}
.wrapper.variant-raised:focus {
            outline: none;
}
.wrapper.variant-raised.activated .visible-wrapper {
            border-color: var(--raised-activated-border-color);
            background-color: var(--raised-activated-background-color);
}
.wrapper.variant-raised .visible-wrapper {
            border-color: var(--raised-enabled-border-color);
            background-color: var(--raised-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}
@media (hover:hover) {
            .wrapper.variant-raised:hover .visible-wrapper {
                        border-color: var(--raised-hover-border-color);
                        background-color: var(--raised-hover-background-color);
            }
}
.wrapper.variant-raised:active .visible-wrapper {
            border-color: var(--raised-pressed-border-color);
            background-color: var(--raised-pressed-background-color);
}
.wrapper.variant-raised:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}
.wrapper.variant-raised:disabled .visible-wrapper {
            border-color: var(--raised-disabled-border-color);
            background-color: var(--raised-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-raised-disabled-color);
}
.wrapper.variant-raised {
    color: var(--on-raised-active-color);
}
.wrapper.variant-raised .icon {
      color: var(--on-raised-neutral-color);
    }
.wrapper.variant-raised:disabled .icon {
      color: var(--on-raised-disabled-color);
    }
.wrapper.variant-check:not(.checked) {
            cursor: pointer;
}
.wrapper.variant-check:not(.checked):focus {
            outline: none;
}
.wrapper.variant-check.activated:not(.checked) .visible-wrapper {
            border-color: var(--indent-activated-border-color);
            background-color: var(--indent-activated-background-color);
}
.wrapper.variant-check:not(.checked) .visible-wrapper {
            border-color: var(--indent-enabled-border-color);
            background-color: var(--indent-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}
@media (hover:hover) {
            .wrapper.variant-check:not(.checked):hover .visible-wrapper {
                        border-color: var(--indent-hover-border-color);
                        background-color: var(--indent-hover-background-color);
            }
}
.wrapper.variant-check:not(.checked):active .visible-wrapper {
            border-color: var(--indent-pressed-border-color);
            background-color: var(--indent-pressed-background-color);
}
.wrapper.variant-check:not(.checked):focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}
.wrapper.variant-check:not(.checked):disabled .visible-wrapper {
            border-color: var(--indent-disabled-border-color);
            background-color: var(--indent-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-indent-disabled-color);
}
.wrapper.variant-check:not(.checked) {
    /* UI/Body */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-body-font-weight);
    line-height: var(--global-typography-ui-body-line-height);
    text-decoration: none;
    color: var(--on-indent-active-color);
}
.wrapper.variant-check:not(.checked) .icon {
      color: var(--on-indent-neutral-color);
    }
.wrapper.variant-check:not(.checked):disabled .icon {
      color: var(--on-indent-disabled-color);
    }
.wrapper.variant-check.checked {
            cursor: pointer;
}
.wrapper.variant-check.checked:focus {
            outline: none;
}
.wrapper.variant-check.checked.activated .visible-wrapper {
            border-color: var(--selected-activated-border-color);
            background-color: var(--selected-activated-background-color);
}
.wrapper.variant-check.checked .visible-wrapper {
            border-color: var(--selected-enabled-border-color);
            background-color: var(--selected-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}
@media (hover:hover) {
            .wrapper.variant-check.checked:hover .visible-wrapper {
                        border-color: var(--selected-hover-border-color);
                        background-color: var(--selected-hover-background-color);
            }
}
.wrapper.variant-check.checked:active .visible-wrapper {
            border-color: var(--selected-pressed-border-color);
            background-color: var(--selected-pressed-background-color);
}
.wrapper.variant-check.checked:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}
.wrapper.variant-check.checked:disabled .visible-wrapper {
            border-color: var(--selected-disabled-border-color);
            background-color: var(--selected-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-selected-disabled-color);
}
.wrapper.variant-check.checked {
    /* UI/Body-Active */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-active-font-size);
    font-style: normal;
    font-weight: var(--font-weight-bold);
    line-height: var(--global-typography-ui-body-active-line-height);
    color: var(--on-selected-active-color);
}
.wrapper.variant-check.checked .icon {
      color: var(--on-selected-neutral-color);
    }
.wrapper.variant-check.checked:disabled .icon {
      color: var(--on-selected-disabled-color);
    }
`;var vB=Object.defineProperty,yB=Object.getOwnPropertyDescriptor,xn=(r,e,t,i)=>{for(var n=i>1?void 0:i?yB(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&vB(e,t,n),n},s4=(r=>(r.normal="normal",r.raised="raised",r.flat="flat",r.check="check",r))(s4||{});let Vr=class extends ee{constructor(){super(...arguments),this.icon="placeholder",this.variant="normal",this.fullWidth=!1,this.checked=!1,this.disabled=!1,this.href=void 0,this.target=void 0,this.hasIconLeading=!1,this.hasIconTrailing=!1}firstUpdated(){this.hasIconLeading=this.leadingIcon.length>0,this.hasIconTrailing=this.trailingIcon.length>0}render(){const r=this.href?qn`a`:qn`button`;return $1`
      <${r}
        class=${ti({wrapper:!0,["variant-"+this.variant]:!0,hasIconLeading:this.hasIconLeading,hasIconTrailing:this.hasIconTrailing,"full-width":this.fullWidth,checked:this.checked})}
        ?disabled=${this.disabled}
        href=${ll(this.href)}
        target=${ll(this.target)}
        part="wrapper"
      >
        <div class="visible-wrapper" part="visible-wrapper">
          <span class="icon leading" part="icon leading"><slot name="leading-icon"></slot></span>
          <span class="label" part="label"><slot></slot></span>
          <span class="icon trailing" part="icon trailing"><slot name="trailing-icon"></slot></span>
        </div>
      </${r}>
    `}};Vr.styles=ot(mB);xn([M({type:String})],Vr.prototype,"icon",2);xn([M({type:String})],Vr.prototype,"variant",2);xn([M({type:Boolean})],Vr.prototype,"fullWidth",2);xn([M({type:Boolean})],Vr.prototype,"checked",2);xn([M({type:Boolean})],Vr.prototype,"disabled",2);xn([M({type:String})],Vr.prototype,"href",2);xn([M({type:String})],Vr.prototype,"target",2);xn([af({slot:"leading-icon"})],Vr.prototype,"leadingIcon",2);xn([af({slot:"trailing-icon"})],Vr.prototype,"trailingIcon",2);xn([ba()],Vr.prototype,"hasIconLeading",2);xn([ba()],Vr.prototype,"hasIconTrailing",2);Vr=xn([ie("obc-button")],Vr);var bB=Object.defineProperty,_B=Object.getOwnPropertyDescriptor,mE=(r,e,t,i)=>{for(var n=i>1?void 0:i?_B(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&bB(e,t,n),n};let l0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18 9.41L16.59 8L12 12.58L7.41 8L6 9.41L12 15.41L18 9.41Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18 9.41L16.59 8L12 12.58L7.41 8L6 9.41L12 15.41L18 9.41Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};l0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;mE([M({type:Boolean})],l0.prototype,"useCssColor",2);l0=mE([ie("obi-chevron-down-google")],l0);var wB=Object.defineProperty,CB=Object.getOwnPropertyDescriptor,vE=(r,e,t,i)=>{for(var n=i>1?void 0:i?CB(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&wB(e,t,n),n};let c0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M6 14.0002L7.41 15.4102L12 10.8302L16.59 15.4102L18 14.0002L12 8.00016L6 14.0002Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M6 14.0002L7.41 15.4102L12 10.8302L16.59 15.4102L18 14.0002L12 8.00016L6 14.0002Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};c0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;vE([M({type:Boolean})],c0.prototype,"useCssColor",2);c0=vE([ie("obi-chevron-up-google")],c0);var xB=Object.defineProperty,EB=Object.getOwnPropertyDescriptor,pu=(r,e,t,i)=>{for(var n=i>1?void 0:i?EB(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&xB(e,t,n),n},yE=(r=>(r.SingleLine="single-line",r.DoubleLine="double-line",r.MultiLine="multi-line",r))(yE||{});let ta=class extends ee{constructor(){super(...arguments),this.size="single-line",this.enhancedIcon=!1,this.open=!1,this.hasActionButton=!1,this.animateIntro=!1}render(){return F`
      <button
        class=${ti({wrapper:!0,["active-size-"+this.ActiveSize]:!0,["size-"+this.size]:!0,"enhanced-icon":this.enhancedIcon})}
        @click=${this.onMessageClick}
      >
        <div class="content-container">
          <div class="icon-container">
            <div class="icon tertiary">
              <slot name="tertiary-icon"></slot>
            </div>
            <div class="icon primary">
              <slot name="primary-icon"></slot>
            </div>
            <div class="icon secondary">
              <slot name="secondary-icon"></slot>
            </div>
          </div>
          <div class="text-container">
            <div class="title-container">
              <slot name="title"></slot>
            </div>
            <div class="description-container">
              <slot name="description"></slot>
            </div>
            <div class="date-container">
              <slot name="day"></slot>
              <slot name="time"></slot>
            </div>
            ${this.size==="multi-line"?He:F`<div class="chevron">
                  ${this.open?F`<obi-chevron-up-google></obi-chevron-up-google>`:F`<obi-chevron-down-google></obi-chevron-down-google>`}
                </div>`}
          </div>
        </div>
        <div class="action-container">
          <div class="action icon">
            <slot name="action-icon"></slot>
          </div>
        </div>
      </button>
      ${this.hasActionButton?F`<div class="action-button-container">
            <obc-button variant="normal" @click=${this.onActionClick}>
              <slot name="action-label"></slot>
            </obc-button>
          </div>`:He}
    `}onMessageClick(){this.dispatchEvent(new CustomEvent("message-click")),this.open=!this.open}onActionClick(){this.dispatchEvent(new CustomEvent("action-click"))}get ActiveSize(){return this.size==="multi-line"||this.open?"multi-line":this.size}};ta.styles=ot(fB);pu([M({type:String})],ta.prototype,"size",2);pu([M({type:Boolean})],ta.prototype,"enhancedIcon",2);pu([M({type:Boolean})],ta.prototype,"open",2);pu([M({type:Boolean})],ta.prototype,"hasActionButton",2);pu([M({type:Boolean,reflect:!0})],ta.prototype,"animateIntro",2);ta=pu([ie("obc-message-menu-item")],ta);const TB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5339L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5339Z" style="fill: var(--alert-alarm-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.2071 12.7071L10 19.9142L5.79291 15.7071L7.20712 14.2928L10 17.0857L15.7929 11.2928L17.2071 12.7071Z" style="fill: var(--on-alarm-color)"/>
</svg>
`,LB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12.0006 2.00026L2.00141 20.9996L21.9987 21L12.0006 2.00026ZM11.1158 1.53427L1.11648 20.5338C0.765943 21.1999 1.24879 22 2.00128 22L21.9987 22C22.7512 22 23.234 21.1999 22.8835 20.5339L12.8854 1.53432C12.5105 0.821913 11.4907 0.821889 11.1158 1.53427Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.2071 12.7071L10 19.9142L5.79291 15.7071L7.20712 14.2928L10 17.0857L15.7929 11.2928L17.2071 12.7071Z" style="fill: var(--element-active-color)"/>
</svg>`,SB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" style="fill: var(--alert-warning-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.2071 9.20706L10.5 16.9142L5.79291 12.2071L7.20712 10.7928L10.5 14.0857L16.7929 7.79285L18.2071 9.20706Z" style="fill: var(--on-warning-active-color)"/>
</svg>
`,AB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.2071 9.20706L10.5 16.9142L5.79291 12.2071L7.20712 10.7928L10.5 14.0857L16.7929 7.79285L18.2071 9.20706Z" style="fill: var(--element-active-color)"/>
</svg>`,kB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5339L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5339Z" style="fill: var(--alert-alarm-color)"/>
<path d="M9.40418 9.40624L8.34559 10.4648L10.3807 12.4999H8.3C8.01997 12.4999 7.87996 12.4999 7.773 12.5544C7.67892 12.6024 7.60243 12.6789 7.5545 12.7729C7.5 12.8799 7.5 13.0199 7.5 13.2999V15.6999C7.5 15.98 7.5 16.12 7.5545 16.2269C7.60243 16.321 7.67892 16.3975 7.773 16.4454C7.87996 16.4999 8.01997 16.4999 8.3 16.4999H10.6686C10.7909 16.4999 10.8521 16.4999 10.9096 16.5137C10.9606 16.526 11.0094 16.5462 11.0541 16.5736C11.1046 16.6045 11.1478 16.6478 11.2343 16.7342L13.6343 19.1342C14.0627 19.5626 14.2769 19.7768 14.4608 19.7913C14.6203 19.8038 14.7763 19.7393 14.8802 19.6175C15 19.4773 15 19.1744 15 18.5686V17.1192L17.538 19.6572L18.5966 18.5986L9.40418 9.40624Z" style="fill: var(--on-alarm-active-color)"/>
<path d="M15 12.8807V10.4313C15 9.82548 15 9.52257 14.8802 9.38231C14.7763 9.26061 14.6203 9.19602 14.4608 9.20858C14.2769 9.22305 14.0627 9.43724 13.6343 9.86561L12.8096 10.6903L15 12.8807Z" style="fill: var(--on-alarm-active-color)"/>
</svg>
`,IB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.9986 20.9996L12.0006 2.00026L2.00141 20.9996L21.9986 20.9996ZM11.1158 1.53427L1.11648 20.5339C0.765943 21.1999 1.24879 22 2.00128 22L21.9987 22C22.7512 22 23.234 21.1999 22.8835 20.5339L12.8854 1.53432C12.5105 0.821913 11.4907 0.821889 11.1158 1.53427Z" style="fill: var(--element-active-color)"/>
<path d="M9.40418 9.40624L8.34559 10.4648L10.3807 12.4999H8.3C8.01997 12.4999 7.87996 12.4999 7.773 12.5544C7.67892 12.6024 7.60243 12.6789 7.5545 12.7729C7.5 12.8799 7.5 13.0199 7.5 13.2999V15.6999C7.5 15.98 7.5 16.12 7.5545 16.2269C7.60243 16.321 7.67892 16.3975 7.773 16.4454C7.87996 16.4999 8.01997 16.4999 8.3 16.4999H10.6686C10.7909 16.4999 10.8521 16.4999 10.9096 16.5137C10.9606 16.526 11.0094 16.5462 11.0541 16.5736C11.1046 16.6045 11.1478 16.6478 11.2343 16.7342L13.6343 19.1342C14.0627 19.5626 14.2769 19.7768 14.4608 19.7913C14.6203 19.8038 14.7763 19.7393 14.8802 19.6175C15 19.4773 15 19.1744 15 18.5686V17.1192L17.538 19.6572L18.5966 18.5986L9.40418 9.40624Z" style="fill: var(--element-active-color)"/>
<path d="M15 12.8807V10.4313C15 9.82548 15 9.52257 14.8802 9.38231C14.7763 9.2606 14.6203 9.19602 14.4608 9.20858C14.2769 9.22305 14.0627 9.43724 13.6343 9.86561L12.8096 10.6903L15 12.8807Z" style="fill: var(--element-active-color)"/>
</svg>`,MB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" style="fill: var(--alert-warning-color)"/>
<path d="M8.876 6.68796L7.81255 5.62451L6.75189 6.68517L10.0666 9.99993H8.29999C8.01997 9.99993 7.87995 9.99993 7.773 10.0544C7.67892 10.1024 7.60243 10.1789 7.55449 10.2729C7.49999 10.3799 7.49999 10.5199 7.49999 10.7999V13.1999C7.49999 13.48 7.49999 13.62 7.55449 13.7269C7.60243 13.821 7.67892 13.8975 7.773 13.9454C7.87995 13.9999 8.01997 13.9999 8.29999 13.9999H10.6686C10.7909 13.9999 10.8521 13.9999 10.9096 14.0137C10.9606 14.026 11.0094 14.0462 11.0541 14.0736C11.1046 14.1045 11.1478 14.1478 11.2343 14.2342L13.6343 16.6342C14.0627 17.0626 14.2769 17.2768 14.4608 17.2913C14.6203 17.3038 14.7762 17.2393 14.8802 17.1175C15 16.9773 15 16.6744 15 16.0686V14.9333L17.3585 17.2918L18.4192 16.2311L18.0684 15.8803L18.067 15.8817L8.87464 6.68932L8.876 6.68796Z" style="fill: var(--on-warning-active-color)"/>
<path d="M15 10.6933V7.9313C15 7.32548 15 7.02257 14.8802 6.88231C14.7762 6.7606 14.6203 6.69602 14.4608 6.70858C14.2769 6.72305 14.0627 6.93724 13.6343 7.36561L12.6533 8.34664L15 10.6933Z" style="fill: var(--on-warning-active-color)"/>
</svg>
`,PB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" style="fill: var(--element-active-color)"/>
<path d="M8.876 6.68796L7.81255 5.62451L6.75189 6.68517L10.0666 9.99993H8.29999C8.01997 9.99993 7.87995 9.99993 7.773 10.0544C7.67892 10.1024 7.60243 10.1789 7.55449 10.2729C7.49999 10.3799 7.49999 10.5199 7.49999 10.7999V13.1999C7.49999 13.48 7.49999 13.62 7.55449 13.7269C7.60243 13.821 7.67892 13.8975 7.773 13.9454C7.87995 13.9999 8.01997 13.9999 8.29999 13.9999H10.6686C10.7909 13.9999 10.8521 13.9999 10.9096 14.0137C10.9606 14.026 11.0094 14.0462 11.0541 14.0736C11.1046 14.1045 11.1478 14.1478 11.2343 14.2342L13.6343 16.6342C14.0627 17.0626 14.2769 17.2768 14.4608 17.2913C14.6203 17.3038 14.7762 17.2393 14.8802 17.1175C15 16.9773 15 16.6744 15 16.0686V14.9333L17.3585 17.2918L18.4192 16.2311L18.0684 15.8803L18.067 15.8817L8.87464 6.68932L8.876 6.68796Z" style="fill: var(--element-active-color)"/>
<path d="M15 10.6933V7.9313C15 7.32548 15 7.02257 14.8802 6.88231C14.7762 6.7606 14.6203 6.69602 14.4608 6.70858C14.2769 6.72305 14.0627 6.93724 13.6343 7.36561L12.6533 8.34664L15 10.6933Z" style="fill: var(--element-active-color)"/>
</svg>`,RB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5339L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5339Z" style="fill: var(--alert-alarm-color)"/>
<path d="M7.5 15.7V13.3C7.5 13.02 7.5 12.88 7.5545 12.7731C7.60243 12.679 7.67892 12.6025 7.773 12.5545C7.87996 12.5 8.01997 12.5 8.3 12.5H10.6686C10.7909 12.5 10.8521 12.5 10.9096 12.4862C10.9606 12.474 11.0094 12.4538 11.0541 12.4264C11.1046 12.3954 11.1478 12.3522 11.2343 12.2657L13.6343 9.86573C14.0627 9.43736 14.2769 9.22317 14.4608 9.2087C14.6203 9.19614 14.7763 9.26073 14.8802 9.38243C15 9.5227 15 9.8256 15 10.4314V18.5687C15 19.1745 15 19.4774 14.8802 19.6177C14.7763 19.7394 14.6203 19.804 14.4608 19.7914C14.2769 19.7769 14.0627 19.5627 13.6343 19.1344L11.2343 16.7344C11.1478 16.6479 11.1046 16.6047 11.0541 16.5737C11.0094 16.5463 10.9606 16.5261 10.9096 16.5139C10.8521 16.5 10.7909 16.5 10.6686 16.5H8.3C8.01997 16.5 7.87996 16.5 7.773 16.4456C7.67892 16.3976 7.60243 16.3211 7.5545 16.227C7.5 16.1201 7.5 15.9801 7.5 15.7Z" fill="var(--on-alarm-color)"/>
</svg>
`,DB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.9986 20.9996L12.0006 2.00026L2.00141 20.9996L21.9986 20.9996ZM11.1158 1.53427L1.11648 20.5339C0.765943 21.1999 1.24879 22 2.00128 22L21.9987 22C22.7512 22 23.234 21.1999 22.8835 20.5339L12.8854 1.53432C12.5105 0.821913 11.4907 0.821889 11.1158 1.53427Z" style="fill: var(--element-active-color)"/>
<path d="M7.5 15.7V13.3C7.5 13.02 7.5 12.88 7.5545 12.7731C7.60243 12.679 7.67892 12.6025 7.773 12.5545C7.87996 12.5 8.01997 12.5 8.3 12.5H11L13.6343 9.86574C14.0627 9.43736 14.2769 9.22317 14.4608 9.2087C14.6203 9.19614 14.7763 9.26073 14.8802 9.38243C15 9.5227 15 9.8256 15 10.4314V18.5687C15 19.1745 15 19.4774 14.8802 19.6177C14.7763 19.7394 14.6203 19.804 14.4608 19.7914C14.2769 19.7769 14.0627 19.5627 13.6343 19.1344L11 16.5H8.3C8.01997 16.5 7.87996 16.5 7.773 16.4456C7.67892 16.3976 7.60243 16.3211 7.5545 16.227C7.5 16.1201 7.5 15.9801 7.5 15.7Z" style="fill: var(--element-active-color)"/>
</svg>`,OB=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" style="fill: var(--alert-warning-color)"/>
<path d="M7.5 13.1999V10.7999C7.5 10.5199 7.5 10.3799 7.5545 10.2729C7.60243 10.1789 7.67892 10.1024 7.773 10.0544C7.87996 9.99993 8.01997 9.99993 8.3 9.99993H10.6686C10.7909 9.99993 10.8521 9.99993 10.9096 9.98611C10.9606 9.97386 11.0094 9.95366 11.0541 9.92625C11.1046 9.89533 11.1478 9.85209 11.2343 9.76561L13.6343 7.36561C14.0627 6.93724 14.2769 6.72305 14.4608 6.70858C14.6203 6.69602 14.7763 6.76061 14.8802 6.88231C15 7.02257 15 7.32548 15 7.9313V16.0686C15 16.6744 15 16.9773 14.8802 17.1175C14.7763 17.2392 14.6203 17.3038 14.4608 17.2913C14.2769 17.2768 14.0627 17.0626 13.6343 16.6342L11.2343 14.2342C11.1478 14.1478 11.1046 14.1045 11.0541 14.0736C11.0094 14.0462 10.9606 14.026 10.9096 14.0137C10.8521 13.9999 10.7909 13.9999 10.6686 13.9999H8.3C8.01997 13.9999 7.87996 13.9999 7.773 13.9454C7.67892 13.8975 7.60243 13.821 7.5545 13.7269C7.5 13.62 7.5 13.48 7.5 13.1999Z" style="fill: var(--on-warning-active-color)"/>
</svg>
`,$B=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" style="fill: var(--element-active-color)"/>
<path d="M7.5 13.1999V10.7999C7.5 10.5199 7.5 10.3799 7.5545 10.2729C7.60243 10.1789 7.67892 10.1024 7.773 10.0544C7.87996 9.99993 8.01997 9.99993 8.3 9.99993H11L13.6343 7.36561C14.0627 6.93724 14.2769 6.72305 14.4608 6.70858C14.6203 6.69602 14.7763 6.7606 14.8802 6.88231C15 7.02257 15 7.32548 15 7.9313V16.0686C15 16.6744 15 16.9773 14.8802 17.1175C14.7763 17.2392 14.6203 17.3038 14.4608 17.2913C14.2769 17.2768 14.0627 17.0626 13.6343 16.6342L11 13.9999H8.3C8.01997 13.9999 7.87996 13.9999 7.773 13.9454C7.67892 13.8975 7.60243 13.821 7.5545 13.7269C7.5 13.62 7.5 13.48 7.5 13.1999Z" style="fill: var(--element-active-color)"/>
</svg>`;var VB=Object.defineProperty,FB=Object.getOwnPropertyDescriptor,bE=(r,e,t,i)=>{for(var n=i>1?void 0:i?FB(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&VB(e,t,n),n};const BB={"alarm-silenced":{a:kB,b:IB},"alarm-unack":{a:RB,b:DB},"alarm-rectified":{a:TB,b:LB},"warning-unack":{a:OB,b:$B},"warning-rectified":{a:SB,b:AB},"warning-silenced":{a:MB,b:PB}};let u0=class extends ee{constructor(){super(...arguments),this.name="alarm-silenced"}render(){const r=BB[this.name],e=this.name.startsWith("warning");return F`
      <div
        class=${ti({wrapper:!0,warning:e})}
      >
        <span class="a">${r.a}</span>
        <span class="b">${r.b}</span>
      </div>
    `}};u0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      position: relative;
    }
    .wrapper svg {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
    }

    :not(.warning) {
      .a {
        opacity: var(--alarm-blink-on);
      }

      .b {
        opacity: var(--alarm-blink-off);
      }
    }

    .warning {
      .a {
        opacity: var(--warning-blink-on);
      }

      .b {
        opacity: var(--warning-blink-off);
      }
    }
  `;bE([M({type:String})],u0.prototype,"name",2);u0=bE([ie("obc-alert-icon")],u0);var NB=Object.defineProperty,HB=Object.getOwnPropertyDescriptor,_E=(r,e,t,i)=>{for(var n=i>1?void 0:i?HB(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&NB(e,t,n),n};let h0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18 23C16.6167 23 15.4375 22.5125 14.4625 21.5375C13.4875 20.5625 13 19.3833 13 18C13 16.6167 13.4875 15.4375 14.4625 14.4625C15.4375 13.4875 16.6167 13 18 13C19.3833 13 20.5625 13.4875 21.5375 14.4625C22.5125 15.4375 23 16.6167 23 18C23 19.3833 22.5125 20.5625 21.5375 21.5375C20.5625 22.5125 19.3833 23 18 23ZM20.35 19.65L19.65 20.35L17.5 18.2V15H18.5V17.8L20.35 19.65Z" fill="currentColor"/>
<path d="M4 17V19H11.5764C11.5261 18.674 11.5 18.3401 11.5 18C11.5 17.6599 11.5261 17.326 11.5764 17H8V10C8 8.9 8.39167 7.95833 9.175 7.175C9.95833 6.39167 10.9 6 12 6C13.1 6 14.0417 6.39167 14.825 7.175C15.6083 7.95833 16 8.9 16 10V11.8135C16.6301 11.61 17.3022 11.5 18 11.5V10C18 8.61667 17.5833 7.3875 16.75 6.3125C15.9167 5.2375 14.8333 4.53333 13.5 4.2V3.5C13.5 3.08333 13.3542 2.72917 13.0625 2.4375C12.7708 2.14583 12.4167 2 12 2C11.5833 2 11.2292 2.14583 10.9375 2.4375C10.6458 2.72917 10.5 3.08333 10.5 3.5V4.2C9.16667 4.53333 8.08333 5.2375 7.25 6.3125C6.41667 7.3875 6 8.61667 6 10V17H4Z" fill="currentColor"/>
<path d="M11.8135 20C12.0307 20.6723 12.3545 21.2968 12.7649 21.8534C12.5297 21.9511 12.2747 22 12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H11.8135Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18 23C16.6167 23 15.4375 22.5125 14.4625 21.5375C13.4875 20.5625 13 19.3833 13 18C13 16.6167 13.4875 15.4375 14.4625 14.4625C15.4375 13.4875 16.6167 13 18 13C19.3833 13 20.5625 13.4875 21.5375 14.4625C22.5125 15.4375 23 16.6167 23 18C23 19.3833 22.5125 20.5625 21.5375 21.5375C20.5625 22.5125 19.3833 23 18 23ZM20.35 19.65L19.65 20.35L17.5 18.2V15H18.5V17.8L20.35 19.65Z" style="fill: var(--element-active-color)"/>
<path d="M4 17V19H11.5764C11.5261 18.674 11.5 18.3401 11.5 18C11.5 17.6599 11.5261 17.326 11.5764 17H8V10C8 8.9 8.39167 7.95833 9.175 7.175C9.95833 6.39167 10.9 6 12 6C13.1 6 14.0417 6.39167 14.825 7.175C15.6083 7.95833 16 8.9 16 10V11.8135C16.6301 11.61 17.3022 11.5 18 11.5V10C18 8.61667 17.5833 7.3875 16.75 6.3125C15.9167 5.2375 14.8333 4.53333 13.5 4.2V3.5C13.5 3.08333 13.3542 2.72917 13.0625 2.4375C12.7708 2.14583 12.4167 2 12 2C11.5833 2 11.2292 2.14583 10.9375 2.4375C10.6458 2.72917 10.5 3.08333 10.5 3.5V4.2C9.16667 4.53333 8.08333 5.2375 7.25 6.3125C6.41667 7.3875 6 8.61667 6 10V17H4Z" style="fill: var(--element-active-color)"/>
<path d="M11.8135 20C12.0307 20.6723 12.3545 21.2968 12.7649 21.8534C12.5297 21.9511 12.2747 22 12 22C11.45 22 10.9792 21.8042 10.5875 21.4125C10.1958 21.0208 10 20.55 10 20H11.8135Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};h0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;_E([M({type:Boolean})],h0.prototype,"useCssColor",2);h0=_E([ie("obi-alerts-shelf")],h0);var UB=Object.defineProperty,zB=Object.getOwnPropertyDescriptor,wE=(r,e,t,i)=>{for(var n=i>1?void 0:i?zB(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&UB(e,t,n),n};let d0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5339L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5339Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.6718 15.0001L6.52379 10.2595L7.5219 8.36304L12.0006 13.4815L16.479 8.36338L17.477 10.26L13.3294 15.0001L19.4543 22.0001L16.7968 22.0001L12.0006 16.5187L7.20441 22.0001L4.54688 22.0001L10.6718 15.0001Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5339L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5339Z" style="fill: var(--alert-alarm-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.6718 15.0001L6.52379 10.2595L7.5219 8.36304L12.0006 13.4815L16.479 8.36338L17.477 10.26L13.3294 15.0001L19.4543 22.0001L16.7968 22.0001L12.0006 16.5187L7.20441 22.0001L4.54688 22.0001L10.6718 15.0001Z" style="fill: var(--on-alarm-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};d0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;wE([M({type:Boolean})],d0.prototype,"useCssColor",2);d0=wE([ie("obi-alarm-noack-iec")],d0);var jB=Object.defineProperty,GB=Object.getOwnPropertyDescriptor,CE=(r,e,t,i)=>{for(var n=i>1?void 0:i?GB(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&jB(e,t,n),n};let f0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" fill="currentColor"/>
<path d="M19.743 5.67138L13.4143 12.0001L19.743 18.3288C19.3198 18.8459 18.8459 19.3198 18.3288 19.743L12.0001 13.4143L5.67138 19.743C5.15426 19.3199 4.68032 18.8459 4.25715 18.3288L10.5859 12.0001L4.25708 5.67129C4.68024 5.15419 5.15419 4.68024 5.67129 4.25708L12.0001 10.5859L18.3288 4.25715C18.8459 4.68032 19.3199 5.15426 19.743 5.67138Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" style="fill: var(--alert-warning-color)"/>
<path d="M19.743 5.67138L13.4143 12.0001L19.743 18.3288C19.3198 18.8459 18.8459 19.3198 18.3288 19.743L12.0001 13.4143L5.67138 19.743C5.15426 19.3199 4.68032 18.8459 4.25715 18.3288L10.5859 12.0001L4.25708 5.67129C4.68024 5.15419 5.15419 4.68024 5.67129 4.25708L12.0001 10.5859L18.3288 4.25715C18.8459 4.68032 19.3199 5.15426 19.743 5.67138Z" style="fill: var(--on-warning-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};f0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;CE([M({type:Boolean})],f0.prototype,"useCssColor",2);f0=CE([ie("obi-warning-noack-iec")],f0);var ZB=Object.defineProperty,WB=Object.getOwnPropertyDescriptor,fo=(r,e,t,i)=>{for(var n=i>1?void 0:i?WB(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&ZB(e,t,n),n},rt=(r=>(r.Unacknowledged="unacknowledged",r.Caution="caution",r.Acknowledged="acknowledged",r.NoAckAlarm="no-ack-alarm",r.NoAckWarning="no-ack-warning",r.Rectified="rectified",r))(rt||{});let Vn=class extends ee{constructor(){super(...arguments),this.hasIcon=!1,this.shelved=!1,this.hasDay=!1,this.hasTime=!1,this.status="unacknowledged",this.open=!1,this.size=yE.SingleLine,this.animateIntro=!1}handleMessageClick(){this.dispatchEvent(new CustomEvent("item-click")),this.open=!this.open}handleActionClick(){this.dispatchEvent(new CustomEvent("ack-click"))}render(){return F`
      <obc-message-menu-item
        .hasActionButton=${this.status==="unacknowledged"}
        .size=${this.size}
        .open=${this.open}
        enhancedIcon
        @message-click=${this.handleMessageClick}
        @action-click=${this.handleActionClick}
        .animateIntro=${this.animateIntro}
      >
        ${this.shelved?F`<obi-alerts-shelf slot="tertiary-icon"></obi-alerts-shelf>`:He}
        <slot name="alert-icon" slot="primary-icon"></slot>
        ${this.hasIcon?F`<slot name="icon" slot="secondary-icon"></slot>`:He}
        <slot name="title" slot="title"></slot>
        <slot name="description" slot="description"></slot>
        ${this.hasDay?F`<slot name="day" slot="day"></slot>`:He}
        ${this.hasTime?F`<slot name="time" slot="time"></slot>`:He}
        ${hB(this.status,[["unacknowledged",()=>F`<div
                slot="action-label"
                data-testid="ack-all-visible-button"
              >
                ACK
              </div>`],["no-ack-alarm",()=>F`<div slot="action-icon">
                <obi-alarm-noack-iec useCssColor></obi-alarm-noack-iec>
              </div>`],["no-ack-warning",()=>F`<div slot="action-icon">
                <obi-warning-noack-iec useCssColor></obi-warning-noack-iec>
              </div>`]])}
      </obc-message-menu-item>
    `}};Vn.styles=ot(dB);fo([M({type:Boolean})],Vn.prototype,"hasIcon",2);fo([M({type:Boolean})],Vn.prototype,"shelved",2);fo([M({type:Boolean})],Vn.prototype,"hasDay",2);fo([M({type:Boolean})],Vn.prototype,"hasTime",2);fo([M({type:String})],Vn.prototype,"status",2);fo([M({type:Boolean})],Vn.prototype,"open",2);fo([M({type:String})],Vn.prototype,"size",2);fo([M({type:Boolean})],Vn.prototype,"animateIntro",2);Vn=fo([ie("obc-alert-menu-item")],Vn);const V1=St.object({brightUrl:St.string().url(),dayUrl:St.string().url(),duskUrl:St.string().url(),nightUrl:St.string().url()}),KB=St.object({name:St.string().min(1).max(30),url:V1,icon:St.string().regex(/^[a-z0-9-]+$/)}),xE=St.enum(["alarm","warning","caution"]),qB=St.enum([rt.Unacknowledged,rt.Acknowledged,rt.Caution,rt.NoAckAlarm,rt.NoAckWarning,rt.Rectified]),YB=St.object({title:St.string(),description:St.string(),tag:St.string(),ageSeconds:St.number().int(),alertType:xE,alertStatus:qB,source:St.string()}),XB=St.object({title:St.string(),description:St.string(),source:St.string(),tag:St.string(),startSeconds:St.number().int(),resolvedSeconds:St.number().int(),alertType:xE,notAckable:St.boolean().optional()}),QB=St.object({name:St.string().min(1).max(30),appIcon:St.string().regex(/^[a-z0-9-]+$/),companyLogo:V1,companyPage:St.string().url(),helpPage:V1,configurationPage:V1,pages:St.array(KB),startAlerts:St.array(YB),simulatedAlerts:St.array(XB)}),JB=St.object({apps:St.array(QB)}),i7=["alarm","warning","caution"],gu=Xg("alert",{state:()=>({alerts:[],simulatedAlerts:[],timeouts:[],silenced:!1,alertIndex:0}),getters:{latestHighestAlert(){const r=this.activeAlerts.filter(({alertStatus:e,alertType:t})=>e!==rt.Acknowledged&&t!=="caution");return r.length===0?null:r[0]},unackedAlerts(){return this.activeAlerts.filter(({alertStatus:r})=>r===rt.Unacknowledged)},activeAlerts(){return this.alerts.filter(({alertStatus:e})=>e!==rt.Rectified).sort((e,t)=>e.time>t.time?-1:e.time<t.time?1:0).sort((e,t)=>e.alertStatus===rt.Acknowledged&&t.alertStatus!==rt.Acknowledged?1:e.alertStatus!==rt.Acknowledged&&t.alertStatus===rt.Acknowledged?-1:0).sort((e,t)=>{const i=i7.indexOf(e.alertType),n=i7.indexOf(t.alertType);return i>n?1:i<n?-1:0})}},actions:{setAlerts(r){this.stopSimulatedAlerts(),this.alerts=r.startAlerts.map(({title:e,description:t,tag:i,ageSeconds:n,alertType:s,alertStatus:o,source:a})=>({title:e,description:t,source:a,tag:i,time:new Date(Date.now()-n*1e3),alertType:s,alertStatus:o})),this.simulatedAlerts=r.simulatedAlerts},startSimulatedAlerts(){this.alerts=[],this.timeouts.forEach(clearTimeout),this.timeouts=[],this.simulatedAlerts.forEach(({title:r,description:e,tag:t,startSeconds:i,alertType:n,resolvedSeconds:s,source:o,notAckable:a})=>{let l=rt.Unacknowledged;a&&n==="alarm"?l=rt.NoAckAlarm:a&&n==="warning"?l=rt.NoAckWarning:n==="caution"&&(l=rt.Caution);const c=At({title:r,description:e,source:o,tag:t,time:new Date,alertType:n,alertStatus:l}),u=setTimeout(()=>{c.time=new Date,this.alerts.push(c)},i*1e3);this.timeouts.push(u);const h=setTimeout(()=>{c.alertStatus=rt.Rectified,c.time=new Date},(i+s)*1e3);this.timeouts.push(h)})},stopSimulatedAlerts(){this.timeouts.forEach(clearTimeout),this.timeouts=[]},ackAllAlerts(){this.unackedAlerts.forEach(r=>{r.alertStatus=rt.Acknowledged})},muteAllAlerts(){this.silenced=!0}}}),eN=()=>{const r=gu(),e=Xe(()=>r.latestHighestAlert),t=Xe(()=>{const o=r.activeAlerts[0];if(o){if(o.alertType==="alarm")return js.Alarm;if(o.alertType==="warning")return js.Warning;if(o.alertType==="caution")return js.Caution}else return js.Warning;return js.Caution}),i=Xe(()=>e.value===null||r.silenced);function n(){e.value&&r.muteAllAlerts()}function s(){e.value&&(e.value.alertStatus=rt.Acknowledged)}return{visibleAlert:e,visibleAlertType:t,silenced:i,onMuteAlert:n,onAckAlert:s}},tN=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.wrapper {
  width: var(--app-components-alert-menu-width);
  height: 560px;
  max-width: calc(100%);
}

.container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.alert-list {
  flex-shrink: 1;
  flex-grow: 1;
  min-height: 0;
  overflow: hidden;
  position: relative;
}

.action {
  display: flex;
  min-height: var(--app-components-alert-menu-footer-container-height);
  padding: calc(
      (
          var(--app-components-alert-menu-footer-container-height) -
            var(--ui-components-button-touch-target-size) - 2px
        ) /
        2
    )
    var(--app-components-alert-menu-footer-padding-horizontal);
  align-items: center;
  gap: var(--app-components-alert-menu-button-spacing);
  flex-shrink: 0;
  flex-wrap: wrap;
  align-self: stretch;
  border-top: 1px solid var(--border-divider-color);
  background: var(--container-global-color);
}

.action obc-button::part(visible-wrapper) {
    height: 100%;
  }

.action .btn {
    flex: 1;
    min-width: 120px;
  }

.empty-list {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  gap: var(--app-components-alert-menu-button-spacing);
}

.empty-list .icon {
    height: 96px;
    width: 96px;
  }

.empty-list .empty-title {
    color: var(--element-active-color);
    /* UI/Body-Active */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-active-font-size);
    font-style: normal;
    font-weight: var(--font-weight-bold);
    line-height: var(--global-typography-ui-body-active-line-height);
  }

.empty-list .empty-description {
    color: var(--element-neutral-color);
    /* UI/Body */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-body-font-weight);
    line-height: var(--global-typography-ui-body-line-height);
    text-decoration: none;
    max-width: 344px;
    text-align: center;
  }

::slotted(*) {
  display: block;
  will-change: transform;
}
`,iN=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
.wrapper {
  padding: 0;
  background: transparent;
  height: 48px;
  appearance: none;
  border: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-button-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-button-font-weight);
  line-height: var(--global-typography-ui-button-line-height);
  width: 100%;
  padding-left: 24px;
  padding-right: 24px;

}
.wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}
.wrapper:focus {
            outline: none;
}
.wrapper.activated {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}
@media (hover:hover) {
            .wrapper:hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}
.wrapper:active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}
.wrapper:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}
.wrapper:disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}
.wrapper {
  color: var(--on-flat-active-color);
}
.wrapper .icon {
    color: var(--on-flat-neutral-color);
  }
.wrapper.hasIconLeading .visible-wrapper {
    padding-left: 20px;
    padding-right: 20px;
  }
.wrapper .icon {
    height: 24px;
    width: 24px;
  }
.wrapper:not(.hasIconLeading) .icon.leading {
    display: none;
  }
.wrapper:not(.hasIconTrailing) .icon.trailing {
    display: none;
  }
.wrapper .label {
    padding-left: 8px;
    padding-right: 8px;
    flex-grow: 1;
    text-align: left;
  }
`;var rN=Object.defineProperty,nN=Object.getOwnPropertyDescriptor,xl=(r,e,t,i)=>{for(var n=i>1?void 0:i?nN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&rN(e,t,n),n};let Js=class extends ee{constructor(){super(...arguments),this.icon="placeholder",this.variant="normal",this.hasIconLeading=!1,this.hasIconTrailing=!1}firstUpdated(){this.hasIconLeading=this.leadingIcon.length>0,this.hasIconTrailing=this.trailingIcon.length>0}render(){return F`
      <button
        class=${ti({wrapper:!0,hasIconLeading:this.hasIconLeading,hasIconTrailing:this.hasIconTrailing})}
      >
        <span class="icon leading"><slot name="leading-icon"></slot></span>
        <span class="label"><slot></slot></span>
        <span class="icon trailing"><slot name="trailing-icon"></slot></span>
      </button>
    `}};Js.styles=ot(iN);xl([M({type:String})],Js.prototype,"icon",2);xl([M({type:String})],Js.prototype,"variant",2);xl([af({slot:"leading-icon"})],Js.prototype,"leadingIcon",2);xl([af({slot:"trailing-icon"})],Js.prototype,"trailingIcon",2);xl([ba()],Js.prototype,"hasIconLeading",2);xl([ba()],Js.prototype,"hasIconTrailing",2);Js=xl([ie("obc-card-list-button")],Js);var sN=Object.defineProperty,oN=Object.getOwnPropertyDescriptor,EE=(r,e,t,i)=>{for(var n=i>1?void 0:i?oN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&sN(e,t,n),n};let p0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M2 8.995V6.99667H3.9802V8.995H2Z" fill="currentColor"/>
<path d="M2 12.9917V10.9933H3.9802V12.9917H2Z" fill="currentColor"/>
<path d="M2 4.99833V3H3.9802V4.99833H2Z" fill="currentColor"/>
<path d="M5.9604 8.995V6.99667H12.9901L12.4257 8.12573L12 8.995H5.9604Z" fill="currentColor"/>
<path d="M5.9604 12.9917V10.9933H10.9901L10 12.9917H5.9604Z" fill="currentColor"/>
<path d="M5.9604 4.99833V3H19.8218V4.99833H5.9604Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.904 18.7194L16.2893 7.49141C15.9617 6.8362 15.0383 6.8362 14.7107 7.49141L9.09602 18.7194C8.79816 19.315 9.23006 20 9.88535 20H21.1147C21.7699 20 22.2018 19.315 21.904 18.7194ZM14.7499 18.5002H16.2499V17.0002H14.7499V18.5002ZM14.7499 15.5002H16.2499V11.0002H14.7499V15.5002Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2 8.995V6.99667H3.9802V8.995H2Z" style="fill: var(--element-active-color)"/>
<path d="M2 12.9917V10.9933H3.9802V12.9917H2Z" style="fill: var(--element-active-color)"/>
<path d="M2 4.99833V3H3.9802V4.99833H2Z" style="fill: var(--element-active-color)"/>
<path d="M5.9604 8.995V6.99667H12.9901L12.4257 8.12573L12 8.995H5.9604Z" style="fill: var(--element-active-color)"/>
<path d="M5.9604 12.9917V10.9933H10.9901L10 12.9917H5.9604Z" style="fill: var(--element-active-color)"/>
<path d="M5.9604 4.99833V3H19.8218V4.99833H5.9604Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.904 18.7194L16.2893 7.49141C15.9617 6.8362 15.0383 6.8362 14.7107 7.49141L9.09602 18.7194C8.79816 19.315 9.23006 20 9.88535 20H21.1147C21.7699 20 22.2018 19.315 21.904 18.7194ZM14.7499 18.5002H16.2499V17.0002H14.7499V18.5002ZM14.7499 15.5002H16.2499V11.0002H14.7499V15.5002Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};p0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;EE([M({type:Boolean})],p0.prototype,"useCssColor",2);p0=EE([ie("obi-alert-list")],p0);var aN=Object.defineProperty,lN=Object.getOwnPropertyDescriptor,TE=(r,e,t,i)=>{for(var n=i>1?void 0:i?lN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&aN(e,t,n),n};let g0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4.60003 7.99993C4.03998 7.99993 3.75995 7.99993 3.54604 8.10892C3.35788 8.20479 3.2049 8.35778 3.10902 8.54594C3.00003 8.75985 3.00003 9.03988 3.00003 9.59993V14.3999C3.00003 14.96 3.00003 15.24 3.10902 15.4539C3.2049 15.6421 3.35788 15.7951 3.54604 15.8909C3.75995 15.9999 4.03998 15.9999 4.60003 15.9999H11L16.6343 21.6342C17.0627 22.0626 17.2769 22.2768 17.4608 22.2913C17.6204 22.3038 17.7763 22.2393 17.8802 22.1175C18 21.9773 18 21.6744 18 21.0686V2.9313C18 2.32548 18 2.02257 17.8802 1.88231C17.7763 1.76061 17.6204 1.69602 17.4608 1.70858C17.2769 1.72305 17.0627 1.93724 16.6343 2.36561L11 7.99993H4.60003ZM16 18.1715L11.8285 13.9999H5.00003V9.99993H11.8285L16 5.82835V18.1715Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4.60003 7.99993C4.03998 7.99993 3.75995 7.99993 3.54604 8.10892C3.35788 8.20479 3.2049 8.35778 3.10902 8.54594C3.00003 8.75985 3.00003 9.03988 3.00003 9.59993V14.3999C3.00003 14.96 3.00003 15.24 3.10902 15.4539C3.2049 15.6421 3.35788 15.7951 3.54604 15.8909C3.75995 15.9999 4.03998 15.9999 4.60003 15.9999H11L16.6343 21.6342C17.0627 22.0626 17.2769 22.2768 17.4608 22.2913C17.6204 22.3038 17.7763 22.2393 17.8802 22.1175C18 21.9773 18 21.6744 18 21.0686V2.9313C18 2.32548 18 2.02257 17.8802 1.88231C17.7763 1.76061 17.6204 1.69602 17.4608 1.70858C17.2769 1.72305 17.0627 1.93724 16.6343 2.36561L11 7.99993H4.60003ZM16 18.1715L11.8285 13.9999H5.00003V9.99993H11.8285L16 5.82835V18.1715Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};g0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;TE([M({type:Boolean})],g0.prototype,"useCssColor",2);g0=TE([ie("obi-unacknowledged")],g0);const cN=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

:host {
  display: block;
}

.tab-container {
  display: flex;
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  flex-shrink: 0;
  border-radius: var(--app-components-alert-menu-border-radius);
  background: var(--container-global-color);
  box-shadow: var(--shadow-floating);
}

.tab-header {
  display: flex;
  align-items: center;
  align-self: stretch;
  border-top-left-radius: var(--app-components-alert-menu-border-radius);
  border-top-right-radius: var(--app-components-alert-menu-border-radius);
  background: var(--container-section-color);
}

.tab-button {
  position: relative;
  display: flex;
  height: var(--menu-navigation-components-tab-item-touch-target-size);
  padding: 0 var(--menu-navigation-components-tab-item-padding-horizontal);
  justify-content: center;
  align-items: center;
  flex: 1 0 0;
}

.tab-button {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.tab-button:focus {
            outline: none;
}

.tab-button.activated {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

@media (hover:hover) {

.tab-button:hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.tab-button:active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.tab-button:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.tab-button:disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.tab-button {
  /* UI/Body */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-body-font-weight);
  line-height: var(--global-typography-ui-body-line-height);
  text-decoration: none;
  color: var(--on-flat-active-color);
  border-width: 0;
  border-bottom: 1px solid var(--border-divider-color);

  /* Divider between tabs */
}

.tab-button.has-divider::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    margin: auto;
    right: 0;
    width: 1px;
    height: 24px;
    background: var(--border-divider-color);
    z-index: 0;
  }

.tab-button[aria-selected='true'] {
    /* UI/Body-Active */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-body-active-font-size);
    font-style: normal;
    font-weight: var(--font-weight-bold);
    line-height: var(--global-typography-ui-body-active-line-height);
  }

.tab-button[aria-selected='true'] {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.tab-button[aria-selected='true']:focus {
            outline: none;
}

.tab-button.activated[aria-selected='true'] {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

@media (hover:hover) {

.tab-button[aria-selected='true']:hover {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

.tab-button[aria-selected='true']:active {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

.tab-button[aria-selected='true']:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.tab-button[aria-selected='true']:disabled {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

.tab-button[aria-selected='true'] {
    border-width: 0;
    border-bottom: 1px solid transparent !important;
    border-color: transparent;
    z-index: 1;
}

.tab-button[aria-selected='true']:not(:last-of-type) {
      border-right: 1px solid var(--border-divider-color);
    }

.tab-button[aria-selected='true']:not(:first-of-type) {
      border-left: 1px solid var(--border-divider-color);
    }

.tab-button:first-of-type {
    border-top-left-radius: var(--app-components-alert-menu-border-radius);
  }

.tab-button:last-of-type {
    border-top-right-radius: var(--app-components-alert-menu-border-radius);
  }

.tab-panels {
  width: 100%;
  flex: 1;
  min-height: 0;
}

div[role='tabpanel'] {
  width: 100%;
  height: 100%;
  border-bottom-left-radius: var(--app-components-alert-menu-border-radius);
  border-bottom-right-radius: var(--app-components-alert-menu-border-radius);
  overflow: hidden;
}
`;var uN=Object.defineProperty,hN=Object.getOwnPropertyDescriptor,o4=(r,e,t,i)=>{for(var n=i>1?void 0:i?hN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&uN(e,t,n),n};let wd=class extends ee{constructor(){super(...arguments),this.nTabs=1,this.selectedTab=0}_handleKeyDown(r){if(!r.target.classList.contains("tab-button"))return;const t=this.selectedTab;switch(r.key){case"ArrowRight":this.setSelectedTab((t+1)%this.nTabs);break;case"ArrowLeft":this.setSelectedTab((t-1+this.nTabs)%this.nTabs);break;case"Home":this.setSelectedTab(0);break;case"End":this.setSelectedTab(this.nTabs-1);break;default:return}r.preventDefault(),this._focusTab(this.selectedTab)}setSelectedTab(r){this.selectedTab=r,this.dispatchEvent(new CustomEvent("tab-change",{detail:{tab:r}}))}_focusTab(r){var e;const t=(e=this.shadowRoot)==null?void 0:e.querySelector(`button[data-index="${r}"]`);t==null||t.focus()}_generateTabHeaders(){return[...Array(this.nTabs)].map((r,e)=>{const t=e!==this.nTabs-1&&this.selectedTab!==e&&e+1!==this.selectedTab;return F`
        <button
          class="tab-button ${t?"has-divider":""}"
          role="tab"
          aria-selected="${this.selectedTab===e}"
          aria-controls="panel-${e}"
          id="tab-${e}"
          data-index="${e}"
          tabindex="${this.selectedTab===e?0:-1}"
          @click="${()=>this.setSelectedTab(e)}"
          @focus="${()=>this.setSelectedTab(e)}"
        >
          <span><slot name="tab-title-${e}">Tab ${e+1}</slot></span>
        </button>
      `})}_generateTabPanels(){return[...Array(this.nTabs)].map((r,e)=>F`
        <div
          role="tabpanel"
          id="panel-${e}"
          aria-labelledby="tab-${e}"
          tabindex="0"
          ?hidden="${this.selectedTab!==e}"
        >
          <slot name="tab-content-${e}"></slot>
        </div>
      `)}render(){return F`
      <div class="tab-container" @keydown="${this._handleKeyDown}">
        <div class="tab-header" role="tablist" aria-label="Tab List">
          ${this._generateTabHeaders()}
        </div>
        <div class="tab-panels">${this._generateTabPanels()}</div>
      </div>
    `}};wd.styles=ot(cN);o4([M({type:Number})],wd.prototype,"nTabs",2);o4([M({type:Number})],wd.prototype,"selectedTab",2);wd=o4([ie("obc-tabbed-card")],wd);const dN=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

:host {
  display: block;
}

.wrapper {
  overflow-y: auto;
  height: 100%;
  --offset: calc(
    (
        var(--obc-scrollbar-touch-target-size) -
          var(--obc-scrollbar-visual-target-size)
      ) /
      2
  );
}

::-webkit-scrollbar {
  width: var(--obc-scrollbar-touch-target-size);
  height: var(--obc-scrollbar-touch-target-size);
  /*background-color: var(--container-background-color);*/
}

::-webkit-scrollbar-track-piece {
  border: var(--offset) solid transparent;
  border-radius: 9999px;
  background-color: var(--indent-enabled-background-color);
  margin-top: calc(-1 * var(--offset));
  margin-bottom: calc(-1 * var(--offset));
  box-sizing: border-box;
  background-clip: content-box;
}

::-webkit-scrollbar-track-piece:vertical:start {
  border-bottom-width: 0;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

::-webkit-scrollbar-track-piece:vertical:end {
  border-top-width: 0;
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

::-webkit-scrollbar-track-piece:hover {
  outline-color: var(--indent-hover-border-color);
  background-color: var(--indent-hover-background-color);
}

::-webkit-scrollbar-track-piece:active {
  outline-color: var(--indent-pressed-border-color);
  background-color: var(--indent-pressed-background-color);
}

::-webkit-scrollbar-thumb {
  border: calc(var(--offset) + 1px) solid transparent;
  outline: 1px solid var(--obc-scrollbar-thumb-border-color);
  outline-offset: calc(-1 * var(--offset) - 1px);
  background-clip: content-box;
  border-radius: 9999px;
  background-color: var(--obc-scrollbar-thumb-background-color);
  min-height: calc(var(--obc-scrollbar-touch-target-size) * 1.5);
}

::-webkit-scrollbar-thumb:hover {
  outline-color: var(--obc-scrollbar-thumb-hover-border-color);
  background-color: var(--obc-scrollbar-thumb-hover-background-color);
}

::-webkit-scrollbar-thumb:active {
  outline-color: var(--obc-scrollbar-thumb-active-border-color);
  background-color: var(--obc-scrollbar-thumb-active-background-color);
}

::-webkit-scrollbar-button:start:decrement,
::-webkit-scrollbar-button:end:increment {
  display: var(--obc-scrollbar-button-display);
  height: var(--obc-scrollbar-button-size);
  width: var(--obc-scrollbar-button-size);
  box-sizing: border-box;
  background-clip: content-box;
  background-repeat: no-repeat;
  background-position: center;
  border: var(--obc-scrollbar-button-margin) solid transparent;
  border-radius: var(--obc-scrollbar-button-radius);
  background-clip: padding-box;
  background-color: var(--flat-enabled-background-color);
}

::-webkit-scrollbar-button:start:decrement:hover,
::-webkit-scrollbar-button:end:increment:hover {
  background-color: var(--flat-hover-background-color);
}

::-webkit-scrollbar-button:start:decrement:active,
::-webkit-scrollbar-button:end:increment:active {
  background-color: var(--flat-pressed-background-color);
}

::-webkit-scrollbar-button:vertical:start:decrement {
  background-image: var(--icon-02-chevron-up);
}

::-webkit-scrollbar-button:vertical:end:increment {
  background-image: var(--icon-02-chevron-down);
}
`;var fN=Object.getOwnPropertyDescriptor,pN=(r,e,t,i)=>{for(var n=i>1?void 0:i?fN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let e5=class extends ee{render(){return F`
      <div class="wrapper">
        <slot></slot>
      </div>
    `}scrollToBottom(){var r;const e=(r=this.shadowRoot)==null?void 0:r.querySelector(".wrapper");e&&(e.scrollTop=e.scrollHeight)}};e5.styles=ot(dN);e5=pN([ie("obc-scrollbar")],e5);var gN=Object.defineProperty,mN=Object.getOwnPropertyDescriptor,a4=(r,e,t,i)=>{for(var n=i>1?void 0:i?mN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&gN(e,t,n),n};let Cd=class extends ee{constructor(){super(...arguments),this.hasShelved=!1,this.canAckAll=!1,this.oldElementTop=new Map,this.mutationObservers={},this.PANEL_NAMES=["unacked","all","shelved"],this.hasRenderedPanel={unacked:!1,all:!1,shelved:!1}}handleAckAllVisibleClick(r){const e=this.getVisibleElementsInCurrentTab(r);this.dispatchEvent(new CustomEvent("ack-all-visible-click",{detail:{visibleElements:e,tabName:r}}))}firstUpdated(){this.PANEL_NAMES.forEach(r=>{var e;const t=(e=this.shadowRoot)==null?void 0:e.querySelector(`slot[name=${r}]`);t==null||t.addEventListener("slotchange",()=>{var i;const n=(i=this.shadowRoot)==null?void 0:i.querySelector(`slot[name=${r}]`);if(!n)return;const s=n.assignedElements();s.length===1&&s[0].tagName==="SPAN"?this.setupMutationObserver(r):this.handleSlotChange(r)}),requestAnimationFrame(()=>{this.updateOldElementTop(r)})})}updateOldElementTop(r){var e;const t=(e=this.shadowRoot)==null?void 0:e.querySelector(`slot[name=${r}]`);if(!t)return;let i=t.assignedElements();if(i.length===1&&i[0].tagName==="SPAN"&&(i=Array.from(i[0].childNodes).filter(l=>l.nodeType===Node.ELEMENT_NODE)),i.length===0)return;let a=i[0].getBoundingClientRect().top;i.forEach(l=>{const c=l.getBoundingClientRect();this.oldElementTop.set(l,a),a+=c.height})}setupMutationObserver(r){var e;const t=this.mutationObservers[r];t&&(t.disconnect(),delete this.mutationObservers[r]);const i=(e=this.shadowRoot)==null?void 0:e.querySelector(`slot[name=${r}]`);if(!i)return;const n=i.assignedElements(),s=n.length===1&&n[0].tagName==="SPAN";if(!s)return;const o=s?n[0]:i,a=new MutationObserver(()=>{this.handleSlotChange(r)});a.observe(o,{childList:!0,subtree:!1}),this.mutationObservers[r]=a}handleSlotChange(r){var e;const t=(e=this.shadowRoot)==null?void 0:e.querySelector(`slot[name=${r}]`);if(!t)return;let i=t.assignedElements();i.length===1&&i[0].tagName==="SPAN"&&(i=Array.from(i[0].childNodes).filter(o=>o.nodeType===Node.ELEMENT_NODE));const s=new Map(this.oldElementTop);requestAnimationFrame(()=>{this.updateOldElementTop(r),i.forEach(o=>{const a=o.getBoundingClientRect(),l=s.get(o);if(l===void 0){o.animateIntro=this.hasRenderedPanel[r];return}const c=l-a.top;c!==0&&(o.style.transform=`translateY(${c}px)`,o.style.transition="none",o.offsetHeight,o.style.transition="transform 100ms ease-in-out",o.style.transform="translateY(0px)")}),this.hasRenderedPanel[r]=!0})}onTabChange(r){const e=this.PANEL_NAMES[r.detail.tab];this.hasRenderedPanel[e]=!1,requestAnimationFrame(()=>{this.updateOldElementTop(e)})}getVisibleElementsInCurrentTab(r){var e;const t=(e=this.shadowRoot)==null?void 0:e.querySelector(`#alert-list-${r}`);if(!t)return[];const i=t.querySelector(`slot[name=${r}]`);if(!i)return[];let n=i.assignedElements();const s=t.getBoundingClientRect();return n.length===1&&n[0].tagName==="SPAN"&&(n=Array.from(n[0].childNodes).filter(o=>o.nodeType===Node.ELEMENT_NODE)),n.map((o,a)=>({element:o,index:a})).filter(({element:o})=>{const a=window.getComputedStyle(o);if(a.display==="none"||a.visibility==="hidden")return!1;const l=o.getBoundingClientRect();return!(l.top<s.top||l.bottom>s.bottom)})}render(){const r=[{name:"unacked",emptyTitle:zi("No unacknowledged alerts"),emptyDescription:zi("Go to the 'Alert list' for more details or to manage existing alerts."),emptyIcon:F`<obi-unacknowledged
          class="empty icon"
        ></obi-unacknowledged>`},{name:"all",emptyTitle:zi("No active alerts"),emptyDescription:zi("Go to the 'Alert list' for more details or to manage existing alerts."),emptyIcon:F`<obi-alerts class="empty icon"></obi-alerts>`}];return this.hasShelved&&r.push({name:"shelved",emptyTitle:zi("No shelved alerts"),emptyDescription:zi("Go to the 'Alert list' for more details or to manage existing alerts."),emptyIcon:F`<obi-alerts-shelf
          class="empty icon"
        ></obi-alerts-shelf>`}),F`
      <obc-tabbed-card
        .nTabs=${r.length}
        class="wrapper"
        part="wrapper"
        .selectedTab=${1}
        @tab-change=${this.onTabChange}
      >
        <span slot="tab-title-0">${zi("Unacked")}</span>
        <span slot="tab-title-1">${zi("Active alerts")}</span>
        ${this.hasShelved?F`<span slot="tab-title-2">${zi("Shelved")}</span>`:He}
        ${r.map((e,t)=>F`
            <div slot="tab-content-${t}" class="container">
              <obc-scrollbar class="alert-list" id="alert-list-${e.name}">
                <slot name="${e.name}">
                  <div class="empty-list">
                    ${e.emptyIcon}
                    <slot name="empty-${e.name}-title">
                      <div class="empty-title" data-testid="empty-title">
                        ${e.emptyTitle}
                      </div>
                    </slot>
                    <slot name="empty-${e.name}-description">
                      <div class="empty-description">${e.emptyDescription}</div>
                    </slot>
                  </div>
                </slot>
              </obc-scrollbar>
              <div class="action">
                <obc-button
                  variant="raised"
                  .disabled=${!this.canAckAll}
                  fullWidth
                  class="btn"
                  data-testid="ack-all-visible-button"
                  @click=${()=>this.handleAckAllVisibleClick(e.name)}
                >
                  ${zi("ACK visible")}
                </obc-button>
                <obc-button
                  variant="normal"
                  fullWidth
                  class="btn"
                  @click=${()=>this.dispatchEvent(new CustomEvent("silence-click"))}
                >
                  <obi-silence-iec slot="leading-icon"></obi-silence-iec>
                  ${zi("Silence")}
                </obc-button>
                <obc-button
                  variant="normal"
                  class="btn"
                  fullWidth
                  @click=${()=>this.dispatchEvent(new CustomEvent("go-to-alert-list-click"))}
                >
                  <obi-alert-list slot="leading-icon"></obi-alert-list>
                  <obi-chevron-right-google
                    slot="trailing-icon"
                  ></obi-chevron-right-google>
                  ${zi("Alerts")}
                </obc-button>
              </div>
            </div>
          `)}
      </obc-tabbed-card>
    `}};Cd.styles=ot(tN);a4([M({type:Boolean})],Cd.prototype,"hasShelved",2);a4([M({type:Boolean})],Cd.prototype,"canAckAll",2);Cd=a4([Zx(),ie("obc-alert-menu")],Cd);const vN=Ne({__name:"ObcAlertMenu",props:{hasShelved:{type:Boolean},canAckAll:{type:Boolean}},emits:["ack-all-visible-click","alert-list-click","silence-click","go-to-alert-list-click"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onAckAllVisibleClick:u=>o("ack-all-visible-click",u),onAlertListClick:u=>o("alert-list-click",u),onSilenceClick:u=>o("silence-click",u),onGoToAlertListClick:u=>o("go-to-alert-list-click",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-alert-menu",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}}),r7=Ne({__name:"ObcAlertMenuItem",props:{hasIcon:{type:Boolean},shelved:{type:Boolean},hasDay:{type:Boolean},hasTime:{type:Boolean},status:{},open:{type:Boolean},size:{},animateIntro:{type:Boolean}},emits:["ack-click","item-click"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onAckClick:u=>o("ack-click",u),onItemClick:u=>o("item-click",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-alert-menu-item",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}});var yN=Object.defineProperty,bN=Object.getOwnPropertyDescriptor,LE=(r,e,t,i)=>{for(var n=i>1?void 0:i?bN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&yN(e,t,n),n};let m0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4 2C2.89543 2 2 2.89543 2 4V20C2 21.1046 2.89543 22 4 22H20C21.1046 22 22 21.1046 22 20V4C22 2.89543 21.1046 2 20 2H4Z" fill="currentColor"/>
<path d="M11 14V6H13V14H11Z" fill="currentColor"/>
<path d="M13 16H11V18H13V16Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4 2C2.89543 2 2 2.89543 2 4V20C2 21.1046 2.89543 22 4 22H20C21.1046 22 22 21.1046 22 20V4C22 2.89543 21.1046 2 20 2H4Z" style="fill: var(--alert-caution-color)"/>
<path d="M11 14V6H13V14H11Z" style="fill: var(--on-caution-active-color)"/>
<path d="M13 16H11V18H13V16Z" style="fill: var(--on-caution-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};m0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;LE([M({type:Boolean})],m0.prototype,"useCssColor",2);m0=LE([ie("obi-caution-color-iec")],m0);var _N=Object.defineProperty,wN=Object.getOwnPropertyDescriptor,SE=(r,e,t,i)=>{for(var n=i>1?void 0:i?wN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&_N(e,t,n),n};let v0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5338L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5338Z" fill="currentColor"/>
<path d="M11 15V7H13V15H11Z" fill="currentColor"/>
<path d="M13 17H11V19H13V17Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5338L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5338Z" style="fill: var(--alert-alarm-color)"/>
<path d="M11 15V7H13V15H11Z" style="fill: var(--on-alarm-color)"/>
<path d="M13 17H11V19H13V17Z" style="fill: var(--on-alarm-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};v0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;SE([M({type:Boolean})],v0.prototype,"useCssColor",2);v0=SE([ie("obi-alarm-acknowledged-iec")],v0);var CN=Object.defineProperty,xN=Object.getOwnPropertyDescriptor,AE=(r,e,t,i)=>{for(var n=i>1?void 0:i?xN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&CN(e,t,n),n};let y0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" fill="currentColor"/>
<path d="M13 13V7H11V13H13Z" fill="currentColor"/>
<path d="M13 17V15H11V17H13Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" style="fill: var(--alert-warning-color)"/>
<path d="M13 13V7H11V13H13Z" style="fill: var(--on-warning-active-color)"/>
<path d="M13 17V15H11V17H13Z" style="fill: var(--on-warning-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};y0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;AE([M({type:Boolean})],y0.prototype,"useCssColor",2);y0=AE([ie("obi-warning-acknowledged-iec")],y0);var EN=Object.defineProperty,TN=Object.getOwnPropertyDescriptor,kE=(r,e,t,i)=>{for(var n=i>1?void 0:i?TN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&EN(e,t,n),n};let b0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5339L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5339Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.2071 12.7071L10 19.9142L5.79291 15.7071L7.20712 14.2928L10 17.0857L15.7929 11.2928L17.2071 12.7071Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.11648 20.5339L11.1158 1.53427C11.4907 0.821889 12.5105 0.821913 12.8854 1.53432L22.8835 20.5339C23.234 21.1999 22.7512 22 21.9987 22L2.00128 22C1.24879 22 0.765943 21.1999 1.11648 20.5339Z" style="fill: var(--alert-alarm-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.2071 12.7071L10 19.9142L5.79291 15.7071L7.20712 14.2928L10 17.0857L15.7929 11.2928L17.2071 12.7071Z" style="fill: var(--on-alarm-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};b0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;kE([M({type:Boolean})],b0.prototype,"useCssColor",2);b0=kE([ie("obi-alarm-rectified-iec")],b0);var LN=Object.defineProperty,SN=Object.getOwnPropertyDescriptor,IE=(r,e,t,i)=>{for(var n=i>1?void 0:i?SN(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&LN(e,t,n),n};let _0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.2071 9.20706L10.5 16.9142L5.79291 12.2071L7.20712 10.7928L10.5 14.0857L16.7929 7.79285L18.2071 9.20706Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" style="fill: var(--alert-warning-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.2071 9.20706L10.5 16.9142L5.79291 12.2071L7.20712 10.7928L10.5 14.0857L16.7929 7.79285L18.2071 9.20706Z" style="fill: var(--on-warning-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};_0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;IE([M({type:Boolean})],_0.prototype,"useCssColor",2);_0=IE([ie("obi-warning-rectified-iec")],_0);const AN={key:0,usecsscolor:"",class:"status-icon"},kN={key:1,usecsscolor:"",class:"status-icon"},IN={key:2,usecsscolor:"",class:"status-icon"},MN={key:0,class:"status-icon",name:"alarm-unack"},PN={key:1,usecsscolor:"",class:"status-icon"},RN={key:2,class:"status-icon",name:"warning-unack"},DN={key:0,usecsscolor:"",class:"status-icon"},ON={key:1,usecsscolor:"",class:"status-icon"},$N={key:2,usecsscolor:"",class:"status-icon"},VN={key:3,usecsscolor:"",class:"status-icon"},FN={key:4,class:"status-icon",name:"alarm-unack"},BN={key:5,class:"status-icon",name:"warning-unack"},t5=Ne({__name:"AlertIcon",props:{alertStatus:{},alertType:{}},setup(r){return(e,t)=>e.alertStatus===N(rt).Acknowledged?(G(),we(pt,{key:0},[e.alertType==="alarm"?(G(),we("obi-alarm-acknowledged-iec",AN)):e.alertType==="caution"?(G(),we("obi-caution-color-iec",kN)):e.alertType==="warning"?(G(),we("obi-warning-acknowledged-iec",IN)):$t("",!0)],64)):e.alertStatus===N(rt).Unacknowledged?(G(),we(pt,{key:1},[e.alertType==="alarm"?(G(),we("obc-alert-icon",MN)):e.alertType==="caution"?(G(),we("obi-caution-color-iec",PN)):e.alertType==="warning"?(G(),we("obc-alert-icon",RN)):$t("",!0)],64)):e.alertStatus===N(rt).Rectified?(G(),we(pt,{key:2},[e.alertType==="alarm"?(G(),we("obi-alarm-rectified-iec",DN)):e.alertType==="caution"?(G(),we("obi-caution-color-iec",ON)):e.alertType==="warning"?(G(),we("obi-warning-rectified-iec",$N)):$t("",!0)],64)):e.alertStatus===N(rt).Caution?(G(),we("obi-caution-color-iec",VN)):e.alertStatus===N(rt).NoAckAlarm?(G(),we("obc-alert-icon",FN)):e.alertStatus===N(rt).NoAckWarning?(G(),we("obc-alert-icon",BN)):(G(),we(pt,{key:6},[It(Qt(e.alertStatus),1)],64))}}),NN=Ne({__name:"DemoAlertMenu",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(r){const e=jP(r,"modelValue"),t=gu(),i=cx();function n(){i.push({name:"alert"}),e.value&&(e.value=!1)}function s(o){console.log("onAckAllVisibleClick",o);let a;o.detail.tabName==="unacked"?a=[...t.unackedAlerts]:a=[...t.activeAlerts],o.detail.visibleElements.forEach(({index:l})=>{const c=a[l];c&&c.alertStatus===rt.Unacknowledged&&(c.alertStatus=rt.Acknowledged)})}return(o,a)=>e.value?(G(),Re(vN,{key:0,class:"alert-menu",empty:N(t).unackedAlerts.length===0,"can-ack-all":N(t).unackedAlerts.length>0,"can-silence":"",onAckAllVisibleClick:s,onGoToAlertListClick:n,onSilenceClick:N(t).muteAllAlerts},yP({_:2},[N(t).unackedAlerts.length>0?{name:"unacked",fn:J(()=>[(G(!0),we(pt,null,Ws(N(t).unackedAlerts,l=>(G(),Re(r7,{key:l.tag,"has-time":"",onAckClick:()=>l.alertStatus=N(rt).Acknowledged},{"alert-icon":J(()=>[ue(t5,{"alert-status":l.alertStatus,"alert-type":l.alertType},null,8,["alert-status","alert-type"])]),title:J(()=>[It(Qt(l.title),1)]),description:J(()=>[It(Qt(l.description),1)]),time:J(()=>[It(Qt(l.time.toLocaleTimeString("en-UK")),1)]),_:2},1032,["onAckClick"]))),128))]),key:"0"}:void 0,N(t).activeAlerts.length>0?{name:"all",fn:J(()=>[(G(!0),we(pt,null,Ws(N(t).activeAlerts,l=>(G(),Re(r7,{key:l.tag,"has-time":"",status:l.alertStatus,onAckClick:()=>l.alertStatus=N(rt).Acknowledged},{"alert-icon":J(()=>[ue(t5,{"alert-status":l.alertStatus,"alert-type":l.alertType},null,8,["alert-status","alert-type"])]),title:J(()=>[It(Qt(l.title),1)]),description:J(()=>[It(Qt(l.description),1)]),time:J(()=>[It(Qt(l.time.toLocaleTimeString("en-UK")),1)]),_:2},1032,["status","onAckClick"]))),128))]),key:"1"}:void 0]),1032,["empty","can-ack-all","onSilenceClick"])):$t("",!0)}});var n7={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let n=r.charCodeAt(i);n<128?e[t++]=n:n<2048?(e[t++]=n>>6|192,e[t++]=n&63|128):(n&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(n=65536+((n&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=n>>18|240,e[t++]=n>>12&63|128,e[t++]=n>>6&63|128,e[t++]=n&63|128):(e[t++]=n>>12|224,e[t++]=n>>6&63|128,e[t++]=n&63|128)}return e},HN=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const n=r[t++];if(n<128)e[i++]=String.fromCharCode(n);else if(n>191&&n<224){const s=r[t++];e[i++]=String.fromCharCode((n&31)<<6|s&63)}else if(n>239&&n<365){const s=r[t++],o=r[t++],a=r[t++],l=((n&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=r[t++],o=r[t++];e[i++]=String.fromCharCode((n&15)<<12|(s&63)<<6|o&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let n=0;n<r.length;n+=3){const s=r[n],o=n+1<r.length,a=o?r[n+1]:0,l=n+2<r.length,c=l?r[n+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(t[u],t[h],t[d],t[f])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ME(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let n=0;n<r.length;){const s=t[r.charAt(n++)],a=n<r.length?t[r.charAt(n)]:0;++n;const c=n<r.length?t[r.charAt(n)]:64;++n;const h=n<r.length?t[r.charAt(n)]:64;if(++n,s==null||a==null||c==null||h==null)throw new UN;const d=s<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const g=c<<6&192|h;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class UN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zN=function(r){const e=ME(r);return PE.encodeByteArray(e,!0)},w0=function(r){return zN(r).replace(/\./g,"")},jN=function(r){try{return PE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=()=>GN().__FIREBASE_DEFAULTS__,WN=()=>{if(typeof process>"u"||typeof n7>"u")return;const r=n7.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jN(r[1]);return e&&JSON.parse(e)},l4=()=>{try{return ZN()||WN()||KN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qN=r=>{var e,t;return(t=(e=l4())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},YN=r=>{const e=qN(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},RE=()=>{var r;return(r=l4())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",n=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:n,exp:n+3600,auth_time:n,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},r);return[w0(JSON.stringify(t)),w0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eH(){var r;const e=(r=l4())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tH(){return!eH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iH(){try{return typeof indexedDB=="object"}catch{return!1}}function rH(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(i);n.onsuccess=()=>{n.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},n.onupgradeneeded=()=>{t=!1},n.onerror=()=>{var s;e(((s=n.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH="FirebaseError";class mu extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=nH,Object.setPrototypeOf(this,mu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,DE.prototype.create)}}class DE{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},n=`${this.service}/${e}`,s=this.errors[e],o=s?sH(s,i):"Error",a=`${this.serviceName}: ${o} (${n}).`;return new mu(n,a,i)}}function sH(r,e){return r.replace(oH,(t,i)=>{const n=e[i];return n!=null?String(n):`<${i}?>`})}const oH=/\{\$([^}]+)}/g;function i5(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const n of t){if(!i.includes(n))return!1;const s=r[n],o=e[n];if(s7(s)&&s7(o)){if(!i5(s,o))return!1}else if(s!==o)return!1}for(const n of i)if(!t.includes(n))return!1;return!0}function s7(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(r){return r&&r._delegate?r._delegate:r}class Ed{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new XN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&i.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cH(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:n});i.resolve(s)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(n)}return n}onInit(e,t){var i;const n=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(n))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const n of i)try{n(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lH(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lH(r){return r===Va?void 0:r}function cH(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aH(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Et||(Et={}));const hH={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},dH=Et.INFO,fH={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},pH=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),n=fH[e];if(n)console[n](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let OE=class{constructor(e){this.name=e,this._logLevel=dH,this._logHandler=pH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}};const gH=(r,e)=>e.some(t=>r instanceof t);let o7,a7;function mH(){return o7||(o7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vH(){return a7||(a7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,r5=new WeakMap,VE=new WeakMap,C2=new WeakMap,c4=new WeakMap;function yH(r){const e=new Promise((t,i)=>{const n=()=>{r.removeEventListener("success",s),r.removeEventListener("error",o)},s=()=>{t(Uo(r.result)),n()},o=()=>{i(r.error),n()};r.addEventListener("success",s),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&$E.set(t,r)}).catch(()=>{}),c4.set(e,r),e}function bH(r){if(r5.has(r))return;const e=new Promise((t,i)=>{const n=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",o),r.removeEventListener("abort",o)},s=()=>{t(),n()},o=()=>{i(r.error||new DOMException("AbortError","AbortError")),n()};r.addEventListener("complete",s),r.addEventListener("error",o),r.addEventListener("abort",o)});r5.set(r,e)}let n5={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return r5.get(r);if(e==="objectStoreNames")return r.objectStoreNames||VE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Uo(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _H(r){n5=r(n5)}function wH(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(x2(this),e,...t);return VE.set(i,e.sort?e.sort():[e]),Uo(i)}:vH().includes(r)?function(...e){return r.apply(x2(this),e),Uo($E.get(this))}:function(...e){return Uo(r.apply(x2(this),e))}}function CH(r){return typeof r=="function"?wH(r):(r instanceof IDBTransaction&&bH(r),gH(r,mH())?new Proxy(r,n5):r)}function Uo(r){if(r instanceof IDBRequest)return yH(r);if(C2.has(r))return C2.get(r);const e=CH(r);return e!==r&&(C2.set(r,e),c4.set(e,r)),e}const x2=r=>c4.get(r);function xH(r,e,{blocked:t,upgrade:i,blocking:n,terminated:s}={}){const o=indexedDB.open(r,e),a=Uo(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Uo(o.result),l.oldVersion,l.newVersion,Uo(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),n&&l.addEventListener("versionchange",c=>n(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const EH=["get","getKey","getAll","getAllKeys","count"],TH=["put","add","delete","clear"],E2=new Map;function l7(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(E2.get(e))return E2.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,n=TH.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(n||EH.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,n?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),n&&l.done]))[0]};return E2.set(e,s),s}_H(r=>({...r,get:(e,t,i)=>l7(e,t)||r.get(e,t,i),has:(e,t)=>!!l7(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SH(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function SH(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s5="@firebase/app",c7="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new OE("@firebase/app"),AH="@firebase/app-compat",kH="@firebase/analytics-compat",IH="@firebase/analytics",MH="@firebase/app-check-compat",PH="@firebase/app-check",RH="@firebase/auth",DH="@firebase/auth-compat",OH="@firebase/database",$H="@firebase/data-connect",VH="@firebase/database-compat",FH="@firebase/functions",BH="@firebase/functions-compat",NH="@firebase/installations",HH="@firebase/installations-compat",UH="@firebase/messaging",zH="@firebase/messaging-compat",jH="@firebase/performance",GH="@firebase/performance-compat",ZH="@firebase/remote-config",WH="@firebase/remote-config-compat",KH="@firebase/storage",qH="@firebase/storage-compat",YH="@firebase/firestore",XH="@firebase/vertexai",QH="@firebase/firestore-compat",JH="firebase",eU="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="[DEFAULT]",tU={[s5]:"fire-core",[AH]:"fire-core-compat",[IH]:"fire-analytics",[kH]:"fire-analytics-compat",[PH]:"fire-app-check",[MH]:"fire-app-check-compat",[RH]:"fire-auth",[DH]:"fire-auth-compat",[OH]:"fire-rtdb",[$H]:"fire-data-connect",[VH]:"fire-rtdb-compat",[FH]:"fire-fn",[BH]:"fire-fn-compat",[NH]:"fire-iid",[HH]:"fire-iid-compat",[UH]:"fire-fcm",[zH]:"fire-fcm-compat",[jH]:"fire-perf",[GH]:"fire-perf-compat",[ZH]:"fire-rc",[WH]:"fire-rc-compat",[KH]:"fire-gcs",[qH]:"fire-gcs-compat",[YH]:"fire-fst",[QH]:"fire-fst-compat",[XH]:"fire-vertex","fire-js":"fire-js",[JH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map,iU=new Map,a5=new Map;function u7(r,e){try{r.container.addComponent(e)}catch(t){eo.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function x0(r){const e=r.name;if(a5.has(e))return eo.debug(`There were multiple attempts to register component ${e}.`),!1;a5.set(e,r);for(const t of C0.values())u7(t,r);for(const t of iU.values())u7(t,r);return!0}function rU(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function nU(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zo=new DE("app","Firebase",sU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ed("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=eU;function FE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:o5,automaticDataCollectionEnabled:!1},e),n=i.name;if(typeof n!="string"||!n)throw zo.create("bad-app-name",{appName:String(n)});if(t||(t=RE()),!t)throw zo.create("no-options");const s=C0.get(n);if(s){if(i5(t,s.options)&&i5(i,s.config))return s;throw zo.create("duplicate-app",{appName:n})}const o=new uH(n);for(const l of a5.values())o.addComponent(l);const a=new oU(t,i,o);return C0.set(n,a),a}function lU(r=o5){const e=C0.get(r);if(!e&&r===o5&&RE())return FE();if(!e)throw zo.create("no-app",{appName:r});return e}function mc(r,e,t){var i;let n=(i=tU[r])!==null&&i!==void 0?i:r;t&&(n+=`-${t}`);const s=n.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${n}" with version "${e}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),eo.warn(a.join(" "));return}x0(new Ed(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU="firebase-heartbeat-database",uU=1,Td="firebase-heartbeat-store";let T2=null;function BE(){return T2||(T2=xH(cU,uU,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Td)}catch(t){console.warn(t)}}}}).catch(r=>{throw zo.create("idb-open",{originalErrorMessage:r.message})})),T2}async function hU(r){try{const t=(await BE()).transaction(Td),i=await t.objectStore(Td).get(NE(r));return await t.done,i}catch(e){if(e instanceof mu)eo.warn(e.message);else{const t=zo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});eo.warn(t.message)}}}async function h7(r,e){try{const i=(await BE()).transaction(Td,"readwrite");await i.objectStore(Td).put(e,NE(r)),await i.done}catch(t){if(t instanceof mu)eo.warn(t.message);else{const i=zo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});eo.warn(i.message)}}}function NE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=1024,fU=30;class pU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mU(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=d7();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>fU){const o=vU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){eo.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d7(),{heartbeatsToSend:i,unsentEntries:n}=gU(this._heartbeatsCache.heartbeats),s=w0(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return eo.warn(t),""}}}function d7(){return new Date().toISOString().substring(0,10)}function gU(r,e=dU){const t=[];let i=r.slice();for(const n of r){const s=t.find(o=>o.agent===n.agent);if(s){if(s.dates.push(n.date),f7(t)>e){s.dates.pop();break}}else if(t.push({agent:n.agent,dates:[n.date]}),f7(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class mU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iH()?rH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return h7(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return h7(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function f7(r){return w0(JSON.stringify({version:2,heartbeats:r})).length}function vU(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(r){x0(new Ed("platform-logger",e=>new LH(e),"PRIVATE")),x0(new Ed("heartbeat",e=>new pU(e),"PRIVATE")),mc(s5,c7,r),mc(s5,c7,"esm2017"),mc("fire-js","")}yU("");var bU="firebase",_U="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mc(bU,_U,"app");var p7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,HE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function E(){}E.prototype=C.prototype,x.D=C.prototype,x.prototype=new E,x.prototype.constructor=x,x.C=function(A,I,D){for(var R=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)R[fe-2]=arguments[fe];return C.prototype[I].apply(A,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(x,C,E){E||(E=0);var A=Array(16);if(typeof C=="string")for(var I=0;16>I;++I)A[I]=C.charCodeAt(E++)|C.charCodeAt(E++)<<8|C.charCodeAt(E++)<<16|C.charCodeAt(E++)<<24;else for(I=0;16>I;++I)A[I]=C[E++]|C[E++]<<8|C[E++]<<16|C[E++]<<24;C=x.g[0],E=x.g[1],I=x.g[2];var D=x.g[3],R=C+(D^E&(I^D))+A[0]+3614090360&4294967295;C=E+(R<<7&4294967295|R>>>25),R=D+(I^C&(E^I))+A[1]+3905402710&4294967295,D=C+(R<<12&4294967295|R>>>20),R=I+(E^D&(C^E))+A[2]+606105819&4294967295,I=D+(R<<17&4294967295|R>>>15),R=E+(C^I&(D^C))+A[3]+3250441966&4294967295,E=I+(R<<22&4294967295|R>>>10),R=C+(D^E&(I^D))+A[4]+4118548399&4294967295,C=E+(R<<7&4294967295|R>>>25),R=D+(I^C&(E^I))+A[5]+1200080426&4294967295,D=C+(R<<12&4294967295|R>>>20),R=I+(E^D&(C^E))+A[6]+2821735955&4294967295,I=D+(R<<17&4294967295|R>>>15),R=E+(C^I&(D^C))+A[7]+4249261313&4294967295,E=I+(R<<22&4294967295|R>>>10),R=C+(D^E&(I^D))+A[8]+1770035416&4294967295,C=E+(R<<7&4294967295|R>>>25),R=D+(I^C&(E^I))+A[9]+2336552879&4294967295,D=C+(R<<12&4294967295|R>>>20),R=I+(E^D&(C^E))+A[10]+4294925233&4294967295,I=D+(R<<17&4294967295|R>>>15),R=E+(C^I&(D^C))+A[11]+2304563134&4294967295,E=I+(R<<22&4294967295|R>>>10),R=C+(D^E&(I^D))+A[12]+1804603682&4294967295,C=E+(R<<7&4294967295|R>>>25),R=D+(I^C&(E^I))+A[13]+4254626195&4294967295,D=C+(R<<12&4294967295|R>>>20),R=I+(E^D&(C^E))+A[14]+2792965006&4294967295,I=D+(R<<17&4294967295|R>>>15),R=E+(C^I&(D^C))+A[15]+1236535329&4294967295,E=I+(R<<22&4294967295|R>>>10),R=C+(I^D&(E^I))+A[1]+4129170786&4294967295,C=E+(R<<5&4294967295|R>>>27),R=D+(E^I&(C^E))+A[6]+3225465664&4294967295,D=C+(R<<9&4294967295|R>>>23),R=I+(C^E&(D^C))+A[11]+643717713&4294967295,I=D+(R<<14&4294967295|R>>>18),R=E+(D^C&(I^D))+A[0]+3921069994&4294967295,E=I+(R<<20&4294967295|R>>>12),R=C+(I^D&(E^I))+A[5]+3593408605&4294967295,C=E+(R<<5&4294967295|R>>>27),R=D+(E^I&(C^E))+A[10]+38016083&4294967295,D=C+(R<<9&4294967295|R>>>23),R=I+(C^E&(D^C))+A[15]+3634488961&4294967295,I=D+(R<<14&4294967295|R>>>18),R=E+(D^C&(I^D))+A[4]+3889429448&4294967295,E=I+(R<<20&4294967295|R>>>12),R=C+(I^D&(E^I))+A[9]+568446438&4294967295,C=E+(R<<5&4294967295|R>>>27),R=D+(E^I&(C^E))+A[14]+3275163606&4294967295,D=C+(R<<9&4294967295|R>>>23),R=I+(C^E&(D^C))+A[3]+4107603335&4294967295,I=D+(R<<14&4294967295|R>>>18),R=E+(D^C&(I^D))+A[8]+1163531501&4294967295,E=I+(R<<20&4294967295|R>>>12),R=C+(I^D&(E^I))+A[13]+2850285829&4294967295,C=E+(R<<5&4294967295|R>>>27),R=D+(E^I&(C^E))+A[2]+4243563512&4294967295,D=C+(R<<9&4294967295|R>>>23),R=I+(C^E&(D^C))+A[7]+1735328473&4294967295,I=D+(R<<14&4294967295|R>>>18),R=E+(D^C&(I^D))+A[12]+2368359562&4294967295,E=I+(R<<20&4294967295|R>>>12),R=C+(E^I^D)+A[5]+4294588738&4294967295,C=E+(R<<4&4294967295|R>>>28),R=D+(C^E^I)+A[8]+2272392833&4294967295,D=C+(R<<11&4294967295|R>>>21),R=I+(D^C^E)+A[11]+1839030562&4294967295,I=D+(R<<16&4294967295|R>>>16),R=E+(I^D^C)+A[14]+4259657740&4294967295,E=I+(R<<23&4294967295|R>>>9),R=C+(E^I^D)+A[1]+2763975236&4294967295,C=E+(R<<4&4294967295|R>>>28),R=D+(C^E^I)+A[4]+1272893353&4294967295,D=C+(R<<11&4294967295|R>>>21),R=I+(D^C^E)+A[7]+4139469664&4294967295,I=D+(R<<16&4294967295|R>>>16),R=E+(I^D^C)+A[10]+3200236656&4294967295,E=I+(R<<23&4294967295|R>>>9),R=C+(E^I^D)+A[13]+681279174&4294967295,C=E+(R<<4&4294967295|R>>>28),R=D+(C^E^I)+A[0]+3936430074&4294967295,D=C+(R<<11&4294967295|R>>>21),R=I+(D^C^E)+A[3]+3572445317&4294967295,I=D+(R<<16&4294967295|R>>>16),R=E+(I^D^C)+A[6]+76029189&4294967295,E=I+(R<<23&4294967295|R>>>9),R=C+(E^I^D)+A[9]+3654602809&4294967295,C=E+(R<<4&4294967295|R>>>28),R=D+(C^E^I)+A[12]+3873151461&4294967295,D=C+(R<<11&4294967295|R>>>21),R=I+(D^C^E)+A[15]+530742520&4294967295,I=D+(R<<16&4294967295|R>>>16),R=E+(I^D^C)+A[2]+3299628645&4294967295,E=I+(R<<23&4294967295|R>>>9),R=C+(I^(E|~D))+A[0]+4096336452&4294967295,C=E+(R<<6&4294967295|R>>>26),R=D+(E^(C|~I))+A[7]+1126891415&4294967295,D=C+(R<<10&4294967295|R>>>22),R=I+(C^(D|~E))+A[14]+2878612391&4294967295,I=D+(R<<15&4294967295|R>>>17),R=E+(D^(I|~C))+A[5]+4237533241&4294967295,E=I+(R<<21&4294967295|R>>>11),R=C+(I^(E|~D))+A[12]+1700485571&4294967295,C=E+(R<<6&4294967295|R>>>26),R=D+(E^(C|~I))+A[3]+2399980690&4294967295,D=C+(R<<10&4294967295|R>>>22),R=I+(C^(D|~E))+A[10]+4293915773&4294967295,I=D+(R<<15&4294967295|R>>>17),R=E+(D^(I|~C))+A[1]+2240044497&4294967295,E=I+(R<<21&4294967295|R>>>11),R=C+(I^(E|~D))+A[8]+1873313359&4294967295,C=E+(R<<6&4294967295|R>>>26),R=D+(E^(C|~I))+A[15]+4264355552&4294967295,D=C+(R<<10&4294967295|R>>>22),R=I+(C^(D|~E))+A[6]+2734768916&4294967295,I=D+(R<<15&4294967295|R>>>17),R=E+(D^(I|~C))+A[13]+1309151649&4294967295,E=I+(R<<21&4294967295|R>>>11),R=C+(I^(E|~D))+A[4]+4149444226&4294967295,C=E+(R<<6&4294967295|R>>>26),R=D+(E^(C|~I))+A[11]+3174756917&4294967295,D=C+(R<<10&4294967295|R>>>22),R=I+(C^(D|~E))+A[2]+718787259&4294967295,I=D+(R<<15&4294967295|R>>>17),R=E+(D^(I|~C))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+D&4294967295}i.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var E=C-this.blockSize,A=this.B,I=this.h,D=0;D<C;){if(I==0)for(;D<=E;)n(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<C;)if(A[I++]=x.charCodeAt(D++),I==this.blockSize){n(this,A),I=0;break}}else for(;D<C;)if(A[I++]=x[D++],I==this.blockSize){n(this,A),I=0;break}}this.h=I,this.o+=C},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var E=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=E&255,E/=256;for(this.u(x),x=Array(16),C=E=0;4>C;++C)for(var A=0;32>A;A+=8)x[E++]=this.g[C]>>>A&255;return x};function s(x,C){var E=a;return Object.prototype.hasOwnProperty.call(E,x)?E[x]:E[x]=C(x)}function o(x,C){this.h=C;for(var E=[],A=!0,I=x.length-1;0<=I;I--){var D=x[I]|0;A&&D==C||(E[I]=D,A=!1)}this.g=E}var a={};function l(x){return-128<=x&&128>x?s(x,function(C){return new o([C|0],0>C?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return v(c(-x));for(var C=[],E=1,A=0;x>=E;A++)C[A]=x/E|0,E*=4294967296;return new o(C,0)}function u(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return v(u(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(C,8)),A=h,I=0;I<x.length;I+=8){var D=Math.min(8,x.length-I),R=parseInt(x.substring(I,I+D),C);8>D?(D=c(Math.pow(C,D)),A=A.j(D).add(c(R))):(A=A.j(E),A=A.add(c(R)))}return A}var h=l(0),d=l(1),f=l(16777216);r=o.prototype,r.m=function(){if(m(this))return-v(this).m();for(var x=0,C=1,E=0;E<this.g.length;E++){var A=this.i(E);x+=(0<=A?A:4294967296+A)*C,C*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(g(this))return"0";if(m(this))return"-"+v(this).toString(x);for(var C=c(Math.pow(x,6)),E=this,A="";;){var I=S(E,C).g;E=y(E,I.j(C));var D=((0<E.g.length?E.g[0]:E.h)>>>0).toString(x);if(E=I,g(E))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function g(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function m(x){return x.h==-1}r.l=function(x){return x=y(this,x),m(x)?-1:g(x)?0:1};function v(x){for(var C=x.g.length,E=[],A=0;A<C;A++)E[A]=~x.g[A];return new o(E,~x.h).add(d)}r.abs=function(){return m(this)?v(this):this},r.add=function(x){for(var C=Math.max(this.g.length,x.g.length),E=[],A=0,I=0;I<=C;I++){var D=A+(this.i(I)&65535)+(x.i(I)&65535),R=(D>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);A=R>>>16,D&=65535,R&=65535,E[I]=R<<16|D}return new o(E,E[E.length-1]&-2147483648?-1:0)};function y(x,C){return x.add(v(C))}r.j=function(x){if(g(this)||g(x))return h;if(m(this))return m(x)?v(this).j(v(x)):v(v(this).j(x));if(m(x))return v(this.j(v(x)));if(0>this.l(f)&&0>x.l(f))return c(this.m()*x.m());for(var C=this.g.length+x.g.length,E=[],A=0;A<2*C;A++)E[A]=0;for(A=0;A<this.g.length;A++)for(var I=0;I<x.g.length;I++){var D=this.i(A)>>>16,R=this.i(A)&65535,fe=x.i(I)>>>16,se=x.i(I)&65535;E[2*A+2*I]+=R*se,_(E,2*A+2*I),E[2*A+2*I+1]+=D*se,_(E,2*A+2*I+1),E[2*A+2*I+1]+=R*fe,_(E,2*A+2*I+1),E[2*A+2*I+2]+=D*fe,_(E,2*A+2*I+2)}for(A=0;A<C;A++)E[A]=E[2*A+1]<<16|E[2*A];for(A=C;A<2*C;A++)E[A]=0;return new o(E,0)};function _(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function w(x,C){this.g=x,this.h=C}function S(x,C){if(g(C))throw Error("division by zero");if(g(x))return new w(h,h);if(m(x))return C=S(v(x),C),new w(v(C.g),v(C.h));if(m(C))return C=S(x,v(C)),new w(v(C.g),C.h);if(30<x.g.length){if(m(x)||m(C))throw Error("slowDivide_ only works with positive integers.");for(var E=d,A=C;0>=A.l(x);)E=k(E),A=k(A);var I=P(E,1),D=P(A,1);for(A=P(A,2),E=P(E,2);!g(A);){var R=D.add(A);0>=R.l(x)&&(I=I.add(E),D=R),A=P(A,1),E=P(E,1)}return C=y(x,I.j(C)),new w(I,C)}for(I=h;0<=x.l(C);){for(E=Math.max(1,Math.floor(x.m()/C.m())),A=Math.ceil(Math.log(E)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(E),R=D.j(C);m(R)||0<R.l(x);)E-=A,D=c(E),R=D.j(C);g(D)&&(D=d),I=I.add(D),x=y(x,R)}return new w(I,x)}r.A=function(x){return S(this,x).h},r.and=function(x){for(var C=Math.max(this.g.length,x.g.length),E=[],A=0;A<C;A++)E[A]=this.i(A)&x.i(A);return new o(E,this.h&x.h)},r.or=function(x){for(var C=Math.max(this.g.length,x.g.length),E=[],A=0;A<C;A++)E[A]=this.i(A)|x.i(A);return new o(E,this.h|x.h)},r.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),E=[],A=0;A<C;A++)E[A]=this.i(A)^x.i(A);return new o(E,this.h^x.h)};function k(x){for(var C=x.g.length+1,E=[],A=0;A<C;A++)E[A]=x.i(A)<<1|x.i(A-1)>>>31;return new o(E,x.h)}function P(x,C){var E=C>>5;C%=32;for(var A=x.g.length-E,I=[],D=0;D<A;D++)I[D]=0<C?x.i(D+E)>>>C|x.i(D+E+1)<<32-C:x.i(D+E);return new o(I,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,HE=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,jo=o}).apply(typeof p7<"u"?p7:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UE,nh,zE,F1,l5,jE,GE,ZE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,L){return p==Array.prototype||p==Object.prototype||(p[b]=L.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var b=0;b<p.length;++b){var L=p[b];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var i=t(this);function n(p,b){if(b)e:{var L=i;p=p.split(".");for(var O=0;O<p.length-1;O++){var z=p[O];if(!(z in L))break e;L=L[z]}p=p[p.length-1],O=L[p],b=b(O),b!=O&&b!=null&&e(L,p,{configurable:!0,writable:!0,value:b})}}function s(p,b){p instanceof String&&(p+="");var L=0,O=!1,z={next:function(){if(!O&&L<p.length){var Q=L++;return{value:b(Q,p[Q]),done:!1}}return O=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}n("Array.prototype.values",function(p){return p||function(){return s(this,function(b,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function c(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function u(p,b,L){return p.call.apply(p.bind,arguments)}function h(p,b,L){if(!p)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,O),p.apply(b,z)}}return function(){return p.apply(b,arguments)}}function d(p,b,L){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function f(p,b){var L=Array.prototype.slice.call(arguments,1);return function(){var O=L.slice();return O.push.apply(O,arguments),p.apply(this,O)}}function g(p,b){function L(){}L.prototype=b.prototype,p.aa=b.prototype,p.prototype=new L,p.prototype.constructor=p,p.Qb=function(O,z,Q){for(var Te=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Te[zt-2]=arguments[zt];return b.prototype[z].apply(O,Te)}}function m(p){const b=p.length;if(0<b){const L=Array(b);for(let O=0;O<b;O++)L[O]=p[O];return L}return[]}function v(p,b){for(let L=1;L<arguments.length;L++){const O=arguments[L];if(l(O)){const z=p.length||0,Q=O.length||0;p.length=z+Q;for(let Te=0;Te<Q;Te++)p[z+Te]=O[Te]}else p.push(O)}}class y{constructor(b,L){this.i=b,this.j=L,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function _(p){return/^[\s\xa0]*$/.test(p)}function w(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function S(p){return S[" "](p),p}S[" "]=function(){};var k=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(p,b,L){for(const O in p)b.call(L,p[O],O,p)}function x(p,b){for(const L in p)b.call(void 0,p[L],L,p)}function C(p){const b={};for(const L in p)b[L]=p[L];return b}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(p,b){let L,O;for(let z=1;z<arguments.length;z++){O=arguments[z];for(L in O)p[L]=O[L];for(let Q=0;Q<E.length;Q++)L=E[Q],Object.prototype.hasOwnProperty.call(O,L)&&(p[L]=O[L])}}function I(p){var b=1;p=p.split(":");const L=[];for(;0<b&&p.length;)L.push(p.shift()),b--;return p.length&&L.push(p.join(":")),L}function D(p){a.setTimeout(()=>{throw p},0)}function R(){var p=ne;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class fe{constructor(){this.h=this.g=null}add(b,L){const O=se.get();O.set(b,L),this.h?this.h.next=O:this.g=O,this.h=O}}var se=new y(()=>new Y,p=>p.reset());class Y{constructor(){this.next=this.g=this.h=null}set(b,L){this.h=b,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ae=!1,ne=new fe,ce=()=>{const p=a.Promise.resolve(void 0);K=()=>{p.then(ke)}};var ke=()=>{for(var p;p=R();){try{p.h.call(p.g)}catch(L){D(L)}var b=se;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}ae=!1};function ye(){this.s=this.s,this.C=this.C}ye.prototype.s=!1,ye.prototype.ma=function(){this.s||(this.s=!0,this.N())},ye.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const L=()=>{};a.addEventListener("test",L,b),a.removeEventListener("test",L,b)}catch{}return p}();function Fe(p,b){if(ge.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var L=this.type=p.type,O=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(k){e:{try{S(b.nodeName);var z=!0;break e}catch{}z=!1}z||(b=null)}}else L=="mouseover"?b=p.fromElement:L=="mouseout"&&(b=p.toElement);this.relatedTarget=b,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Fe.aa.h.call(this)}}g(Fe,ge);var Ce={2:"touch",3:"pen",4:"mouse"};Fe.prototype.h=function(){Fe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Ee(p,b,L,O,z){this.listener=p,this.proxy=null,this.src=b,this.type=L,this.capture=!!O,this.ha=z,this.key=++xe,this.da=this.fa=!1}function Pe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ct(p){this.src=p,this.g={},this.h=0}Ct.prototype.add=function(p,b,L,O,z){var Q=p.toString();p=this.g[Q],p||(p=this.g[Q]=[],this.h++);var Te=B(p,b,O,z);return-1<Te?(b=p[Te],L||(b.fa=!1)):(b=new Ee(b,this.src,Q,!!O,z),b.fa=L,p.push(b)),b};function V(p,b){var L=b.type;if(L in p.g){var O=p.g[L],z=Array.prototype.indexOf.call(O,b,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(O,z,1),Q&&(Pe(b),p.g[L].length==0&&(delete p.g[L],p.h--))}}function B(p,b,L,O){for(var z=0;z<p.length;++z){var Q=p[z];if(!Q.da&&Q.listener==b&&Q.capture==!!L&&Q.ha==O)return z}return-1}var H="closure_lm_"+(1e6*Math.random()|0),le={};function W(p,b,L,O,z){if(Array.isArray(b)){for(var Q=0;Q<b.length;Q++)W(p,b[Q],L,O,z);return null}return L=Ge(L),p&&p[q]?p.K(b,L,c(O)?!!O.capture:!1,z):te(p,b,L,!1,O,z)}function te(p,b,L,O,z,Q){if(!b)throw Error("Invalid event type");var Te=c(z)?!!z.capture:!!z,zt=Le(p);if(zt||(p[H]=zt=new Ct(p)),L=zt.add(b,L,O,Te,Q),L.proxy)return L;if(O=_e(),L.proxy=O,O.src=p,O.listener=L,p.addEventListener)X||(z=Te),z===void 0&&(z=!1),p.addEventListener(b.toString(),O,z);else if(p.attachEvent)p.attachEvent(de(b.toString()),O);else if(p.addListener&&p.removeListener)p.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return L}function _e(){function p(L){return b.call(p.src,p.listener,L)}const b=Be;return p}function be(p,b,L,O,z){if(Array.isArray(b))for(var Q=0;Q<b.length;Q++)be(p,b[Q],L,O,z);else O=c(O)?!!O.capture:!!O,L=Ge(L),p&&p[q]?(p=p.i,b=String(b).toString(),b in p.g&&(Q=p.g[b],L=B(Q,L,O,z),-1<L&&(Pe(Q[L]),Array.prototype.splice.call(Q,L,1),Q.length==0&&(delete p.g[b],p.h--)))):p&&(p=Le(p))&&(b=p.g[b.toString()],p=-1,b&&(p=B(b,L,O,z)),(L=-1<p?b[p]:null)&&pe(L))}function pe(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[q])V(b.i,p);else{var L=p.type,O=p.proxy;b.removeEventListener?b.removeEventListener(L,O,p.capture):b.detachEvent?b.detachEvent(de(L),O):b.addListener&&b.removeListener&&b.removeListener(O),(L=Le(b))?(V(L,p),L.h==0&&(L.src=null,b[H]=null)):Pe(p)}}}function de(p){return p in le?le[p]:le[p]="on"+p}function Be(p,b){if(p.da)p=!0;else{b=new Fe(b,this);var L=p.listener,O=p.ha||p.src;p.fa&&pe(p),p=L.call(O,b)}return p}function Le(p){return p=p[H],p instanceof Ct?p:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(p){return typeof p=="function"?p:(p[Oe]||(p[Oe]=function(b){return p.handleEvent(b)}),p[Oe])}function Ue(){ye.call(this),this.i=new Ct(this),this.M=this,this.F=null}g(Ue,ye),Ue.prototype[q]=!0,Ue.prototype.removeEventListener=function(p,b,L,O){be(this,p,b,L,O)};function Je(p,b){var L,O=p.F;if(O)for(L=[];O;O=O.F)L.push(O);if(p=p.M,O=b.type||b,typeof b=="string")b=new ge(b,p);else if(b instanceof ge)b.target=b.target||p;else{var z=b;b=new ge(O,p),A(b,z)}if(z=!0,L)for(var Q=L.length-1;0<=Q;Q--){var Te=b.g=L[Q];z=ft(Te,O,!0,b)&&z}if(Te=b.g=p,z=ft(Te,O,!0,b)&&z,z=ft(Te,O,!1,b)&&z,L)for(Q=0;Q<L.length;Q++)Te=b.g=L[Q],z=ft(Te,O,!1,b)&&z}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var L=p.g[b],O=0;O<L.length;O++)Pe(L[O]);delete p.g[b],p.h--}}this.F=null},Ue.prototype.K=function(p,b,L,O){return this.i.add(String(p),b,!1,L,O)},Ue.prototype.L=function(p,b,L,O){return this.i.add(String(p),b,!0,L,O)};function ft(p,b,L,O){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var z=!0,Q=0;Q<b.length;++Q){var Te=b[Q];if(Te&&!Te.da&&Te.capture==L){var zt=Te.listener,Ui=Te.ha||Te.src;Te.fa&&V(p.i,Te),z=zt.call(Ui,O)!==!1&&z}}return z&&!O.defaultPrevented}function Ei(p,b,L){if(typeof p=="function")L&&(p=d(p,L));else if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:a.setTimeout(p,b||0)}function bi(p){p.g=Ei(()=>{p.g=null,p.i&&(p.i=!1,bi(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class Pi extends ye{constructor(b,L){super(),this.m=b,this.l=L,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:bi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(p){ye.call(this),this.h=p,this.g={}}g(Xi,ye);var go=[];function Au(p){P(p.g,function(b,L){this.g.hasOwnProperty(L)&&pe(b)},p),p.g={}}Xi.prototype.N=function(){Xi.aa.N.call(this),Au(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hi=a.JSON.stringify,ln=a.JSON.parse,_f=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Hm(){}Hm.prototype.h=null;function t3(p){return p.h||(p.h=p.i())}function i3(){}var ku={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Um(){ge.call(this,"d")}g(Um,ge);function zm(){ge.call(this,"c")}g(zm,ge);var Ea={},r3=null;function wf(){return r3=r3||new Ue}Ea.La="serverreachability";function n3(p){ge.call(this,Ea.La,p)}g(n3,ge);function Iu(p){const b=wf();Je(b,new n3(b))}Ea.STAT_EVENT="statevent";function s3(p,b){ge.call(this,Ea.STAT_EVENT,p),this.stat=b}g(s3,ge);function gr(p){const b=wf();Je(b,new s3(b,p))}Ea.Ma="timingevent";function o3(p,b){ge.call(this,Ea.Ma,p),this.size=b}g(o3,ge);function Mu(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},b)}function Pu(){this.g=!0}Pu.prototype.xa=function(){this.g=!1};function NI(p,b,L,O,z,Q){p.info(function(){if(p.g)if(Q)for(var Te="",zt=Q.split("&"),Ui=0;Ui<zt.length;Ui++){var kt=zt[Ui].split("=");if(1<kt.length){var Qi=kt[0];kt=kt[1];var Ji=Qi.split("_");Te=2<=Ji.length&&Ji[1]=="type"?Te+(Qi+"="+kt+"&"):Te+(Qi+"=redacted&")}}else Te=null;else Te=Q;return"XMLHTTP REQ ("+O+") [attempt "+z+"]: "+b+`
`+L+`
`+Te})}function HI(p,b,L,O,z,Q,Te){p.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+z+"]: "+b+`
`+L+`
`+Q+" "+Te})}function Dl(p,b,L,O){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+zI(p,L)+(O?" "+O:"")})}function UI(p,b){p.info(function(){return"TIMEOUT: "+b})}Pu.prototype.info=function(){};function zI(p,b){if(!p.g)return b;if(!b)return null;try{var L=JSON.parse(b);if(L){for(p=0;p<L.length;p++)if(Array.isArray(L[p])){var O=L[p];if(!(2>O.length)){var z=O[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var Te=1;Te<z.length;Te++)z[Te]=""}}}}return Hi(L)}catch{return b}}var Cf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},a3={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jm;function xf(){}g(xf,Hm),xf.prototype.g=function(){return new XMLHttpRequest},xf.prototype.i=function(){return{}},jm=new xf;function mo(p,b,L,O){this.j=p,this.i=b,this.l=L,this.R=O||1,this.U=new Xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new l3}function l3(){this.i=null,this.g="",this.h=!1}var c3={},Gm={};function Zm(p,b,L){p.L=1,p.v=Sf(Ts(b)),p.m=L,p.P=!0,u3(p,null)}function u3(p,b){p.F=Date.now(),Ef(p),p.A=Ts(p.v);var L=p.A,O=p.R;Array.isArray(O)||(O=[String(O)]),E3(L.i,"t",O),p.C=0,L=p.j.J,p.h=new l3,p.g=U3(p.j,L?b:null,!p.m),0<p.O&&(p.M=new Pi(d(p.Y,p,p.g),p.O)),b=p.U,L=p.g,O=p.ca;var z="readystatechange";Array.isArray(z)||(z&&(go[0]=z.toString()),z=go);for(var Q=0;Q<z.length;Q++){var Te=W(L,z[Q],O||b.handleEvent,!1,b.h||b);if(!Te)break;b.g[Te.key]=Te}b=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),Iu(),NI(p.i,p.u,p.A,p.l,p.R,p.m)}mo.prototype.ca=function(p){p=p.target;const b=this.M;b&&Ls(p)==3?b.j():this.Y(p)},mo.prototype.Y=function(p){try{if(p==this.g)e:{const Ji=Ls(this.g);var b=this.g.Ba();const Vl=this.g.Z();if(!(3>Ji)&&(Ji!=3||this.g&&(this.h.h||this.g.oa()||M3(this.g)))){this.J||Ji!=4||b==7||(b==8||0>=Vl?Iu(3):Iu(2)),Wm(this);var L=this.g.Z();this.X=L;t:if(h3(this)){var O=M3(this.g);p="";var z=O.length,Q=Ls(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ta(this),Ru(this);var Te="";break t}this.h.i=new a.TextDecoder}for(b=0;b<z;b++)this.h.h=!0,p+=this.h.i.decode(O[b],{stream:!(Q&&b==z-1)});O.length=0,this.h.g+=p,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=L==200,HI(this.i,this.u,this.A,this.l,this.R,Ji,L),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,Ui=this.g;if((zt=Ui.g?Ui.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(zt)){var kt=zt;break t}}kt=null}if(L=kt)Dl(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Km(this,L);else{this.o=!1,this.s=3,gr(12),Ta(this),Ru(this);break e}}if(this.P){L=!0;let Tn;for(;!this.J&&this.C<Te.length;)if(Tn=jI(this,Te),Tn==Gm){Ji==4&&(this.s=4,gr(14),L=!1),Dl(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==c3){this.s=4,gr(15),Dl(this.i,this.l,Te,"[Invalid Chunk]"),L=!1;break}else Dl(this.i,this.l,Tn,null),Km(this,Tn);if(h3(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ji!=4||Te.length!=0||this.h.h||(this.s=1,gr(16),L=!1),this.o=this.o&&L,!L)Dl(this.i,this.l,Te,"[Invalid Chunked Response]"),Ta(this),Ru(this);else if(0<Te.length&&!this.W){this.W=!0;var Qi=this.j;Qi.g==this&&Qi.ba&&!Qi.M&&(Qi.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),e2(Qi),Qi.M=!0,gr(11))}}else Dl(this.i,this.l,Te,null),Km(this,Te);Ji==4&&Ta(this),this.o&&!this.J&&(Ji==4?F3(this.j,this):(this.o=!1,Ef(this)))}else aM(this.g),L==400&&0<Te.indexOf("Unknown SID")?(this.s=3,gr(12)):(this.s=0,gr(13)),Ta(this),Ru(this)}}}catch{}finally{}};function h3(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function jI(p,b){var L=p.C,O=b.indexOf(`
`,L);return O==-1?Gm:(L=Number(b.substring(L,O)),isNaN(L)?c3:(O+=1,O+L>b.length?Gm:(b=b.slice(O,O+L),p.C=O+L,b)))}mo.prototype.cancel=function(){this.J=!0,Ta(this)};function Ef(p){p.S=Date.now()+p.I,d3(p,p.I)}function d3(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Mu(d(p.ba,p),b)}function Wm(p){p.B&&(a.clearTimeout(p.B),p.B=null)}mo.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(UI(this.i,this.A),this.L!=2&&(Iu(),gr(17)),Ta(this),this.s=2,Ru(this)):d3(this,this.S-p)};function Ru(p){p.j.G==0||p.J||F3(p.j,p)}function Ta(p){Wm(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,Au(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function Km(p,b){try{var L=p.j;if(L.G!=0&&(L.g==p||qm(L.h,p))){if(!p.K&&qm(L.h,p)&&L.G==3){try{var O=L.Da.g.parse(b)}catch{O=null}if(Array.isArray(O)&&O.length==3){var z=O;if(z[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<p.F)Rf(L),Mf(L);else break e;Jm(L),gr(18)}}else L.za=z[1],0<L.za-L.T&&37500>z[2]&&L.F&&L.v==0&&!L.C&&(L.C=Mu(d(L.Za,L),6e3));if(1>=g3(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Sa(L,11)}else if((p.K||L.g==p)&&Rf(L),!_(b))for(z=L.Da.g.parse(b),b=0;b<z.length;b++){let kt=z[b];if(L.T=kt[0],kt=kt[1],L.G==2)if(kt[0]=="c"){L.K=kt[1],L.ia=kt[2];const Qi=kt[3];Qi!=null&&(L.la=Qi,L.j.info("VER="+L.la));const Ji=kt[4];Ji!=null&&(L.Aa=Ji,L.j.info("SVER="+L.Aa));const Vl=kt[5];Vl!=null&&typeof Vl=="number"&&0<Vl&&(O=1.5*Vl,L.L=O,L.j.info("backChannelRequestTimeoutMs_="+O)),O=L;const Tn=p.g;if(Tn){const Of=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Of){var Q=O.h;Q.g||Of.indexOf("spdy")==-1&&Of.indexOf("quic")==-1&&Of.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ym(Q,Q.h),Q.h=null))}if(O.D){const t2=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;t2&&(O.ya=t2,Kt(O.I,O.D,t2))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-p.F,L.j.info("Handshake RTT: "+L.R+"ms")),O=L;var Te=p;if(O.qa=H3(O,O.J?O.ia:null,O.W),Te.K){m3(O.h,Te);var zt=Te,Ui=O.L;Ui&&(zt.I=Ui),zt.B&&(Wm(zt),Ef(zt)),O.g=Te}else $3(O);0<L.i.length&&Pf(L)}else kt[0]!="stop"&&kt[0]!="close"||Sa(L,7);else L.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Sa(L,7):Qm(L):kt[0]!="noop"&&L.l&&L.l.ta(kt),L.v=0)}}Iu(4)}catch{}}var GI=class{constructor(p,b){this.g=p,this.map=b}};function f3(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p3(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function g3(p){return p.h?1:p.g?p.g.size:0}function qm(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function Ym(p,b){p.g?p.g.add(b):p.h=b}function m3(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}f3.prototype.cancel=function(){if(this.i=v3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function v3(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const L of p.g.values())b=b.concat(L.D);return b}return m(p.i)}function ZI(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var b=[],L=p.length,O=0;O<L;O++)b.push(p[O]);return b}b=[],L=0;for(O in p)b[L++]=p[O];return b}function WI(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var b=[];p=p.length;for(var L=0;L<p;L++)b.push(L);return b}b=[],L=0;for(const O in p)b[L++]=O;return b}}}function y3(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var L=WI(p),O=ZI(p),z=O.length,Q=0;Q<z;Q++)b.call(void 0,O[Q],L&&L[Q],p)}var b3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KI(p,b){if(p){p=p.split("&");for(var L=0;L<p.length;L++){var O=p[L].indexOf("="),z=null;if(0<=O){var Q=p[L].substring(0,O);z=p[L].substring(O+1)}else Q=p[L];b(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function La(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof La){this.h=p.h,Tf(this,p.j),this.o=p.o,this.g=p.g,Lf(this,p.s),this.l=p.l;var b=p.i,L=new $u;L.i=b.i,b.g&&(L.g=new Map(b.g),L.h=b.h),_3(this,L),this.m=p.m}else p&&(b=String(p).match(b3))?(this.h=!1,Tf(this,b[1]||"",!0),this.o=Du(b[2]||""),this.g=Du(b[3]||"",!0),Lf(this,b[4]),this.l=Du(b[5]||"",!0),_3(this,b[6]||"",!0),this.m=Du(b[7]||"")):(this.h=!1,this.i=new $u(null,this.h))}La.prototype.toString=function(){var p=[],b=this.j;b&&p.push(Ou(b,w3,!0),":");var L=this.g;return(L||b=="file")&&(p.push("//"),(b=this.o)&&p.push(Ou(b,w3,!0),"@"),p.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&p.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&p.push("/"),p.push(Ou(L,L.charAt(0)=="/"?XI:YI,!0))),(L=this.i.toString())&&p.push("?",L),(L=this.m)&&p.push("#",Ou(L,JI)),p.join("")};function Ts(p){return new La(p)}function Tf(p,b,L){p.j=L?Du(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function Lf(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function _3(p,b,L){b instanceof $u?(p.i=b,eM(p.i,p.h)):(L||(b=Ou(b,QI)),p.i=new $u(b,p.h))}function Kt(p,b,L){p.i.set(b,L)}function Sf(p){return Kt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Du(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ou(p,b,L){return typeof p=="string"?(p=encodeURI(p).replace(b,qI),L&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function qI(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var w3=/[#\/\?@]/g,YI=/[#\?:]/g,XI=/[#\?]/g,QI=/[#\?@]/g,JI=/#/g;function $u(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function vo(p){p.g||(p.g=new Map,p.h=0,p.i&&KI(p.i,function(b,L){p.add(decodeURIComponent(b.replace(/\+/g," ")),L)}))}r=$u.prototype,r.add=function(p,b){vo(this),this.i=null,p=Ol(this,p);var L=this.g.get(p);return L||this.g.set(p,L=[]),L.push(b),this.h+=1,this};function C3(p,b){vo(p),b=Ol(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function x3(p,b){return vo(p),b=Ol(p,b),p.g.has(b)}r.forEach=function(p,b){vo(this),this.g.forEach(function(L,O){L.forEach(function(z){p.call(b,z,O,this)},this)},this)},r.na=function(){vo(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),L=[];for(let O=0;O<b.length;O++){const z=p[O];for(let Q=0;Q<z.length;Q++)L.push(b[O])}return L},r.V=function(p){vo(this);let b=[];if(typeof p=="string")x3(this,p)&&(b=b.concat(this.g.get(Ol(this,p))));else{p=Array.from(this.g.values());for(let L=0;L<p.length;L++)b=b.concat(p[L])}return b},r.set=function(p,b){return vo(this),this.i=null,p=Ol(this,p),x3(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},r.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function E3(p,b,L){C3(p,b),0<L.length&&(p.i=null,p.g.set(Ol(p,b),m(L)),p.h+=L.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var L=0;L<b.length;L++){var O=b[L];const Q=encodeURIComponent(String(O)),Te=this.V(O);for(O=0;O<Te.length;O++){var z=Q;Te[O]!==""&&(z+="="+encodeURIComponent(String(Te[O]))),p.push(z)}}return this.i=p.join("&")};function Ol(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function eM(p,b){b&&!p.j&&(vo(p),p.i=null,p.g.forEach(function(L,O){var z=O.toLowerCase();O!=z&&(C3(this,O),E3(this,z,L))},p)),p.j=b}function tM(p,b){const L=new Pu;if(a.Image){const O=new Image;O.onload=f(yo,L,"TestLoadImage: loaded",!0,b,O),O.onerror=f(yo,L,"TestLoadImage: error",!1,b,O),O.onabort=f(yo,L,"TestLoadImage: abort",!1,b,O),O.ontimeout=f(yo,L,"TestLoadImage: timeout",!1,b,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=p}else b(!1)}function iM(p,b){const L=new Pu,O=new AbortController,z=setTimeout(()=>{O.abort(),yo(L,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:O.signal}).then(Q=>{clearTimeout(z),Q.ok?yo(L,"TestPingServer: ok",!0,b):yo(L,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(z),yo(L,"TestPingServer: error",!1,b)})}function yo(p,b,L,O,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),O(L)}catch{}}function rM(){this.g=new _f}function nM(p,b,L){const O=L||"";try{y3(p,function(z,Q){let Te=z;c(z)&&(Te=Hi(z)),b.push(O+Q+"="+encodeURIComponent(Te))})}catch(z){throw b.push(O+"type="+encodeURIComponent("_badmap")),z}}function Af(p){this.l=p.Ub||null,this.j=p.eb||!1}g(Af,Hm),Af.prototype.g=function(){return new kf(this.l,this.j)},Af.prototype.i=function(p){return function(){return p}}({});function kf(p,b){Ue.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(kf,Ue),r=kf.prototype,r.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Fu(this)},r.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||a).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vu(this)),this.readyState=0},r.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Fu(this)),this.g&&(this.readyState=3,Fu(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T3(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function T3(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}r.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Vu(this):Fu(this),this.readyState==3&&T3(this)}},r.Ra=function(p){this.g&&(this.response=this.responseText=p,Vu(this))},r.Qa=function(p){this.g&&(this.response=p,Vu(this))},r.ga=function(){this.g&&Vu(this)};function Vu(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Fu(p)}r.setRequestHeader=function(p,b){this.u.append(p,b)},r.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var L=b.next();!L.done;)L=L.value,p.push(L[0]+": "+L[1]),L=b.next();return p.join(`\r
`)};function Fu(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function L3(p){let b="";return P(p,function(L,O){b+=O,b+=":",b+=L,b+=`\r
`}),b}function Xm(p,b,L){e:{for(O in L){var O=!1;break e}O=!0}O||(L=L3(L),typeof p=="string"?L!=null&&encodeURIComponent(String(L)):Kt(p,b,L))}function hi(p){Ue.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(hi,Ue);var sM=/^https?$/i,oM=["POST","PUT"];r=hi.prototype,r.Ha=function(p){this.J=p},r.ea=function(p,b,L,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jm.g(),this.v=this.o?t3(this.o):t3(jm),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(Q){S3(this,Q);return}if(p=L||"",L=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var z in O)L.set(z,O[z]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const Q of O.keys())L.set(Q,O.get(Q));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(L.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oM,b,void 0))||O||z||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,Te]of L)this.g.setRequestHeader(Q,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I3(this),this.u=!0,this.g.send(p),this.u=!1}catch(Q){S3(this,Q)}};function S3(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,A3(p),If(p)}function A3(p){p.A||(p.A=!0,Je(p,"complete"),Je(p,"error"))}r.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Je(this,"complete"),Je(this,"abort"),If(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),If(this,!0)),hi.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?k3(this):this.bb())},r.bb=function(){k3(this)};function k3(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Ls(p)!=4||p.Z()!=2)){if(p.u&&Ls(p)==4)Ei(p.Ea,0,p);else if(Je(p,"readystatechange"),Ls(p)==4){p.h=!1;try{const Te=p.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var L;if(!(L=b)){var O;if(O=Te===0){var z=String(p.D).match(b3)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),O=!sM.test(z?z.toLowerCase():"")}L=O}if(L)Je(p,"complete"),Je(p,"success");else{p.m=6;try{var Q=2<Ls(p)?p.g.statusText:""}catch{Q=""}p.l=Q+" ["+p.Z()+"]",A3(p)}}finally{If(p)}}}}function If(p,b){if(p.g){I3(p);const L=p.g,O=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||Je(p,"ready");try{L.onreadystatechange=O}catch{}}}function I3(p){p.I&&(a.clearTimeout(p.I),p.I=null)}r.isActive=function(){return!!this.g};function Ls(p){return p.g?p.g.readyState:0}r.Z=function(){try{return 2<Ls(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),ln(b)}};function M3(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function aM(p){const b={};p=(p.g&&2<=Ls(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<p.length;O++){if(_(p[O]))continue;var L=I(p[O]);const z=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Q=b[z]||[];b[z]=Q,Q.push(L)}x(b,function(O){return O.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bu(p,b,L){return L&&L.internalChannelParams&&L.internalChannelParams[p]||b}function P3(p){this.Aa=0,this.i=[],this.j=new Pu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bu("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bu("baseRetryDelayMs",5e3,p),this.cb=Bu("retryDelaySeedMs",1e4,p),this.Wa=Bu("forwardChannelMaxRetries",2,p),this.wa=Bu("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new f3(p&&p.concurrentRequestLimit),this.Da=new rM,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=P3.prototype,r.la=8,r.G=1,r.connect=function(p,b,L,O){gr(0),this.W=p,this.H=b||{},L&&O!==void 0&&(this.H.OSID=L,this.H.OAID=O),this.F=this.X,this.I=H3(this,null,this.W),Pf(this)};function Qm(p){if(R3(p),p.G==3){var b=p.U++,L=Ts(p.I);if(Kt(L,"SID",p.K),Kt(L,"RID",b),Kt(L,"TYPE","terminate"),Nu(p,L),b=new mo(p,p.j,b),b.L=2,b.v=Sf(Ts(L)),L=!1,a.navigator&&a.navigator.sendBeacon)try{L=a.navigator.sendBeacon(b.v.toString(),"")}catch{}!L&&a.Image&&(new Image().src=b.v,L=!0),L||(b.g=U3(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Ef(b)}N3(p)}function Mf(p){p.g&&(e2(p),p.g.cancel(),p.g=null)}function R3(p){Mf(p),p.u&&(a.clearTimeout(p.u),p.u=null),Rf(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function Pf(p){if(!p3(p.h)&&!p.s){p.s=!0;var b=p.Ga;K||ce(),ae||(K(),ae=!0),ne.add(b,p),p.B=0}}function lM(p,b){return g3(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Mu(d(p.Ga,p,b),B3(p,p.B)),p.B++,!0)}r.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const z=new mo(this,this.j,p);let Q=this.o;if(this.S&&(Q?(Q=C(Q),A(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var b=0,L=0;L<this.i.length;L++){t:{var O=this.i[L];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(b+=O,4096<b){b=L;break e}if(b===4096||L===this.i.length-1){b=L+1;break e}}b=1e3}else b=1e3;b=O3(this,z,b),L=Ts(this.I),Kt(L,"RID",p),Kt(L,"CVER",22),this.D&&Kt(L,"X-HTTP-Session-Id",this.D),Nu(this,L),Q&&(this.O?b="headers="+encodeURIComponent(String(L3(Q)))+"&"+b:this.m&&Xm(L,this.m,Q)),Ym(this.h,z),this.Ua&&Kt(L,"TYPE","init"),this.P?(Kt(L,"$req",b),Kt(L,"SID","null"),z.T=!0,Zm(z,L,null)):Zm(z,L,b),this.G=2}}else this.G==3&&(p?D3(this,p):this.i.length==0||p3(this.h)||D3(this))};function D3(p,b){var L;b?L=b.l:L=p.U++;const O=Ts(p.I);Kt(O,"SID",p.K),Kt(O,"RID",L),Kt(O,"AID",p.T),Nu(p,O),p.m&&p.o&&Xm(O,p.m,p.o),L=new mo(p,p.j,L,p.B+1),p.m===null&&(L.H=p.o),b&&(p.i=b.D.concat(p.i)),b=O3(p,L,1e3),L.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ym(p.h,L),Zm(L,O,b)}function Nu(p,b){p.H&&P(p.H,function(L,O){Kt(b,O,L)}),p.l&&y3({},function(L,O){Kt(b,O,L)})}function O3(p,b,L){L=Math.min(p.i.length,L);var O=p.l?d(p.l.Na,p.l,p):null;e:{var z=p.i;let Q=-1;for(;;){const Te=["count="+L];Q==-1?0<L?(Q=z[0].g,Te.push("ofs="+Q)):Q=0:Te.push("ofs="+Q);let zt=!0;for(let Ui=0;Ui<L;Ui++){let kt=z[Ui].g;const Qi=z[Ui].map;if(kt-=Q,0>kt)Q=Math.max(0,z[Ui].g-100),zt=!1;else try{nM(Qi,Te,"req"+kt+"_")}catch{O&&O(Qi)}}if(zt){O=Te.join("&");break e}}}return p=p.i.splice(0,L),b.D=p,O}function $3(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;K||ce(),ae||(K(),ae=!0),ne.add(b,p),p.v=0}}function Jm(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Mu(d(p.Fa,p),B3(p,p.v)),p.v++,!0)}r.Fa=function(){if(this.u=null,V3(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Mu(d(this.ab,this),p)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gr(10),Mf(this),V3(this))};function e2(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function V3(p){p.g=new mo(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=Ts(p.qa);Kt(b,"RID","rpc"),Kt(b,"SID",p.K),Kt(b,"AID",p.T),Kt(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&Kt(b,"TO",p.ja),Kt(b,"TYPE","xmlhttp"),Nu(p,b),p.m&&p.o&&Xm(b,p.m,p.o),p.L&&(p.g.I=p.L);var L=p.g;p=p.ia,L.L=1,L.v=Sf(Ts(b)),L.m=null,L.P=!0,u3(L,p)}r.Za=function(){this.C!=null&&(this.C=null,Mf(this),Jm(this),gr(19))};function Rf(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function F3(p,b){var L=null;if(p.g==b){Rf(p),e2(p),p.g=null;var O=2}else if(qm(p.h,b))L=b.D,m3(p.h,b),O=1;else return;if(p.G!=0){if(b.o)if(O==1){L=b.m?b.m.length:0,b=Date.now()-b.F;var z=p.B;O=wf(),Je(O,new o3(O,L)),Pf(p)}else $3(p);else if(z=b.s,z==3||z==0&&0<b.X||!(O==1&&lM(p,b)||O==2&&Jm(p)))switch(L&&0<L.length&&(b=p.h,b.i=b.i.concat(L)),z){case 1:Sa(p,5);break;case 4:Sa(p,10);break;case 3:Sa(p,6);break;default:Sa(p,2)}}}function B3(p,b){let L=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(L*=2),L*b}function Sa(p,b){if(p.j.info("Error code "+b),b==2){var L=d(p.fb,p),O=p.Xa;const z=!O;O=new La(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tf(O,"https"),Sf(O),z?tM(O.toString(),L):iM(O.toString(),L)}else gr(2);p.G=0,p.l&&p.l.sa(b),N3(p),R3(p)}r.fb=function(p){p?(this.j.info("Successfully pinged google.com"),gr(2)):(this.j.info("Failed to ping google.com"),gr(1))};function N3(p){if(p.G=0,p.ka=[],p.l){const b=v3(p.h);(b.length!=0||p.i.length!=0)&&(v(p.ka,b),v(p.ka,p.i),p.h.i.length=0,m(p.i),p.i.length=0),p.l.ra()}}function H3(p,b,L){var O=L instanceof La?Ts(L):new La(L);if(O.g!="")b&&(O.g=b+"."+O.g),Lf(O,O.s);else{var z=a.location;O=z.protocol,b=b?b+"."+z.hostname:z.hostname,z=+z.port;var Q=new La(null);O&&Tf(Q,O),b&&(Q.g=b),z&&Lf(Q,z),L&&(Q.l=L),O=Q}return L=p.D,b=p.ya,L&&b&&Kt(O,L,b),Kt(O,"VER",p.la),Nu(p,O),O}function U3(p,b,L){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new hi(new Af({eb:L})):new hi(p.pa),b.Ha(p.J),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function z3(){}r=z3.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Df(){}Df.prototype.g=function(p,b){return new Ur(p,b)};function Ur(p,b){Ue.call(this),this.g=new P3(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!_(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!_(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new $l(this)}g(Ur,Ue),Ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ur.prototype.close=function(){Qm(this.g)},Ur.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var L={};L.__data__=p,p=L}else this.u&&(L={},L.__data__=Hi(p),p=L);b.i.push(new GI(b.Ya++,p)),b.G==3&&Pf(b)},Ur.prototype.N=function(){this.g.l=null,delete this.j,Qm(this.g),delete this.g,Ur.aa.N.call(this)};function j3(p){Um.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const L in b){p=L;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}g(j3,Um);function G3(){zm.call(this),this.status=1}g(G3,zm);function $l(p){this.g=p}g($l,z3),$l.prototype.ua=function(){Je(this.g,"a")},$l.prototype.ta=function(p){Je(this.g,new j3(p))},$l.prototype.sa=function(p){Je(this.g,new G3)},$l.prototype.ra=function(){Je(this.g,"b")},Df.prototype.createWebChannel=Df.prototype.g,Ur.prototype.send=Ur.prototype.o,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,ZE=function(){return new Df},GE=function(){return wf()},jE=Ea,l5={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cf.NO_ERROR=0,Cf.TIMEOUT=8,Cf.HTTP_ERROR=6,F1=Cf,a3.COMPLETE="complete",zE=a3,i3.EventType=ku,ku.OPEN="a",ku.CLOSE="b",ku.ERROR="c",ku.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,nh=i3,hi.prototype.listenOnce=hi.prototype.L,hi.prototype.getLastError=hi.prototype.Ka,hi.prototype.getLastErrorCode=hi.prototype.Ba,hi.prototype.getStatus=hi.prototype.Z,hi.prototype.getResponseJson=hi.prototype.Oa,hi.prototype.getResponseText=hi.prototype.oa,hi.prototype.send=hi.prototype.ea,hi.prototype.setWithCredentials=hi.prototype.Ha,UE=hi}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const g7="@firebase/firestore",m7="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new OE("@firebase/firestore");function ec(){return dl.logLevel}function Me(r,...e){if(dl.logLevel<=Et.DEBUG){const t=e.map(u4);dl.debug(`Firestore (${vu}): ${r}`,...t)}}function to(r,...e){if(dl.logLevel<=Et.ERROR){const t=e.map(u4);dl.error(`Firestore (${vu}): ${r}`,...t)}}function Fc(r,...e){if(dl.logLevel<=Et.WARN){const t=e.map(u4);dl.warn(`Firestore (${vu}): ${r}`,...t)}}function u4(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(r="Unexpected state"){const e=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: `+r;throw to(e),new Error(e)}function Bt(r,e){r||Ye()}function st(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends mu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ir.UNAUTHENTICATED))}shutdown(){}}class CU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xU{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Bt(this.o===void 0);let i=this.i;const n=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ja,e.enqueueRetryable(()=>n(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await n(this.currentUser)})},a=l=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ja)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Bt(typeof i.accessToken=="string"),new WE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new ir(e)}}class EU{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class TU{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new EU(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LU{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,nU(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Bt(this.o===void 0);const i=s=>{s.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const n=s=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>n(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?n(s):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new v7(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bt(typeof t.token=="string"),this.R=t.token,new v7(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const n=SU(40);for(let s=0;s<n.length;++s)i.length<20&&n[s]<t&&(i+=e.charAt(n[s]%62))}return i}}function bt(r,e){return r<e?-1:r>e?1:0}function Bc(r,e,t){return r.length===e.length&&r.every((i,n)=>t(i,e[n]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=-62135596800,b7=1e6;class Ii{static now(){return Ii.fromMillis(Date.now())}static fromDate(e){return Ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*b7);return new Ii(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ze(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ze(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<y7)throw new Ze(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b7}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y7;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(e){return new et(e)}static min(){return new et(new Ii(0,0))}static max(){return new et(new Ii(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7="__name__";class Qn{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ye(),i===void 0?i=e.length-t:i>e.length-t&&Ye(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qn?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++){const s=Qn.compareSegments(e.get(n),t.get(n));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Qn.isNumericId(e),n=Qn.isNumericId(t);return i&&!n?-1:!i&&n?1:i&&n?Qn.extractNumericId(e).compare(Qn.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jo.fromString(e.substring(4,e.length-2))}}class di extends Qn{construct(e,t,i){return new di(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ze(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(n=>n.length>0))}return new di(t)}static emptyPath(){return new di([])}}const AU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends Qn{construct(e,t,i){return new Zi(e,t,i)}static isValidIdentifier(e){return AU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_7}static keyField(){return new Zi([_7])}static fromServerFormat(e){const t=[];let i="",n=0;const s=()=>{if(i.length===0)throw new Ze(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;n<e.length;){const a=e[n];if(a==="\\"){if(n+1===e.length)throw new Ze(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[n+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ze(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,n+=2}else a==="`"?(o=!o,n++):a!=="."||o?(i+=a,n++):(s(),n++)}if(s(),o)throw new Ze(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(t)}static emptyPath(){return new Zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.path=e}static fromPath(e){return new We(di.fromString(e))}static fromName(e){return new We(di.fromString(e).popFirst(5))}static empty(){return new We(di.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&di.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return di.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new di(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=-1;function kU(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,n=et.fromTimestamp(i===1e9?new Ii(t+1,0):new Ii(t,i));return new ia(n,We.empty(),e)}function IU(r){return new ia(r.readTime,r.key,Ld)}class ia{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ia(et.min(),We.empty(),Ld)}static max(){return new ia(et.max(),We.empty(),Ld)}}function MU(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=We.comparator(r.documentKey,e.documentKey),t!==0?t:bt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(r){if(r.code!==ve.FAILED_PRECONDITION||r.message!==PU)throw r;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,n)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,n)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let n=0,s=0,o=!1;e.forEach(a=>{++n,a.next(()=>{++s,o&&s===n&&t()},l=>i(l))}),o=!0,s===n&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(n=>n?he.resolve(n):i());return t}static forEach(e,t){const i=[];return e.forEach((n,s)=>{i.push(t.call(this,n,s))}),this.waitFor(i)}static mapArray(e,t){return new he((i,n)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>n(u))}})}static doWhile(e,t){return new he((i,n)=>{const s=()=>{e()===!0?t().next(()=>{s()},n):i()};s()})}}function DU(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}om.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=-1;function am(r){return r==null}function E0(r){return r===0&&1/r==-1/0}function OU(r){return typeof r=="number"&&Number.isInteger(r)&&!E0(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="";function $U(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=w7(e)),e=VU(r.get(t),e);return w7(e)}function VU(r,e){let t=e;const i=r.length;for(let n=0;n<i;n++){const s=r.charAt(n);switch(s){case"\0":t+="";break;case qE:t+="";break;default:t+=s}}return t}function w7(r){return r+qE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function El(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function YE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new ui(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const n=this.comparator(e,i.key);if(n===0)return t+i.left.size;n<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nf(this.root,e,this.comparator,!0)}}class Nf{constructor(e,t,i,n){this.isReverse=n,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&n&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,i,n,s){this.key=e,this.value=t,this.color=i??ji.RED,this.left=n??ji.EMPTY,this.right=s??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,n,s){return new ji(e??this.key,t??this.value,i??this.color,n??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let n=this;const s=i(e,n.key);return n=s<0?n.copy(null,null,null,n.left.insert(e,t,i),null):s===0?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,i)),n.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,n=this;if(t(e,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),t(e,n.key)===0){if(n.right.isEmpty())return ji.EMPTY;i=n.right.min(),n=n.copy(i.key,i.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1;ji.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(e,t,i,n,s){return this}insert(e,t,i){return new ji(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.comparator=e,this.data=new ui(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const n=i.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new x7(this.data.getIterator())}getIteratorFrom(e){return new x7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const n=t.getNext().key,s=i.getNext().key;if(this.comparator(n,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mi(this.comparator);return t.data=e,t}}class x7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new In([])}unionWith(e){let t=new Mi(Zi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(n){try{return atob(n)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XE("Invalid base64 string: "+s):s}}(e);return new Yi(t)}static fromUint8Array(e){const t=function(n){let s="";for(let o=0;o<n.length;++o)s+=String.fromCharCode(n[o]);return s}(e);return new Yi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yi.EMPTY_BYTE_STRING=new Yi("");const FU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(r){if(Bt(!!r),typeof r=="string"){let e=0;const t=FU.exec(r);if(Bt(!!t),t[1]){let n=t[1];n=(n+"000000000").substr(0,9),e=Number(n)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mi(r.seconds),nanos:mi(r.nanos)}}function mi(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function na(r){return typeof r=="string"?Yi.fromBase64String(r):Yi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="server_timestamp",JE="__type__",eT="__previous_value__",tT="__local_write_time__";function d4(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[JE])===null||t===void 0?void 0:t.stringValue)===QE}function lm(r){const e=r.mapValue.fields[eT];return d4(e)?lm(e):e}function Sd(r){const e=ra(r.mapValue.fields[tT].timestampValue);return new Ii(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,t,i,n,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=n,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const T0="(default)";class Ad{constructor(e,t){this.projectId=e,this.database=t||T0}static empty(){return new Ad("","")}get isDefaultDatabase(){return this.database===T0}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__type__",NU="__max__",Hf={mapValue:{}},rT="__vector__",L0="value";function sa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?d4(r)?4:UU(r)?9007199254740991:HU(r)?10:11:Ye()}function _s(r,e){if(r===e)return!0;const t=sa(r);if(t!==sa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Sd(r).isEqual(Sd(e));case 3:return function(n,s){if(typeof n.timestampValue=="string"&&typeof s.timestampValue=="string"&&n.timestampValue.length===s.timestampValue.length)return n.timestampValue===s.timestampValue;const o=ra(n.timestampValue),a=ra(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(n,s){return na(n.bytesValue).isEqual(na(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(n,s){return mi(n.geoPointValue.latitude)===mi(s.geoPointValue.latitude)&&mi(n.geoPointValue.longitude)===mi(s.geoPointValue.longitude)}(r,e);case 2:return function(n,s){if("integerValue"in n&&"integerValue"in s)return mi(n.integerValue)===mi(s.integerValue);if("doubleValue"in n&&"doubleValue"in s){const o=mi(n.doubleValue),a=mi(s.doubleValue);return o===a?E0(o)===E0(a):isNaN(o)&&isNaN(a)}return!1}(r,e);case 9:return Bc(r.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:case 11:return function(n,s){const o=n.mapValue.fields||{},a=s.mapValue.fields||{};if(C7(o)!==C7(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!_s(o[l],a[l])))return!1;return!0}(r,e);default:return Ye()}}function kd(r,e){return(r.values||[]).find(t=>_s(t,e))!==void 0}function Nc(r,e){if(r===e)return 0;const t=sa(r),i=sa(e);if(t!==i)return bt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,e.booleanValue);case 2:return function(s,o){const a=mi(s.integerValue||s.doubleValue),l=mi(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(r,e);case 3:return E7(r.timestampValue,e.timestampValue);case 4:return E7(Sd(r),Sd(e));case 5:return bt(r.stringValue,e.stringValue);case 6:return function(s,o){const a=na(s),l=na(o);return a.compareTo(l)}(r.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=bt(a[c],l[c]);if(u!==0)return u}return bt(a.length,l.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,o){const a=bt(mi(s.latitude),mi(o.latitude));return a!==0?a:bt(mi(s.longitude),mi(o.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return T7(r.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},d=o.fields||{},f=(a=h[L0])===null||a===void 0?void 0:a.arrayValue,g=(l=d[L0])===null||l===void 0?void 0:l.arrayValue,m=bt(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:T7(f,g)}(r.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hf.mapValue&&o===Hf.mapValue)return 0;if(s===Hf.mapValue)return 1;if(o===Hf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=bt(l[h],u[h]);if(d!==0)return d;const f=Nc(a[l[h]],c[u[h]]);if(f!==0)return f}return bt(l.length,u.length)}(r.mapValue,e.mapValue);default:throw Ye()}}function E7(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return bt(r,e);const t=ra(r),i=ra(e),n=bt(t.seconds,i.seconds);return n!==0?n:bt(t.nanos,i.nanos)}function T7(r,e){const t=r.values||[],i=e.values||[];for(let n=0;n<t.length&&n<i.length;++n){const s=Nc(t[n],i[n]);if(s)return s}return bt(t.length,i.length)}function Hc(r){return c5(r)}function c5(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=ra(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return na(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return We.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",n=!0;for(const s of t.values||[])n?n=!1:i+=",",i+=c5(s);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let n="{",s=!0;for(const o of i)s?s=!1:n+=",",n+=`${o}:${c5(t.fields[o])}`;return n+"}"}(r.mapValue):Ye()}function B1(r){switch(sa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lm(r);return e?16+B1(e):16;case 5:return 2*r.stringValue.length;case 6:return na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((n,s)=>n+B1(s),0)}(r.arrayValue);case 10:case 11:return function(i){let n=0;return El(i.fields,(s,o)=>{n+=s.length+B1(o)}),n}(r.mapValue);default:throw Ye()}}function u5(r){return!!r&&"integerValue"in r}function f4(r){return!!r&&"arrayValue"in r}function L7(r){return!!r&&"nullValue"in r}function S7(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function N1(r){return!!r&&"mapValue"in r}function HU(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[iT])===null||t===void 0?void 0:t.stringValue)===rT}function Ph(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return El(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ph(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ph(r.arrayValue.values[t]);return e}return Object.assign({},r)}function UU(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!N1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ph(t)}setAll(e){let t=Zi.emptyPath(),i={},n=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,n),i={},n=[],t=a.popLast()}o?i[a.lastSegment()]=Ph(o):n.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,n)}delete(e){const t=this.field(e.popLast());N1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let n=t.mapValue.fields[e.get(i)];N1(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,i){El(t,(n,s)=>e[n]=s);for(const n of i)delete e[n]}clone(){return new pn(Ph(this.value))}}function nT(r){const e=[];return El(r.fields,(t,i)=>{const n=new Zi([t]);if(N1(i)){const s=nT(i.mapValue).fields;if(s.length===0)e.push(n);else for(const o of s)e.push(n.child(o))}else e.push(n)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t,i,n,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=n,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new or(e,0,et.min(),et.min(),et.min(),pn.empty(),0)}static newFoundDocument(e,t,i,n){return new or(e,1,t,et.min(),i,n,0)}static newNoDocument(e,t){return new or(e,2,t,et.min(),et.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new or(e,3,t,et.min(),et.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t){this.position=e,this.inclusive=t}}function A7(r,e,t){let i=0;for(let n=0;n<r.position.length;n++){const s=e[n],o=r.position[n];if(s.field.isKeyField()?i=We.comparator(We.fromName(o.referenceValue),t.key):i=Nc(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function k7(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!_s(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t="asc"){this.field=e,this.dir=t}}function zU(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class Ai extends sT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new GU(e,t,i):t==="array-contains"?new KU(e,i):t==="in"?new qU(e,i):t==="not-in"?new YU(e,i):t==="array-contains-any"?new XU(e,i):new Ai(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ZU(e,i):new WU(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Nc(t,this.value)):t!==null&&sa(this.value)===sa(t)&&this.matchesComparison(Nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends sT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ws(e,t)}matches(e){return oT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function oT(r){return r.op==="and"}function aT(r){return jU(r)&&oT(r)}function jU(r){for(const e of r.filters)if(e instanceof ws)return!1;return!0}function h5(r){if(r instanceof Ai)return r.field.canonicalString()+r.op.toString()+Hc(r.value);if(aT(r))return r.filters.map(e=>h5(e)).join(",");{const e=r.filters.map(t=>h5(t)).join(",");return`${r.op}(${e})`}}function lT(r,e){return r instanceof Ai?function(i,n){return n instanceof Ai&&i.op===n.op&&i.field.isEqual(n.field)&&_s(i.value,n.value)}(r,e):r instanceof ws?function(i,n){return n instanceof ws&&i.op===n.op&&i.filters.length===n.filters.length?i.filters.reduce((s,o,a)=>s&&lT(o,n.filters[a]),!0):!1}(r,e):void Ye()}function cT(r){return r instanceof Ai?function(t){return`${t.field.canonicalString()} ${t.op} ${Hc(t.value)}`}(r):r instanceof ws?function(t){return t.op.toString()+" {"+t.getFilters().map(cT).join(" ,")+"}"}(r):"Filter"}class GU extends Ai{constructor(e,t,i){super(e,t,i),this.key=We.fromName(i.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZU extends Ai{constructor(e,t){super(e,"in",t),this.keys=uT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WU extends Ai{constructor(e,t){super(e,"not-in",t),this.keys=uT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uT(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>We.fromName(i.referenceValue))}class KU extends Ai{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return f4(t)&&kd(t.arrayValue,this.value)}}class qU extends Ai{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&kd(this.value.arrayValue,t)}}class YU extends Ai{constructor(e,t){super(e,"not-in",t)}matches(e){if(kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!kd(this.value.arrayValue,t)}}class XU extends Ai{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!f4(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>kd(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,t=null,i=[],n=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=n,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function I7(r,e=null,t=[],i=[],n=null,s=null,o=null){return new QU(r,e,t,i,n,s,o)}function p4(r){const e=st(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>h5(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),am(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Hc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Hc(i)).join(",")),e.le=t}return e.le}function g4(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!zU(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!lT(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!k7(r.startAt,e.startAt)&&k7(r.endAt,e.endAt)}function d5(r){return We.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t=null,i=[],n=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=n,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function JU(r,e,t,i,n,s,o,a){return new cm(r,e,t,i,n,s,o,a)}function m4(r){return new cm(r)}function M7(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ez(r){return r.collectionGroup!==null}function Rh(r){const e=st(r);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Mi(Zi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new A0(s,i))}),t.has(Zi.keyField().canonicalString())||e.he.push(new A0(Zi.keyField(),i))}return e.he}function ds(r){const e=st(r);return e.Pe||(e.Pe=tz(e,Rh(r))),e.Pe}function tz(r,e){if(r.limitType==="F")return I7(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(n=>{const s=n.dir==="desc"?"asc":"desc";return new A0(n.field,s)});const t=r.endAt?new S0(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new S0(r.startAt.position,r.startAt.inclusive):null;return I7(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function f5(r,e,t){return new cm(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function um(r,e){return g4(ds(r),ds(e))&&r.limitType===e.limitType}function hT(r){return`${p4(ds(r))}|lt:${r.limitType}`}function tc(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(n=>cT(n)).join(", ")}]`),am(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(n=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(n)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(n=>Hc(n)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(n=>Hc(n)).join(",")),`Target(${i})`}(ds(r))}; limitType=${r.limitType})`}function hm(r,e){return e.isFoundDocument()&&function(i,n){const s=n.key.path;return i.collectionGroup!==null?n.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):We.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(r,e)&&function(i,n){for(const s of Rh(i))if(!s.field.isKeyField()&&n.data.field(s.field)===null)return!1;return!0}(r,e)&&function(i,n){for(const s of i.filters)if(!s.matches(n))return!1;return!0}(r,e)&&function(i,n){return!(i.startAt&&!function(o,a,l){const c=A7(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Rh(i),n)||i.endAt&&!function(o,a,l){const c=A7(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Rh(i),n))}(r,e)}function iz(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dT(r){return(e,t)=>{let i=!1;for(const n of Rh(r)){const s=rz(n,e,t);if(s!==0)return s;i=i||n.field.isKeyField()}return 0}}function rz(r,e,t){const i=r.field.isKeyField()?We.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Nc(l,c):Ye()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[n,s]of i)if(this.equalsFn(n,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return void(n[s]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return i.length===1?delete this.inner[t]:i.splice(n,1),this.innerSize--,!0;return!1}forEach(e){El(this.inner,(t,i)=>{for(const[n,s]of i)e(n,s)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=new ui(We.comparator);function io(){return nz}const fT=new ui(We.comparator);function sh(...r){let e=fT;for(const t of r)e=e.insert(t.key,t);return e}function pT(r){let e=fT;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ja(){return Dh()}function gT(){return Dh()}function Dh(){return new Tl(r=>r.toString(),(r,e)=>r.isEqual(e))}const sz=new ui(We.comparator),oz=new Mi(We.comparator);function gt(...r){let e=oz;for(const t of r)e=e.add(t);return e}const az=new Mi(bt);function lz(){return az}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:E0(e)?"-0":e}}function mT(r){return{integerValue:""+r}}function cz(r,e){return OU(e)?mT(e):v4(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this._=void 0}}function uz(r,e,t){return r instanceof k0?function(n,s){const o={fields:{[JE]:{stringValue:QE},[tT]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return s&&d4(s)&&(s=lm(s)),s&&(o.fields[eT]=s),{mapValue:o}}(t,e):r instanceof Id?yT(r,e):r instanceof Md?bT(r,e):function(n,s){const o=vT(n,s),a=P7(o)+P7(n.Ie);return u5(o)&&u5(n.Ie)?mT(a):v4(n.serializer,a)}(r,e)}function hz(r,e,t){return r instanceof Id?yT(r,e):r instanceof Md?bT(r,e):t}function vT(r,e){return r instanceof I0?function(i){return u5(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class k0 extends dm{}class Id extends dm{constructor(e){super(),this.elements=e}}function yT(r,e){const t=_T(e);for(const i of r.elements)t.some(n=>_s(n,i))||t.push(i);return{arrayValue:{values:t}}}class Md extends dm{constructor(e){super(),this.elements=e}}function bT(r,e){let t=_T(e);for(const i of r.elements)t=t.filter(n=>!_s(n,i));return{arrayValue:{values:t}}}class I0 extends dm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function P7(r){return mi(r.integerValue||r.doubleValue)}function _T(r){return f4(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dz(r,e){return r.field.isEqual(e.field)&&function(i,n){return i instanceof Id&&n instanceof Id||i instanceof Md&&n instanceof Md?Bc(i.elements,n.elements,_s):i instanceof I0&&n instanceof I0?_s(i.Ie,n.Ie):i instanceof k0&&n instanceof k0}(r.transform,e.transform)}class fz{constructor(e,t){this.version=e,this.transformResults=t}}class Ks{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ks}static exists(e){return new Ks(void 0,e)}static updateTime(e){return new Ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function H1(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class fm{}function wT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xT(r.key,Ks.none()):new cf(r.key,r.data,Ks.none());{const t=r.data,i=pn.empty();let n=new Mi(Zi.comparator);for(let s of e.fields)if(!n.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),n=n.add(s)}return new Ll(r.key,i,new In(n.toArray()),Ks.none())}}function pz(r,e,t){r instanceof cf?function(n,s,o){const a=n.value.clone(),l=D7(n.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(r,e,t):r instanceof Ll?function(n,s,o){if(!H1(n.precondition,s))return void s.convertToUnknownDocument(o.version);const a=D7(n.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(CT(n)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(r,e,t):function(n,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Oh(r,e,t,i){return r instanceof cf?function(s,o,a,l){if(!H1(s.precondition,o))return a;const c=s.value.clone(),u=O7(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(r,e,t,i):r instanceof Ll?function(s,o,a,l){if(!H1(s.precondition,o))return a;const c=O7(s.fieldTransforms,l,o),u=o.data;return u.setAll(CT(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(r,e,t,i):function(s,o,a){return H1(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(r,e,t)}function gz(r,e){let t=null;for(const i of r.fieldTransforms){const n=e.data.field(i.field),s=vT(i.transform,n||null);s!=null&&(t===null&&(t=pn.empty()),t.set(i.field,s))}return t||null}function R7(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,n){return i===void 0&&n===void 0||!(!i||!n)&&Bc(i,n,(s,o)=>dz(s,o))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cf extends fm{constructor(e,t,i,n=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class Ll extends fm{constructor(e,t,i,n,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=n,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CT(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function D7(r,e,t){const i=new Map;Bt(r.length===t.length);for(let n=0;n<t.length;n++){const s=r[n],o=s.transform,a=e.data.field(s.field);i.set(s.field,hz(o,a,t[n]))}return i}function O7(r,e,t){const i=new Map;for(const n of r){const s=n.transform,o=t.data.field(n.field);i.set(n.field,uz(s,o,e))}return i}class xT extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mz extends fm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,t,i,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=n}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let n=0;n<this.mutations.length;n++){const s=this.mutations[n];s.key.isEqual(e.key)&&pz(s,e,i[n])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Oh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Oh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=gT();return this.mutations.forEach(n=>{const s=e.get(n.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(n.key)?null:a;const l=wT(o,a);l!==null&&i.set(n.key,l),o.isValidDocument()||o.convertToNoDocument(et.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gt())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,(t,i)=>R7(t,i))&&Bc(this.baseMutations,e.baseMutations,(t,i)=>R7(t,i))}}class y4{constructor(e,t,i,n){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=n}static from(e,t,i){Bt(e.mutations.length===i.length);let n=function(){return sz}();const s=e.mutations;for(let o=0;o<s.length;o++)n=n.insert(s[o].key,i[o].version);return new y4(e,t,i,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i,xt;function _z(r){switch(r){case ve.OK:return Ye();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Ye()}}function ET(r){if(r===void 0)return to("GRPC error has no .code"),ve.UNKNOWN;switch(r){case _i.OK:return ve.OK;case _i.CANCELLED:return ve.CANCELLED;case _i.UNKNOWN:return ve.UNKNOWN;case _i.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case _i.INTERNAL:return ve.INTERNAL;case _i.UNAVAILABLE:return ve.UNAVAILABLE;case _i.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case _i.NOT_FOUND:return ve.NOT_FOUND;case _i.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case _i.ABORTED:return ve.ABORTED;case _i.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case _i.DATA_LOSS:return ve.DATA_LOSS;default:return Ye()}}(xt=_i||(_i={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=new jo([4294967295,4294967295],0);function $7(r){const e=wz().encode(r),t=new HE;return t.update(e),new Uint8Array(t.digest())}function V7(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),n=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jo([t,i],0),new jo([n,s],0)]}class b4{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new oh(`Invalid padding: ${t}`);if(i<0)throw new oh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new oh(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=jo.fromNumber(this.Ee)}Ae(e,t,i){let n=e.add(t.multiply(jo.fromNumber(i)));return n.compare(Cz)===1&&(n=new jo([n.getBits(0),n.getBits(1)],0)),n.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=$7(e),[i,n]=V7(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,n,s);if(!this.Re(o))return!1}return!0}static create(e,t,i){const n=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new b4(s,n,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const t=$7(e),[i,n]=V7(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,n,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t,i,n,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=n,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const n=new Map;return n.set(e,uf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pm(et.min(),n,new ui(bt),io(),gt())}}class uf{constructor(e,t,i,n,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=n,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new uf(i,t,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,i,n){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=n}}class TT{constructor(e,t){this.targetId=e,this.ge=t}}class LT{constructor(e,t,i=Yi.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=n}}class F7{constructor(){this.pe=0,this.ye=B7(),this.we=Yi.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=gt(),t=gt(),i=gt();return this.ye.forEach((n,s)=>{switch(s){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:i=i.add(n);break;default:Ye()}}),new uf(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=B7()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Bt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class xz{constructor(e){this.ke=e,this.qe=new Map,this.Qe=io(),this.$e=Uf(),this.Ke=Uf(),this.Ue=new ui(bt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ye()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,n)=>{this.Je(n)&&t(n)})}Ze(e){const t=e.targetId,i=e.ge.count,n=this.Xe(t);if(n){const s=n.target;if(d5(s))if(i===0){const o=new We(s.path);this.ze(t,o,or.newNoDocument(o,et.min()))}else Bt(i===1);else{const o=this.et(t);if(o!==i){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,c)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:n=0},hashCount:s=0}=t;let o,a;try{o=na(i).toUint8Array()}catch(l){if(l instanceof XE)return Fc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new b4(o,n,s)}catch(l){return Fc(l instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let n=0;return i.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),n++)}),n}ot(e){const t=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&d5(a.target)){const l=new We(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,or.newNoDocument(l,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let i=gt();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const n=new pm(e,t,this.Ue,this.Qe,i);return this.Qe=io(),this.$e=Uf(),this.Ke=Uf(),this.Ue=new ui(bt),n}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const n=this.He(e);this.ut(e,t)?n.xe(t,1):n.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new F7,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Mi(bt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mi(bt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new F7),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Uf(){return new ui(We.comparator)}function B7(){return new ui(We.comparator)}const Ez={asc:"ASCENDING",desc:"DESCENDING"},Tz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lz={and:"AND",or:"OR"};class Sz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function p5(r,e){return r.useProto3Json||am(e)?e:{value:e}}function M0(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ST(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Az(r,e){return M0(r,e.toTimestamp())}function fs(r){return Bt(!!r),et.fromTimestamp(function(t){const i=ra(t);return new Ii(i.seconds,i.nanos)}(r))}function _4(r,e){return g5(r,e).canonicalString()}function g5(r,e){const t=function(n){return new di(["projects",n.projectId,"databases",n.database])}(r).child("documents");return e===void 0?t:t.child(e)}function AT(r){const e=di.fromString(r);return Bt(RT(e)),e}function m5(r,e){return _4(r.databaseId,e.path)}function L2(r,e){const t=AT(e);if(t.get(1)!==r.databaseId.projectId)throw new Ze(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ze(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new We(IT(t))}function kT(r,e){return _4(r.databaseId,e)}function kz(r){const e=AT(r);return e.length===4?di.emptyPath():IT(e)}function v5(r){return new di(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IT(r){return Bt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function N7(r,e,t){return{name:m5(r,e),fields:t.value.mapValue.fields}}function Iz(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),n=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Bt(u===void 0||typeof u=="string"),Yi.fromBase64String(u||"")):(Bt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Yi.fromUint8Array(u||new Uint8Array))}(r,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ve.UNKNOWN:ET(c.code);return new Ze(u,c.message||"")}(o);t=new LT(i,n,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const n=L2(r,i.document.name),s=fs(i.document.updateTime),o=i.document.createTime?fs(i.document.createTime):et.min(),a=new pn({mapValue:{fields:i.document.fields}}),l=or.newFoundDocument(n,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];t=new U1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const n=L2(r,i.document),s=i.readTime?fs(i.readTime):et.min(),o=or.newNoDocument(n,s),a=i.removedTargetIds||[];t=new U1([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const n=L2(r,i.document),s=i.removedTargetIds||[];t=new U1([],s,n,null)}else{if(!("filter"in e))return Ye();{e.filter;const i=e.filter;i.targetId;const{count:n=0,unchangedNames:s}=i,o=new bz(n,s),a=i.targetId;t=new TT(a,o)}}return t}function Mz(r,e){let t;if(e instanceof cf)t={update:N7(r,e.key,e.value)};else if(e instanceof xT)t={delete:m5(r,e.key)};else if(e instanceof Ll)t={update:N7(r,e.key,e.data),updateMask:Nz(e.fieldMask)};else{if(!(e instanceof mz))return Ye();t={verify:m5(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof k0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Id)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Md)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof I0)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ye()}(0,i))),e.precondition.isNone||(t.currentDocument=function(n,s){return s.updateTime!==void 0?{updateTime:Az(n,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ye()}(r,e.precondition)),t}function Pz(r,e){return r&&r.length>0?(Bt(e!==void 0),r.map(t=>function(n,s){let o=n.updateTime?fs(n.updateTime):fs(s);return o.isEqual(et.min())&&(o=fs(s)),new fz(o,n.transformResults||[])}(t,e))):[]}function Rz(r,e){return{documents:[kT(r,e.path)]}}function Dz(r,e){const t={structuredQuery:{}},i=e.path;let n;e.collectionGroup!==null?(n=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=kT(r,n);const s=function(c){if(c.length!==0)return PT(ws.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:ic(d.field),direction:Vz(d.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=p5(r,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:t,parent:n}}function Oz(r){let e=kz(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let n=null;if(i>0){Bt(i===1);const u=t.from[0];u.allDescendants?n=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const d=MT(h);return d instanceof ws&&aT(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(d=>function(g){return new A0(rc(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(t.orderBy));let a=null;t.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,am(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new S0(f,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new S0(f,d)}(t.endAt)),JU(e,n,o,s,a,"F",l,c)}function $z(r,e){const t=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function MT(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=rc(t.unaryFilter.field);return Ai.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=rc(t.unaryFilter.field);return Ai.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rc(t.unaryFilter.field);return Ai.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rc(t.unaryFilter.field);return Ai.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(r):r.fieldFilter!==void 0?function(t){return Ai.create(rc(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ws.create(t.compositeFilter.filters.map(i=>MT(i)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ye()}}(t.compositeFilter.op))}(r):Ye()}function Vz(r){return Ez[r]}function Fz(r){return Tz[r]}function Bz(r){return Lz[r]}function ic(r){return{fieldPath:r.canonicalString()}}function rc(r){return Zi.fromServerFormat(r.fieldPath)}function PT(r){return r instanceof Ai?function(t){if(t.op==="=="){if(S7(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NAN"}};if(L7(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S7(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NAN"}};if(L7(t.value))return{unaryFilter:{field:ic(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(t.field),op:Fz(t.op),value:t.value}}}(r):r instanceof ws?function(t){const i=t.getFilters().map(n=>PT(n));return i.length===1?i[0]:{compositeFilter:{op:Bz(t.op),filters:i}}}(r):Ye()}function Nz(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,i,n,s=et.min(),o=et.min(),a=Yi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=n,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.Tt=e}}function Uz(r){const e=Oz({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?f5(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.Tn=new jz}addToCollectionParentIndex(e,t){return this.Tn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(ia.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class jz{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),n=this.index[t]||new Mi(di.comparator),s=!n.has(i);return this.index[t]=n.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),n=this.index[t];return n&&n.has(i)}getEntries(e){return(this.index[e]||new Mi(di.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(DT,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Uc(0)}static Un(){return new Uc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U7="LruGarbageCollector",Gz=1048576;function z7([r,e],[t,i]){const n=bt(r,t);return n===0?bt(e,i):n}class Zz{constructor(e){this.Hn=e,this.buffer=new Mi(z7),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();z7(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wz{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Me(U7,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bu(t)?Me(U7,"Ignoring IndexedDB error during garbage collection: ",t):await yu(t)}await this.er(3e5)})}}class Kz{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return he.resolve(om.ae);const i=new Zz(t);return this.tr.forEachTarget(e,n=>i.Zn(n.sequenceNumber)).next(()=>this.tr.rr(e,n=>i.Zn(n))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(H7)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H7):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,n,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),n=this.params.maximumSequenceNumbersToCollect):n=h,o=Date.now(),this.nthSequenceNumber(e,n))).next(h=>(i=h,a=Date.now(),this.removeTargets(e,i,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),ec()<=Et.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${n} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:s,documentsRemoved:h})))}}function qz(r,e){return new Kz(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(){this.changes=new Tl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,t,i,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=n}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(i=n,this.remoteDocumentCache.getEntry(e,t))).next(n=>(i!==null&&Oh(i.mutation,n,In.empty(),Ii.now()),n))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,gt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=gt()){const n=ja();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,i).next(s=>{let o=sh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=ja();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,gt()))}populateOverlays(e,t,i){const n=[];return i.forEach(s=>{t.has(s)||n.push(s)}),this.documentOverlayCache.getOverlays(e,n).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,n){let s=io();const o=Dh(),a=function(){return Dh()}();return t.forEach((l,c)=>{const u=i.get(c.key);n.has(c.key)&&(u===void 0||u.mutation instanceof Ll)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Oh(u.mutation,c,u.mutation.getFieldMask(),Ii.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new Xz(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Dh();let n=new ui((o,a)=>o-a),s=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=i.get(l)||In.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(n.get(a.batchId)||gt()).add(l);n=n.insert(a.batchId,h)})}).next(()=>{const o=[],a=n.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=gT();u.forEach(d=>{if(!s.has(d)){const f=wT(t.get(d),i.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return he.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,n){return function(o){return We.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ez(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,n):this.getDocumentsMatchingCollectionQuery(e,t,i,n)}getNextDocuments(e,t,i,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,n).next(s=>{const o=n-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,n-s.size):he.resolve(ja());let a=Ld,l=s;return o.next(c=>he.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?he.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,gt())).next(u=>({batchId:a,changes:pT(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(i=>{let n=sh();return i.isFoundDocument()&&(n=n.insert(i.key,i)),n})}getDocumentsMatchingCollectionGroupQuery(e,t,i,n){const s=t.collectionGroup;let o=sh();return this.indexManager.getCollectionParents(e,s).next(a=>he.forEach(a,l=>{const c=function(h,d){return new cm(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,n).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,n){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,n))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,or.newInvalidDocument(u)))});let a=sh();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Oh(u.mutation,c,In.empty(),Ii.now()),hm(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return he.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(n){return{id:n.id,version:n.version,createTime:fs(n.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(n){return{name:n.name,query:Uz(n.bundledQuery),readTime:fs(n.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.overlays=new ui(We.comparator),this.Rr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ja();return he.forEach(t,n=>this.getOverlay(e,n).next(s=>{s!==null&&i.set(n,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((n,s)=>{this.Et(e,t,s)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const n=this.Rr.get(i);return n!==void 0&&(n.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const n=ja(),s=t.length+1,o=new We(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&n.set(l.getKey(),l)}return he.resolve(n)}getOverlaysForCollectionGroup(e,t,i,n){let s=new ui((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=ja(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ja(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=n)););return he.resolve(a)}Et(e,t,i){const n=this.overlays.get(i.key);if(n!==null){const o=this.Rr.get(n.largestBatchId).delete(i.key);this.Rr.set(n.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new yz(t,i));let s=this.Rr.get(t);s===void 0&&(s=gt(),this.Rr.set(t,s)),this.Rr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.sessionToken=Yi.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.Vr=new Mi(Di.mr),this.gr=new Mi(Di.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Di(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Di(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new We(new di([])),i=new Di(t,e),n=new Di(t,e+1),s=[];return this.gr.forEachInRange([i,n],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new We(new di([])),i=new Di(t,e),n=new Di(t,e+1);let s=gt();return this.gr.forEachInRange([i,n],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Di(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Di{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return We.comparator(e.key,t.key)||bt(e.Cr,t.Cr)}static pr(e,t){return bt(e.Cr,t.Cr)||We.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mi(Di.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,n){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vz(s,t,i,n);this.mutationQueue.push(o);for(const a of n)this.Mr=this.Mr.add(new Di(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,t){return he.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,n=this.Nr(i),s=n<0?0:n;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?h4:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Di(t,0),n=new Di(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,n],o=>{const a=this.Or(o.Cr);s.push(a)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mi(bt);return t.forEach(n=>{const s=new Di(n,0),o=new Di(n,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{i=i.add(a.Cr)})}),he.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,n=i.length+1;let s=i;We.isDocumentKey(s)||(s=s.child(""));const o=new Di(new We(s),0);let a=new Mi(bt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===n&&(a=a.add(l.Cr)),!0)},o),he.resolve(this.Br(a))}Br(e){const t=[];return e.forEach(i=>{const n=this.Or(i);n!==null&&t.push(n)}),t}removeMutationBatch(e,t){Bt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return he.forEach(t.mutations,n=>{const s=new Di(n.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Di(t,0),n=this.Mr.firstAfterOrEqual(i);return he.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.kr=e,this.docs=function(){return new ui(We.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,n=this.docs.get(i),s=n?n.size:0,o=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():or.newInvalidDocument(t))}getEntries(e,t){let i=io();return t.forEach(n=>{const s=this.docs.get(n);i=i.insert(n,s?s.document.mutableCopy():or.newInvalidDocument(n))}),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,n){let s=io();const o=t.path,a=new We(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||MU(IU(u),i)<=0||(n.has(u.key)||hm(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,t,i,n){Ye()}qr(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new nj(this)}getSize(e){return he.resolve(this.size)}}class nj extends Yz{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,n)=>{n.isValidDocument()?t.push(this.Ir.addEntry(e,n)):this.Ir.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.persistence=e,this.Qr=new Tl(t=>p4(t),g4),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.$r=0,this.Kr=new w4,this.targetCount=0,this.Ur=Uc.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,n)=>t(n)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),he.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Uc(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.zn(t),he.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let n=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),n++)}),he.waitFor(s).next(()=>n)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const n=this.persistence.referenceDelegate,s=[];return n&&t.forEach(o=>{s.push(n.markPotentiallyOrphaned(e,o))}),he.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new om(0),this.zr=!1,this.zr=!0,this.jr=new tj,this.referenceDelegate=e(this),this.Hr=new sj(this),this.indexManager=new zz,this.remoteDocumentCache=function(n){return new rj(n)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Hz(t),this.Yr=new Jz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ej,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new ij(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Me("MemoryPersistence","Starting transaction:",e);const n=new oj(this.Gr.next());return this.referenceDelegate.Zr(),i(n).next(s=>this.referenceDelegate.Xr(n).next(()=>s)).toPromise().then(s=>(n.raiseOnCommittedEvent(),s))}ei(e,t){return he.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class oj extends RU{constructor(e){super(),this.currentSequenceNumber=e}}class C4{constructor(e){this.persistence=e,this.ti=new w4,this.ni=null}static ri(e){return new C4(e)}get ii(){if(this.ni)return this.ni;throw Ye()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),he.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(n=>this.ii.add(n.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(n=>{n.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,i=>{const n=We.fromPath(i);return this.si(e,n).next(s=>{s||t.removeEntry(n,et.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return he.or([()=>he.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class P0{constructor(e,t){this.persistence=e,this.oi=new Tl(i=>$U(i.path),(i,n)=>i.isEqual(n)),this.garbageCollector=qz(this,t)}static ri(e,t){return new P0(e,t)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(n=>i+n))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return he.forEach(this.oi,(i,n)=>this.ar(e,i,n).next(s=>s?he.resolve():t(n)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const n=this.persistence.getRemoteDocumentCache(),s=n.newChangeBuffer();return n.qr(e,o=>this.ar(e,o,t).next(a=>{a||(i++,s.removeEntry(o,et.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),he.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=B1(e.data.value)),t}ar(e,t,i){return he.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const n=this.oi.get(t);return he.resolve(n!==void 0&&n>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,t,i,n){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=n}static Yi(e,t){let i=gt(),n=gt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:n=n.add(s.doc.key)}return new x4(e,t.fromCache,i,n)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tH()?8:DU(JN())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,n){const s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,n,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new aj;return this._s(e,t,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)})}).next(()=>s.result)}us(e,t,i,n){return i.documentReadCount<this.es?(ec()<=Et.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",tc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(ec()<=Et.DEBUG&&Me("QueryEngine","Query:",tc(t),"scans",i.documentReadCount,"local documents and returns",n,"documents as results."),i.documentReadCount>this.ts*n?(ec()<=Et.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",tc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(t))):he.resolve())}rs(e,t){if(M7(t))return he.resolve(null);let i=ds(t);return this.indexManager.getIndexType(e,i).next(n=>n===0?null:(t.limit!==null&&n===1&&(t=f5(t,null,"F"),i=ds(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=gt(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.cs(t,a);return this.ls(t,c,o,l.readTime)?this.rs(e,f5(t,null,"F")):this.hs(e,c,t,l)}))})))}ss(e,t,i,n){return M7(t)||n.isEqual(et.min())?he.resolve(null):this.ns.getDocuments(e,i).next(s=>{const o=this.cs(t,s);return this.ls(t,o,i,n)?he.resolve(null):(ec()<=Et.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),tc(t)),this.hs(e,o,t,kU(n,Ld)).next(a=>a))})}cs(e,t){let i=new Mi(dT(e));return t.forEach((n,s)=>{hm(e,s)&&(i=i.add(s))}),i}ls(e,t,i,n){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(n)>0)}_s(e,t,i){return ec()<=Et.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",tc(t)),this.ns.getDocumentsMatchingQuery(e,t,ia.min(),i)}hs(e,t,i,n){return this.ns.getDocumentsMatchingQuery(e,i,n).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="LocalStore",cj=3e8;class uj{constructor(e,t,i,n){this.persistence=e,this.Ps=t,this.serializer=n,this.Ts=new ui(bt),this.Is=new Tl(s=>p4(s),g4),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qz(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function hj(r,e,t,i){return new uj(r,e,t,i)}async function $T(r,e){const t=st(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let n;return t.mutationQueue.getAllMutationBatches(i).next(s=>(n=s,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=gt();for(const c of n){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function dj(r,e){const t=st(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const n=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=he.resolve();return d.forEach(g=>{f=f.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);Bt(v!==null),m.version.compareTo(v)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,n,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=gt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,n))})}function VT(r){const e=st(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function fj(r,e){const t=st(r),i=e.snapshotVersion;let n=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});n=t.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const d=n.get(h);if(!d)return;a.push(t.Hr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Hr.addMatchingKeys(s,u.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Yi.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),n=n.insert(h,f),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=cj?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,f,u)&&a.push(t.Hr.updateTargetData(s,f))});let l=io(),c=gt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(pj(s,o,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!i.isEqual(et.min())){const u=t.Hr.getLastRemoteSnapshotVersion(s).next(h=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return he.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ts=n,s))}function pj(r,e,t){let i=gt(),n=gt();return t.forEach(s=>i=i.add(s)),e.getEntries(r,i).next(s=>{let o=io();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(n=n.add(a)),l.isNoDocument()&&l.version.isEqual(et.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Me(E4,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:n}})}function gj(r,e){const t=st(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=h4),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function mj(r,e){const t=st(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let n;return t.Hr.getTargetData(i,e).next(s=>s?(n=s,he.resolve(n)):t.Hr.allocateTargetId(i).next(o=>(n=new Ro(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,n).next(()=>n))))}).then(i=>{const n=t.Ts.get(i.targetId);return(n===null||i.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function y5(r,e,t){const i=st(r),n=i.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,n))}catch(o){if(!bu(o))throw o;Me(E4,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ts=i.Ts.remove(e),i.Is.delete(n.target)}function j7(r,e,t){const i=st(r);let n=et.min(),s=gt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=st(l),d=h.Is.get(u);return d!==void 0?he.resolve(h.Ts.get(d)):h.Hr.getTargetData(c,u)}(i,o,ds(e)).next(a=>{if(a)return n=a.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Ps.getDocumentsMatchingQuery(o,e,t?n:et.min(),t?s:gt())).next(a=>(vj(i,iz(e),a),{documents:a,gs:s})))}function vj(r,e,t){let i=r.Es.get(e)||et.min();t.forEach((n,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),r.Es.set(e,i)}class G7{constructor(){this.activeTargetIds=lz()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this.ho=new G7,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new G7,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="ConnectivityMonitor";class W7{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Me(Z7,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Me(Z7,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function b5(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="RestConnection",_j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wj{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${n}`,this.wo=this.databaseId.database===T0?`project_id=${i}`:`project_id=${i}&database_id=${n}`}So(e,t,i,n,s){const o=b5(),a=this.bo(e,t.toUriEncodedString());Me(S2,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,n,s),this.vo(e,a,l,i).then(c=>(Me(S2,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Fc(S2,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}Co(e,t,i,n,s,o){return this.So(e,t,i,n,s)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((n,s)=>e[s]=n),i&&i.headers.forEach((n,s)=>e[s]=n)}bo(e,t){const i=_j[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class xj extends wj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,n){const s=b5();return new Promise((o,a)=>{const l=new UE;l.setWithCredentials(!0),l.listenOnce(zE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case F1.NO_ERROR:const u=l.getResponseJson();Me(er,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case F1.TIMEOUT:Me(er,`RPC '${e}' ${s} timed out`),a(new Ze(ve.DEADLINE_EXCEEDED,"Request time out"));break;case F1.HTTP_ERROR:const h=l.getStatus();if(Me(er,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(y)>=0?y:ve.UNKNOWN}(f.status);a(new Ze(g,f.message))}else a(new Ze(ve.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ze(ve.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Me(er,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(n);Me(er,`RPC '${e}' ${s} sending request:`,n),l.send(t,"POST",c,i,15)})}Wo(e,t,i){const n=b5(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZE(),a=GE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const u=s.join("");Me(er,`Creating RPC '${e}' stream ${n}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const g=new Cj({Fo:v=>{f?Me(er,`Not sending because RPC '${e}' stream ${n} is closed:`,v):(d||(Me(er,`Opening RPC '${e}' stream ${n} transport.`),h.open(),d=!0),Me(er,`RPC '${e}' stream ${n} sending:`,v),h.send(v))},Mo:()=>h.close()}),m=(v,y,_)=>{v.listen(y,w=>{try{_(w)}catch(S){setTimeout(()=>{throw S},0)}})};return m(h,nh.EventType.OPEN,()=>{f||(Me(er,`RPC '${e}' stream ${n} transport opened.`),g.Qo())}),m(h,nh.EventType.CLOSE,()=>{f||(f=!0,Me(er,`RPC '${e}' stream ${n} transport closed`),g.Ko())}),m(h,nh.EventType.ERROR,v=>{f||(f=!0,Fc(er,`RPC '${e}' stream ${n} transport errored:`,v),g.Ko(new Ze(ve.UNAVAILABLE,"The operation could not be completed")))}),m(h,nh.EventType.MESSAGE,v=>{var y;if(!f){const _=v.data[0];Bt(!!_);const w=_,S=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(S){Me(er,`RPC '${e}' stream ${n} received error:`,S);const k=S.status;let P=function(E){const A=_i[E];if(A!==void 0)return ET(A)}(k),x=S.message;P===void 0&&(P=ve.INTERNAL,x="Unknown error status: "+k+" with message "+S.message),f=!0,g.Ko(new Ze(P,x)),h.close()}else Me(er,`RPC '${e}' stream ${n} received:`,_),g.Uo(_)}}),m(a,jE.STAT_EVENT,v=>{v.stat===l5.PROXY?Me(er,`RPC '${e}' stream ${n} detected buffering proxy`):v.stat===l5.NOPROXY&&Me(er,`RPC '${e}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function A2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r){return new Sz(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t,i=1e3,n=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=n,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),n=Math.max(0,t-i);n>0&&Me("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="PersistentStream";class BT{constructor(e,t,i,n,s,o,a,l){this.Ti=e,this.n_=i,this.r_=n,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new FT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(to(t.toString()),to("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,n])=>{this.i_===t&&this.V_(i,n)},i=>{e(()=>{const n=new Ze(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(n)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(n=>{i(()=>this.m_(n))}),this.stream.onMessage(n=>{i(()=>++this.__==1?this.g_(n):this.onNext(n))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Me(K7,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Me(K7,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ej extends BT{constructor(e,t,i,n,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,n,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Iz(this.serializer,e),i=function(s){if(!("targetChange"in s))return et.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?et.min():o.readTime?fs(o.readTime):et.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=v5(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=d5(l)?{documents:Rz(s,l)}:{query:Dz(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ST(s,o.resumeToken);const c=p5(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(et.min())>0){a.readTime=M0(s,o.snapshotVersion.toTimestamp());const c=p5(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=$z(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=v5(this.serializer),t.removeTarget=e,this.I_(t)}}class Tj extends BT{constructor(e,t,i,n,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,n,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Pz(e.writeResults,e.commitTime),i=fs(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=v5(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Mz(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{}class Sj extends Lj{constructor(e,t,i,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new Ze(ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,g5(t,i),n,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(ve.UNKNOWN,s.toString())})}Co(e,t,i,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,g5(t,i),n,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(ve.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Aj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(to(t),this.N_=!1):Me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="RemoteStore";class kj{constructor(e,t,i,n,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{i.enqueueAndForget(async()=>{Sl(this)&&(Me(fl,"Restarting streams for network reachability change."),await async function(l){const c=st(l);c.W_.add(4),await hf(c),c.j_.set("Unknown"),c.W_.delete(4),await mm(c)}(this))})}),this.j_=new Aj(i,n)}}async function mm(r){if(Sl(r))for(const e of r.G_)await e(!0)}async function hf(r){for(const e of r.G_)await e(!1)}function NT(r,e){const t=st(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),A4(t)?S4(t):_u(t).c_()&&L4(t,e))}function T4(r,e){const t=st(r),i=_u(t);t.U_.delete(e),i.c_()&&HT(t,e),t.U_.size===0&&(i.c_()?i.P_():Sl(t)&&t.j_.set("Unknown"))}function L4(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(et.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_u(r).y_(e)}function HT(r,e){r.H_.Ne(e),_u(r).w_(e)}function S4(r){r.H_=new xz({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),_u(r).start(),r.j_.B_()}function A4(r){return Sl(r)&&!_u(r).u_()&&r.U_.size>0}function Sl(r){return st(r).W_.size===0}function UT(r){r.H_=void 0}async function Ij(r){r.j_.set("Online")}async function Mj(r){r.U_.forEach((e,t)=>{L4(r,e)})}async function Pj(r,e){UT(r),A4(r)?(r.j_.q_(e),S4(r)):r.j_.set("Unknown")}async function Rj(r,e,t){if(r.j_.set("Online"),e instanceof LT&&e.state===2&&e.cause)try{await async function(n,s){const o=s.cause;for(const a of s.targetIds)n.U_.has(a)&&(await n.remoteSyncer.rejectListen(a,o),n.U_.delete(a),n.H_.removeTarget(a))}(r,e)}catch(i){Me(fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await R0(r,i)}else if(e instanceof U1?r.H_.We(e):e instanceof TT?r.H_.Ze(e):r.H_.je(e),!t.isEqual(et.min()))try{const i=await VT(r.localStore);t.compareTo(i)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.U_.get(c);u&&s.U_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.U_.get(l);if(!u)return;s.U_.set(l,u.withResumeToken(Yi.EMPTY_BYTE_STRING,u.snapshotVersion)),HT(s,l);const h=new Ro(u.target,l,c,u.sequenceNumber);L4(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(r,t)}catch(i){Me(fl,"Failed to raise snapshot:",i),await R0(r,i)}}async function R0(r,e,t){if(!bu(e))throw e;r.W_.add(1),await hf(r),r.j_.set("Offline"),t||(t=()=>VT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Me(fl,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await mm(r)})}function zT(r,e){return e().catch(t=>R0(r,t,e))}async function vm(r){const e=st(r),t=oa(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:h4;for(;Dj(e);)try{const n=await gj(e.localStore,i);if(n===null){e.K_.length===0&&t.P_();break}i=n.batchId,Oj(e,n)}catch(n){await R0(e,n)}jT(e)&&GT(e)}function Dj(r){return Sl(r)&&r.K_.length<10}function Oj(r,e){r.K_.push(e);const t=oa(r);t.c_()&&t.S_&&t.b_(e.mutations)}function jT(r){return Sl(r)&&!oa(r).u_()&&r.K_.length>0}function GT(r){oa(r).start()}async function $j(r){oa(r).C_()}async function Vj(r){const e=oa(r);for(const t of r.K_)e.b_(t.mutations)}async function Fj(r,e,t){const i=r.K_.shift(),n=y4.from(i,e,t);await zT(r,()=>r.remoteSyncer.applySuccessfulWrite(n)),await vm(r)}async function Bj(r,e){e&&oa(r).S_&&await async function(i,n){if(function(o){return _z(o)&&o!==ve.ABORTED}(n.code)){const s=i.K_.shift();oa(i).h_(),await zT(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,n)),await vm(i)}}(r,e),jT(r)&&GT(r)}async function q7(r,e){const t=st(r);t.asyncQueue.verifyOperationInProgress(),Me(fl,"RemoteStore received new credentials");const i=Sl(t);t.W_.add(3),await hf(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await mm(t)}async function Nj(r,e){const t=st(r);e?(t.W_.delete(2),await mm(t)):e||(t.W_.add(2),await hf(t),t.j_.set("Unknown"))}function _u(r){return r.J_||(r.J_=function(t,i,n){const s=st(t);return s.M_(),new Ej(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(r.datastore,r.asyncQueue,{xo:Ij.bind(null,r),No:Mj.bind(null,r),Lo:Pj.bind(null,r),p_:Rj.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),A4(r)?S4(r):r.j_.set("Unknown")):(await r.J_.stop(),UT(r))})),r.J_}function oa(r){return r.Y_||(r.Y_=function(t,i,n){const s=st(t);return s.M_(),new Tj(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,n)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:$j.bind(null,r),Lo:Bj.bind(null,r),D_:Vj.bind(null,r),v_:Fj.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await vm(r)):(await r.Y_.stop(),r.K_.length>0&&(Me(fl,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t,i,n,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=n,this.removalCallback=s,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,n,s){const o=Date.now()+i,a=new k4(e,t,o,n,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I4(r,e){if(to("AsyncQueue",`${e}: ${r}`),bu(r))return new Ze(ve.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{static emptySet(e){return new vc(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||We.comparator(t.key,i.key):(t,i)=>We.comparator(t.key,i.key),this.keyedMap=sh(),this.sortedSet=new ui(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const n=t.getNext().key,s=i.getNext().key;if(!n.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new vc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(){this.Z_=new ui(We.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ye():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class zc{constructor(e,t,i,n,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=n,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,n,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new zc(e,t,vc.emptySet(t),o,i,n,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&um(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++)if(t[n].type!==i[n].type||!t[n].doc.isEqual(i[n].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Uj{constructor(){this.queries=X7(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const n=st(t),s=n.queries;n.queries=X7(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(i)})})(this,new Ze(ve.ABORTED,"Firestore shutting down"))}}function X7(){return new Tl(r=>hT(r),um)}async function zj(r,e){const t=st(r);let i=3;const n=e.query;let s=t.queries.get(n);s?!s.na()&&e.ra()&&(i=2):(s=new Hj,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await t.onListen(n,!0);break;case 1:s.ea=await t.onListen(n,!1);break;case 2:await t.onFirstRemoteStoreListen(n)}}catch(o){const a=I4(o,`Initialization of query '${tc(e.query)}' failed`);return void e.onError(a)}t.queries.set(n,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&M4(t)}async function jj(r,e){const t=st(r),i=e.query;let n=3;const s=t.queries.get(i);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?n=e.ra()?0:1:!s.na()&&e.ra()&&(n=2))}switch(n){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Gj(r,e){const t=st(r);let i=!1;for(const n of e){const s=n.query,o=t.queries.get(s);if(o){for(const a of o.ta)a.oa(n)&&(i=!0);o.ea=n}}i&&M4(t)}function Zj(r,e,t){const i=st(r),n=i.queries.get(e);if(n)for(const s of n.ta)s.onError(t);i.queries.delete(e)}function M4(r){r.ia.forEach(e=>{e.next()})}var _5,Q7;(Q7=_5||(_5={}))._a="default",Q7.Cache="cache";class Wj{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const n of e.docChanges)n.type!==3&&i.push(n);e=new zc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class Kj{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=gt(),this.mutatedKeys=gt(),this.ya=dT(e),this.wa=new vc(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new Y7,n=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=n,a=!1;const l=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,c=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((u,h)=>{const d=n.get(u),f=hm(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?g!==m&&(i.track({type:3,doc:f}),v=!0):this.va(d,f)||(i.track({type:2,doc:f}),v=!0,(l&&this.ya(f,l)>0||c&&this.ya(f,c)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),v=!0):d&&!f&&(i.track({type:1,doc:d}),v=!0,(l||c)&&(a=!0)),v&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{wa:o,Da:i,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,n){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,h)=>function(f,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return m(f)-m(g)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(i),n=n!=null&&n;const a=t&&!n?this.Fa():[],l=this.pa.size===0&&this.current&&!n?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new zc(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Y7,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=gt(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new WT(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new ZT(i))}),t}Oa(e){this.fa=e.gs,this.pa=gt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return zc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const P4="SyncEngine";class qj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Yj{constructor(e){this.key=e,this.Ba=!1}}class Xj{constructor(e,t,i,n,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=n,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Tl(a=>hT(a),um),this.qa=new Map,this.Qa=new Set,this.$a=new ui(We.comparator),this.Ka=new Map,this.Ua=new w4,this.Wa={},this.Ga=new Map,this.za=Uc.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Qj(r,e,t=!0){const i=JT(r);let n;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.Na()):n=await KT(i,e,t,!0),n}async function Jj(r,e){const t=JT(r);await KT(t,e,!0,!1)}async function KT(r,e,t,i){const n=await mj(r.localStore,ds(e)),s=n.targetId,o=r.sharedClientState.addLocalQueryTarget(s,t);let a;return i&&(a=await eG(r,e,s,o==="current",n.resumeToken)),r.isPrimaryClient&&t&&NT(r.remoteStore,n),a}async function eG(r,e,t,i,n){r.Ha=(h,d,f)=>async function(m,v,y,_){let w=v.view.ba(y);w.ls&&(w=await j7(m.localStore,v.query,!1).then(({documents:x})=>v.view.ba(x,w)));const S=_&&_.targetChanges.get(v.targetId),k=_&&_.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(w,m.isPrimaryClient,S,k);return e9(m,v.targetId,P.Ma),P.snapshot}(r,h,d,f);const s=await j7(r.localStore,e,!0),o=new Kj(e,s.gs),a=o.ba(s.documents),l=uf.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",n),c=o.applyChanges(a,r.isPrimaryClient,l);e9(r,t,c.Ma);const u=new qj(e,t,o);return r.ka.set(e,u),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),c.snapshot}async function tG(r,e,t){const i=st(r),n=i.ka.get(e),s=i.qa.get(n.targetId);if(s.length>1)return i.qa.set(n.targetId,s.filter(o=>!um(o,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(n.targetId),i.sharedClientState.isActiveQueryTarget(n.targetId)||await y5(i.localStore,n.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(n.targetId),t&&T4(i.remoteStore,n.targetId),w5(i,n.targetId)}).catch(yu)):(w5(i,n.targetId),await y5(i.localStore,n.targetId,!0))}async function iG(r,e){const t=st(r),i=t.ka.get(e),n=t.qa.get(i.targetId);t.isPrimaryClient&&n.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),T4(t.remoteStore,i.targetId))}async function rG(r,e,t){const i=uG(r);try{const n=await function(o,a){const l=st(o),c=Ii.now(),u=a.reduce((f,g)=>f.add(g.key),gt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=io(),m=gt();return l.ds.getEntries(f,u).next(v=>{g=v,g.forEach((y,_)=>{_.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(v=>{h=v;const y=[];for(const _ of a){const w=gz(_,h.get(_.key).overlayedDocument);w!=null&&y.push(new Ll(_.key,w,nT(w.value.mapValue),Ks.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,y,a)}).next(v=>{d=v;const y=v.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,v.batchId,y)})}).then(()=>({batchId:d.batchId,changes:pT(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(n.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new ui(bt)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(i,n.batchId,t),await df(i,n.changes),await vm(i.remoteStore)}catch(n){const s=I4(n,"Failed to persist write");t.reject(s)}}async function qT(r,e){const t=st(r);try{const i=await fj(t.localStore,e);e.targetChanges.forEach((n,s)=>{const o=t.Ka.get(s);o&&(Bt(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?o.Ba=!0:n.modifiedDocuments.size>0?Bt(o.Ba):n.removedDocuments.size>0&&(Bt(o.Ba),o.Ba=!1))}),await df(t,i,e)}catch(i){await yu(i)}}function J7(r,e,t){const i=st(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const n=[];i.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&n.push(a.snapshot)}),function(o,a){const l=st(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.ta)d.sa(a)&&(c=!0)}),c&&M4(l)}(i.eventManager,e),n.length&&i.La.p_(n),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function nG(r,e,t){const i=st(r);i.sharedClientState.updateQueryState(e,"rejected",t);const n=i.Ka.get(e),s=n&&n.key;if(s){let o=new ui(We.comparator);o=o.insert(s,or.newNoDocument(s,et.min()));const a=gt().add(s),l=new pm(et.min(),new Map,new ui(bt),o,a);await qT(i,l),i.$a=i.$a.remove(s),i.Ka.delete(e),R4(i)}else await y5(i.localStore,e,!1).then(()=>w5(i,e,t)).catch(yu)}async function sG(r,e){const t=st(r),i=e.batch.batchId;try{const n=await dj(t.localStore,e);XT(t,i,null),YT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await df(t,n)}catch(n){await yu(n)}}async function oG(r,e,t){const i=st(r);try{const n=await function(o,a){const l=st(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Bt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);XT(i,e,t),YT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await df(i,n)}catch(n){await yu(n)}}function YT(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function XT(r,e,t){const i=st(r);let n=i.Wa[i.currentUser.toKey()];if(n){const s=n.get(e);s&&(t?s.reject(t):s.resolve(),n=n.remove(e)),i.Wa[i.currentUser.toKey()]=n}}function w5(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.qa.get(e))r.ka.delete(i),t&&r.La.Ja(i,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(i=>{r.Ua.containsKey(i)||QT(r,i)})}function QT(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(T4(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),R4(r))}function e9(r,e,t){for(const i of t)i instanceof ZT?(r.Ua.addReference(i.key,e),aG(r,i)):i instanceof WT?(Me(P4,"Document no longer in limbo: "+i.key),r.Ua.removeReference(i.key,e),r.Ua.containsKey(i.key)||QT(r,i.key)):Ye()}function aG(r,e){const t=e.key,i=t.path.canonicalString();r.$a.get(t)||r.Qa.has(i)||(Me(P4,"New document in limbo: "+t),r.Qa.add(i),R4(r))}function R4(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new We(di.fromString(e)),i=r.za.next();r.Ka.set(i,new Yj(t)),r.$a=r.$a.insert(t,i),NT(r.remoteStore,new Ro(ds(m4(t.path)),i,"TargetPurposeLimboResolution",om.ae))}}async function df(r,e,t){const i=st(r),n=[],s=[],o=[];i.ka.isEmpty()||(i.ka.forEach((a,l)=>{o.push(i.Ha(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){n.push(c);const h=x4.Yi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),i.La.p_(n),await async function(l,c){const u=st(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>he.forEach(c,d=>he.forEach(d.Hi,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>he.forEach(d.Ji,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!bu(h))throw h;Me(E4,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.Ts.get(d),g=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(d,m)}}}(i.localStore,s))}async function lG(r,e){const t=st(r);if(!t.currentUser.isEqual(e)){Me(P4,"User change. New user:",e.toKey());const i=await $T(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Ze(ve.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await df(t,i.Rs)}}function cG(r,e){const t=st(r),i=t.Ka.get(e);if(i&&i.Ba)return gt().add(i.key);{let n=gt();const s=t.qa.get(e);if(!s)return n;for(const o of s){const a=t.ka.get(o);n=n.unionWith(a.view.Sa)}return n}}function JT(r){const e=st(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nG.bind(null,e),e.La.p_=Gj.bind(null,e.eventManager),e.La.Ja=Zj.bind(null,e.eventManager),e}function uG(r){const e=st(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oG.bind(null,e),e}class D0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return hj(this.persistence,new lj,e.initialUser,this.serializer)}Xa(e){return new OT(C4.ri,this.serializer)}Za(e){return new yj}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}D0.provider={build:()=>new D0};class hG extends D0{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Bt(this.persistence.referenceDelegate instanceof P0);const i=this.persistence.referenceDelegate.garbageCollector;return new Wz(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new OT(i=>P0.ri(i,t),this.serializer)}}class C5{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>J7(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=lG.bind(null,this.syncEngine),await Nj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Uj}()}createDatastore(e){const t=gm(e.databaseInfo.databaseId),i=function(s){return new xj(s)}(e.databaseInfo);return function(s,o,a,l){return new Sj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,n,s,o,a){return new kj(i,n,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>J7(this.syncEngine,t,0),function(){return W7.D()?new W7:new bj}())}createSyncEngine(e,t){return function(n,s,o,a,l,c,u){const h=new Xj(n,s,o,a,l,c);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(n){const s=st(n);Me(fl,"RemoteStore shutting down."),s.W_.add(5),await hf(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}C5.provider={build:()=>new C5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):to("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class fG{constructor(e,t,i,n,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=n,this.user=ir.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{Me(aa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(Me(aa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=I4(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function k2(r,e){r.asyncQueue.verifyOperationInProgress(),Me(aa,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async n=>{i.isEqual(n)||(await $T(e.localStore,n),i=n)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function t9(r,e){r.asyncQueue.verifyOperationInProgress();const t=await pG(r);Me(aa,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>q7(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,n)=>q7(e.remoteStore,n)),r._onlineComponents=e}async function pG(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Me(aa,"Using user provided OfflineComponentProvider");try{await k2(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(n){return n.name==="FirebaseError"?n.code===ve.FAILED_PRECONDITION||n.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}(t))throw t;Fc("Error using user provided cache. Falling back to memory cache: "+t),await k2(r,new D0)}}else Me(aa,"Using default OfflineComponentProvider"),await k2(r,new hG(void 0));return r._offlineComponents}async function eL(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Me(aa,"Using user provided OnlineComponentProvider"),await t9(r,r._uninitializedComponentsProvider._online)):(Me(aa,"Using default OnlineComponentProvider"),await t9(r,new C5))),r._onlineComponents}function gG(r){return eL(r).then(e=>e.syncEngine)}async function i9(r){const e=await eL(r),t=e.eventManager;return t.onListen=Qj.bind(null,e.syncEngine),t.onUnlisten=tG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Jj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iG.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(r,e,t){if(!t)throw new Ze(ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vG(r,e,t,i){if(e===!0&&i===!0)throw new Ze(ve.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function n9(r){if(!We.isDocumentKey(r))throw new Ze(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function D4(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ye()}function yc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ze(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=D4(r);throw new Ze(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="firestore.googleapis.com",s9=!0;class o9{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iL,this.ssl=s9}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:s9;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gz)throw new Ze(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tL((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,n){return i.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class O4{constructor(e,t,i,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o9({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o9(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wU;switch(i.type){case"firstParty":return new TU(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ze(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=r9.get(t);i&&(Me("ComponentProvider","Removing Datastore"),r9.delete(t),i.terminate())}(this),Promise.resolve()}}function yG(r,e,t,i={}){var n;const s=(r=yc(r,O4))._getSettings(),o=`${e}:${t}`;if(s.host!==iL&&s.host!==o&&Fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=ir.MOCK_USER;else{a=QN(i.mockUserToken,(n=r._app)===null||n===void 0?void 0:n.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Ze(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ir(c)}r._authCredentials=new CU(new WE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ym(this.firestore,e,this._query)}}class _n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Pd extends ym{constructor(e,t,i){super(e,t,m4(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new We(e))}withConverter(e){return new Pd(this.firestore,e,this._path)}}function I2(r,e,...t){if(r=xd(r),arguments.length===1&&(e=KE.newId()),mG("doc","path",e),r instanceof O4){const i=di.fromString(e,...t);return n9(i),new _n(r,null,new We(i))}{if(!(r instanceof _n||r instanceof Pd))throw new Ze(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(di.fromString(e,...t));return n9(i),new _n(r.firestore,r instanceof Pd?r.converter:null,new We(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="AsyncQueue";class l9{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new FT(this,"async_queue_retry"),this.Su=()=>{const i=A2();i&&Me(a9,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=A2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=A2();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ja;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bu(e))throw e;Me(a9,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const n=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw to("INTERNAL UNHANDLED ERROR: ",n),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const n=k4.createAndSchedule(this,e,t,i,s=>this.Fu(s));return this.fu.push(n),n}Du(){this.gu&&Ye()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function c9(r){return function(t,i){if(typeof t!="object"||t===null)return!1;const n=t;for(const s of i)if(s in n&&typeof n[s]=="function")return!0;return!1}(r,["next","error","complete"])}class O0 extends O4{constructor(e,t,i,n){super(e,t,i,n),this.type="firestore",this._queue=new l9,this._persistenceKey=(n==null?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l9(e),this._firestoreClient=void 0,await e}}}function bG(r,e){const t=typeof r=="object"?r:lU(),i=typeof r=="string"?r:T0,n=rU(t,"firestore").getImmediate({identifier:i});if(!n._initialized){const s=YN("firestore");s&&yG(n,...s)}return n}function rL(r){if(r._terminated)throw new Ze(ve.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_G(r),r._firestoreClient}function _G(r){var e,t,i;const n=r._freezeSettings(),s=function(a,l,c,u){return new BU(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,tL(u.experimentalLongPollingOptions),u.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,n);r._componentsProvider||!((t=n.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=n.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),r._firestoreClient=new fG(r._authCredentials,r._appCheckCredentials,r._queue,s,r._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(Yi.fromBase64String(e))}catch(t){throw new Ze(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jc(Yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ze(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ze(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ze(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,n){if(i.length!==n.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==n[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=/^__.*__$/;class CG{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ll(e,this.data,this.fieldMask,t,this.fieldTransforms):new cf(e,this.data,t,this.fieldTransforms)}}function sL(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class B4{constructor(e,t,i,n,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=n,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new B4(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),n=this.ku({path:i,Qu:!1});return n.$u(e),n}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),n=this.ku({path:i,Qu:!1});return n.Bu(),n}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $0(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sL(this.Lu)&&wG.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xG{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||gm(e)}ju(e,t,i,n=!1){return new B4({Lu:e,methodName:t,zu:i,path:Zi.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EG(r){const e=r._freezeSettings(),t=gm(r._databaseId);return new xG(r._databaseId,!!e.ignoreUndefinedProperties,t)}function TG(r,e,t,i,n,s={}){const o=r.ju(s.merge||s.mergeFields?2:0,e,t,n);cL("Data must be an object, but it was:",o,i);const a=aL(i,o);let l,c;if(s.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=LG(e,h,t);if(!o.contains(d))throw new Ze(ve.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);AG(u,d)||u.push(d)}l=new In(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new CG(new pn(a),l,c)}function oL(r,e){if(lL(r=xd(r)))return cL("Unsupported field value:",e,r),aL(r,e);if(r instanceof nL)return function(i,n){if(!sL(n.Lu))throw n.Wu(`${i._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(n);s&&n.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,n){const s=[];let o=0;for(const a of i){let l=oL(a,n.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(r,e)}return function(i,n){if((i=xd(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cz(n.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ii.fromDate(i);return{timestampValue:M0(n.serializer,s)}}if(i instanceof Ii){const s=new Ii(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:M0(n.serializer,s)}}if(i instanceof V4)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof jc)return{bytesValue:ST(n.serializer,i._byteString)};if(i instanceof _n){const s=n.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw n.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_4(i.firestore._databaseId||n.databaseId,i._key.path)}}if(i instanceof F4)return function(o,a){return{mapValue:{fields:{[iT]:{stringValue:rT},[L0]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return v4(a.serializer,c)})}}}}}}(i,n);throw n.Wu(`Unsupported field value: ${D4(i)}`)}(r,e)}function aL(r,e){const t={};return YE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(r,(i,n)=>{const s=oL(n,e.qu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function lL(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ii||r instanceof V4||r instanceof jc||r instanceof _n||r instanceof nL||r instanceof F4)}function cL(r,e,t){if(!lL(t)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(t)){const i=D4(t);throw i==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+i)}}function LG(r,e,t){if((e=xd(e))instanceof $4)return e._internalPath;if(typeof e=="string")return uL(r,e);throw $0("Field path arguments must be of type string or ",r,!1,void 0,t)}const SG=new RegExp("[~\\*/\\[\\]]");function uL(r,e,t){if(e.search(SG)>=0)throw $0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new $4(...e.split("."))._internalPath}catch{throw $0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function $0(r,e,t,i,n){const s=i&&!i.isEmpty(),o=n!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${n}`),l+=")"),new Ze(ve.INVALID_ARGUMENT,a+r+l)}function AG(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t,i,n,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=n,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dL("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kG extends hL{data(){return super.data()}}function dL(r,e){return typeof e=="string"?uL(r,e):e instanceof $4?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IG(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ze(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MG{convertValue(e,t="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return El(e,(n,s)=>{i[n]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,n;const s=(n=(i=(t=e.fields)===null||t===void 0?void 0:t[L0].arrayValue)===null||i===void 0?void 0:i.values)===null||n===void 0?void 0:n.map(o=>mi(o.doubleValue));return new F4(s)}convertGeoPoint(e){return new V4(mi(e.latitude),mi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=lm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const t=ra(e);return new Ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=di.fromString(e);Bt(RT(i));const n=new Ad(i.get(1),i.get(3)),s=new We(i.popFirst(5));return n.isEqual(t)||to(`Document ${s} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fL extends hL{constructor(e,t,i,n,s,o){super(e,t,i,n,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new z1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(dL("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class z1 extends fL{data(e={}){return super.data(e)}}class RG{constructor(e,t,i,n){this._firestore=e,this._userDataWriter=t,this._snapshot=n,this.metadata=new ah(n.hasPendingWrites,n.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new z1(this._firestore,this._userDataWriter,i.key,i,new ah(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ze(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(n,s){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(a=>{const l=new z1(n._firestore,n._userDataWriter,a.doc.key,a.doc,new ah(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new z1(n._firestore,n._userDataWriter,a.doc.key,a.doc,new ah(n._snapshot.mutatedKeys.has(a.doc.key),n._snapshot.fromCache),n.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:DG(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DG(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}class pL extends MG{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function u9(r,e,t){r=yc(r,_n);const i=yc(r.firestore,O0),n=PG(r.converter,e,t);return $G(i,[TG(EG(i),"setDoc",r._key,n,r.converter!==null,t).toMutation(r._key,Ks.none())])}function OG(r,...e){var t,i,n;r=xd(r);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||c9(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(c9(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(n=h.complete)===null||n===void 0?void 0:n.bind(h)}let l,c,u;if(r instanceof _n)c=yc(r.firestore,O0),u=m4(r._key.path),l={next:h=>{e[o]&&e[o](VG(c,r,h))},error:e[o+1],complete:e[o+2]};else{const h=yc(r,ym);c=yc(h.firestore,O0),u=h._query;const d=new pL(c);l={next:f=>{e[o]&&e[o](new RG(c,d,h,f))},error:e[o+1],complete:e[o+2]},IG(r._query)}return function(d,f,g,m){const v=new dG(m),y=new Wj(f,v,g);return d.asyncQueue.enqueueAndForget(async()=>zj(await i9(d),y)),()=>{v.su(),d.asyncQueue.enqueueAndForget(async()=>jj(await i9(d),y))}}(rL(c),u,a,l)}function $G(r,e){return function(i,n){const s=new Ja;return i.asyncQueue.enqueueAndForget(async()=>rG(await gG(i),n,s)),s.promise}(rL(r),e)}function VG(r,e,t){const i=t.docs.get(e._key),n=new pL(r);return new fL(r,n,e._key,i,new ah(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(n){vu=n})(aU),x0(new Ed("firestore",(i,{instanceIdentifier:n,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new O0(new xU(i.getProvider("auth-internal")),new LU(o,i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ze(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(c.options.projectId,u)}(o,n),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),mc(g7,m7,e),mc(g7,m7,"esm2017")})();const FG={apiKey:"AIzaSyClX00jZrYJYUx6-vCAsQnAMOZYJrrv8cw",authDomain:"openbridge-demo.firebaseapp.com",projectId:"openbridge-demo",storageBucket:"openbridge-demo.appspot.com",messagingSenderId:"706186871273",appId:"1:706186871273:web:508b061405fa5339980b78"},BG=FE(FG),M2=bG(BG);function h9(r){document.documentElement.setAttribute("data-obc-theme",r);let e;if(r==="night")e="rgb(10, 10, 0)";else if(r==="dusk")e="rgb(38, 38, 38)";else if(r==="bright")e="rgb(255, 255, 255)";else if(r==="day")e="rgb(252, 252, 252)";else throw new Error(`Unknown palette: ${r}`);document.querySelector('meta[name="theme-color"]').setAttribute("content",e)}const Gc=Xg("bridge",{state:()=>({bridgeId:null,bridgeData:{},unsubscribe:()=>{}}),getters:{palette:r=>r.bridgeData.palette??Wx.day,brightness:r=>r.bridgeData.brightness??50},actions:{setBridgeId(r){this.bridgeId=r,this.unsubscribe(),this.unsubscribe=OG(I2(M2,"bridges",r),e=>{const t=e.data();t?(this.bridgeData=t,h9(t.palette??"day")):this.bridgeData={}})},setPalette(r){h9(r),this.bridgeData.palette=r,this.bridgeId&&u9(I2(M2,"bridges",this.bridgeId),{palette:r},{merge:!0})},setBrightness(r){this.bridgeId&&(this.bridgeData.brightness=r,u9(I2(M2,"bridges",this.bridgeId),{brightness:r},{merge:!0}))}}});function NG(){const r=je(!1),e=je(!1),t=je(!1),i=je(!1),n=je(!1);function s(f){const g=f.value;o(),f.value=!g}function o(){r.value=!1,e.value=!1,t.value=!1,i.value=!1,n.value=!1}const a=Xe(()=>r.value||e.value||t.value||i.value||n.value);function l(){s(r)}function c(){s(e)}function u(){s(t)}function h(){s(i)}function d(){s(n)}return{showNavigation:r,showBrilliance:e,showAppMenu:t,showAlertMenu:i,showMoreMenu:n,showBackdrop:a,hideAll:o,toggleNavigation:l,toggleBrilliance:c,toggleAppMenu:u,toggleAlertMenu:h,toggleMoreMenu:d}}function HG(){const r=je(new Date().toISOString());return Fn(()=>{setInterval(()=>{r.value=new Date().toISOString()},1e3)}),{date:r}}const UG={brightUrl:"https://openbridge-demo.web.app/companylogo-bright.png",dayUrl:"https://openbridge-demo.web.app/companylogo-day.png",duskUrl:"https://openbridge-demo.web.app/companylogo-dusk.png",nightUrl:"https://openbridge-demo.web.app/companylogo-night.png"},zG={brightUrl:"/oicl-bright.svg",dayUrl:"/oicl-day.svg",duskUrl:"/oicl-dusk.svg",nightUrl:"/oicl-night.svg"},d9=[{name:"Demo",appIcon:"propulsion-azimuth-thruster"},{name:"Radar",appIcon:"radar-iec"},{name:"ECDIS",appIcon:"ecdis-proposal"},{name:"Wiper",appIcon:"wipers"}];function P2(r,e){switch(e){case"bright":return r.brightUrl;case"day":return r.dayUrl;case"dusk":return r.duskUrl;case"night":return r.nightUrl;default:console.error("Unknown palette:",e)}}const N4=Xg("config",{state:()=>({config:null,app:d9[0],page:null}),getters:{hasConfig:r=>r.config!==null,pages:r=>r.app!==null&&"pages"in r.app?r.app.pages:[],apps:r=>{var e;return((e=r.config)==null?void 0:e.apps)??d9},appTitle:r=>{var e;return((e=r.app)==null?void 0:e.name)??"App"},pageTitle:r=>{if(r.page)return r.page.name},backgroundColor:r=>{if(r.page&&"background"in r.page)return r.page.background},companyLogo:r=>{const e=Gc();return r.app!==null&&"companyLogo"in r.app?P2(r.app.companyLogo,e.palette):P2(UG,e.palette)},companyLogoSmall:()=>{const r=Gc();return P2(zG,r.palette)},configPage:r=>r.app!==null&&"configurationPage"in r.app?{name:"Settings",url:r.app.configurationPage,icon:"03-settings"}:null,helpPage:r=>r.app!==null&&"helpPage"in r.app?{name:"Help",url:r.app.helpPage,icon:"03-support"}:null},actions:{setConfig(r){this.config=r,this.selectApp(r.apps[0])},selectApp(r){const e=gu();this.app=r,"pages"in r&&(this.page=r.pages[0],e.setAlerts(r))},selectPage(r){this.page=r}}});function H4(r,{slot:e,useCssColor:t}){return r="obi-"+r,e?`<${r} slot="${e}"></${r}>`:`<${r} ${t?"useCssColor":""}></${r}>`}const jG=["checked","icon","label","onClick","innerHTML"],GG=["checked"],ZG=["checked"],WG=["src"],KG=Ne({__name:"ConfigNavigationMenu",emits:["closeOthers"],setup(r,{emit:e}){const t=N4(),i=e,n=s=>{i("closeOthers"),t.selectPage(s)};return(s,o)=>(G(),Re(Ax,null,{footer:J(()=>{var a,l,c,u;return[Z("obc-navigation-item",{label:"Help",checked:((a=N(t).page)==null?void 0:a.name)===((l=N(t).helpPage)==null?void 0:l.name),onClick:o[0]||(o[0]=h=>n(N(t).helpPage))},o[3]||(o[3]=[Z("obi-03-support",{slot:"icon"},null,-1)]),8,GG),Z("obc-navigation-item",{label:"Settings",checked:((c=N(t).page)==null?void 0:c.name)===((u=N(t).configPage)==null?void 0:u.name),onClick:o[1]||(o[1]=h=>n(N(t).configPage))},o[4]||(o[4]=[Z("obi-03-settings",{slot:"icon"},null,-1)]),8,ZG),ue(Zn,{label:"Alert",to:{name:"alert"},onClick:o[2]||(o[2]=h=>i("closeOthers"))},{icon:J(()=>o[5]||(o[5]=[Z("obi-14-alerts",null,null,-1)])),_:1})]}),logo:J(()=>[Z("img",{name:"logo",src:N(t).companyLogo,alt:"logo"},null,8,WG)]),default:J(()=>[(G(!0),we(pt,null,Ws(N(t).pages,a=>(G(),we("obc-navigation-item",{key:a.name+a.url,slot:"main",checked:N(t).page===a,icon:a.icon,label:a.name,onClick:l=>n(a),innerHTML:N(H4)(a.icon,{slot:"icon"})},null,8,jG))),128))]),_:1}))}}),qG=[],YG=[{title:"Routine Maintenance Required",description:"Scheduled maintenance check is due",tag:"#0001",alertType:"caution",startSeconds:0,resolvedSeconds:360,source:"SAFETY"},{title:"High Voltage Warning",description:"High voltage detected in electrical system",tag:"#0003",alertType:"warning",startSeconds:2,resolvedSeconds:360,source:"POWER"},{title:"ECDIS Primary GPS Lost",description:"Loss of position input from primary GPS",tag:"#0004",notAckable:!0,alertType:"alarm",startSeconds:3,resolvedSeconds:20,source:"NAV"},{title:"Generator Overload",description:"Generator 2 load exceeds 95%",tag:"#0005",alertType:"alarm",startSeconds:4,resolvedSeconds:60,source:"POWER"},{title:"Radar Target Collision",description:"CPA/TCPA alarm - Risk of collision detected",tag:"#0006",alertType:"alarm",startSeconds:5,resolvedSeconds:360,source:"NAV"},{title:"Main Engine High Temperature",description:"ME cooling water temperature above limit",tag:"#0007",alertType:"warning",startSeconds:10,resolvedSeconds:360,source:"ENG"},{title:"Low Tank Level",description:"Service tank fuel level below 30%",tag:"#0008",alertType:"alarm",startSeconds:15,resolvedSeconds:360,source:"ENG"},{title:"Fire Detection Fault",description:"Fire detection system fault in zone 3",tag:"#0009",alertType:"alarm",startSeconds:20,resolvedSeconds:360,source:"SAFETY"},{title:"Engine Oil Pressure Low",description:"Engine oil pressure below normal",tag:"#0010",alertType:"caution",startSeconds:25,resolvedSeconds:360,source:"ENG"},{title:"AIS Target Lost",description:"AIS target tracking lost - vessel ID 375129",tag:"#0011",alertType:"alarm",startSeconds:30,resolvedSeconds:360,source:"NAV"},{title:"Steering Gear Alarm",description:"Steering gear power unit failure",tag:"#0012",alertType:"alarm",startSeconds:33,resolvedSeconds:360,source:"STEERING"},{title:"Bridge Door Open",description:"Bridge door left open",tag:"#0013",alertType:"warning",startSeconds:45,resolvedSeconds:360,source:"SAFETY"},{title:"Hydraulic System Fault",description:"Hydraulic system pressure anomaly",tag:"#0014",alertType:"caution",startSeconds:55,resolvedSeconds:360,source:"STEERING"},{title:"NAVTEX Message",description:"New navigational warning received",tag:"#0015",alertType:"alarm",startSeconds:70,resolvedSeconds:360,source:"NAV"},{title:"Weather Alert",description:"Severe weather conditions expected",tag:"#0016",alertType:"warning",startSeconds:75,resolvedSeconds:360,source:"NAV"},{title:"Depth Below Keel",description:"Water depth below safety limit",tag:"#0017",alertType:"alarm",startSeconds:80,resolvedSeconds:360,source:"NAV"},{title:"Generator Overload",description:"Generator 2 load exceeds 95%",tag:"#0018",alertType:"alarm",startSeconds:90,resolvedSeconds:360,source:"POWER"},{title:"Wind Speed High",description:"Wind speed exceeds 45 knots",tag:"#0019",alertType:"alarm",startSeconds:100,resolvedSeconds:360,source:"NAV"},{title:"Battery Low",description:"Battery level below 20%",tag:"#0020",alertType:"warning",startSeconds:110,resolvedSeconds:360,source:"POWER"},{title:"Hull Integrity Check",description:"Hull integrity check required",tag:"#0021",alertType:"caution",startSeconds:120,resolvedSeconds:360,source:"SAFETY"},{title:"Communication Signal Lost",description:"Loss of communication signal",tag:"#0022",alertType:"alarm",startSeconds:130,resolvedSeconds:360,source:"COMM"},{title:"Fuel Leak Detected",description:"Fuel leak detected in engine room",tag:"#0023",alertType:"alarm",startSeconds:140,resolvedSeconds:360,source:"ENG"},{title:"Temperature Sensor Fault",description:"Temperature sensor malfunction",tag:"#0024",alertType:"caution",startSeconds:150,resolvedSeconds:360,source:"ENG"},{title:"Navigation System Update",description:"New update available for navigation system",tag:"#0025",alertType:"warning",startSeconds:160,resolvedSeconds:360,source:"NAV"}];function XG(r=3e4){const e=je(null),t=je(!1),i=()=>{t.value=!1,e.value&&clearTimeout(e.value),e.value=setTimeout(()=>{t.value=!0},r)},n=()=>{window.addEventListener("mousemove",i),window.addEventListener("keypress",i),window.addEventListener("scroll",i),window.addEventListener("click",i),window.addEventListener("touchstart",i)},s=()=>{window.removeEventListener("mousemove",i),window.removeEventListener("keypress",i),window.removeEventListener("scroll",i),window.removeEventListener("click",i),window.removeEventListener("touchstart",i)};return Fn(()=>{n(),i()}),Gg(()=>{s(),e.value&&clearTimeout(e.value)}),{inactive:t}}const QG=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
    box-sizing: border-box;
}

@keyframes spin { 
    100% { 
        transform:rotate(360deg); 
    } 
}

.outer-wrapper {
    width: 0;
    height: 0;
}

.wrapper {
    position: absolute;
}

.wrapper.label-bottom {
        top: calc(var(--automation-components-button-touch-target-size) / -2 - 1px);
        transform: translateX(-50%);
        padding: 0 4px 4px 4px;
    }

.wrapper.label-right {
        left: calc(var(--automation-components-button-touch-target-size) / -2 - 1px);
        transform: translateY(-50%);
        padding-right: 4px;
    }

.wrapper.label-top{
        bottom: calc(var(--automation-components-button-touch-target-size) / -2 - 1px);
        transform: translateX(-50%);
        padding: 4px 4px 0 4px;
    }

.wrapper.label-left {
        right: calc(var(--automation-components-button-touch-target-size) / -2 - 1px);
        transform: translateY(-50%);
        padding-left: 4px;
    }

.wrapper.label-empty {
        padding: 0;
    }

.wrapper {

    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    width: fit-content;

    appearance: none;
    padding: 0;
    margin: 0;
    border-radius: 6px;
}

.wrapper {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.wrapper:focus {
            outline: none;
}

.wrapper.activated {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

@media (hover:hover) {

.wrapper:hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.wrapper:active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.wrapper:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper:disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.wrapper.label-top {
        flex-direction: column-reverse;
    }

.wrapper.label-bottom {
        flex-direction: column;
    }

.wrapper.label-left {
        flex-direction: row-reverse;
    }

.wrapper.progress .icon-holder::before {
        box-sizing: border-box;
        content: '';
        position: absolute;
        top: -1px;
        left: -1px;
        width: calc(100% + 2px);
        height: calc(100% + 2px);
        border: var(--automation-components-button-progress-bar-stroke) solid var(--container-backdrop-color);
        border-radius: 100%;
        z-index: 0;
    }

.wrapper .progress-spinner {
        position: absolute;
        top: -1px;
        left: -1px;
        animation:spin 3s linear infinite;
    }

.badge-top-right, .badge-top-left, .badge-bottom-right, .badge-bottom-left {
    position: absolute;
    z-index: 1;
}

.icon-touch-target {
    position: relative;
    display: flex;
    width: var(--automation-components-button-touch-target-size);
    height: var(--automation-components-button-touch-target-size);
    justify-content: center;
    align-items: center;
}

.icon-holder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;

    border-radius: 100%;
    border-width: 1px;
    border-style: solid;
    width: var(--automation-components-button-visual-target);
    height: var(--automation-components-button-visual-target);

}

.icon-holder .icon-primary {
        width: var(--automation-components-button-icon-size);
        height: var(--automation-components-button-icon-size);
    }

:is(.variant-double .icon-holder) .icon-direction {
            width: var(--automation-components-button-icon-double-primary-size);
            height: var(--automation-components-button-icon-double-primary-size);
        }

:is(.variant-double .icon-holder) .icon-primary {
            width: var(--automation-components-button-icon-double-secondary-size);
            height: var(--automation-components-button-icon-double-secondary-size);
        }

.variant-square .icon-holder {
        border-radius: var(--automation-components-button-border-radius-square);
    }

.variant-flat .icon-holder {
        background-color: transparent !important;
        border-color: transparent !important;
    }

:is(.variant-flat .icon-holder) .icon-primary {
            width: var(--automation-components-button-icon-size-flat);
            height: var(--automation-components-button-icon-size-flat);
        }

.icon-holder .icon-siluette {
        stroke: var(--border-silhouette-color);
        stroke-width: 2;
        position: absolute;
        width: var(--automation-components-button-icon-size-flat);
        height: var(--automation-components-button-icon-size-flat);
        z-index: -1;
    }

.badge-top-right {
    top: 0;
    right: 0;
}

.badge-top-left {
    top: 0;
    left: 0;
}

.badge-bottom-right {
    bottom: 0;
    right: 0;
}

.badge-bottom-left {
    bottom: 0;
    left: 0;
}

.state-closed .icon-holder {
    border-color: var(--automation-pipe-tertiary-inverted-color);
    background: var(--automation-pipe-primary-inverted-color);
}

.static :is(.state-closed .icon-holder) {
        border-color: var(--automation-pipe-secondary-color);
        background: var(--automation-pipe-primary-inverted-color);
    }

.state-open .icon-holder {
    border-color: var(--automation-pipe-tertiary-color);
    background: var(--automation-pipe-primary-color);
}

.label {
    padding-right: 4px;
    text-align: left;
    color: var(--element-neutral-color);
}

.label-style-active .label {
        color: var(--element-active-color);
    }

.label .direction {
        display: flex;
        align-items: center;
        justify-content: flex-start;

        font-family: Noto Sans;

        font-size: 16px;

        font-weight: 620;

        line-height: 24px;

        font-variation-settings: 'wdth' 100, 'CTGR' 0;

        
    }

.label-size-small :is(.label .direction) {
            font-feature-settings: 'liga' off, 'clig' off;
            font-family: var(--font-family-main);
            font-size: var(--global-typography-ui-label-active-font-size);
            font-style: normal;
            font-weight: var(--global-typography-ui-label-active-font-weight);
            line-height: var(--global-typography-ui-label-active-line-height);
        }

.label-size-enhanced :is(.label .direction) {
            font-family: Noto Sans;
            font-size: 36px;
            font-weight: 570;
            line-height: 48px;
            text-align: center;
            font-variation-settings: 'wdth' 100, 'CTGR' 0;
        }

:is(.label .direction) .zeros {
            color: var(--border-outline-color);
        }

.label-style-enhanced :is(.label .direction) .value {
            color: var(--instrument-enhanced-secondary-color);
        }

:is(.label .direction) .direction-icon {
            display: block;
            width: 16px;
            height: 16px;
            margin-right: 4px;
        }

.label-size-small :is(:is(.label .direction) .direction-icon) {
                width: 12px;
                height: 12px;
            }

.label-size-enhanced :is(:is(.label .direction) .direction-icon) {
                width: 24px;
                height: 24px;
            }

:is(.label .direction) .unit {
            font-feature-settings: 'liga' off, 'clig' off;
            font-family: var(--font-family-main);
            font-size: var(--global-typography-ui-label-font-size);
            font-style: normal;
            font-weight: var(--global-typography-ui-label-font-weight);
            line-height: var(--global-typography-ui-label-line-height);
            margin-left: 1px;
        }

.label-size-regular :is(:is(.label .direction) .unit) {
                position: relative;
                top: 2px;
            }

.label-size-enhanced :is(:is(.label .direction) .unit) {
                /* UI/Body */
                font-feature-settings: 'liga' off, 'clig' off;
                font-family: var(--font-family-main);
                font-size: var(--global-typography-ui-body-font-size);
                font-style: normal;
                font-weight: var(--global-typography-ui-body-font-weight);
                line-height: var(--global-typography-ui-body-line-height);
                text-decoration: none;
                position: relative;
                top: 8px;
            }

.label .tag {
        display: flex;
        align-items: center;
        justify-content: flex-start;

        font-feature-settings: 'liga' off, 'clig' off;

        font-family: var(--font-family-main);

        font-size: var(--global-typography-ui-label-font-size);

        font-style: normal;

        font-weight: var(--global-typography-ui-label-font-weight);

        line-height: var(--global-typography-ui-label-line-height);

        
    }

.label-size-enhanced :is(.label .tag) {
            /* UI/Body */
            font-feature-settings: 'liga' off, 'clig' off;
            font-family: var(--font-family-main);
            font-size: var(--global-typography-ui-body-font-size);
            font-style: normal;
            font-weight: var(--global-typography-ui-body-font-weight);
            line-height: var(--global-typography-ui-body-line-height);
            text-decoration: none;
        }

:is(.label .tag) .hash {
            text-align: center;
            width: 16px;
            margin-right: 4px;
            font-feature-settings: 'liga' off, 'clig' off;
            font-family: var(--font-family-main);
            font-size: var(--global-typography-ui-label-active-font-size);
            font-style: normal;
            font-weight: var(--global-typography-ui-label-active-font-weight);
            line-height: var(--global-typography-ui-label-active-line-height);
        }

.label-size-small :is(:is(.label .tag) .hash) {
                width: 12px;
            }

.label-size-enhanced :is(:is(.label .tag) .hash) {
                /* UI/Body-Active */
                font-feature-settings: 'liga' off, 'clig' off;
                font-family: var(--font-family-main);
                font-size: var(--global-typography-ui-body-active-font-size);
                font-style: normal;
                font-weight: var(--font-weight-bold);
                line-height: var(--global-typography-ui-body-active-line-height);
                width: 24px;
            }

.label .state {
        /* UI/Body */
        font-feature-settings: 'liga' off, 'clig' off;
        font-family: var(--font-family-main);
        font-size: var(--global-typography-ui-body-font-size);
        font-style: normal;
        font-weight: var(--global-typography-ui-body-font-weight);
        line-height: var(--global-typography-ui-body-line-height);
        text-decoration: none;
    }

.bold:is(.label .state) {
            font-family: Noto Sans;
            font-size: 16px;
            font-weight: 620;
            line-height: 24px;
            font-variation-settings: 'wdth' 100, 'CTGR' 0}

.label-top .label,.label-bottom .label {
        padding-right: 0;
    }

.alert-frame {
    position: absolute;
    top: -1px;
    right: -1px;
    left: -1px;
    bottom: -1px;
}`;var JG=Object.defineProperty,eZ=Object.getOwnPropertyDescriptor,gL=(r,e,t,i)=>{for(var n=i>1?void 0:i?eZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&JG(e,t,n),n};let V0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.74904 3.56754C5.90319 3.47808 6.09332 3.47745 6.24807 3.56588L20.2481 11.5659C20.4039 11.6549 20.5 11.8206 20.5 12C20.5 12.1794 20.4039 12.3451 20.2481 12.4341L6.24807 20.4341C6.09332 20.5226 5.90319 20.5219 5.74904 20.4325C5.59488 20.343 5.5 20.1782 5.5 20V4C5.5 3.82176 5.59488 3.65701 5.74904 3.56754ZM6.5 4.86159V19.1384L18.9922 12L6.5 4.86159Z" fill="currentColor"/>
<path d="M6.5 4.86157V19.1384L18.9922 12L6.5 4.86157Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.74904 3.56754C5.90319 3.47808 6.09332 3.47745 6.24807 3.56588L20.2481 11.5659C20.4039 11.6549 20.5 11.8206 20.5 12C20.5 12.1794 20.4039 12.3451 20.2481 12.4341L6.24807 20.4341C6.09332 20.5226 5.90319 20.5219 5.74904 20.4325C5.59488 20.343 5.5 20.1782 5.5 20V4C5.5 3.82176 5.59488 3.65701 5.74904 3.56754ZM6.5 4.86159V19.1384L18.9922 12L6.5 4.86159Z" style="fill: var(--automation-device-tertiary-color)"/>
<path d="M6.5 4.86157V19.1384L18.9922 12L6.5 4.86157Z" style="fill: var(--automation-device-primary-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};V0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;gL([M({type:Boolean})],V0.prototype,"useCssColor",2);V0=gL([ie("obi-forward")],V0);var tZ=Object.defineProperty,iZ=Object.getOwnPropertyDescriptor,mL=(r,e,t,i)=>{for(var n=i>1?void 0:i?iZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&tZ(e,t,n),n};let F0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.28673 4.59039C3.134 4.48347 2.93446 4.47041 2.76909 4.55651C2.60373 4.64261 2.5 4.81356 2.5 5V19C2.5 19.1864 2.60373 19.3574 2.76909 19.4435C2.93446 19.5296 3.134 19.5165 3.28673 19.4096L12.5 12.9603V19C12.5 19.1864 12.6037 19.3574 12.7691 19.4435C12.9345 19.5296 13.134 19.5165 13.2867 19.4096L23.2867 12.4096C23.4204 12.3161 23.5 12.1632 23.5 12C23.5 11.8368 23.4204 11.6839 23.2867 11.5904L13.2867 4.59039C13.134 4.48347 12.9345 4.47041 12.7691 4.55651C12.6037 4.64261 12.5 4.81356 12.5 5V11.0397L3.28673 4.59039ZM13.5 18.0397L22.1281 12L13.5 5.96033V18.0397ZM12.1281 12L3.5 18.0397V5.96033L12.1281 12Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.5 18.0397L22.1281 12L13.5 5.96033V18.0397ZM12.1281 12L3.5 18.0397V5.96033L12.1281 12Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.28673 4.59039C3.134 4.48347 2.93446 4.47041 2.76909 4.55651C2.60373 4.64261 2.5 4.81356 2.5 5V19C2.5 19.1864 2.60373 19.3574 2.76909 19.4435C2.93446 19.5296 3.134 19.5165 3.28673 19.4096L12.5 12.9603V19C12.5 19.1864 12.6037 19.3574 12.7691 19.4435C12.9345 19.5296 13.134 19.5165 13.2867 19.4096L23.2867 12.4096C23.4204 12.3161 23.5 12.1632 23.5 12C23.5 11.8368 23.4204 11.6839 23.2867 11.5904L13.2867 4.59039C13.134 4.48347 12.9345 4.47041 12.7691 4.55651C12.6037 4.64261 12.5 4.81356 12.5 5V11.0397L3.28673 4.59039ZM13.5 18.0397L22.1281 12L13.5 5.96033V18.0397ZM12.1281 12L3.5 18.0397V5.96033L12.1281 12Z" style="fill: var(--automation-device-tertiary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.5 18.0397L22.1281 12L13.5 5.96033V18.0397ZM12.1281 12L3.5 18.0397V5.96033L12.1281 12Z" style="fill: var(--automation-device-primary-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};F0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;mL([M({type:Boolean})],F0.prototype,"useCssColor",2);F0=mL([ie("obi-forward-fast")],F0);var rZ=Object.defineProperty,nZ=Object.getOwnPropertyDescriptor,vL=(r,e,t,i)=>{for(var n=i>1?void 0:i?nZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&rZ(e,t,n),n};let B0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.74904 3.56754C5.90319 3.47808 6.09332 3.47745 6.24807 3.56588L20.2481 11.5659C20.4039 11.6549 20.5 11.8206 20.5 12C20.5 12.1794 20.4039 12.3451 20.2481 12.4341L6.24807 20.4341C6.09332 20.5226 5.90319 20.5219 5.74904 20.4325C5.59488 20.343 5.5 20.1782 5.5 20V4C5.5 3.82176 5.59488 3.65701 5.74904 3.56754ZM6.5 4.86159V19.1384L18.9922 12L6.5 4.86159Z" fill="currentColor"/>
<path d="M6.5 4.86157V19.1384L18.9922 12L6.5 4.86157Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.74904 3.56754C5.90319 3.47808 6.09332 3.47745 6.24807 3.56588L20.2481 11.5659C20.4039 11.6549 20.5 11.8206 20.5 12C20.5 12.1794 20.4039 12.3451 20.2481 12.4341L6.24807 20.4341C6.09332 20.5226 5.90319 20.5219 5.74904 20.4325C5.59488 20.343 5.5 20.1782 5.5 20V4C5.5 3.82176 5.59488 3.65701 5.74904 3.56754ZM6.5 4.86159V19.1384L18.9922 12L6.5 4.86159Z" style="fill: var(--automation-device-secondary-color)"/>
<path d="M6.5 4.86157V19.1384L18.9922 12L6.5 4.86157Z" style="fill: var(--automation-device-tertiary-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};B0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;vL([M({type:Boolean})],B0.prototype,"useCssColor",2);B0=vL([ie("obi-forward-stopped")],B0);var sZ=Object.defineProperty,oZ=Object.getOwnPropertyDescriptor,yL=(r,e,t,i)=>{for(var n=i>1?void 0:i?oZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&sZ(e,t,n),n};let N0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.251 20.4325C18.0968 20.5219 17.9067 20.5226 17.7519 20.4341L3.75193 12.4341C3.59614 12.3451 3.5 12.1794 3.5 12C3.5 11.8206 3.59614 11.6549 3.75193 11.5659L17.7519 3.56588C17.9067 3.47745 18.0968 3.47808 18.251 3.56754C18.4051 3.657 18.5 3.82176 18.5 4L18.5 20C18.5 20.1782 18.4051 20.343 18.251 20.4325ZM17.5 19.1384L17.5 4.86159L5.00778 12L17.5 19.1384Z" fill="currentColor"/>
<path d="M17.5 19.1386L17.5 4.86182L5.00781 12.0002L17.5 19.1386Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.251 20.4325C18.0968 20.5219 17.9067 20.5226 17.7519 20.4341L3.75193 12.4341C3.59614 12.3451 3.5 12.1794 3.5 12C3.5 11.8206 3.59614 11.6549 3.75193 11.5659L17.7519 3.56588C17.9067 3.47745 18.0968 3.47808 18.251 3.56754C18.4051 3.657 18.5 3.82176 18.5 4L18.5 20C18.5 20.1782 18.4051 20.343 18.251 20.4325ZM17.5 19.1384L17.5 4.86159L5.00778 12L17.5 19.1384Z" style="fill: var(--automation-device-tertiary-color)"/>
<path d="M17.5 19.1386L17.5 4.86182L5.00781 12.0002L17.5 19.1386Z" style="fill: var(--automation-device-primary-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};N0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;yL([M({type:Boolean})],N0.prototype,"useCssColor",2);N0=yL([ie("obi-backward")],N0);var aZ=Object.defineProperty,lZ=Object.getOwnPropertyDescriptor,bL=(r,e,t,i)=>{for(var n=i>1?void 0:i?lZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&aZ(e,t,n),n};let H0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.7133 19.4096C20.866 19.5165 21.0655 19.5296 21.2309 19.4435C21.3963 19.3574 21.5 19.1864 21.5 19V5C21.5 4.81356 21.3963 4.64261 21.2309 4.55651C21.0655 4.47041 20.866 4.48347 20.7133 4.59039L11.5 11.0397L11.5 5C11.5 4.81356 11.3963 4.64261 11.2309 4.55651C11.0655 4.47041 10.866 4.48347 10.7133 4.59039L0.713268 11.5904C0.579605 11.684 0.5 11.8368 0.5 12C0.5 12.1632 0.579605 12.3161 0.713268 12.4096L10.7133 19.4096C10.866 19.5165 11.0655 19.5296 11.2309 19.4435C11.3963 19.3574 11.5 19.1864 11.5 19L11.5 12.9603L20.7133 19.4096ZM10.5 5.96033L1.8719 12L10.5 18.0397L10.5 5.96033ZM11.8719 12L20.5 5.96033V18.0397L11.8719 12Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.4999 5.96069L1.87183 12.0004L10.4999 18.04L10.4999 5.96069ZM11.8718 12.0004L20.4999 5.96069V18.04L11.8718 12.0004Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.7133 19.4096C20.866 19.5165 21.0655 19.5296 21.2309 19.4435C21.3963 19.3574 21.5 19.1864 21.5 19V5C21.5 4.81356 21.3963 4.64261 21.2309 4.55651C21.0655 4.47041 20.866 4.48347 20.7133 4.59039L11.5 11.0397L11.5 5C11.5 4.81356 11.3963 4.64261 11.2309 4.55651C11.0655 4.47041 10.866 4.48347 10.7133 4.59039L0.713268 11.5904C0.579605 11.684 0.5 11.8368 0.5 12C0.5 12.1632 0.579605 12.3161 0.713268 12.4096L10.7133 19.4096C10.866 19.5165 11.0655 19.5296 11.2309 19.4435C11.3963 19.3574 11.5 19.1864 11.5 19L11.5 12.9603L20.7133 19.4096ZM10.5 5.96033L1.8719 12L10.5 18.0397L10.5 5.96033ZM11.8719 12L20.5 5.96033V18.0397L11.8719 12Z" style="fill: var(--automation-device-tertiary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.4999 5.96069L1.87183 12.0004L10.4999 18.04L10.4999 5.96069ZM11.8718 12.0004L20.4999 5.96069V18.04L11.8718 12.0004Z" style="fill: var(--automation-device-primary-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};H0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;bL([M({type:Boolean})],H0.prototype,"useCssColor",2);H0=bL([ie("obi-backward-fast")],H0);var cZ=Object.defineProperty,uZ=Object.getOwnPropertyDescriptor,_L=(r,e,t,i)=>{for(var n=i>1?void 0:i?uZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&cZ(e,t,n),n};let U0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.251 20.4325C18.0968 20.5219 17.9067 20.5226 17.7519 20.4341L3.75193 12.4341C3.59614 12.3451 3.5 12.1794 3.5 12C3.5 11.8206 3.59614 11.6549 3.75193 11.5659L17.7519 3.56588C17.9067 3.47745 18.0968 3.47808 18.251 3.56754C18.4051 3.657 18.5 3.82176 18.5 4L18.5 20C18.5 20.1782 18.4051 20.343 18.251 20.4325ZM17.5 19.1384L17.5 4.86159L5.00778 12L17.5 19.1384Z" fill="currentColor"/>
<path d="M17.5 19.1386L17.5 4.86182L5.00781 12.0002L17.5 19.1386Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.251 20.4325C18.0968 20.5219 17.9067 20.5226 17.7519 20.4341L3.75193 12.4341C3.59614 12.3451 3.5 12.1794 3.5 12C3.5 11.8206 3.59614 11.6549 3.75193 11.5659L17.7519 3.56588C17.9067 3.47745 18.0968 3.47808 18.251 3.56754C18.4051 3.657 18.5 3.82176 18.5 4L18.5 20C18.5 20.1782 18.4051 20.343 18.251 20.4325ZM17.5 19.1384L17.5 4.86159L5.00778 12L17.5 19.1384Z" style="fill: var(--automation-device-secondary-color)"/>
<path d="M17.5 19.1386L17.5 4.86182L5.00781 12.0002L17.5 19.1386Z" style="fill: var(--automation-device-tertiary-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};U0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;_L([M({type:Boolean})],U0.prototype,"useCssColor",2);U0=_L([ie("obi-backward-stopped")],U0);var hZ=Object.defineProperty,dZ=Object.getOwnPropertyDescriptor,wL=(r,e,t,i)=>{for(var n=i>1?void 0:i?dZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&hZ(e,t,n),n};let z0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10 19H6V5H10V19Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18 19H14V5H18V19Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10 19H6V5H10V19Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18 19H14V5H18V19Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};z0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;wL([M({type:Boolean})],z0.prototype,"useCssColor",2);z0=wL([ie("obi-standby")],z0);var fZ=Object.defineProperty,pZ=Object.getOwnPropertyDescriptor,CL=(r,e,t,i)=>{for(var n=i>1?void 0:i?pZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&fZ(e,t,n),n};let j0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13 20L13 7.83L18.59 13.42L20 12L12 4L4 12L5.41 13.41L11 7.83L11 20L13 20Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13 20L13 7.83L18.59 13.42L20 12L12 4L4 12L5.41 13.41L11 7.83L11 20L13 20Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};j0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;CL([M({type:Boolean})],j0.prototype,"useCssColor",2);j0=CL([ie("obi-arrow-up-google")],j0);var gZ=Object.defineProperty,mZ=Object.getOwnPropertyDescriptor,xL=(r,e,t,i)=>{for(var n=i>1?void 0:i?mZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&gZ(e,t,n),n};let G0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11 4L11 16.17L5.41 10.58L4 12L12 20L20 12L18.59 10.59L13 16.17L13 4L11 4Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11 4L11 16.17L5.41 10.58L4 12L12 20L20 12L18.59 10.59L13 16.17L13 4L11 4Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};G0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;xL([M({type:Boolean})],G0.prototype,"useCssColor",2);G0=xL([ie("obi-arrow-down-google")],G0);const vZ=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

:host {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}

.wrapper {
    --bg-color: var(--alert-alarm-color);
    --thickness: var(--global-size-spacing-border-weight-alertframe);
    color: var(--on-alarm-active-color);
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: calc( var(--ui-components-button-border-radius) + var(--thickness) / 2 );
    outline: var(--thickness) solid var(--bg-color);
    outline-offset: calc(-1 * var(--thickness));
}

.wrapper.thickness-small {
        --thickness: 2px;
    }

.wrapper.warning {
        --bg-color: var(--alert-warning-color);
        color: var(--on-warning-active-color);
    }

.wrapper.caution {
        --bg-color: var(--alert-caution-color);
        color: var(--on-caution-active-color);
    }

.flap {
    position: absolute;
    background-color: var(--bg-color);
    border-radius: 0px var(--app-components-alert-frame-small-flip-border-radius) var(--app-components-alert-frame-small-flip-border-radius) 0px;
    padding: var(--app-components-badge-padding);


    display: flex;
    gap: 2px;
}

.flap.small {
        top: 0;
        right: calc(-1 * var(--app-components-alert-frame-icon-size) + var(--thickness) / 2 - var(--app-components-badge-padding) * 2);
    }

.flap .mask {
        position: absolute;
        width: var(--ui-components-button-border-radius);
        height: var(--ui-components-button-border-radius);
        background-color: var(--bg-color);
    }

.up:is(.flap .mask) {
            width: calc(var(--ui-components-button-border-radius) + 1px);
            top: 0;
            left: calc(-1* var(--ui-components-button-border-radius));
            clip-path: polygon(0 0, 100% 0, 100% 100%, calc(100% - var(--thickness)) 50%, 50% var(--thickness) );
        }

.down:is(.flap .mask) {
            width: calc(var(--ui-components-button-border-radius) + 1px);
            bottom: 0;
            left: calc(-1* var(--ui-components-button-border-radius));
            clip-path: polygon(0 100%, 100% 100%, 100% 0, 50% calc(100% - var(--thickness)), calc(100% - var(--thickness)) 50%);
        }

.left:is(.flap .mask) {
            height: calc(var(--ui-components-button-border-radius) + 1px);
            top: calc(-1* var(--ui-components-button-border-radius));
            left: 0;
            clip-path: polygon(0 0, 0 100%, 100% 100%, 50% calc(100% - var(--thickness)), var(--thickness) 50%);
        }

.right:is(.flap .mask) {
            height: calc(var(--ui-components-button-border-radius) + 1px);
            top: calc(-1* var(--ui-components-button-border-radius));
            right: 0;
            clip-path: polygon(100% 0, 100% 100%, 0 100%, 50% calc(100% - var(--thickness)), calc(100% - var(--thickness)) 50%);
        }

.flap.large {
        flex-direction: column;
        top: 0;
        bottom: 0;
        right: calc(-1 * var(--app-components-alert-frame-icon-size) + var(--thickness) / 2 - var(--app-components-badge-padding) * 2);
        border-radius: 0px var(--app-components-alert-frame-large-flip-border-radius) var(--app-components-alert-frame-large-flip-border-radius) 0px;
    }

.flap.bottom {
        left: 0;
        right: 0;
        padding: var(--app-components-alert-frame-padding-vertical) var(--app-components-alert-frame-padding-horizontal);
        bottom: calc(var(--thickness) / 2 - var(--global-typography-ui-label-line-height) - var(--app-components-alert-frame-padding-vertical) * 2);
        border-radius: 0px 0px var(--button-border-radius-bottom-right) var(--button-border-radius-bottom-right);
        align-items: center;

        font-feature-settings: 'liga' off, 'clig' off;

        font-family: var(--font-family-main);

        font-size: var(--global-typography-ui-label-font-size);

        font-style: normal;

        font-weight: var(--global-typography-ui-label-font-weight);

        line-height: var(--global-typography-ui-label-line-height);
        font-weight: var(--font-weight-regular);
    }

.flap.bottom .spacer {
            flex: 1;
        }

.flap .label {
        flex-shrink: 1000;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
    }

::slotted([slot="label"]) {
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
}

.icon {
    width: var(--app-components-alert-frame-icon-size);
    height: var(--app-components-alert-frame-icon-size);
    display: block;
    flex-shrink: 0;
}

`;var yZ=Object.defineProperty,bZ=Object.getOwnPropertyDescriptor,EL=(r,e,t,i)=>{for(var n=i>1?void 0:i?bZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&yZ(e,t,n),n};let Z0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M10.5977 3.45245L2.11783 18.6539C1.68126 19.4365 1.46298 19.8278 1.5 20.1481C1.5323 20.4276 1.68084 20.6806 1.90919 20.8449C2.17092 21.0333 2.61899 21.0333 3.51513 21.0333H20.4697C21.3656 21.0333 21.8136 21.0333 22.0753 20.845C22.3036 20.6806 22.4522 20.4277 22.4845 20.1483C22.5216 19.828 22.3034 19.4367 21.8672 18.6542L13.3925 3.45281C12.9361 2.63423 12.7079 2.22495 12.4074 2.08895C12.1454 1.97039 11.8451 1.97035 11.5831 2.08884C11.2825 2.22476 11.0542 2.63399 10.5977 3.45245Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.5977 3.45245L2.11783 18.6539C1.68126 19.4365 1.46298 19.8278 1.5 20.1481C1.5323 20.4276 1.68084 20.6806 1.90919 20.8449C2.17092 21.0333 2.61899 21.0333 3.51513 21.0333H20.4697C21.3656 21.0333 21.8136 21.0333 22.0753 20.845C22.3036 20.6806 22.4522 20.4277 22.4845 20.1483C22.5216 19.828 22.3034 19.4367 21.8672 18.6542L13.3925 3.45281C12.9361 2.63423 12.7079 2.22495 12.4074 2.08895C12.1454 1.97039 11.8451 1.97035 11.5831 2.08884C11.2825 2.22476 11.0542 2.63399 10.5977 3.45245Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};Z0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;EL([M({type:Boolean})],Z0.prototype,"useCssColor",2);Z0=EL([ie("obi-alarm-badge")],Z0);var _Z=Object.defineProperty,wZ=Object.getOwnPropertyDescriptor,TL=(r,e,t,i)=>{for(var n=i>1?void 0:i?wZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&_Z(e,t,n),n};let W0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="12" cy="12" r="10" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};W0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;TL([M({type:Boolean})],W0.prototype,"useCssColor",2);W0=TL([ie("obi-warning-badge")],W0);var CZ=Object.defineProperty,xZ=Object.getOwnPropertyDescriptor,LL=(r,e,t,i)=>{for(var n=i>1?void 0:i?xZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&CZ(e,t,n),n};let K0=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M3 4.6C3 4.03995 3 3.75992 3.10899 3.54601C3.20487 3.35785 3.35785 3.20487 3.54601 3.10899C3.75992 3 4.03995 3 4.6 3H19.4C19.9601 3 20.2401 3 20.454 3.10899C20.6422 3.20487 20.7951 3.35785 20.891 3.54601C21 3.75992 21 4.03995 21 4.6V19.4C21 19.9601 21 20.2401 20.891 20.454C20.7951 20.6422 20.6422 20.7951 20.454 20.891C20.2401 21 19.9601 21 19.4 21H4.6C4.03995 21 3.75992 21 3.54601 20.891C3.35785 20.7951 3.20487 20.6422 3.10899 20.454C3 20.2401 3 19.9601 3 19.4V4.6Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 4.6C3 4.03995 3 3.75992 3.10899 3.54601C3.20487 3.35785 3.35785 3.20487 3.54601 3.10899C3.75992 3 4.03995 3 4.6 3H19.4C19.9601 3 20.2401 3 20.454 3.10899C20.6422 3.20487 20.7951 3.35785 20.891 3.54601C21 3.75992 21 4.03995 21 4.6V19.4C21 19.9601 21 20.2401 20.891 20.454C20.7951 20.6422 20.6422 20.7951 20.454 20.891C20.2401 21 19.9601 21 19.4 21H4.6C4.03995 21 3.75992 21 3.54601 20.891C3.35785 20.7951 3.20487 20.6422 3.10899 20.454C3 20.2401 3 19.9601 3 19.4V4.6Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};K0.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;LL([M({type:Boolean})],K0.prototype,"useCssColor",2);K0=LL([ie("obi-caution-badge")],K0);var EZ=Object.defineProperty,TZ=Object.getOwnPropertyDescriptor,bm=(r,e,t,i)=>{for(var n=i>1?void 0:i?TZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&EZ(e,t,n),n},SL=(r=>(r.Regular="regular",r.SmallSideFlip="small-side-flip",r.LargeSideFlip="large-side-flip",r.BottomFlip="bottom-flip",r))(SL||{}),AL=(r=>(r.Small="small",r.Large="large",r))(AL||{}),kL=(r=>(r.Alarm="alarm",r.Warning="warning",r.Caution="caution",r))(kL||{});let Zc=class extends ee{constructor(){super(...arguments),this.type="small-side-flip",this.thickness="small",this.status="alarm"}render(){return F`
      <div
        class=${ti({wrapper:!0,["thickness-"+this.thickness]:!0,[this.type]:!0,[this.status]:!0})}
      >
        <slot></slot>
        ${this.flap()}
      </div>
    `}flap(){if(this.type==="regular")return He;let r=F`<obi-alarm-badge class="icon badge"></obi-alarm-badge>`;return this.status==="warning"?r=F`<obi-warning-badge class="icon badge"></obi-warning-badge>`:this.status==="caution"&&(r=F`<obi-caution-badge class="icon badge"></obi-caution-badge>`),this.type==="small-side-flip"?F`<div class="flap small">
        ${r}
        <div class="mask up"></div>
      </div>`:this.type==="large-side-flip"?F`<div class="flap large">
        ${r}
        <div class="icon"><slot name="icon"></slot></div>
        <div class="mask up"></div>
        <div class="mask down"></div>
      </div>`:this.type==="bottom-flip"?F`<div class="flap bottom">
        ${r}
        <div class="icon"><slot name="icon"></slot></div>
        <div class="label"><slot name="label"></slot></div>
        <div class="spacer"></div>
        <div class="timer"><slot name="timer"></slot></div>
        <div class="mask right"></div>
        <div class="mask left"></div>
      </div>`:(console.error("Unknown type of alert frame:",this.type),He)}};Zc.styles=ot(vZ);bm([M({type:String})],Zc.prototype,"type",2);bm([M({type:String})],Zc.prototype,"thickness",2);bm([M({type:String})],Zc.prototype,"status",2);Zc=bm([ie("obc-alert-frame")],Zc);var LZ=Object.defineProperty,SZ=Object.getOwnPropertyDescriptor,Hr=(r,e,t,i)=>{for(var n=i>1?void 0:i?SZ(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&LZ(e,t,n),n},U4=(r=>(r.regular="regular",r.double="double",r.square="square",r.flat="flat",r))(U4||{}),x5=(r=>(r.closed="closed",r.open="open",r))(x5||{}),E5=(r=>(r.forward="forward",r.forwardFast="forward-fast",r.forwardStopped="forward-stopped",r.backward="backward",r.backwardFast="backward-fast",r.backwardStopped="backward-stopped",r.standby="standby",r))(E5||{});function AZ(r){if(r.type==="state")return F`<div class="state ${r.bold?"bold":""}">
      ${r.text}
    </div>`;if(r.type==="tag")return F`<div class="tag">
      ${r.showHash?F`<div class="hash">#</div>`:null} ${r.text}
    </div>`;{const e=r.value.toFixed(0),t=e.length<r.nDigits?"0".repeat(r.nDigits-e.length):"";let i;if(r.direction==="up")i=F`<obi-arrow-up-google
        class="direction-icon"
      ></obi-arrow-up-google>`;else if(r.direction==="down")i=F`<obi-arrow-down-google
        class="direction-icon"
      ></obi-arrow-down-google>`;else if(r.direction==="left")i=F`<obi-arrow-left-google
        class="direction-icon"
      ></obi-arrow-left-google>`;else if(r.direction==="right")i=F`<obi-arrow-right-google
        class="direction-icon"
      ></obi-arrow-right-google>`;else throw new Error("Invalid direction");return F` <div class="direction">
      ${i}
      <span class="zeros">${t}</span>
      <span class="value">${e}</span>
      <span class="unit">${r.unit==="percent"?"%":r.unit}</span>
    </div>`}}let fr=class extends ee{constructor(){super(...arguments),this.variant="regular",this.state="open",this.static=!1,this.labels=[],this.labelPosition="bottom",this.labelSize="regular",this.labelStyle="regular",this.alert=!1,this.alertFrameType=SL.SmallSideFlip,this.alertFrameThickness=AL.Small,this.alertFrameStatus=kL.Alarm,this.progress=!1,this.direction="forward"}render(){const r=this.labels.map(AZ),e=this.getProgressSpinner(),t=this.getDirectionIcon();return F`
      <div class="outer-wrapper">
        <button
          class=${ti({wrapper:!0,["variant-"+this.variant]:!0,["state-"+this.state]:!0,"label-empty":r.length===0,["label-"+this.labelPosition]:!0,["label-size-"+this.labelSize]:!0,["label-style-"+this.labelStyle]:!0,alert:this.alert,progress:this.progress,static:this.static})}
        >
          <div class="icon-touch-target">
            <div class="icon-holder">
              ${t}
              <div class="icon-primary">
                <slot name="icon"></slot>
              </div>
              ${this.variant==="flat"?F` <div class="icon-siluette">
                    <slot name="icon-siluette"></slot>
                  </div>`:He}
              ${e}
            </div>
            <div class="badge-top-right">
              <slot name="badge-top-right"></slot>
            </div>
            <div class="badge-top-left">
              <slot name="badge-top-left"></slot>
            </div>
            <div class="badge-bottom-left">
              <slot name="badge-bottom-left"></slot>
            </div>
            <div class="badge-bottom-right">
              <slot name="badge-bottom-right"></slot>
            </div>
          </div>
          <div class="label">${r}</div>
          ${this.alert?F` <obc-alert-frame
                class="alert-frame"
                .type=${this.alertFrameType}
                .thickness=${this.alertFrameThickness}
                .status=${this.alertFrameStatus}
              >
                <span slot="icon"><slot name="alert-icon"></slot></span>
                <span slot="label"><slot name="alert-label"></slot></span>
                <span slot="timer"><slot name="alert-timer"></slot></span>
              </obc-alert-frame>`:He}
        </button>
      </div>
    `}getProgressSpinner(){if(!this.progress)return null;const r=parseFloat(getComputedStyle(this).getPropertyValue("--automation-components-button-visual-target")),e=parseFloat(getComputedStyle(this).getPropertyValue("--automation-components-button-progress-bar-stroke"));return F`<svg
      width="${r}"
      height="${r}"
      viewBox="0 0 ${r} ${r}"
      fill="none"
      class="progress-spinner"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M${e/2} ${r/2} A ${(r-e)/2} ${(r-e)/2} 0 0 1 ${r/2} ${e/2}"
        stroke="var(--instrument-enhanced-secondary-color)"
        stroke-width=${e}
        stroke-linecap="round"
      />
    </svg> `}getDirectionIcon(){if(this.variant!=="double")return null;if(this.direction==="forward")return F`<svg
        class="icon-direction"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8 5 v 14 L 20 12Z"
          stroke="var(--automation-device-tertiary-color)"
          fill="var(--automation-device-primary-color)"
          vector-effect="non-scaling-stroke"
        />
      </svg> `;if(this.direction==="forward-fast")return F`<svg
        class="icon-direction"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M3.5 5 v 14 l 8.5 -7 Z M14.5 5 v 14 l 8.5 -7 Z"
          stroke="var(--automation-device-tertiary-color)"
          fill="var(--automation-device-primary-color)"
          vector-effect="non-scaling-stroke"
        />
      </svg> `;if(this.direction==="forward-stopped")return F`<svg
        class="icon-direction"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8 5 v 14 L 20 12Z"
          fill="var(--automation-device-tertiary-color)"
          stroke="var(--automation-device-tertiary-inverted-color)"
          vector-effect="non-scaling-stroke"
        />
      </svg> `;if(this.direction==="backward")return F`<svg
        class="icon-direction"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M16 5 v 14 L 4 12Z"
          stroke="var(--automation-device-tertiary-color)"
          fill="var(--automation-device-primary-color)"
          vector-effect="non-scaling-stroke"
        />
      </svg>`;if(this.direction==="backward-fast")return F`<svg
        class="icon-direction"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M20.5 5 v 14 l -8.5 -7 Z M9.5 5 v 14 l -8.5 -7 Z"
          stroke="var(--automation-device-tertiary-color)"
          fill="var(--automation-device-primary-color)"
          vector-effect="non-scaling-stroke"
        />
      </svg>`;if(this.direction==="backward-stopped")return F`<svg
        class="icon-direction"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M16 5 v 14 L 4 12Z"
          fill="var(--automation-device-tertiary-color)"
          stroke="var(--automation-device-tertiary-inverted-color)"
          vector-effect="non-scaling-stroke"
        />
      </svg> `;if(this.direction==="standby")return F`<obi-standby
        class="icon-direction"
        usecsscolor
      ></obi-standby>`;throw new Error("Invalid direction")}};fr.styles=ot(QG);Hr([M({type:String})],fr.prototype,"variant",2);Hr([M({type:String})],fr.prototype,"state",2);Hr([M({type:Boolean})],fr.prototype,"static",2);Hr([M({type:Array,attribute:!1})],fr.prototype,"labels",2);Hr([M({type:String})],fr.prototype,"labelPosition",2);Hr([M({type:String})],fr.prototype,"labelSize",2);Hr([M({type:String})],fr.prototype,"labelStyle",2);Hr([M({type:Boolean})],fr.prototype,"alert",2);Hr([M({type:String})],fr.prototype,"alertFrameType",2);Hr([M({type:String})],fr.prototype,"alertFrameThickness",2);Hr([M({type:String})],fr.prototype,"alertFrameStatus",2);Hr([M({type:Boolean})],fr.prototype,"progress",2);Hr([M({type:String})],fr.prototype,"direction",2);fr=Hr([ie("obc-automation-button")],fr);function IL(r){return Oy()?(jw(r),!0):!1}const kZ=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const IZ=Object.prototype.toString,MZ=r=>IZ.call(r)==="[object Object]",PZ=()=>{};function RZ(r,e){function t(...i){return new Promise((n,s)=>{Promise.resolve(r(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(n).catch(s)})}return t}const ML=r=>r();function DZ(r=ML,e={}){const{initialState:t="active"}=e,i=$Z(t==="active");function n(){i.value=!1}function s(){i.value=!0}const o=(...a)=>{i.value&&r(...a)};return{isActive:Ug(i),pause:n,resume:s,eventFilter:o}}function OZ(r){return Kg()}function j1(r){return Array.isArray(r)?r:[r]}function $Z(...r){if(r.length!==1)return KM(...r);const e=r[0];return typeof e=="function"?Ug(lC(()=>({get:e,set:PZ}))):je(e)}function VZ(r,e,t={}){const{eventFilter:i=ML,...n}=t;return Cr(r,RZ(i,e),n)}function FZ(r,e,t={}){const{eventFilter:i,initialState:n="active",...s}=t,{eventFilter:o,pause:a,resume:l,isActive:c}=DZ(i,{initialState:n});return{stop:VZ(r,e,{...s,eventFilter:o}),pause:a,resume:l,isActive:c}}function PL(r,e=!0,t){OZ()?Fn(r,t):e?r():du(r)}function BZ(r,e,t){return Cr(r,e,{...t,immediate:!0})}const Rd=kZ?window:void 0;function Ga(r){var e;const t=Ya(r);return(e=t==null?void 0:t.$el)!=null?e:t}function f9(...r){const e=[],t=()=>{e.forEach(a=>a()),e.length=0},i=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),n=Xe(()=>{const a=j1(Ya(r[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),s=BZ(()=>{var a,l;return[(l=(a=n.value)==null?void 0:a.map(c=>Ga(c)))!=null?l:[Rd].filter(c=>c!=null),j1(Ya(n.value?r[1]:r[0])),j1(N(n.value?r[2]:r[1])),Ya(n.value?r[3]:r[2])]},([a,l,c,u])=>{if(t(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const h=MZ(u)?{...u}:u;e.push(...a.flatMap(d=>l.flatMap(f=>c.map(g=>i(d,f,g,h)))))},{flush:"post"}),o=()=>{s(),t()};return IL(t),o}function NZ(){const r=rf(!1),e=Kg();return e&&Fn(()=>{r.value=!0},e),r}function HZ(r){const e=NZ();return Xe(()=>(e.value,!!r()))}const jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gf="__vueuse_ssr_handlers__",UZ=zZ();function zZ(){return Gf in jf||(jf[Gf]=jf[Gf]||{}),jf[Gf]}function jZ(r,e){return UZ[r]||e}function GZ(r){return r==null?"any":r instanceof Set?"set":r instanceof Map?"map":r instanceof Date?"date":typeof r=="boolean"?"boolean":typeof r=="string"?"string":typeof r=="object"?"object":Number.isNaN(r)?"any":"number"}const ZZ={boolean:{read:r=>r==="true",write:r=>String(r)},object:{read:r=>JSON.parse(r),write:r=>JSON.stringify(r)},number:{read:r=>Number.parseFloat(r),write:r=>String(r)},any:{read:r=>r,write:r=>String(r)},string:{read:r=>r,write:r=>String(r)},map:{read:r=>new Map(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r.entries()))},set:{read:r=>new Set(JSON.parse(r)),write:r=>JSON.stringify(Array.from(r))},date:{read:r=>new Date(r),write:r=>r.toISOString()}},p9="vueuse-storage";function R2(r,e,t,i={}){var n;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:h=Rd,eventFilter:d,onError:f=I=>{console.error(I)},initOnMounted:g}=i,m=(u?rf:je)(typeof e=="function"?e():e),v=Xe(()=>Ya(r));if(!t)try{t=jZ("getDefaultStorage",()=>{var I;return(I=Rd)==null?void 0:I.localStorage})()}catch(I){f(I)}if(!t)return m;const y=Ya(e),_=GZ(y),w=(n=i.serializer)!=null?n:ZZ[_],{pause:S,resume:k}=FZ(m,()=>x(m.value),{flush:s,deep:o,eventFilter:d});Cr(v,()=>E(),{flush:s}),h&&a&&PL(()=>{t instanceof Storage?f9(h,"storage",E,{passive:!0}):f9(h,p9,A),g&&E()}),g||E();function P(I,D){if(h){const R={key:v.value,oldValue:I,newValue:D,storageArea:t};h.dispatchEvent(t instanceof Storage?new StorageEvent("storage",R):new CustomEvent(p9,{detail:R}))}}function x(I){try{const D=t.getItem(v.value);if(I==null)P(D,null),t.removeItem(v.value);else{const R=w.write(I);D!==R&&(t.setItem(v.value,R),P(D,R))}}catch(D){f(D)}}function C(I){const D=I?I.newValue:t.getItem(v.value);if(D==null)return l&&y!=null&&t.setItem(v.value,w.write(y)),y;if(!I&&c){const R=w.read(D);return typeof c=="function"?c(R,y):_==="object"&&!Array.isArray(R)?{...y,...R}:R}else return typeof D!="string"?D:w.read(D)}function E(I){if(!(I&&I.storageArea!==t)){if(I&&I.key==null){m.value=y;return}if(!(I&&I.key!==v.value)){S();try{(I==null?void 0:I.newValue)!==w.write(m.value)&&(m.value=C(I))}catch(D){f(D)}finally{I?du(k):k()}}}}function A(I){E(I.detail)}return m}function WZ(r,e,t={}){const{window:i=Rd,...n}=t;let s;const o=HZ(()=>i&&"ResizeObserver"in i),a=()=>{s&&(s.disconnect(),s=void 0)},l=Xe(()=>{const h=Ya(r);return Array.isArray(h)?h.map(d=>Ga(d)):[Ga(h)]}),c=Cr(l,h=>{if(a(),o.value&&i){s=new ResizeObserver(e);for(const d of h)d&&s.observe(d,n)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return IL(u),{isSupported:o,stop:u}}function KZ(r,e={width:0,height:0},t={}){const{window:i=Rd,box:n="content-box"}=t,s=Xe(()=>{var h,d;return(d=(h=Ga(r))==null?void 0:h.namespaceURI)==null?void 0:d.includes("svg")}),o=je(e.width),a=je(e.height),{stop:l}=WZ(r,([h])=>{const d=n==="border-box"?h.borderBoxSize:n==="content-box"?h.contentBoxSize:h.devicePixelContentBoxSize;if(i&&s.value){const f=Ga(r);if(f){const g=f.getBoundingClientRect();o.value=g.width,a.value=g.height}}else if(d){const f=j1(d);o.value=f.reduce((g,{inlineSize:m})=>g+m,0),a.value=f.reduce((g,{blockSize:m})=>g+m,0)}else o.value=h.contentRect.width,a.value=h.contentRect.height},t);PL(()=>{const h=Ga(r);h&&(o.value="offsetWidth"in h?h.offsetWidth:e.width,a.value="offsetHeight"in h?h.offsetHeight:e.height)});const c=Cr(()=>Ga(r),h=>{o.value=h?e.width:0,a.value=h?e.height:0});function u(){l(),c()}return{width:o,height:a,stop:u}}var lh=(r=>(r.Regular="regular",r.Medium="medium",r.Large="large",r.XL="xl",r))(lh||{}),An=(r=>(r.Normal="normal",r.RailIcon="rail-icon",r.RailIconLarge="rail-icon-large",r.Compact="compact",r))(An||{});const ff=Xg("demoConfig",{state:()=>({iasVariants:R2("iasVariant",U4.flat),componentSize:R2("componentSize","regular"),navigationMenuVariant:R2("navigationMenuVariant","compact")})}),qZ={key:0},YZ={slot:"primary-icon"},XZ={slot:"title"},QZ={slot:"description"},JZ={slot:"time"},eW={class:"content"},tW={key:0,label:"Dummy"},iW=["src"],rW=["icon","label","checked","onClick","innerHTML"],nW=Ne({__name:"App",setup(r){C8(()=>import("./index-CFMH-bHB.js"),[]);const{showNavigation:e,showBrilliance:t,showAppMenu:i,showAlertMenu:n,showMoreMenu:s,showBackdrop:o,hideAll:a,toggleNavigation:l,toggleBrilliance:c,toggleAppMenu:u,toggleAlertMenu:h,toggleMoreMenu:d}=NG(),{inactive:f}=XG(12e4),{visibleAlert:g,visibleAlertType:m,silenced:v,onMuteAlert:y,onAckAlert:_}=eN(),{date:w}=HG(),S=gu(),k=Gc(),P=N4(),x=ff(),C=je(!0);Cr(()=>x.componentSize,ge=>{const X=document.querySelector(".root");X&&(X.classList.remove("obc-component-size-regular","obc-component-size-medium","obc-component-size-large","obc-component-size-xl"),X.classList.add(`obc-component-size-${ge}`))},{immediate:!0}),Cr(()=>f.value,ge=>{ge&&a()});const E=Xe(()=>{const ge=P.hasConfig?Lr.Full:x.navigationMenuVariant;return e.value||ge===An.Normal?Lr.Full:ge===An.Compact?Lr.Compact:ge===An.RailIconLarge?Lr.IconOnlyLarge:ge===An.RailIcon?Lr.IconOnly:Lr.Full}),A=Xe(()=>f.value?!1:E.value===Lr.Full?e.value:!0),I=Xe(()=>(P.hasConfig?An.Normal:x.navigationMenuVariant)!==An.RailIcon);Fn(()=>{const ge=new URLSearchParams(window.location.search),X=Math.random().toString(36).substring(7),Fe=ge.get("bridgeId")??X;C.value=!ge.has("hidetopbar"),k.setBridgeId(Fe);const Ce=ge.get("configUrl");Ce?fetch(Ce).then(q=>q.json()).then(JB.parse).then(q=>{P.setConfig(q)}):S.setAlerts({startAlerts:qG,simulatedAlerts:YG}),document.querySelector(".root").classList.add(`obc-component-size-${x.componentSize}`),C8(()=>import("./index-CFMH-bHB.js"),[])});const D=Xe(()=>k.palette);function R(ge){k.setPalette(ge.detail.value)}function fe(ge){k.setBrightness(ge.detail.value)}const se=je(""),Y=ge=>{P.selectApp(ge),a(),se.value=""},K=Xe(()=>P.apps.filter(ge=>ge.name.toLowerCase().includes(se.value.toLowerCase())));function ae(){window.open("https://www.oicl.no/","_blank")}const ne=WD(),ce=Xe(()=>P.pageTitle??ne.meta.title??"OpenBridge"),ke=Xe(()=>P.backgroundColor??ne.meta.background??"--container-backdrop-color"),ye=Xe(()=>S.unackedAlerts.length===0&&f.value);return(ge,X)=>{const Fe=gP("router-view");return G(),we("div",{class:"root",style:Lc(`background-color: var(${ke.value}) `)},[C.value?(G(),we("header",qZ,[ue(YO,{class:"topbar","app-title":N(P).appTitle,"page-name":ce.value,date:N(w),"show-apps-button":"","show-dimming-button":"","show-clock":"",inactive:N(f),"app-button-breakpoint-px":500,"dimming-button-breakpoint-px":500,"app-title-breakpoint-px":400,"clock-minimize-breakpoint-px":300,"menu-button-activated":N(e),"dimming-button-activated":N(t),"apps-button-activated":N(i),"left-more-button-activated":N(s),onMenuButtonClicked:N(l),onDimmingButtonClicked:N(c),onAppsButtonClicked:N(u),onLeftMoreButtonClicked:N(d)},{alerts:J(()=>{var Ce;return[ue(iF,{class:"notification-message",action:((Ce=N(g))==null?void 0:Ce.alertStatus)===N(rt).Unacknowledged?N(qv).TextButton:N(qv).IconNoClick,empty:N(g)===null,onActionClick:N(_),onMessageClick:N(h)},{empty:J(()=>X[19]||(X[19]=[It("No active messages")])),default:J(()=>[N(g)?(G(),we(pt,{key:0},[Z("span",YZ,[ue(t5,{"alert-status":N(g).alertStatus,"alert-type":N(g).alertType},null,8,["alert-status","alert-type"])]),X[16]||(X[16]=Z("obi-sensor-gps-bad",{slot:"secondary-icon"},null,-1)),Z("div",XZ,Qt(N(g).title),1),Z("div",QZ,Qt(N(g).description),1),Z("div",JZ,Qt(N(g).time.toLocaleTimeString("en-GB")),1),X[17]||(X[17]=Z("div",{slot:"action-text"},"ACK",-1)),X[18]||(X[18]=Z("div",{slot:"action-icon"},[Z("obi-alarm-noack-iec",{usecsscolor:""})],-1))],64)):$t("",!0)]),_:1},8,["action","empty","onActionClick","onMessageClick"]),ue(jV,{slot:"alerts",class:"alert-button","alert-type":N(m),type:ye.value?N(Wv).Flat:N(Wv).Normal,"n-alerts":N(S).activeAlerts.length,counter:"","show-silence-button":"",blinking:!N(n),"silence-button-disabled":N(v),onClickAlert:N(h),onClickSilence:N(y)},null,8,["alert-type","type","n-alerts","blinking","silence-button-disabled","onClickAlert","onClickSilence"])]}),_:1},8,["app-title","page-name","date","inactive","menu-button-activated","dimming-button-activated","apps-button-activated","left-more-button-activated","onMenuButtonClicked","onDimmingButtonClicked","onAppsButtonClicked","onLeftMoreButtonClicked"])])):$t("",!0),Z("main",{class:Po({"hide-top-bar":!C.value,["nav-type-"+N(x).navigationMenuVariant]:!0})},[Z("div",eW,[ue(Fe),Ft(Z("div",{class:"backdrop",onClick:X[0]||(X[0]=MR((...Ce)=>N(a)&&N(a)(...Ce),["stop"]))},null,512),[[u2,N(o)]]),!N(P).hasConfig&&A.value?Ft((G(),Re(Ax,{key:0,variant:E.value,class:"navigation-menu"},{main:J(()=>[ue(Zn,{label:"Conning",to:{name:"instrument-demo"},onClick:X[1]||(X[1]=Ce=>N(a)())},{default:J(()=>X[20]||(X[20]=[Z("obi-conning-iec",{slot:"icon"},null,-1)])),_:1}),ue(Zn,{label:"Azimuth",to:{name:"responsive-instrument-demo"},onClick:X[2]||(X[2]=Ce=>N(a)())},{default:J(()=>X[21]||(X[21]=[Z("obi-propulsion-azimuth-thruster",{slot:"icon"},null,-1)])),_:1}),ue(Zn,{label:"Icons",to:{name:"icon-list"},onClick:X[3]||(X[3]=Ce=>N(a)())},{default:J(()=>X[22]||(X[22]=[Z("obi-placeholder",{slot:"icon"},null,-1)])),_:1}),ue(Zn,{label:"IAS",to:{name:"ias"},onClick:X[4]||(X[4]=Ce=>N(a)())},{default:J(()=>X[23]||(X[23]=[Z("obi-ias",{slot:"icon"},null,-1)])),_:1}),ue(Zn,{label:"Graph",to:{name:"graph"},onClick:X[5]||(X[5]=Ce=>N(a)())},{default:J(()=>X[24]||(X[24]=[Z("obi-diagnostic-google",{slot:"icon"},null,-1)])),_:1}),ue(Zn,{label:"AR",to:{name:"ar"},onClick:X[6]||(X[6]=Ce=>N(a)())},{default:J(()=>X[25]||(X[25]=[Z("obi-radar-overlay-proposal",{slot:"icon"},null,-1)])),_:1}),I.value?(G(),we("obc-navigation-item-group",tW,[X[28]||(X[28]=Z("obi-placeholder",{slot:"icon"},null,-1)),ue(Y8,{label:"Dummy 1",onClick:X[7]||(X[7]=Ce=>N(a)())},{default:J(()=>X[26]||(X[26]=[Z("obi-placeholder",{slot:"icon"},null,-1)])),_:1}),ue(Y8,{label:"Dummy 2",onClick:X[8]||(X[8]=Ce=>N(a)())},{default:J(()=>X[27]||(X[27]=[Z("obi-placeholder",{slot:"icon"},null,-1)])),_:1})])):$t("",!0)]),footer:J(()=>[ue(Zn,{label:"Help",to:{name:"help"},onClick:X[9]||(X[9]=Ce=>N(a)())},{default:J(()=>X[29]||(X[29]=[Z("obi-support-google",{slot:"icon"},null,-1)])),_:1}),ue(Zn,{label:"Settings",to:{name:"settings"},onClick:X[10]||(X[10]=Ce=>N(a)())},{default:J(()=>X[30]||(X[30]=[Z("obi-settings-iec",{slot:"icon"},null,-1)])),_:1}),ue(Zn,{label:"Alert",to:{name:"alert"},onClick:X[11]||(X[11]=Ce=>N(a)())},{default:J(()=>X[31]||(X[31]=[Z("obi-alerts",{slot:"icon"},null,-1)])),_:1})]),logo:J(()=>[E.value===N(Lr).Full?(G(),Re(QV,{key:0,"image-src":N(P).companyLogo,alt:"Link to Open Industries Concept Lab",onClick:ae},null,8,["image-src"])):(G(),we("obc-navigation-item",{key:1,label:"OICL",onClick:ae},[Z("img",{slot:"icon",src:N(P).companyLogoSmall,alt:"Link to Open Industries Concept Lab"},null,8,iW)]))]),_:1},8,["variant"])),[[u2,!N(f)]]):Ft((G(),Re(KG,{key:1,class:"navigation-menu",onCloseOthers:N(a)},null,8,["onCloseOthers"])),[[u2,N(e)]]),N(t)?(G(),Re(lV,{key:2,palette:D.value,brightness:N(k).brightness,"show-auto-brightness":"",class:"brilliance",onPaletteChanged:R,onBrightnessChanged:fe},null,8,["palette","brightness"])):$t("",!0),N(i)?(G(),Re(_V,{key:3,ref:"appMenu",class:"app-menu",onSearch:X[12]||(X[12]=Ce=>se.value=Ce.detail)},{default:J(()=>[(G(!0),we(pt,null,Ws(K.value,(Ce,q)=>(G(),we("obc-app-button",{key:q,icon:Ce.appIcon,label:Ce.name,checked:Ce.name===N(P).app.name,onClick:()=>Y(Ce),innerHTML:N(H4)(Ce.appIcon,{slot:"icon"})},null,8,rW))),128))]),_:1},512)):$t("",!0),ue(NN,{modelValue:N(n),"onUpdate:modelValue":X[13]||(X[13]=Ce=>ci(n)?n.value=Ce:null)},null,8,["modelValue"]),N(s)?(G(),Re(KV,{key:4,class:"more-menu"},{default:J(()=>[Z("obc-navigation-item",{label:"Dimming",onClick:X[14]||(X[14]=(...Ce)=>N(c)&&N(c)(...Ce))},X[32]||(X[32]=[Z("obi-palette-dimming",{slot:"icon"},null,-1)])),Z("obc-navigation-item",{label:"Apps",onClick:X[15]||(X[15]=(...Ce)=>N(u)&&N(u)(...Ce))},X[33]||(X[33]=[Z("obi-application",{slot:"icon"},null,-1)]))]),_:1})):$t("",!0)])],2)],4)}}}),En=(r,e)=>{const t=r.__vccOpts||r;for(const[i,n]of e)t[i]=n;return t},sW=En(nW,[["__scopeId","data-v-0ada871e"]]),ch=Ne({__name:"ObcButton",props:{icon:{},variant:{},fullWidth:{type:Boolean},checked:{type:Boolean},disabled:{type:Boolean},href:{},target:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-button",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),oW=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
:host {
    display: table-row-group;
    background: var(--container-background-color);
    vertical-align: middle;
}
`,aW=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
:host {
    text-align: left;
    color: var(--element-neutral-color);
    /* UI/Overline */
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-overline-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-overline-font-weight);
    line-height: var(--global-typography-ui-overline-line-height);
    letter-spacing: var(--global-typography-ui-overline-letter-spacing);
    text-transform: capitalize;
    border-bottom: 1px solid var(--border-divider-color);
    background: var(--container-section-color);
    height: 24px;
    display: table-header-group;
}

`;var lW=Object.getOwnPropertyDescriptor,wu=(r,e,t,i)=>{for(var n=i>1?void 0:i?lW(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let T5=class extends ee{render(){return F` <slot></slot> `}};T5.styles=re`
    * {
      box-sizing: border-box;
    }

    :host {
      display: table-cell;
      padding-right: 16px;
      padding-left: 16px;
      white-space: nowrap;
      box-sizing: border-box;
      border-bottom: 1px solid var(--border-divider-color);
      vertical-align: middle;
      height: 48px;
      color: var(--element-active-color);
    }

    :host(:first-child) {
      padding-left: 24px;
    }

    :host(:last-child) {
      padding-right: 24px;
    }
  `;T5=wu([ie("obc-table-cell")],T5);let L5=class extends ee{render(){return F` <slot></slot> `}};L5.styles=re`
    :host {
      box-sizing: border-box;
      position: relative;
      display: table-cell;
      padding-right: 16px;
      padding-left: 16px;
      color: var(--element-active-color);
      border-bottom: 1px solid var(--border-divider-color);
      vertical-align: middle;
    }

    :host(:first-child) {
      padding-left: 24px;
    }

    :host(:last-child) {
      padding-right: 24px;
    }

    :host(:not(:last-child))::after {
      content: '';
      display: block;
      position: absolute;
      top: 4px;
      bottom: 4px;
      right: -0.5px;
      width: 1px;
      background-color: var(--border-divider-color);
      border-radius: 1px;
    }
  `;L5=wu([ie("obc-table-head-cell")],L5);let S5=class extends ee{render(){return F` <slot></slot> `}};S5.styles=re`
    :host {
      display: table-row;
      vertical-align: middle;
      border-bottom: 1px solid var(--border-divider-color);
    }
  `;S5=wu([ie("obc-table-row")],S5);let A5=class extends ee{render(){return F` <slot></slot> `}};A5.styles=[ot(aW),re`
      :host {
        display: table-header-group;
        position: sticky;
        top: 0;
      }
    `];A5=wu([ie("obc-table-header")],A5);let k5=class extends ee{render(){return F` <slot></slot> `}};k5.styles=ot(oW);k5=wu([ie("obc-table-body")],k5);let I5=class extends ee{render(){return F` <slot></slot> `}};I5.styles=re`
    :host {
      display: table;
      width: 100%;
      overflow-y: auto;
    }
  `;I5=wu([ie("obc-table")],I5);const Nl=Ne({__name:"ObcTableCell",setup(r){const e=mt(),t=()=>lt("obc-table-cell",{},vt(e));return(i,n)=>(G(),Re(t))}}),Hl=Ne({__name:"ObcTableHeadCell",setup(r){const e=mt(),t=()=>lt("obc-table-head-cell",{},vt(e));return(i,n)=>(G(),Re(t))}}),cW=Ne({__name:"ObcTableRow",setup(r){const e=mt(),t=()=>lt("obc-table-row",{},vt(e));return(i,n)=>(G(),Re(t))}}),uW=Ne({__name:"ObcTableHeader",setup(r){const e=mt(),t=()=>lt("obc-table-header",{},vt(e));return(i,n)=>(G(),Re(t))}}),hW=Ne({__name:"ObcTableBody",setup(r){const e=mt(),t=()=>lt("obc-table-body",{},vt(e));return(i,n)=>(G(),Re(t))}}),dW=Ne({__name:"ObcTable",setup(r){const e=mt(),t=()=>lt("obc-table",{},vt(e));return(i,n)=>(G(),Re(t))}}),fW=Ne({__name:"ObcScrollbar",setup(r){const e=mt(),t=()=>lt("obc-scrollbar",{},vt(e));return(i,n)=>(G(),Re(t))}}),pW={class:"container"},gW={class:"status font-ui-body color-element-active"},mW={key:0,usecsscolor:"",class:"status-icon"},vW={key:1,usecsscolor:"",class:"status-icon"},yW={key:2,usecsscolor:"",class:"status-icon"},bW={key:0,class:"status-icon",name:"alarm-unack"},_W={key:1,usecsscolor:"",class:"status-icon"},wW={key:2,class:"status-icon",name:"warning-unack"},CW={key:0,usecsscolor:"",class:"status-icon"},xW={key:1,usecsscolor:"",class:"status-icon"},EW={key:2,usecsscolor:"",class:"status-icon"},TW={class:"color-element-active"},LW={class:"color-element-active"},SW={class:"color-element-neutral"},AW={class:"updated"},kW={class:"updated-time color-element-active"},IW={class:"updated-date color-element-neutral"},MW={class:"mobile-container"},PW={class:"status font-ui-body color-element-active"},RW={key:0,usecsscolor:"",class:"status-icon"},DW={key:1,usecsscolor:"",class:"status-icon"},OW={key:2,usecsscolor:"",class:"status-icon"},$W={key:0,class:"status-icon",name:"alarm-unack-iec"},VW={key:1,usecsscolor:"",class:"status-icon"},FW={key:2,class:"status-icon",name:"warning-unack"},BW={key:0,usecsscolor:"",class:"status-icon"},NW={key:1,usecsscolor:"",class:"status-icon"},HW={key:2,usecsscolor:"",class:"status-icon"},UW={key:1,class:"middle"},zW={class:"top"},jW={class:"color-element-active font-ui-body"},GW={class:"updated-time color-element-active font-ui-label"},ZW={key:3},WW={class:"toolbar"},g9=!1,KW=Ne({__name:"AlertList",setup(r){const e=gu();function t(n){const s=new Date;if(n.getDate()===s.getDate()&&n.getMonth()===s.getMonth()&&n.getFullYear()===s.getFullYear())return"Today";const o=new Date(s);return o.setDate(o.getDate()-1),n.getDate()===o.getDate()&&n.getMonth()===o.getMonth()&&n.getFullYear()===o.getFullYear()?"Yesterday":n.toLocaleDateString("en",{month:"short",day:"2-digit"})}const i=Xe(()=>{const n=[...e.alerts];n.sort((o,a)=>o.time<a.time?1:o.time>a.time?-1:0);const s=["unacked","silenced","acked","rectified"];return n.sort((o,a)=>{const l=s.indexOf(o.alertStatus),c=s.indexOf(a.alertStatus);return l<c?-1:l>c?1:0}),n});return(n,s)=>(G(),we("div",pW,[ue(fW,{class:"table-container"},{default:J(()=>[ue(N(dW),null,{default:J(()=>[ue(N(uW),null,{default:J(()=>[ue(N(Hl),{class:"min-content"}),g9?(G(),Re(N(Hl),{key:0,class:"min-content source"},{default:J(()=>s[2]||(s[2]=[It("Source")])),_:1})):$t("",!0),ue(N(Hl),null,{default:J(()=>s[3]||(s[3]=[It("Cause")])),_:1}),ue(N(Hl),{class:"min-content tag"},{default:J(()=>s[4]||(s[4]=[It("Tag id")])),_:1}),ue(N(Hl),{class:"min-content"},{default:J(()=>s[5]||(s[5]=[It("Time (UTC)")])),_:1}),ue(N(Hl),{class:"min-content",style:{"text-align":"center"}},{default:J(()=>s[6]||(s[6]=[It("Ack")])),_:1})]),_:1}),ue(N(hW),null,{default:J(()=>[(G(!0),we(pt,null,Ws(i.value,o=>(G(),Re(N(cW),{key:o.tag},{default:J(()=>[ue(N(Nl),{class:"status-cell"},{default:J(()=>[Z("span",gW,[o.alertStatus===N(rt).Acknowledged?(G(),we(pt,{key:0},[o.alertType==="alarm"?(G(),we("obi-alarm-acknowledged-iec",mW)):o.alertType==="caution"?(G(),we("obi-caution-color",vW)):o.alertType==="warning"?(G(),we("obi-warning-acknowledged-iec",yW)):$t("",!0)],64)):o.alertStatus===N(rt).Unacknowledged?(G(),we(pt,{key:1},[o.alertType==="alarm"?(G(),we("obc-alert-icon",bW)):o.alertType==="caution"?(G(),we("obi-caution-color",_W)):o.alertType==="warning"?(G(),we("obc-alert-icon",wW)):$t("",!0)],64)):o.alertStatus===N(rt).Rectified?(G(),we(pt,{key:2},[o.alertType==="alarm"?(G(),we("obi-alarm-rectified-iec",CW)):o.alertType==="caution"?(G(),we("obi-caution-color-iec",xW)):o.alertType==="warning"?(G(),we("obi-warning-rectified-iec",EW)):$t("",!0)],64)):$t("",!0)])]),_:2},1024),g9?(G(),Re(N(Nl),{key:0,class:"source"},{default:J(()=>[Z("span",TW,Qt(o.source),1)]),_:2},1024)):$t("",!0),ue(N(Nl),null,{default:J(()=>[Z("span",LW,Qt(o.description),1)]),_:2},1024),ue(N(Nl),{class:"tag"},{default:J(()=>[Z("span",SW,Qt(o.tag),1)]),_:2},1024),ue(N(Nl),null,{default:J(()=>[Z("span",AW,[Z("span",kW,Qt(o.time.toLocaleTimeString("en-UK")),1),Z("span",IW,Qt(t(o.time)),1)])]),_:2},1024),ue(N(Nl),null,{default:J(()=>[o.alertType!=="caution"&&o.alertStatus!==N(rt).Rectified&&o.alertStatus!==N(rt).Acknowledged?(G(),Re(ch,{key:0,class:"ack-btn","full-width":"",onClick:()=>o.alertStatus=N(rt).Acknowledged},{default:J(()=>s[7]||(s[7]=[It(" Ack ")])),_:2},1032,["onClick"])):$t("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),Z("div",MW,[(G(!0),we(pt,null,Ws(i.value,o=>(G(),we(pt,{key:o.tag},[Z("div",PW,[o.alertStatus===N(rt).Acknowledged?(G(),we(pt,{key:0},[o.alertType==="alarm"?(G(),we("obi-14-alarm-acknowledged",RW)):o.alertType==="caution"?(G(),we("obi-14-caution-color",DW)):o.alertType==="warning"?(G(),we("obi-14-warning-acknowledged",OW)):$t("",!0)],64)):o.alertStatus===N(rt).Unacknowledged?(G(),we(pt,{key:1},[o.alertType==="alarm"?(G(),we("obc-alert-icon",$W)):o.alertType==="caution"?(G(),we("obi-14-caution-color",VW)):o.alertType==="warning"?(G(),we("obc-alert-icon",FW)):$t("",!0)],64)):o.alertStatus===N(rt).Rectified?(G(),we(pt,{key:2},[o.alertType==="alarm"?(G(),we("obi-14-alarm-rectified",BW)):o.alertType==="caution"?(G(),we("obi-14-caution-color",NW)):o.alertType==="warning"?(G(),we("obi-14-warning-rectified",HW)):$t("",!0)],64)):$t("",!0)]),(G(),we("div",UW,[Z("div",zW,[Z("div",jW,Qt(o.description),1)]),Z("div",GW,Qt(o.time.toLocaleTimeString("en-UK")),1)])),o.alertType!=="caution"&&o.alertStatus!==N(rt).Rectified&&o.alertStatus!==N(rt).Acknowledged?(G(),Re(ch,{key:2,class:"ack-btn","full-width":"",onClick:()=>o.alertStatus=N(rt).Acknowledged},{default:J(()=>s[8]||(s[8]=[It(" Ack ")])),_:2},1032,["onClick"])):(G(),we("div",ZW))],64))),128))]),Z("div",WW,[ue(ch,{"hug-text":"",onClick:s[0]||(s[0]=o=>N(e).muteAllAlerts())},{"leading-icon":J(()=>s[9]||(s[9]=[Z("obi-silence-iec",null,null,-1)])),default:J(()=>[s[10]||(s[10]=It("Mute "))]),_:1}),ue(ch,{variant:N(s4).raised,onClick:s[1]||(s[1]=o=>N(e).ackAllAlerts())},{default:J(()=>s[11]||(s[11]=[It("Ack all visible")])),_:1},8,["variant"])])]))}}),qW=En(KW,[["__scopeId","data-v-78d32ce9"]]);var rr=(r=>(r.inCommand="inCommand",r.active="active",r.loading="loading",r.off="off",r))(rr||{}),Gs=(r=>(r.zeroLine="zeroLine",r.main="main",r.primary="primary",r.secondary="secondary",r.tertiary="tertiary",r.textOnly="textOnly",r))(Gs||{}),br=(r=>(r.hinted="hinted",r.regular="regular",r.enhanced="enhanced",r))(br||{});function RL(r){return r==="hinted"?"var(--instrument-frame-tertiary-color)":r==="regular"?"var(--instrument-tick-mark-tertiary-color)":"var(--instrument-tick-mark-primary-color)"}function uh(r,e,t,i,n){let s=164,o=368/2;const a=o+18/i,l=r*Math.PI/180;if(e==="secondary")s=164.5,o=172.5;else if(e==="main"||e==="zeroLine")s=320/2,o=368/2;else{if(e==="tertiary")throw new Error("Tertiary tickmarks are not supported");if(e==="textOnly"){const v=Math.sin(l)*a,y=-Math.cos(l)*a;return[$`<text x=${v} y=${y} class="label">${n}</text>`]}}const c=RL(t),u=Math.sin(l)*s,h=-Math.cos(l)*s,d=Math.sin(l)*o,f=-Math.cos(l)*o,m=$`<line x1=${u} y1=${h} x2=${d} y2=${f} stroke=${c} stroke-width=${e==="zeroLine"?4:1} vector-effect="non-scaling-stroke"/>`;if(n){const v=Math.sin(l)*a,y=-Math.cos(l)*a;return[m,$`<text x=${v} y=${y} class="label">${n}</text>`]}return m}var oc=(r=>(r.advice="advice",r.caution="caution",r))(oc||{}),Gr=(r=>(r.regular="regular",r.hinted="hinted",r.triggered="triggered",r))(Gr||{});const YW=16/2+8,m9=Math.atan2(YW,672/2);function $h(r,e,t,i){const n=r*Math.PI/180+m9,s=e*Math.PI/180-m9,o=328/2,a=344/2,l=(a-o)/2,c=Math.sin(n)*o,u=-Math.cos(n)*o,h=Math.sin(n)*a,d=-Math.cos(n)*a,f=Math.sin(s)*o,g=-Math.cos(s)*o,m=Math.sin(s)*a,v=-Math.cos(s)*a,y=`M ${c} ${u} 
                    A ${o} ${o} 0 0 1 ${f} ${g}
                    A ${l} ${l} 0 0 0 ${m} ${v}
                    A ${a} ${a} 0 0 0 ${h} ${d}
                    A ${l} ${l} 0 0 0 ${c} ${u}
                    Z`;return $`<path d=${y} fill=${t} stroke=${i} stroke-width="1" vector-effect="non-scaling-stroke" />`}function XW(r){if(r.type==="caution"){let e,t=null;r.state==="hinted"?e="var(--instrument-frame-tertiary-color)":r.state==="regular"?e="var(--instrument-tick-mark-tertiary-color)":(e="var(--on-caution-active-color)",t="var(--alert-caution-color)");const i=[];for(let o=0;o<180;o+=4)i.push($`<g transform="rotate(${o}) translate(-256 -256) ">
            <path d="M369.167 64.7317L144 194.732L142 191.268L367.167 61.2676L369.167 64.7317ZM369.167 320.732L144 450.732L142 447.267L367.167 317.267L369.167 320.732Z" fill=${e}/>
            </g>
            `);const n=`adviceMask-${r.minAngle}-${r.maxAngle}`;let s=br.hinted;return r.state==="regular"?s=br.regular:r.state==="triggered"&&(s=br.enhanced),$`
            <mask id=${n}>
                ${$h(r.minAngle,r.maxAngle,"white","black")}
            </mask>
            <g mask="url(#${n})">
                ${t?$`<rect x="-256" y="-256" width="512" height="512" fill="${t}"/>`:He}
                ${i}
            </g>
            ${$h(r.minAngle,r.maxAngle,"none",e)}
            ${r.hideMinTickmark?He:uh(r.minAngle,Gs.primary,s,1)}
            ${r.hideMaxTickmark?He:uh(r.maxAngle,Gs.primary,s,1)}
        `}else{let e,t;return r.state==="hinted"?(e="var(--instrument-frame-tertiary-color)",t=br.hinted):r.state==="regular"?(e="var(--instrument-regular-secondary-color)",t=br.regular):(e="var(--instrument-enhanced-secondary-color)",t=br.regular),$`
            ${$h(r.minAngle,r.maxAngle,r.state==="triggered"?e:"none",e)}
            ${uh(r.minAngle,Gs.primary,t,1)}
            ${uh(r.maxAngle,Gs.primary,t,1)}
        `}}function hh(r,e,t){if(e>=100)return null;const i=RL(t),n=-e*r/100-2;return $`<line x1="12" x2="32" y1=${n}  y2=${n} stroke=${i} stroke-width="1" vector-effect="non-scaling-stroke"/>`}function D2(r,e,t,i,n){const c=-e*r/100-8-2,u=-t*r/100+2*4-2,h=`M 12 ${c} 
                    A 4 4 0 0 0 20 ${c}
                    V ${u}
                    A 4 4 0 0 0 12 ${u}
                    Z`;return $`<path d=${h} fill=${i} stroke=${n} stroke-width="1" vector-effect="non-scaling-stroke" />`}function QW(r,e,t){if(e.type===oc.caution){let i,n=null;e.state===Gr.hinted?i="var(--instrument-frame-tertiary-color)":e.state===Gr.regular?i="var(--instrument-tick-mark-tertiary-color)":(i="var(--on-caution-active-color)",n="var(--alert-caution-color)");const s=[],o=t?50:-50;for(let c=-100;c<300;c+=16)s.push($`<g transform="translate(0 ${-c}) ">
            <path d="M 50 0 L 0 ${o}" stroke=${i} stroke-width="6"/>
            </g>
            `);const a=`adviceMask-${e.min}-${e.max}`;let l=br.hinted;return e.state===Gr.regular?l=br.regular:e.state===Gr.triggered&&(l=br.enhanced),$`
            <mask id=${a}>
                ${D2(r,e.min,e.max,"white","black")}
            </mask>
            <g mask="url(#${a})">
                ${n?$`<rect x="-256" y="-512" width="512" height="1024" fill="${n}"/>`:He}
                ${s}
            </g>
            ${D2(r,e.min,e.max,"none",i)}
            ${hh(r,e.min,l)}
            ${hh(r,e.max,l)}
        `}else{let i,n,s;return e.state===Gr.hinted?(i="var(--instrument-frame-tertiary-color)",s="none",n=br.hinted):e.state===Gr.regular?(i="var(--instrument-regular-secondary-color)",s="none",n=br.regular):(i="var(--instrument-enhanced-secondary-color)",s=i,n=br.regular),$`
            ${D2(r,e.min,e.max,s,i)}
            ${hh(r,e.min,n)}
            ${hh(r,e.max,n)}
        `}}var Wc=(r=>(r.none="none",r.cap="cap",r.single="single",r))(Wc||{});function JW(r,e){const t=-r-22;return $`
  <path transform="translate(-15 ${t})" d="M0.707007 14.2929L14.9999 0L29.2928 14.2929C29.9228 14.9229 29.4766 16 28.5857 16H1.41412C0.523211 16 0.0770419 14.9229 0.707007 14.2929Z" fill=${e}/>`}function eK(r,e,t){if(t==="none")return JW(r,e);if(t==="cap"){const i=-r-50-1;return $`
        <g transform="translate(-80 ${i})">
        <path d="M60.0016 49L60.001 37.0005C60.0004 25.9547 68.9547 17 80.0005 17C91.0459 17 100 25.9541 100 36.9995V49H60.0016Z" stroke="var(--instrument-frame-tertiary-color)" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke"/>
        <path d="M90.3784 10.889L79.9991 1.00391L69.6198 10.889C68.3125 12.1341 69.1937 14.3372 70.9991 14.3372H88.9991C90.8046 14.3372 91.6858 12.1341 90.3784 10.889Z" fill=${e} stroke-linecap="square"/>
        </g>`}else if(t==="single"){const i=-r-50-1;return $`
        <g transform="translate(-80 ${i})">
<path d="M60.0016 49L60.0016 23C60.0007 19.6866 62.6865 17 66 17L94 17C97.3137 17 100 19.6863 100 23L100 49L60.0016 49Z" fill="var(--instrument-frame-primary-color)" stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>
<path d="M9 33.2643C9.00007 42.0397 60.2667 45 60.2667 45C60.2667 37.2905 62.8316 29.87 67.4405 24.2456L70.1 21C56.8343 21 8.99993 24.489 9 33.2643Z" fill="var(--instrument-frame-primary-color)"  stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>
<path d="M151 32.7357C151 23.9604 99.7333 21 99.7333 21C99.7333 28.7095 97.1684 36.1301 92.5595 41.7544L89.9 45C103.166 45 151 41.511 151 32.7357Z" stroke="var(--instrument-frame-tertiary-color)" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke"/>
<path d="M90.3784 10.889L79.9991 1.00391L69.6198 10.889C68.3125 12.1341 69.1937 14.3372 70.9991 14.3372H88.9991C90.8046 14.3372 91.6858 12.1341 90.3784 10.889Z" fill=${e} stroke-linecap="square" vector-effect="non-scaling-stroke"/>
</g>
`}else return null}function tK(r,e){if(e==="none")return null;if(e==="cap"){const t=r+1;return $`
        <g transform="translate(-80 ${t})">
<path d="M60.0016 1C60.0006 17.7823 67.4013 33.9132 80 45C92.5988 33.9131 100 17.7824 100 1L60.0016 1Z" stroke="var(--instrument-frame-tertiary-color)" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke"/>
</g>`}else if(e==="single"){const t=r+1;return $`
        <g transform="translate(-80 ${t})">
        <svg width="160" height="49" viewBox="0 0 160 49" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M60.0016 1C60.0006 17.7823 67.4013 33.9132 80 45C92.5988 33.9131 100 17.7824 100 1L60.0016 1Z" stroke="var(--instrument-frame-tertiary-color)" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" />
<path d="M151 16.7357C151 7.96035 99.7333 5 99.7333 5C98.5 13.5 92 24 81.9 29C95.1657 29 151 25.511 151 16.7357Z" stroke="var(--instrument-frame-tertiary-color)" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" />
<path d="M9 17.2643C9.00007 26.0397 67.2667 29 67.2667 29C63.5 22 69.5 8.5 82.1 5C68.8343 5 8.99993 8.48898 9 17.2643Z" stroke="var(--instrument-frame-tertiary-color)" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" />
</g>`}else return null}var iK=Object.defineProperty,rK=Object.getOwnPropertyDescriptor,pr=(r,e,t,i)=>{for(var n=i>1?void 0:i?rK(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&iK(e,t,n),n};let Fi=class extends ee{constructor(){super(...arguments),this.thrust=0,this.touching=!1,this.atSetpoint=!1,this.disableAutoAtSetpoint=!1,this.autoAtSetpointDeadband=1,this.setpointAtZeroDeadband=.5,this.state=rr.inCommand,this.tunnel=!1,this.singleSided=!1,this.singleDirection=!1,this.singleDirectionHalfSize=!1,this.advices=[],this.topPropeller=Wc.none,this.bottomPropeller=Wc.none}render(){return F`<div class="container">
      ${$L(this.thrust,this.setpoint,this.state,{atSetpoint:this.atSetpoint,tunnel:this.tunnel,setpointAtZeroDeadband:this.setpointAtZeroDeadband,autoAtSetpoint:!this.disableAutoAtSetpoint,autoSetpointDeadband:this.autoAtSetpointDeadband,touching:this.touching,singleSided:this.singleSided,advices:this.advices,singleDirection:this.singleDirection,singleDirectionHalfSize:this.singleDirectionHalfSize,topPropeller:this.topPropeller,bottomPropeller:this.bottomPropeller,narrow:!this.tunnel})}
    </div>`}};Fi.styles=re`
    .container {
      height: 100%;
      width: 100%;
    }

    .container > svg {
      height: 100%;
      width: 100%;
    }
  `;pr([M({type:Number})],Fi.prototype,"thrust",2);pr([M({type:Number})],Fi.prototype,"setpoint",2);pr([M({type:Boolean})],Fi.prototype,"touching",2);pr([M({type:Boolean})],Fi.prototype,"atSetpoint",2);pr([M({type:Boolean})],Fi.prototype,"disableAutoAtSetpoint",2);pr([M({type:Number})],Fi.prototype,"autoAtSetpointDeadband",2);pr([M({type:Number})],Fi.prototype,"setpointAtZeroDeadband",2);pr([M({type:String})],Fi.prototype,"state",2);pr([M({type:Boolean})],Fi.prototype,"tunnel",2);pr([M({type:Boolean})],Fi.prototype,"singleSided",2);pr([M({type:Boolean})],Fi.prototype,"singleDirection",2);pr([M({type:Boolean})],Fi.prototype,"singleDirectionHalfSize",2);pr([M({type:Array})],Fi.prototype,"advices",2);pr([M({type:String})],Fi.prototype,"topPropeller",2);pr([M({type:String})],Fi.prototype,"bottomPropeller",2);Fi=pr([ie("obc-thruster")],Fi);function DL(r,e,t,i){const n=$`
      <path transform="translate(0 -2)" d="M -44 0  v -${r-8}  a 8 8 0 0 1 8 -8 h 72 a 8 8 0 0 1 8 8 V 0 Z" fill=${t.container} stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>
  `,s=$`<rect width="40" height=${r} x="-20" y=${-2-r} fill="var(--instrument-frame-secondary-color)" stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>`,o=[],a=2,l=r/a;if(!i.hideTicks)for(let d=1;d<a;d++)o.push($`<line x1="-24" x2="-44" y1=${-d*l-2}  y2=${-d*l-2} stroke="var(--instrument-frame-tertiary-color)" stroke-width="1" vector-effect="non-scaling-stroke"/>`),o.push($`<line  x1="24"  x2="44" y1=${-d*l-2}  y2=${-d*l-2} stroke="var(--instrument-frame-tertiary-color)" stroke-width="1" vector-effect="non-scaling-stroke"/>`);const c=r*e/100,u=-2-c,h=$`<rect width="40" height=${c} x="-20" y=${u} fill=${t.box} stroke=${t.box} vector-effect="non-scaling-stroke"/>`;return i.hideContainer?[s,o,h]:[n,s,o,h]}function OL(r,e,t,i,n){const s=i.narrow?$`
      <path transform="translate(0 -2)" d="M -32 0  v -${r-8}  a 8 8 0 0 1 8 -8 h 48 a 8 8 0 0 1 8 8 V 0 Z" fill=${t.container} stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>
  `:$`
      <path transform="translate(0 -2)" d="M -40 0  v -${r-8}  a 8 8 0 0 1 8 -8 h 56 a 8 8 0 0 1 8 8 V 0 Z" fill=${t.container} stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>
  `,o=i.narrow?$`
      <path transform="translate(0 -2)" d="M -32 0  v -${r-8}  a 8 8 0 0 1 8 -8 h 32 V 0 Z" fill="var(--instrument-frame-secondary-color)" stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>
  `:$`
      <path transform="translate(0 -2)" d="M -40 0  v -${r-8}  a 8 8 0 0 1 8 -8 h 40 V 0 Z" fill="var(--instrument-frame-secondary-color)" stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>
  `,a=i.hideTicks?[]:[hh(r,50,br.hinted)],l=r*e/100,c=i.narrow?40:48,u=i.narrow?-32:-40,h=-2-l,d=i.flipAdicePattern?"thrusterBarMask1":"thrusterBarMask2",f=i.hideContainer?He:$`
  <defs>
  <mask id=${d}>
  <path transform="translate(0 -2)" d="M ${u} 0  v -${r-8}  a 8 8 0 0 1 8 -8 h ${c} V 0 Z" fill="white" stroke="white" vector-effect="non-scaling-stroke"/>
  </defs>`,g=i.hideContainer?void 0:`url(#${d})`,m=$`
    ${f}
    <rect mask=${g} width=${c} height=${l} x=${u} y=${h} fill=${t.box} stroke=${t.box} vector-effect="non-scaling-stroke"/>`,v=n.map(_=>QW(r,_,i.flipAdicePattern)),y=[a,m,v];return i.hideContainer||y.splice(0,0,[s,o]),i.narrow?y:$`<g transform="translate(4 0)">${y}</g>`}function nK(r,e,t,i){return $`
      <g transform="rotate(180)">
        ${DL(r,e,t,i)}
      </g>
  `}function sK(r,e,t,i,n){return $`
      <g transform="rotate(180) scale(-1,1)">
        ${OL(r,e,t,{hideTicks:i.hideTicks,flipAdicePattern:i.flipAdicePattern,hideContainer:i.hideContainer,narrow:i.narrow},n)}
      </g>
  `}function oK(r,e,t,i,n){const s=-(t?0:Math.sign(e)*(r*Math.abs(e)/100+2)),o=(n.singleSided?-12:0)+(n.narrow?0:4);let a;return n.inCommand?a="M23.5119 8C24.6981 6.35191 23.5696 4 21.5926 4L2.39959 4C0.422598 4 -0.705911 6.35191 0.480283 8L11.9961 24L23.5119 8Z":a="M18.5836 8L5.4086 8L11.9961 17.1526L18.5836 8ZM23.5119 8C24.6981 6.35191 23.5696 4 21.5926 4L2.39959 4C0.422598 4 -0.705911 6.35191 0.480283 8L11.9961 24L23.5119 8Z",$`
    <defs>
      <g id="thrusterSetpoint">
        <path fill-rule="evenodd" clip-rule="evenodd" transform="translate(24 -12) rotate(90)" d=${a} vector-effect="non-scaling-stroke"/>
      </g>
      <mask id="thrusterSetpointMask">
        <rect x="-20" y="-20" width="50" height="50" fill="white" />
        <use href="#thrusterSetpoint" fill="black" />
      </mask>
    </defs>
  <g transform="translate(0 ${s})">
    <use href="#thrusterSetpoint" fill=${i.fill} stroke="none" transform="translate(${28+o} 0)"/>
    <use href="#thrusterSetpoint" mask="url(#thrusterSetpointMask)" transform="translate(${28+o} 0)" fill="none" stroke=${i.stroke} stroke-width="2" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>
    ${n.singleSided?null:$`
    <use href="#thrusterSetpoint" transform="rotate(180) translate(28 0)" fill=${i.fill} stroke="none"/>
    <use href="#thrusterSetpoint" transform="rotate(180) translate(28 0)" mask="url(#thrusterSetpointMask)" fill="none" stroke=${i.stroke} stroke-width="2" stroke-linejoin="round" vector-effect="non-scaling-stroke"/>
      `}
  </g>
  `}function aK(r,e,t){return t.touching?!1:t.autoAtSetpoint&&e!==void 0?Math.abs(r-e)<t.autoSetpointDeadband:t.atSetpoint}function $L(r,e,t,i){if(i.tunnel&&(r=-r,e=e===void 0?void 0:-e),!i.singleSided&&i.advices.length>0)throw new Error("Double sided thruster does not support advice");i.atSetpoint=aK(r,e,i);const n=cK(i,t);let s=$`
    <rect x="-44" y="-2" width="88" height="4" stroke-width="1" fill=${n.zeroLineColor} stroke=${n.zeroLineColor} vector-effect="non-scaling-stroke"/>
  `;if(i.singleSided){const d=i.narrow?64:72,f=i.narrow?-32:-36;s=$`<rect x=${f} y="-2" width=${d} height="4" stroke-width="1" fill=${n.zeroLineColor} stroke=${n.zeroLineColor} vector-effect="non-scaling-stroke"/>`}const o=Math.abs(e||0)<i.setpointAtZeroDeadband,{topAdvices:a,bottomAdvices:l}=lK(i.advices,r),c=[],u=i.topPropeller===Wc.none?134:106,h=i.singleDirection?u*2:u;if(i.singleSided?(c.push(OL(h,Math.max(r,0),{box:n.boxColor,container:n.containerBackgroundColor},{hideTicks:n.hideTicks,flipAdicePattern:!1,hideContainer:!1,narrow:i.narrow},a)),i.singleDirection||i.singleDirectionHalfSize||c.push(sK(h,Math.max(-r,0),{box:n.boxColor,container:n.containerBackgroundColor},{hideTicks:n.hideTicks,flipAdicePattern:!0,hideContainer:!1,narrow:i.narrow},l)),c.push(s)):(c.push(DL(h,Math.max(r,0),{box:n.boxColor,container:n.containerBackgroundColor},{hideTicks:n.hideTicks,hideContainer:!1})),i.singleDirection||c.push(nK(h,Math.max(-r,0),{box:n.boxColor,container:n.containerBackgroundColor},{hideTicks:n.hideTicks,hideContainer:!1})),c.push(s)),e!==void 0&&c.push(oK(h,e,o,{fill:n.setPointColor,stroke:"var(--border-silhouette-color)"},{inCommand:t===rr.inCommand,singleSided:i.singleSided,narrow:i.narrow})),i.tunnel)return $`
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="-160 -64  320 128" x="-160" y="-64">
        <g transform="rotate(-90)">
          ${c}
        </g>
      </svg>`;{let d="-80 -160 160 320",f=-160;i.singleDirection&&(d="-80 -300 160 320",f=-320);const g=eK(h,n.arrowColor,i.topPropeller),m=tK(i.singleDirectionHalfSize?.5:h,i.bottomPropeller);return $`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox=${d} x="-80" y=${f} width="160" height="320">
      ${g}
      ${m}
      ${c}
    </svg>
  `}}function lK(r,e){const t=r.map(s=>{const o=e>=s.min&&e<=s.max;let a;return o?a=Gr.triggered:s.hinted?a=Gr.hinted:a=Gr.regular,{min:s.min,max:s.max,type:s.type,state:a,hinted:s.hinted}}),i=t.filter(s=>s.min>=0),n=t.filter(s=>s.max<=0).map(s=>({...s,min:-s.max,max:-s.min}));return{topAdvices:i,bottomAdvices:n}}function cK(r,e){let t="var(--instrument-enhanced-secondary-color)",i="var(--instrument-enhanced-primary-color)",n="var(--instrument-regular-secondary-color)",s="var(--instrument-frame-primary-color)",o="var(--instrument-enhanced-secondary-color)",a=!1;return r.atSetpoint&&(i=t),e===rr.active?(t="var(--instrument-regular-secondary-color)",o="var(--instrument-regular-secondary-color)",i="var(--instrument-regular-primary-color)",n="var(--instrument-regular-secondary-color)",r.atSetpoint&&(i=t)):e===rr.loading?(t="transparent",i="var(--instrument-frame-tertiary-color)",o="var(--instrument-frame-tertiary-color)",n="var(--instrument-regular-secondary-color)",a=!0):e===rr.off&&(t="transparent",i="var(--instrument-frame-tertiary-color)",n="var(--instrument-frame-tertiary-color)",o="var(--instrument-frame-tertiary-color)",a=!0,s="transparent"),{zeroLineColor:o,boxColor:t,containerBackgroundColor:s,hideTicks:a,setPointColor:i,arrowColor:n}}function O2(r,e){return e.strokePosition==="center"?$`<circle id=${r} cx="0" cy="0" 
      r=${e.radius} vector-effect="non-scaling-stroke" 
      stroke=${e.strokeColor}  stroke-width=${e.strokeWidth} 
      fill=${e.fillColor}>`:e.strokePosition==="inside"?$`
		<defs>
			<clipPath id="clip${r}">
				<circle id=${r} cx="0" cy="0" r=${e.radius} vector-effect="non-scaling-stroke" />
			</clipPath>
		</defs>
		<g>
			<circle id=${r} cx="0" cy="0" r=${e.radius} vector-effect="non-scaling-stroke" stroke=${e.strokeColor}  stroke-width=${e.strokeWidth*2} fill=${e.fillColor} clip-path="url(#clip${r})"/>
		</g>
  `:$`
		<circle id=${r} cx="0" cy="0" r=${e.radius} vector-effect="non-scaling-stroke" stroke=${e.strokeColor} stroke-width=${e.strokeWidth*2} fill=${e.fillColor}/>
		  `}function $2({startAngle:r,endAngle:e,r:t,R:i,roundOutsideCut:n,roundInsideCut:s}){const o=r*Math.PI/180,a=e*Math.PI/180,l=Math.sin(o)*i,c=-Math.cos(o)*i,u=Math.sin(o)*t,h=-Math.cos(o)*t,d=Math.sin(a)*i,f=-Math.cos(a)*i,g=Math.sin(a)*t,m=-Math.cos(a)*t,v=8;let y="";if(n){const _=Math.asin(v/i),w=a-_-(o+_)<=Math.PI?0:1,S=Math.sin(o)*(i-v),k=-Math.cos(o)*(i-v),P=Math.sin(o+_)*i,x=-Math.cos(o+_)*i,C=Math.sin(a)*(i-v),E=-Math.cos(a)*(i-v),A=Math.sin(a-_)*i,I=-Math.cos(a-_)*i;y+=`M ${S} ${k} A ${v} ${v} 1 0 1 ${P} ${x}`,y+=`A ${i} ${i} 1 ${w} 1 ${A} ${I}`,y+=`A ${v} ${v} 1 0 1 ${C} ${E}`}else{const _=Math.abs(a-o)<=Math.PI?0:1;y+=`M ${l} ${c} A ${i} ${i} 1 ${_} 1 ${d} ${f}`}if(s){const _=Math.asin(v/t),w=a-_-(o+_)<=Math.PI?0:1,S=Math.sin(o)*(t+v),k=-Math.cos(o)*(t+v),P=Math.sin(o+_)*t,x=-Math.cos(o+_)*t,C=Math.sin(a)*(t+v),E=-Math.cos(a)*(t+v),A=Math.sin(a-_)*t,I=-Math.cos(a-_)*t;y+=`L ${C} ${E} A ${v} ${v} 1 0 1 ${A} ${I}`,y+=`A ${t} ${t} 1 ${w} 0 ${P} ${x}`,y+=`A ${v} ${v} 1 0 1 ${S} ${k}`}else{const _=a-o<=Math.PI?0:1;y+=`L ${g} ${m} A ${t} ${t} 1 ${_} 0 ${u} ${h}`}return y+="Z",y}const uK=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.label {
  /* UI/Body */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-body-font-weight);
  line-height: var(--global-typography-ui-body-line-height);
  text-decoration: none;
  font-size: calc(16px / var(--scale));
  fill: var(--element-neutral-color);
  alignment-baseline: middle;
  text-anchor: middle;
}
`;/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class hK{constructor(e,{target:t,config:i,callback:n,skipInitial:s}){this.t=new Set,this.o=!1,this.i=!1,this.h=e,t!==null&&this.t.add(t??e),this.l=i,this.o=s??this.o,this.callback=n,window.ResizeObserver?(this.u=new ResizeObserver(o=>{this.handleChanges(o),this.h.requestUpdate()}),e.addController(this)):console.warn("ResizeController error: browser does not support ResizeObserver.")}handleChanges(e){var t;this.value=(t=this.callback)==null?void 0:t.call(this,e,this.u)}hostConnected(){for(const e of this.t)this.observe(e)}hostDisconnected(){this.disconnect()}async hostUpdated(){!this.o&&this.i&&this.handleChanges([]),this.i=!1}observe(e){this.t.add(e),this.u.observe(e,this.l),this.i=!0,this.h.requestUpdate()}unobserve(e){this.t.delete(e),this.u.unobserve(e)}disconnect(){this.u.disconnect()}}function dK(r){const n=[{label:"E",x:184+8/r+16,y:0,class:"label"},{label:"S",x:0,y:184+8/r+16,class:"label"},{label:"W",x:-(184+8/r+16),y:0,class:"label"}];let s=$`
    <g transform="translate(0, ${(1/r-1)*188}) scale(${1/r})">
<path  transform="translate(-192, -224)" d="M 221.521 35.425 C 222.388 36.4644 222.821 36.9841 222.809 37.3627 C 222.8 37.6941 222.632 37.9916 222.354 38.1721 C 222.037 38.3783 221.361 38.2774 220.011 38.0756 A ${188*r} ${188*r} 0 0 0 163.989 38.0756 C 162.639 38.2774 161.964 38.3783 161.646 38.1721 C 161.368 37.9916 161.201 37.6941 161.191 37.3627 C 161.18 36.9841 161.613 36.4644 162.479 35.425 L 190.771 1.475 C 191.193 0.9685 191.404 0.7153 191.657 0.6229 C 191.879 0.5419 192.122 0.5419 192.343 0.6229 C 192.596 0.7153 192.807 0.9685 193.229 1.475 L 221.521 35.425 Z" fill="var(--instrument-tick-mark-secondary-color)"/>
</g>

  <defs>
        <mask id="circleMask">
            <rect x="-${184}" y="-${184}" width="${184*2}" height="${184*2}" fill="black"/>
            <circle cx="0" cy="0" r="${184}" fill="white"/>
        </mask>
    </defs>
    <g mask="url(#circleMask)" transform="translate(0, ${-(184+40/r+2)}) scale(${1/r}, ${1/r})">
        <path d="M5.003 29H2.091L-3.013 20.264H-3.077C-3.066 20.52-3.056 20.7813-3.045 21.048-3.034 21.3147-3.024 21.5867-3.013 21.864-2.992 22.1307-2.976 22.4027-2.965 22.68-2.954 22.9573-2.944 23.2347-2.933 23.512V29H-4.997V17.576H-2.101L2.987 26.232H3.035C3.024 25.9867 3.014 25.736 3.003 25.48 2.992 25.2133 2.982 24.952 2.971 24.696 2.971 24.4293 2.966 24.1627 2.955 23.896 2.944 23.6293 2.934 23.3627 2.923 23.096V17.576H5.003V29Z" fill="var(--element-active-inverted-color)"/>
    </g>`;return r<.58&&(s=$`
      <g mask="url(#circleMask)" transform="translate(0, ${-184})">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M-17.8457 24.984 0 0 17.8458 24.984C11.9868 24.3338 6.0324 24 0 24-6.0323 24-11.9867 24.3338-17.8457 24.984Z" fill="var(--instrument-frame-tertiary-color)"/>
        </g>`,n.push({label:"N",x:0,y:-(184+8/r+32/2),class:"label"})),$`
    ${s}

    ${n.map(o=>$`
        <text
          x="${o.x}"
          y="${o.y}"
          class="${o.class}"
        >
          ${o.label}
        </text>
      `)}
  `}const fK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M92 66.6364H83.7941L83.1324 65.4385L84.2794 62.1943H85.2941L82.4265 60.9964H82.0735L81.8057 59.7842C81.7044 59.3261 81.2984 59 80.8292 59H79.1708C78.7016 59 78.2956 59.3261 78.1943 59.7842L77.9265 60.9964H77.5735L74.7059 62.1943H75.7206L76.8676 65.4385L76.2059 66.6364H68V67.0856H69.3235V70.2299H68V79.3137V80.0624L68.5089 82.024C68.9278 83.639 70.1096 84.8535 71.5707 85.1706L80 87L88.4293 85.1706C89.8904 84.8535 91.0722 83.639 91.4911 82.024L92 80.0624V79.3137V70.2299V66.6364ZM86.3529 71.9657V79.3137H70.081V71.9657H86.3529Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M92 80.0624L91.4911 82.024C91.0722 83.639 89.8904 84.8535 88.4293 85.1706L80 87L71.5707 85.1706C70.1096 84.8535 68.9278 83.639 68.5089 82.024L68 80.0624M92 80.0624H68M92 80.0624V79.3137M83.7941 66.6364H92V70.2299M83.7941 66.6364L83.1324 65.4385M83.7941 66.6364H76.2059M83.1324 65.4385L84.2794 62.1943M83.1324 65.4385H76.8676M84.2794 62.1943H85.2941L82.4265 60.9964H82.0735M84.2794 62.1943H75.7206M68 80.0624V79.3137M76.2059 66.6364H68V67.0856H69.3235V70.2299M76.2059 66.6364L76.8676 65.4385M76.8676 65.4385L75.7206 62.1943M75.7206 62.1943H74.7059L77.5735 60.9964H77.9265M68 79.3137H70.081M68 79.3137V70.2299H69.3235M92 79.3137H86.3529M92 79.3137V70.2299M86.3529 79.3137V71.9657H70.081V79.3137M86.3529 79.3137H70.081M69.3235 70.2299H92M82.0735 60.9964H81.7206H78.2794H77.9265M82.0735 60.9964L81.8057 59.7842C81.7044 59.3261 81.2984 59 80.8292 59H79.1708C78.7016 59 78.2956 59.3261 78.1943 59.7842L77.9265 60.9964" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,pK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10 74.9115L13.0001 73.5L48.0001 73L52.8784 68.1352H75.4774L76.1648 65.6631L75.0908 62.3099H74.3605L76.6374 60H83.3628L85.6396 62.3099H84.9093L83.8353 65.6631L84.5227 68.1352H107.122L112 73L147 73.5L150 74.9115L150 80.16L147 81.8885L146.846 83.4086C146.791 83.95 146.452 84.3687 146.031 84.4377C145.96 84.4493 145.89 84.4476 145.818 84.4479C144.806 84.451 136.713 84.4895 128.544 84.9172C124.018 85.1541 118.577 85.6275 113.488 86.1336C102.356 87.2408 91.1872 88 80.0001 88C68.813 88 57.6441 87.2408 46.5119 86.1336C41.4228 85.6275 35.9817 85.1541 31.456 84.9172C23.2869 84.4895 15.194 84.451 14.182 84.4479C14.1104 84.4476 14.0397 84.4493 13.969 84.4377C13.5479 84.3687 13.2092 83.95 13.1543 83.4086L13.0001 81.8885L10.0001 80.16L10 74.9115Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M48.0001 73L13.0001 73.5L10 74.9115L10.0001 80.16M48.0001 73L52.8784 68.1352H75.4774M48.0001 73H112M75.4774 68.1352L76.1648 65.6631M75.4774 68.1352H84.5227M76.1648 65.6631L75.0908 62.3099M76.1648 65.6631H83.8353M75.0908 62.3099H74.3605L76.6374 60H83.3628L85.6396 62.3099H84.9093M75.0908 62.3099H84.9093M10.0001 80.16L13.0001 81.8885L13.1543 83.4086C13.2092 83.95 13.5479 84.3687 13.969 84.4377C14.0397 84.4493 14.1104 84.4476 14.182 84.4479C15.194 84.451 23.2869 84.4895 31.456 84.9172C35.9817 85.1541 41.4228 85.6275 46.5119 86.1336C57.6441 87.2408 68.813 88 80.0001 88C91.1872 88 102.356 87.2408 113.488 86.1336C118.577 85.6275 124.018 85.1541 128.544 84.9172C136.713 84.4895 144.806 84.451 145.818 84.4479C145.89 84.4476 145.96 84.4493 146.031 84.4377C146.452 84.3687 146.791 83.95 146.846 83.4086L147 81.8885L150 80.16M10.0001 80.16H150M112 73L147 73.5L150 74.9115L150 80.16M112 73L107.122 68.1352H84.5227M84.5227 68.1352L83.8353 65.6631M83.8353 65.6631L84.9093 62.3099" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,gK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M80.0007 151.999C73.373 152 68 146.627 68 139.999L68 128.776L68 104.642L68 56.7557L68 19.9992C68 13.3717 73.3726 7.99916 80 7.99916C86.6274 7.99916 92 13.3717 92 19.9992L92 23.108L92 56.7557L92 108.092L92 137.357L92 139.999C92 146.626 86.6278 151.999 80.0007 151.999Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M85.8387 85.9422L73.9677 85.9422L73.9677 74.336L85.8387 74.336L85.8387 85.9422Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M92 108.092L86.2419 108.092M92 108.092L92 56.7557M92 108.092L92 137.357M86.2419 108.092L84.4516 104.642L72.9355 104.642L68 104.642M86.2419 108.092L86.2419 137.357L92 137.357M68 104.642L68 128.776L68 139.999C68 146.627 73.373 152 80.0007 151.999V151.999C86.6278 151.999 92 146.626 92 139.999L92 137.357M68 104.642L68 56.7557M68 56.7557L68 19.9992C68 13.3717 73.3726 7.99916 80 7.99916V7.99916V7.99916C86.6274 7.99916 92 13.3717 92 19.9992L92 23.108M68 56.7557L86.2419 56.7557M92 56.7557L86.2419 56.7557M92 56.7557L92 23.108M86.2419 56.7557L86.2419 23.108L92 23.108M73.9677 85.9422L85.8387 85.9422M73.9677 85.9422L73.9677 74.336M73.9677 85.9422L76.5806 83.424M85.8387 85.9422L85.8387 74.336M85.8387 85.9422L83.2258 83.424M85.8387 74.336L73.9677 74.336M85.8387 74.336L83.2258 76.8541M73.9677 74.336L76.5806 76.8541M76.5806 83.424L83.2258 83.424M76.5806 83.424L76.5806 76.8541M83.2258 83.424L83.2258 76.8541M83.2258 76.8541L76.5806 76.8541" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,mK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="60" y="52" width="40" height="3" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M80.0036 77.9545V87C80.0036 87 83.7476 81.9921 82.7622 80C82.1928 78.8489 80.0036 77.9545 80.0036 77.9545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87V77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545C77.2603 79.9697 77.2525 79.9848 77.245 80C76.2596 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80H82.7622C83.7476 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545H65.2344Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M69 64H65.2344V74V79.9545H77.2684C77.8718 78.8255 80.0036 77.9545 80.0036 77.9545L80.0036 64H69Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M94.7728 64H91H80.0036L80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80H94.7728V79.9545V74V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91 64V52H69V64H80.0036H91Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91 52L94 49H66L69 52H91Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M66 49H94H94.7728L93 47.2273H83.0301H81.184H78.8232H76.9771H67.133L65.2344 49H66Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M83.0301 39H77.0036L76.9771 47.2273H78.8232L78.7728 40.4205H81.2344L81.184 47.2273H83.0301V39Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91 64H94.7728V74V79.9545V80M91 64V52M91 64H80.0036M91 52L94 49M91 52H69M94 49H66M94 49H94.7728L93 47.2273H83.0301M66 49L69 52M66 49H65.2344L67.133 47.2273H76.9771M69 52V64M69 64H65.2344V74V79.9545M69 64H80.0036M76.9771 47.2273H83.0301M76.9771 47.2273L77.0036 39H83.0301V47.2273M76.9771 47.2273H78.8232M83.0301 47.2273H81.184M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036M65.2344 79.9545H77.2684M78.8232 47.2273L78.7728 40.4205H81.2344L81.184 47.2273M78.8232 47.2273H81.184M80.0036 64L80.0036 77.9545M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80M80.0036 87V77.9545M80.0036 87C80.0036 87 83.7476 81.9921 82.7622 80M80.0036 87C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545M80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80M80.0036 77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545M82.7622 80H94.7728" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M80.0036 77.9545V87C80.0036 87 83.7476 81.9921 82.7622 80C82.1928 78.8489 80.0036 77.9545 80.0036 77.9545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87V77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545C77.2603 79.9697 77.2525 79.9848 77.245 80C76.2596 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80H82.7622C83.7476 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545H65.2344Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M94.7728 64H92.3113H80.0036L80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80H94.7728V79.9545V74V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036M65.2344 79.9545V74V64H67.6959H80.0036M65.2344 79.9545H77.2684M80.0036 64H92.3113H94.7728V74V79.9545V80M80.0036 64L80.0036 77.9545M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80M80.0036 87V77.9545M80.0036 87C80.0036 87 83.7476 81.9921 82.7622 80M80.0036 87C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545M80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80M80.0036 77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545M82.7622 80H94.7728" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<ellipse cx="87.498" cy="70.0003" rx="1.5" ry="2" transform="rotate(45 87.498 70.0003)" fill="var(--instrument-tick-mark-tertiary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<ellipse cx="72.4983" cy="70" rx="1.5" ry="2" transform="rotate(-45 72.4983 70)" fill="var(--instrument-tick-mark-tertiary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M96 55L91 60" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M64 55L69 60" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,vK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M140.366 87.1181H21.3855V83.0385L12.4844 80V71H18.4844V63L22 44H26V63H32.4844V53.5604V50.1099L31 48.9973L32 48.1429H37.4294L37.2747 38.5H39.5L41.88 48.1429H45.8152C48.7962 48.1429 51.7388 48.8152 54.4239 50.1099H52.5695L50.3443 53.5604V71H117.416L124.833 64.1236H148C148 64.1236 146.5 67 144.5 71C143.302 73.3966 143.5 75.6209 143.5 75.6209C145.701 75.6209 147.484 77.4047 147.484 79.6053V80C147.484 83.9312 144.297 87.1181 140.366 87.1181Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M12.4844 80H147.484M12.4844 80L21.3855 83.0385V87.1181H140.366C144.297 87.1181 147.484 83.9312 147.484 80V80M12.4844 80V71H18.4844M147.484 80V79.6053C147.484 77.4047 145.701 75.6209 143.5 75.6209V75.6209C143.5 75.6209 143.302 73.3966 144.5 71C146.5 67 148 64.1236 148 64.1236H124.833L117.416 71H50.3443M18.4844 71H50.3443M18.4844 71V63L22 44H26V63H32.4844V53.5604M32.4844 53.5604H50.3443M32.4844 53.5604V50.1099M50.3443 53.5604L52.5695 50.1099H32.4844M50.3443 53.5604V71M32.4844 50.1099H54.4239V50.1099C51.7388 48.8152 48.7962 48.1429 45.8152 48.1429H41.88M32.4844 50.1099L31 48.9973L32 48.1429H37.4294M41.88 48.1429L39.5 38.5H37.2747L37.4294 48.1429M41.88 48.1429H37.4294" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<circle cx="136" cy="70" r="2" fill="var(--instrument-tick-mark-tertiary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,yK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M66.5 146.75L66.5 32.1402C66.5 11.5 80 9.25 80 9.25C80 9.25 93.5 11.5 93.5 32.1402L93.5 146.75C93.5 147.855 92.6046 148.75 91.5 148.75L90.125 148.75L69.875 148.75L68.5 148.75C67.3954 148.75 66.5 147.855 66.5 146.75Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M74 122L64 122L64 118L72 118L75 114L85 114L88 118L96 118L96 122L86 122L86 138.75L74 138.75L74 122Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,bK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M80 77.9545V87C80 87 83.744 81.9921 82.7586 80C82.1892 78.8489 80 77.9545 80 77.9545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80 87V77.9545C80 77.9545 77.8682 78.8255 77.2648 79.9545C77.2567 79.9697 77.2489 79.9848 77.2414 80C76.256 81.9921 80 87 80 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80 87H90.7692C92.9784 87 94.7692 85.2091 94.7692 83V80H82.7586C83.744 81.9921 80 87 80 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2308 79.9545V83C65.2308 85.2091 67.0216 87 69.2308 87H80C80 87 76.256 81.9921 77.2414 80C77.2489 79.9848 77.2567 79.9697 77.2648 79.9545H65.2308Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M67.6923 64H65.2308V74V79.9545H77.2648C77.8682 78.8255 80 77.9545 80 77.9545L80 64H67.6923Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M94.7692 64H92.3077H80L80 77.9545C80 77.9545 82.1892 78.8489 82.7586 80H94.7692V79.9545V74V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M92.3077 64V57.75H67.6923V64H80H92.3077Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M92.3077 57.75L94.7692 52.6364H65.2308L67.6923 57.75H92.3077Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2308 52.6364H94.7692H96L92.3077 49.2273H83.0265H81.1804H78.8196H76.9735H67.6923L64 52.6364H65.2308Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M83.0265 41H77L76.9735 49.2273H78.8196L78.7692 42.4205H81.2308L81.1804 49.2273H83.0265V41Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M92.3077 64H94.7692V74V79.9545V80M92.3077 64V57.75M92.3077 64H80M92.3077 57.75L94.7692 52.6364M92.3077 57.75H67.6923M94.7692 52.6364H65.2308M94.7692 52.6364H96L92.3077 49.2273H83.0265M65.2308 52.6364L67.6923 57.75M65.2308 52.6364H64L67.6923 49.2273H76.9735M67.6923 57.75V64M67.6923 64H65.2308V74V79.9545M67.6923 64H80M76.9735 49.2273H83.0265M76.9735 49.2273L77 41H83.0265V49.2273M76.9735 49.2273H78.8196M83.0265 49.2273H81.1804M65.2308 79.9545V83C65.2308 85.2091 67.0216 87 69.2308 87H80M65.2308 79.9545H77.2648M78.8196 49.2273L78.7692 42.4205H81.2308L81.1804 49.2273M78.8196 49.2273H81.1804M80 64L80 77.9545M80 87H90.7692C92.9784 87 94.7692 85.2091 94.7692 83V80M80 87V77.9545M80 87C80 87 83.744 81.9921 82.7586 80M80 87C80 87 76.256 81.9921 77.2414 80C77.2489 79.9848 77.2567 79.9697 77.2648 79.9545M80 77.9545C80 77.9545 82.1892 78.8489 82.7586 80M80 77.9545C80 77.9545 77.8682 78.8255 77.2648 79.9545M82.7586 80H94.7692M75.5862 72L75.0345 71H71.7241L72.2759 72H75.5862ZM83.8621 72L84.4138 71H87.7241L87.1724 72H83.8621Z" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M79.4545 70V65.7333H74V64.1818H74.5455V55.6485V38.1939V19.1879V7.16364H74V6H86V7.16364V64.1818V65.7333H84.0909V70H79.4545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M74.5455 64.1818H74V65.7333H79.4545V70H84.0909V65.7333H86V64.1818M74.5455 64.1818H86M74.5455 64.1818V55.6485M74.5455 7.16364H74V6H86V7.16364M74.5455 7.16364H86M74.5455 7.16364V19.1879M86 64.1818V7.16364M74.5455 19.1879H81.9091M74.5455 19.1879V38.1939M74.5455 38.1939H81.9091M74.5455 38.1939V55.6485M74.5455 55.6485H81.9091" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M80.0036 77.9545V87C80.0036 87 83.7476 81.9921 82.7622 80C82.1928 78.8489 80.0036 77.9545 80.0036 77.9545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87V77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545C77.2603 79.9697 77.2525 79.9848 77.245 80C76.2596 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80H82.7622C83.7476 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545H65.2344Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M67.6959 64H65.2344V74V79.9545H77.2684C77.8718 78.8255 80.0036 77.9545 80.0036 77.9545L80.0036 64H67.6959Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M94.7728 64H92.3113H80.0036L80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80H94.7728V79.9545V74V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036M65.2344 79.9545V74V64H67.6959H80.0036M65.2344 79.9545H77.2684M80.0036 64H92.3113H94.7728V74V79.9545V80M80.0036 64L80.0036 77.9545M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80M80.0036 87V77.9545M80.0036 87C80.0036 87 83.7476 81.9921 82.7622 80M80.0036 87C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545M80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80M80.0036 77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545M82.7622 80H94.7728M75.5898 72L75.0381 71H71.7277L72.2795 72H75.5898ZM83.8657 72L84.4174 71H87.7277L87.176 72H83.8657Z" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,_K=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M119.273 71V66.7333H112V65.1818H112.727V56.6485V39.1939V20.1879V8.16364H112V7H128V8.16364V65.1818V66.7333H125.455V71H119.273Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M112.727 65.1818H112V66.7333H119.273V71H125.455V66.7333H128V65.1818M112.727 65.1818H128M112.727 65.1818V56.6485M112.727 8.16364H112V7H128V8.16364M112.727 8.16364H128M112.727 8.16364V20.1879M128 65.1818V8.16364M112.727 20.1879H122.545M112.727 20.1879V39.1939M112.727 39.1939H122.545M112.727 39.1939V56.6485M112.727 56.6485H122.545" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M140.366 87.1181H21.3855V83.0385L12.4844 80V71V58.5604V54.1099L11 52.9973L12 51.1429H17.4294L17.2747 41.5H19.5L21.88 51.1429H25.2998C28.5783 51.1429 31.7725 52.1816 34.4239 54.1099H32.5695L30.3443 58.5604V71H117.416L124.833 64.1236H146.743C146.743 64.1236 143.808 67.7438 142.292 70.614C141.041 72.9834 139.325 77.1044 139.325 77.1044L143.176 76.4042C145.419 75.9963 147.484 77.7198 147.484 80C147.484 83.9312 144.297 87.1181 140.366 87.1181Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M12.4844 80H147.484M12.4844 80L21.3855 83.0385V87.1181H140.366C144.297 87.1181 147.484 83.9312 147.484 80V80M12.4844 80V71M147.484 80V80C147.484 77.7198 145.419 75.9963 143.176 76.4042L139.325 77.1044C139.325 77.1044 141.041 72.9834 142.292 70.614C143.808 67.7438 146.743 64.1236 146.743 64.1236H124.833L117.416 71H30.3443M12.4844 71V58.5604M12.4844 71H30.3443M12.4844 58.5604H30.3443M12.4844 58.5604V54.1099M30.3443 58.5604L32.5695 54.1099H12.4844M30.3443 58.5604V71M12.4844 54.1099H34.4239V54.1099C31.7725 52.1816 28.5783 51.1429 25.2998 51.1429H21.88M12.4844 54.1099L11 52.9973L12 51.1429H17.4294M21.88 51.1429L19.5 41.5H17.2747L17.4294 51.1429M21.88 51.1429H17.4294" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M95.2727 71V66.7333H88V65.1818H88.7273V56.6485V39.1939V20.1879V8.16364H88V7H104V8.16364V65.1818V66.7333H101.455V71H95.2727Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M88.7273 65.1818H88V66.7333H95.2727V71H101.455V66.7333H104V65.1818M88.7273 65.1818H104M88.7273 65.1818V56.6485M88.7273 8.16364H88V7H104V8.16364M88.7273 8.16364H104M88.7273 8.16364V20.1879M104 65.1818V8.16364M88.7273 20.1879H98.5455M88.7273 20.1879V39.1939M88.7273 39.1939H98.5455M88.7273 39.1939V56.6485M88.7273 56.6485H98.5455" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M71.2727 71V66.7333H64V65.1818H64.7273V56.6485V39.1939V20.1879V8.16364H64V7H80V8.16364V65.1818V66.7333H77.4545V71H71.2727Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M64.7273 65.1818H64V66.7333H71.2727V71H77.4545V66.7333H80V65.1818M64.7273 65.1818H80M64.7273 65.1818V56.6485M64.7273 8.16364H64V7H80V8.16364M64.7273 8.16364H80M64.7273 8.16364V20.1879M80 65.1818V8.16364M64.7273 20.1879H74.5455M64.7273 20.1879V39.1939M64.7273 39.1939H74.5455M64.7273 39.1939V56.6485M64.7273 56.6485H74.5455" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M47.2727 71V66.7333H40V65.1818H40.7273V56.6485V39.1939V20.1879V8.16364H40V7H56V8.16364V65.1818V66.7333H53.4545V71H47.2727Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M40.7273 65.1818H40V66.7333H47.2727V71H53.4545V66.7333H56V65.1818M40.7273 65.1818H56M40.7273 65.1818V56.6485M40.7273 8.16364H40V7H56V8.16364M40.7273 8.16364H56M40.7273 8.16364V20.1879M56 65.1818V8.16364M40.7273 20.1879H50.5455M40.7273 20.1879V39.1939M40.7273 39.1939H50.5455M40.7273 39.1939V56.6485M40.7273 56.6485H50.5455" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,wK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M66.5 146.75L66.5 32.1402C66.5 11.5 80 9.25 80 9.25C80 9.25 93.5 11.5 93.5 32.1402L93.5 146.75C93.5 147.855 92.6046 148.75 91.5 148.75L90.125 148.75L69.875 148.75L68.5 148.75C67.3954 148.75 66.5 147.855 66.5 146.75Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M74 140L64 140L64 128L72 128L75 124L85 124L88 128L96 128L96 140L86 140L86 148.75L74 148.75L74 140Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M76.3472 21.6677C78.2643 22.1593 79.8323 23.5259 80.5811 25.3486L80.7239 25.7307L83.565 34.1692L77.6776 27.4895C76.2735 25.8965 75.7779 23.7047 76.3472 21.6677Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M76.3472 45.6667C78.2643 46.1584 79.8323 47.5249 80.5811 49.3476L80.7239 49.7297L83.565 58.1682L77.6776 51.4885C76.2735 49.8955 75.7779 47.7037 76.3472 45.6667Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M76.3472 69.6667C78.2643 70.1584 79.8323 71.5249 80.5811 73.3476L80.7239 73.7297L83.565 82.1682L77.6776 75.4885C76.2735 73.8955 75.7779 71.7037 76.3472 69.6667Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M76.3472 93.6667C78.2643 94.1584 79.8323 95.5249 80.5811 97.3476L80.7239 97.7297L83.565 106.168L77.6776 99.4885C76.2735 97.8955 75.7779 95.7037 76.3472 93.6667Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,CK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M132.366 87.1181H29.3855V83.0385L20.4844 80V71.5412H24V68.7912H20.4844V66.0412H24V51.1429H31.5L36 66.0412H48L51.5 71.5412H54.4157L55.575 61.5604L54.0915 57.1099H52.608L54.4157 54.1429H57.4294L54.4624 44.5H56.6877L61.88 54.1429C65.3312 54.1429 68.772 54.5206 72.1409 55.2692L80.4239 57.1099H78.5695L76.3443 61.5604L88.5 71.0827C102.374 69.3897 109.424 63.1236 109.424 63.1236H118L115.5 51.1429H118L122 63.1236H140.743C132 69.5 130.325 77.1044 130.325 77.1044L135.162 76.321C137.428 75.9539 139.484 77.7039 139.484 80C139.484 83.9312 136.297 87.1181 132.366 87.1181Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M20.4844 80H139.484M20.4844 80L29.3855 83.0385V87.1181H132.366C136.297 87.1181 139.484 83.9312 139.484 80V80M20.4844 80V71.5412H24V68.7912H20.4844V66.0412H24M139.484 80V80C139.484 77.7039 137.428 75.9539 135.162 76.321L130.325 77.1044C130.325 77.1044 132 69.5 140.743 63.1236H122M54.4157 71.5412C54.4157 71.5412 75.9997 71.5 81.5 71.5C100 71.5 109.424 63.1236 109.424 63.1236H118M54.4157 71.5412L55.575 61.5604M54.4157 71.5412H51.5L48 66.0412H36M55.575 61.5604H76.3443M55.575 61.5604L54.0915 57.1099H78.5695L76.3443 61.5604M76.3443 61.5604L88.5 71.0827M61.88 54.1429V54.1429C65.3312 54.1429 68.772 54.5206 72.1409 55.2692L80.4239 57.1099H52.608L54.4157 54.1429H57.4294M61.88 54.1429L56.6877 44.5H54.4624L57.4294 54.1429M61.88 54.1429H57.4294M24 66.0412V51.1429H31.5L36 66.0412M24 66.0412H36M122 63.1236L118 51.1429H115.5L118 63.1236M122 63.1236H118" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,xK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M80 18.25C80 18.25 93.5 18.25 93.5 51.1402L93.5 94.2378L93.5 122L93.5 128L93.5 135L93.5 139.75C93.5 140.855 92.6046 141.75 91.5 141.75L90.125 141.75L69.875 141.75L68.5 141.75C67.3954 141.75 66.5 140.855 66.5 139.75L66.5 135L66.5 128L66.5 122L66.5 51.1402C66.5 18.25 80 18.25 80 18.25Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M66.5 135L66.5 139.75C66.5 140.855 67.3954 141.75 68.5 141.75L69.875 141.75L90.125 141.75L91.5 141.75C92.6046 141.75 93.5 140.855 93.5 139.75L93.5 135M66.5 135L93.5 135M66.5 135L66.5 128M93.5 135L93.5 128M93.5 122L93.5 94.2378L93.5 51.1402C93.5 18.25 80 18.25 80 18.25C80 18.25 66.5 18.25 66.5 51.1402L66.5 122M93.5 122L93.5 128M93.5 122L88 122L88 128M93.5 128L88 128M66.5 128L66.5 122M66.5 128L72 128M88 128L72 128M66.5 122L72 122L72 128M82 34L81.5 42.5L78.5 42.5L78 34L82 34Z" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M71 103.375L64.25 103.375L64.25 94.375C64.25 94.375 67.4029 89.009 69.5 86C71.7705 82.7422 75.5 78.625 75.5 78.625L84.5 78.625C84.5 78.625 87.8347 82.9839 90 86C92.2512 89.1357 95.75 94.375 95.75 94.375L95.75 103.375L89 103.375L85.625 103.5L74.375 103.5L71 103.375Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M74.375 103.5L71 103.375L64.25 103.375L64.25 94.375C64.25 94.375 67.4029 89.009 69.5 86C71.7705 82.7422 75.5 78.625 75.5 78.625M74.375 103.5L85.625 103.5M74.375 103.5L74.375 91C74.6384 86.5926 75.5 78.625 75.5 78.625M85.625 103.5L89 103.375L95.75 103.375L95.75 94.375C95.75 94.375 92.2512 89.1357 90 86C87.8347 82.9839 84.5 78.625 84.5 78.625M85.625 103.5L85.625 91C85.3616 86.5925 84.5 78.625 84.5 78.625M84.5 78.625L75.5 78.625" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M85.625 97.625L85.625 103.25L83.375 104.375L76.625 104.375L74.375 103.25L74.375 97.625L76.625 101L83.375 101L85.625 97.625Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M83.375 101L85.625 97.625L85.625 103.25L83.375 104.375M83.375 101L76.625 101M83.375 101L83.375 104.375M76.625 101L74.375 97.625L74.375 103.25L76.625 104.375M76.625 101L76.625 104.375M76.625 104.375L83.375 104.375" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,EK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M68 66.6364H76.2059L76.8676 65.4385L75.7206 62.1943H74.7059L77.5735 60.9964H77.9265L78.1943 59.7842C78.2956 59.3261 78.7016 59 79.1708 59H80.8292C81.2984 59 81.7044 59.3261 81.8057 59.7842L82.0735 60.9964H82.4265L85.2941 62.1943H84.2794L83.1324 65.4385L83.7941 66.6364H92V67.0856H90.6765V70.2299H92V79.3137V80.0624L91.4911 82.024C91.0722 83.639 89.8904 84.8535 88.4293 85.1706L80 87L71.5707 85.1706C70.1096 84.8535 68.9278 83.639 68.5089 82.024L68 80.0624V79.3137V70.2299V66.6364ZM73.6471 71.9657V79.3137H89.919V71.9657H73.6471Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M68 80.0624L68.5089 82.024C68.9278 83.639 70.1096 84.8535 71.5707 85.1706L80 87L88.4293 85.1706C89.8904 84.8535 91.0722 83.639 91.4911 82.024L92 80.0624M68 80.0624H92M68 80.0624V79.3137M76.2059 66.6364H68V70.2299M76.2059 66.6364L76.8676 65.4385M76.2059 66.6364H83.7941M76.8676 65.4385L75.7206 62.1943M76.8676 65.4385H83.1324M75.7206 62.1943H74.7059L77.5735 60.9964H77.9265M75.7206 62.1943H84.2794M92 80.0624V79.3137M83.7941 66.6364H92V67.0856H90.6765V70.2299M83.7941 66.6364L83.1324 65.4385M83.1324 65.4385L84.2794 62.1943M84.2794 62.1943H85.2941L82.4265 60.9964H82.0735M92 79.3137H89.919M92 79.3137V70.2299H90.6765M68 79.3137H73.6471M68 79.3137V70.2299M73.6471 79.3137V71.9657H89.919V79.3137M73.6471 79.3137H89.919M90.6765 70.2299H68M77.9265 60.9964H78.2794H81.7206H82.0735M77.9265 60.9964L78.1943 59.7842C78.2956 59.3261 78.7016 59 79.1708 59H80.8292C81.2984 59 81.7044 59.3261 81.8057 59.7842L82.0735 60.9964" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,TK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<mask id="path-1-inside-1_208_29995" fill="var(--instrument-frame-primary-color)">
<path d="M125.032 93.6077C139.926 93.6077 152 81.5337 152 66.6396L11.7453 66.6396L11.7453 93.6076L125.032 93.6077Z"/>
</mask>
<path d="M125.032 93.6077C139.926 93.6077 152 81.5337 152 66.6396L11.7453 66.6396L11.7453 93.6076L125.032 93.6077Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M152 66.6396L154 66.6396L154 64.6396L152 64.6396L152 66.6396ZM11.7453 66.6396L11.7453 64.6396L9.74529 64.6396L9.74529 66.6396L11.7453 66.6396ZM11.7453 93.6076L9.74528 93.6076L9.74528 95.6076L11.7453 95.6076L11.7453 93.6076ZM125.032 95.6077C141.031 95.6077 154 82.6382 154 66.6396L150 66.6396C150 80.4291 138.821 91.6077 125.032 91.6077L125.032 95.6077ZM152 64.6396L11.7453 64.6396L11.7453 68.6396L152 68.6396L152 64.6396ZM9.74529 66.6396L9.74528 93.6076L13.7453 93.6076L13.7453 66.6396L9.74529 66.6396ZM11.7453 95.6076L125.032 95.6077L125.032 91.6077L11.7453 91.6076L11.7453 95.6076Z" fill="var(--instrument-tick-mark-tertiary-color)" mask="url(#path-1-inside-1_208_29995)"/>
</svg>
`,LK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<mask id="path-1-inside-1_208_29982" fill="var(--instrument-frame-primary-color)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M80 9.18359C71.6308 14.0249 66 23.0737 66 33.4377L66 151.06L94 151.06L94 33.4377C94 23.0737 88.3692 14.0249 80 9.18359Z"/>
</mask>
<path fill-rule="evenodd" clip-rule="evenodd" d="M80 9.18359C71.6308 14.0249 66 23.0737 66 33.4377L66 151.06L94 151.06L94 33.4377C94 23.0737 88.3692 14.0249 80 9.18359Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80 9.18359L81.0014 7.45238L80 6.87307L78.9985 7.45238L80 9.18359ZM66 151.06L64 151.06L64 153.06L66 153.06L66 151.06ZM94 151.06L94 153.06L96 153.06L96 151.06L94 151.06ZM68 33.4377C68 23.8165 73.2248 15.4133 81.0014 10.9148L78.9985 7.45238C70.0367 12.6365 64 22.3309 64 33.4377L68 33.4377ZM64 33.4377L64 151.06L68 151.06L68 33.4377L64 33.4377ZM66 153.06L94 153.06L94 149.06L66 149.06L66 153.06ZM96 151.06L96 33.4377L92 33.4377L92 151.06L96 151.06ZM96 33.4377C96 22.3309 89.9633 12.6365 81.0014 7.45238L78.9985 10.9148C86.7752 15.4133 92 23.8165 92 33.4377L96 33.4377Z" fill="var(--instrument-tick-mark-tertiary-color)" mask="url(#path-1-inside-1_208_29982)"/>
</svg>
`,SK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M67.1154 52.6364H93.8846H95L91.6538 49.2273H85.9615H75.0385H69.3462L66 52.6364H67.1154Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M67.1154 79.9545H93.8846V74H91.6538H69.3462H67.1154V79.9545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M67.1154 83C67.1154 85.2091 68.9062 87 71.1154 87H89.8846C92.0938 87 93.8846 85.2091 93.8846 83V79.9545H67.1154V83Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M69.3462 64H67.1154V74H69.3462V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91.6538 64V57.75H69.3462V64V74H91.6538V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M93.8846 64H91.6538V74H93.8846V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91.6538 57.75L93.8846 52.6364H67.1154L69.3462 57.75H91.6538Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M82.7308 41H78.2692L75.0385 49.2273H76.7115L79.3846 42.4205H81.6154L84.2885 49.2273H85.9615L82.7308 41Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91.6538 64H93.8846V74M91.6538 64V57.75M91.6538 64V74M91.6538 57.75L93.8846 52.6364M91.6538 57.75H69.3462M93.8846 52.6364H67.1154M93.8846 52.6364H95L91.6538 49.2273H85.9615M67.1154 52.6364L69.3462 57.75M67.1154 52.6364H66L69.3462 49.2273H75.0385M69.3462 57.75V64M69.3462 64H67.1154V74M69.3462 64V74M75.0385 49.2273H85.9615M75.0385 49.2273L78.2692 41H82.7308L85.9615 49.2273M75.0385 49.2273H76.7115L79.3846 42.4205H81.6154L84.2885 49.2273H85.9615M93.8846 79.9545V83C93.8846 85.2091 92.0938 87 89.8846 87H71.1154C68.9062 87 67.1154 85.2091 67.1154 83V79.9545M93.8846 79.9545H67.1154M93.8846 79.9545V74M67.1154 79.9545V74M67.1154 74H69.3462M93.8846 74H91.6538M91.6538 74H69.3462" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,AK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M80 77.9545V87C80 87 83.744 81.9921 82.7586 80C82.1892 78.8489 80 77.9545 80 77.9545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80 87V77.9545C80 77.9545 77.8682 78.8255 77.2648 79.9545C77.2567 79.9697 77.2489 79.9848 77.2414 80C76.256 81.9921 80 87 80 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80 87H90.7692C92.9784 87 94.7692 85.2091 94.7692 83V80H82.7586C83.744 81.9921 80 87 80 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2308 79.9545V83C65.2308 85.2091 67.0216 87 69.2308 87H80C80 87 76.256 81.9921 77.2414 80C77.2489 79.9848 77.2567 79.9697 77.2648 79.9545H65.2308Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M67.6923 64H65.2308V74V79.9545H77.2648C77.8682 78.8255 80 77.9545 80 77.9545L80 64H67.6923Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M94.7692 64H92.3077H80L80 77.9545C80 77.9545 82.1892 78.8489 82.7586 80H94.7692V79.9545V74V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M92.3077 64V57.75H67.6923V64H80H92.3077Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M92.3077 57.75L94.7692 52.6364H65.2308L67.6923 57.75H92.3077Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2308 52.6364H94.7692H96L92.3077 49.2273H86.0265H84.1804H75.8196H73.9735H67.6923L64 52.6364H65.2308Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M82.4615 41H77.5385L73.9735 49.2273H75.8196L78.7692 42.4205H81.2308L84.1804 49.2273H86.0265L82.4615 41Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M92.3077 64H94.7692V74V79.9545V80M92.3077 64V57.75M92.3077 64H80M92.3077 57.75L94.7692 52.6364M92.3077 57.75H67.6923M94.7692 52.6364H65.2308M94.7692 52.6364H96L92.3077 49.2273H86.0265M65.2308 52.6364L67.6923 57.75M65.2308 52.6364H64L67.6923 49.2273H73.9735M67.6923 57.75V64M67.6923 64H65.2308V74V79.9545M67.6923 64H80M73.9735 49.2273H86.0265M73.9735 49.2273L77.5385 41H82.4615L86.0265 49.2273M73.9735 49.2273H75.8196M86.0265 49.2273H84.1804M65.2308 79.9545V83C65.2308 85.2091 67.0216 87 69.2308 87H80M65.2308 79.9545H77.2648M75.8196 49.2273L78.7692 42.4205H81.2308L84.1804 49.2273M75.8196 49.2273H84.1804M80 64L80 77.9545M80 87H90.7692C92.9784 87 94.7692 85.2091 94.7692 83V80M80 87V77.9545M80 87C80 87 83.744 81.9921 82.7586 80M80 87C80 87 76.256 81.9921 77.2414 80C77.2489 79.9848 77.2567 79.9697 77.2648 79.9545M80 77.9545C80 77.9545 82.1892 78.8489 82.7586 80M80 77.9545C80 77.9545 77.8682 78.8255 77.2648 79.9545M82.7586 80H94.7692M75.5862 72L75.0345 71H71.7241L72.2759 72H75.5862ZM83.8621 72L84.4138 71H87.7241L87.1724 72H83.8621Z" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,kK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M140.366 87.1181H21.3855V83.0385L12.4844 80V71.5412H92.5943L105.575 58.5604L104.092 54.1099H102.608L104.092 52.9973H106.688V51.1429H107.429L104.462 41.5H106.688L111.88 51.1429C115.331 51.1429 118.772 51.5206 122.141 52.2692L130.424 54.1099H128.57L126.344 58.5604L131.907 64.1236H146.743C146.743 64.1236 143.808 67.7438 142.292 70.614C141.041 72.9834 139.325 77.1044 139.325 77.1044L143.176 76.4042C145.419 75.9963 147.484 77.7198 147.484 80C147.484 83.9312 144.297 87.1181 140.366 87.1181Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M12.4844 80H147.484M12.4844 80L21.3855 83.0385V87.1181H140.366C144.297 87.1181 147.484 83.9312 147.484 80V80M12.4844 80V71.5412H92.5943M147.484 80V80C147.484 77.7198 145.419 75.9963 143.176 76.4042L139.325 77.1044C139.325 77.1044 141.041 72.9834 142.292 70.614C143.808 67.7438 146.743 64.1236 146.743 64.1236H131.907M92.5943 71.5412H97.4157L104.833 64.1236H131.907M92.5943 71.5412L105.575 58.5604M105.575 58.5604H126.344M105.575 58.5604L104.092 54.1099H128.57L126.344 58.5604M126.344 58.5604L131.907 64.1236M111.88 51.1429V51.1429C115.331 51.1429 118.772 51.5206 122.141 52.2692L130.424 54.1099H102.608L104.092 52.9973H106.688V51.1429H107.429M111.88 51.1429L106.688 41.5H104.462L107.429 51.1429M111.88 51.1429H107.429" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,IK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M66.5 74.4634L66.5 42.1402C66.5 9.25 80 9.25 80 9.25C80 9.25 93.5 9.25 93.5 42.1402L93.5 85.2378L93.5 146.75C93.5 147.855 92.6046 148.75 91.5 148.75L90.125 148.75L69.875 148.75L68.5 148.75C67.3954 148.75 66.5 147.855 66.5 146.75L66.5 74.4634Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M66.5 74.4634L71 67.6585L71 61.9878L89.5625 61.9878L89.5625 81.2683L93.5 85.2378M93.5 85.2378L93.5 146.75C93.5 147.855 92.6046 148.75 91.5 148.75L90.125 148.75L69.875 148.75L68.5 148.75C67.3954 148.75 66.5 147.855 66.5 146.75L66.5 42.1402C66.5 9.25 80 9.25 80 9.25C80 9.25 93.5 9.25 93.5 42.1402L93.5 85.2378Z" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M71 55.375L64.25 55.375L64.25 46.375L71 41.875L75.5 30.625L84.5 30.625L89 41.875L95.75 46.375L95.75 55.375L89 55.375L85.625 58.75L74.375 58.75L71 55.375Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M74.375 58.75L71 55.375L64.25 55.375L64.25 46.375L71 41.875L75.5 30.625M74.375 58.75L85.625 58.75M74.375 58.75L74.375 43C74.6384 38.5926 75.5 30.625 75.5 30.625M85.625 58.75L89 55.375L95.75 55.375L95.75 46.375L89 41.875L84.5 30.625M85.625 58.75L85.625 43C85.3616 38.5926 84.5 30.625 84.5 30.625M84.5 30.625L75.5 30.625" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M85.625 49.625L85.625 55.25L83.375 56.375L76.625 56.375L74.375 55.25L74.375 49.625L76.625 53L83.375 53L85.625 49.625Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M83.375 53L85.625 49.625L85.625 55.25L83.375 56.375M83.375 53L76.625 53M83.375 53L83.375 56.375M76.625 53L74.375 49.625L74.375 55.25L76.625 56.375M76.625 53L76.625 56.375M76.625 56.375L83.375 56.375" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,MK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.3861 87.1181H140.367C144.298 87.1181 147.485 83.9312 147.485 80C147.485 77.3161 145.721 75.4558 143.354 74.1896C142.097 73.5171 141.313 72.47 142.293 70.614C143.809 67.7438 147.485 61 147.485 61C139.641 59.2601 125.9 58.5457 110.345 58.2682V55.5604L112.57 51.1099H114.425L106.142 49.2692C102.773 48.5206 99.3318 48.1429 95.8807 48.1429L94.7268 46H102.001L104.834 43H93.0345L90.6883 38.5H88.4631L90.2323 43H74.5007V26H64.0007V71.5412H8.48505C8.48505 71.5412 7.50138 78 12.485 80L21.3861 83.0385V87.1181ZM75.8339 58.1236L74.5007 60.5354V48.1429V46H90.7708L91.4301 48.1429H89.6883L86.6883 49.9973H77.0922L75.6087 51.1099H77.0922L78.5757 55.5604V58.1199C77.6695 58.1223 76.7557 58.1236 75.8339 58.1236Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M12.485 80C65.2058 80 147.485 80 147.485 80M12.485 80C15.9611 81.1866 21.3861 83.0385 21.3861 83.0385M12.485 80C7.50138 78 8.48505 71.5412 8.48505 71.5412H64.0007M12.485 80L21.3861 83.0385M147.485 80V80C147.485 83.9312 144.298 87.1181 140.367 87.1181V87.1181M147.485 80V80C147.485 77.3161 145.721 75.4557 143.354 74.1896V74.1896M147.485 80C147.485 77.3161 145.721 75.4558 143.354 74.1896M147.485 80C147.485 83.9312 144.298 87.1181 140.367 87.1181M21.3861 83.0385V87.1181H140.367M147.485 61C147.485 61 143.809 67.7438 142.293 70.614C141.313 72.47 142.097 73.5171 143.354 74.1896M147.485 61C134.501 58.1199 105.36 58.0499 78.5757 58.1199M147.485 61C139.641 59.2601 125.9 58.5457 110.345 58.2682V55.5604M78.5757 55.5604H110.345M78.5757 55.5604L77.0922 51.1099M78.5757 55.5604V58.1199M110.345 55.5604L112.57 51.1099M112.57 51.1099H77.0922M112.57 51.1099H114.425M77.0922 51.1099H75.6087M75.6087 51.1099H114.425M75.6087 51.1099L77.0922 49.9973H86.6883L89.6883 48.1429H91.4301M114.425 51.1099L106.142 49.2692M95.8807 48.1429V48.1429C99.3318 48.1429 102.773 48.5206 106.142 49.2692V49.2692M95.8807 48.1429H91.4301M95.8807 48.1429L94.7268 46M95.8807 48.1429C99.3318 48.1429 102.773 48.5206 106.142 49.2692M91.4301 48.1429L90.7708 46M64.0007 71.5412V26H74.5007V43M64.0007 71.5412H68.4164L74.5007 60.5354M74.5007 46V48.1429V60.5354M74.5007 46V43M74.5007 46H90.7708M74.5007 43H90.2323M93.0345 43H104.834L102.001 46H94.7268M93.0345 43L90.6883 38.5H88.4631L90.2323 43M93.0345 43H90.2323M90.7708 46H94.7268M74.5007 60.842V60.5354M78.5757 58.1199C77.6695 58.1223 76.7557 58.1236 75.8339 58.1236L74.5007 60.5354" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,PK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M66.5 81L66.5 42.1402C66.5 9.25 80 9.25 80 9.25C80 9.25 93.5 9.25 93.5 42.1402L93.5 81L93.5 135.25C93.5 142.706 87.4558 148.75 80 148.75C72.5442 148.75 66.5 142.706 66.5 135.25L66.5 81Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M66.5 81L73 81L73 77.9878L87 77.9878L87 81L93.5 81M93.5 81L93.5 135.25C93.5 142.706 87.4558 148.75 80 148.75V148.75C72.5442 148.75 66.5 142.706 66.5 135.25L66.5 42.1402C66.5 9.25 80 9.25 80 9.25C80 9.25 93.5 9.25 93.5 42.1402L93.5 81Z" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M74.375 80.125L71.5 84L67 84L64 80L64 65L71 59.25L75.5 46L84.5 46L89 59.25L96 65L96 80.125L93 84L88.5 84L85.625 80.125L85.625 76L74.375 76L74.375 80.125Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M84.5 46L89 59.25L96 65L96 80.125L93 84L88.5 84L85.625 80.125L85.625 76M84.5 46L75.5 46M84.5 46C84.5 46 85.3616 55.5926 85.625 60L85.625 76M75.5 46L71 59.25L64 65L64 80L67 84L71.5 84L74.375 80.125L74.375 76M75.5 46C75.5 46 74.6384 55.5926 74.375 60L74.375 76M74.375 76L85.625 76" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M85.625 65L85.625 70.625L83.375 71.75L76.625 71.75L74.375 70.625L74.375 65L76.625 68.375L83.375 68.375L85.625 65Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M83.375 68.375L85.625 65L85.625 70.625L83.375 71.75M83.375 68.375L76.625 68.375M83.375 68.375L83.375 71.75M76.625 68.375L74.375 65L74.375 70.625L76.625 71.75M76.625 68.375L76.625 71.75M76.625 71.75L83.375 71.75" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<rect x="82.4185" y="91.8209" width="5" height="31" transform="rotate(-150 82.4185 91.8209)" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<circle cx="79.9992" cy="91.0031" r="5.5" transform="rotate(-150 79.9992 91.0031)" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,RK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="60" y="52" width="40" height="3" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M80.0036 77.9545V87C80.0036 87 83.7476 81.9921 82.7622 80C82.1928 78.8489 80.0036 77.9545 80.0036 77.9545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87V77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545C77.2603 79.9697 77.2525 79.9848 77.245 80C76.2596 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80H82.7622C83.7476 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545H65.2344Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M69 64H65.2344V74V79.9545H77.2684C77.8718 78.8255 80.0036 77.9545 80.0036 77.9545L80.0036 64H69Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M94.7728 64H91H80.0036L80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80H94.7728V79.9545V74V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91 64V52H69V64H80.0036H91Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91 52L94 49H66L69 52H91Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M66 49H94H94.7728L93 47.2273H83.0301H81.184H78.8232H76.9771H67.133L65.2344 49H66Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M83.0301 39H77.0036L76.9771 47.2273H78.8232L78.7728 40.4205H81.2344L81.184 47.2273H83.0301V39Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M91 64H94.7728V74V79.9545V80M91 64V52M91 64H80.0036M91 52L94 49M91 52H69M94 49H66M94 49H94.7728L93 47.2273H83.0301M66 49L69 52M66 49H65.2344L67.133 47.2273H76.9771M69 52V64M69 64H65.2344V74V79.9545M69 64H80.0036M76.9771 47.2273H83.0301M76.9771 47.2273L77.0036 39H83.0301V47.2273M76.9771 47.2273H78.8232M83.0301 47.2273H81.184M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036M65.2344 79.9545H77.2684M78.8232 47.2273L78.7728 40.4205H81.2344L81.184 47.2273M78.8232 47.2273H81.184M80.0036 64L80.0036 77.9545M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80M80.0036 87V77.9545M80.0036 87C80.0036 87 83.7476 81.9921 82.7622 80M80.0036 87C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545M80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80M80.0036 77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545M82.7622 80H94.7728" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M80.0036 77.9545V87C80.0036 87 83.7476 81.9921 82.7622 80C82.1928 78.8489 80.0036 77.9545 80.0036 77.9545Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87V77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545C77.2603 79.9697 77.2525 79.9848 77.245 80C76.2596 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80H82.7622C83.7476 81.9921 80.0036 87 80.0036 87Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545H65.2344Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M94.7728 64H92.3113H80.0036L80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80H94.7728V79.9545V74V64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M65.2344 79.9545V83C65.2344 85.2091 67.0252 87 69.2344 87H80.0036M65.2344 79.9545V74V64H67.6959H80.0036M65.2344 79.9545H77.2684M80.0036 64H92.3113H94.7728V74V79.9545V80M80.0036 64L80.0036 77.9545M80.0036 87H90.7728C92.982 87 94.7728 85.2091 94.7728 83V80M80.0036 87V77.9545M80.0036 87C80.0036 87 83.7476 81.9921 82.7622 80M80.0036 87C80.0036 87 76.2596 81.9921 77.245 80C77.2525 79.9848 77.2603 79.9697 77.2684 79.9545M80.0036 77.9545C80.0036 77.9545 82.1928 78.8489 82.7622 80M80.0036 77.9545C80.0036 77.9545 77.8718 78.8255 77.2684 79.9545M82.7622 80H94.7728" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M92.09 64H67.8359C70.2566 59.8154 74.781 57 79.963 57C85.145 57 89.6694 59.8154 92.09 64Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M67.8359 64L67.4031 63.7496L66.9691 64.5H67.8359V64ZM92.09 64V64.5H92.9569L92.5228 63.7496L92.09 64ZM67.8359 64.5H92.09V63.5H67.8359V64.5ZM68.2687 64.2504C70.6037 60.2139 74.9667 57.5 79.963 57.5V56.5C74.5953 56.5 69.9095 59.4169 67.4031 63.7496L68.2687 64.2504ZM79.963 57.5C84.9593 57.5 89.3223 60.2139 91.6572 64.2504L92.5228 63.7496C90.0165 59.4169 85.3307 56.5 79.963 56.5V57.5Z" fill="var(--instrument-tick-mark-tertiary-color)"/>
<ellipse cx="87.498" cy="70.0003" rx="1.5" ry="2" transform="rotate(45 87.498 70.0003)" fill="var(--instrument-tick-mark-tertiary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<ellipse cx="72.4983" cy="70" rx="1.5" ry="2" transform="rotate(-45 72.4983 70)" fill="var(--instrument-tick-mark-tertiary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M96 55L91 60" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M64 55L69 60" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,DK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M53.0312 72H80.9609C80.4482 64.7347 74.3918 59 66.9961 59C59.6003 59 53.544 64.7347 53.0312 72ZM139.961 72C139.448 64.7347 133.392 59 125.996 59C118.6 59 112.544 64.7347 112.031 72H139.961ZM110.961 72C110.448 64.7347 104.392 59 96.9961 59C89.6003 59 83.544 64.7347 83.0312 72H110.961Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M53.0312 72L52.5325 71.9648L52.4947 72.5H53.0312V72ZM80.9609 72V72.5H81.4975L81.4597 71.9648L80.9609 72ZM139.961 72V72.5H140.497L140.46 71.9648L139.961 72ZM112.031 72L111.532 71.9648L111.495 72.5H112.031V72ZM110.961 72V72.5H111.497L111.46 71.9648L110.961 72ZM83.0312 72L82.5325 71.9648L82.4947 72.5H83.0312V72ZM53.0312 72.5H80.9609V71.5H53.0312V72.5ZM81.4597 71.9648C80.9286 64.4396 74.6562 58.5 66.9961 58.5V59.5C74.1275 59.5 79.9678 65.0299 80.4622 72.0352L81.4597 71.9648ZM66.9961 58.5C59.336 58.5 53.0636 64.4396 52.5325 71.9648L53.53 72.0352C54.0244 65.0299 59.8647 59.5 66.9961 59.5V58.5ZM140.46 71.9648C139.929 64.4396 133.656 58.5 125.996 58.5V59.5C133.127 59.5 138.968 65.0299 139.462 72.0352L140.46 71.9648ZM125.996 58.5C118.336 58.5 112.064 64.4396 111.532 71.9648L112.53 72.0352C113.024 65.0299 118.865 59.5 125.996 59.5V58.5ZM112.031 72.5H139.961V71.5H112.031V72.5ZM111.46 71.9648C110.929 64.4396 104.656 58.5 96.9961 58.5V59.5C104.127 59.5 109.968 65.0299 110.462 72.0352L111.46 71.9648ZM96.9961 58.5C89.336 58.5 83.0636 64.4396 82.5325 71.9648L83.53 72.0352C84.0244 65.0299 89.8647 59.5 96.9961 59.5V58.5ZM83.0312 72.5H110.961V71.5H83.0312V72.5Z" fill="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M140.366 87.1181H21.3855V83.0385L12.4844 80V71H18.4844V63L22 44H26V63H32.4844V53.5604V50.1099L31 48.9973L32 48.1429H37.4294L37.2747 38.5H39.5L41.88 48.1429H45.8152C48.7962 48.1429 51.7388 48.8152 54.4239 50.1099H52.5695L50.3443 53.5604V71H117.416L124.833 64.1236H148C148 64.1236 148 68.5 145.5 71C143.605 72.8947 143.5 75.6209 143.5 75.6209C145.701 75.6209 147.484 77.4047 147.484 79.6053V80C147.484 83.9312 144.297 87.1181 140.366 87.1181Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M12.4844 80H147.484M12.4844 80L21.3855 83.0385V87.1181H140.366C144.297 87.1181 147.484 83.9312 147.484 80V80M12.4844 80V71H18.4844M147.484 80V79.6053C147.484 77.4047 145.701 75.6209 143.5 75.6209V75.6209C143.5 75.6209 143.605 72.8947 145.5 71C148 68.5 148 64.1236 148 64.1236H124.833L117.416 71H50.3443M18.4844 71H50.3443M18.4844 71V63L22 44H26V63H32.4844V53.5604M32.4844 53.5604H50.3443M32.4844 53.5604V50.1099M50.3443 53.5604L52.5695 50.1099H32.4844M50.3443 53.5604V71M32.4844 50.1099H54.4239V50.1099C51.7388 48.8152 48.7962 48.1429 45.8152 48.1429H41.88M32.4844 50.1099L31 48.9973L32 48.1429H37.4294M41.88 48.1429L39.5 38.5H37.2747L37.4294 48.1429M41.88 48.1429H37.4294" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<circle cx="136" cy="70" r="2" fill="var(--instrument-tick-mark-tertiary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,OK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M66.5 146.75L66.5 32.1402C66.5 11.5 80 9.25 80 9.25C80 9.25 93.5 11.5 93.5 32.1402L93.5 146.75C93.5 147.855 92.6046 148.75 91.5 148.75L90.125 148.75L69.875 148.75L68.5 148.75C67.3954 148.75 66.5 147.855 66.5 146.75Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<path d="M74 122L64 122L64 118L72 118L75 114L85 114L88 118L96 118L96 122L86 122L86 138.75L74 138.75L74 122Z" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<circle cx="80" cy="44" r="11.5" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<circle cx="80" cy="70" r="11.5" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
<circle cx="80" cy="96" r="11.5" fill="var(--instrument-frame-primary-color)" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,$K=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M140.366 87.1182H21.3855V83.0386L12.4844 80.0001C12.4844 77.5441 14.487 75.5592 16.943 75.5812L21.3855 75.621L84.5943 75.5413L96.8333 64.1237H100.012V49.5H101H103H105.575L106.76 54.5605H115.281C122.13 54.5605 128.463 58.203 131.907 64.1237H138C141.233 66.387 144.251 70.5308 145.98 73.1767C147.01 74.7539 147.484 76.6105 147.484 78.4946V80.0001C147.484 83.9313 144.297 87.1182 140.366 87.1182Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M12.4844 80.0001H147.484M12.4844 80.0001L21.3855 83.0386V87.1182H140.366C144.297 87.1182 147.484 83.9313 147.484 80.0001V80.0001M12.4844 80.0001V80.0001C12.4844 77.5441 14.487 75.5592 16.943 75.5812L21.3855 75.621L84.5943 75.5413L96.8333 64.1237H100.012M147.484 80.0001V78.4946C147.484 76.6105 147.01 74.7539 145.98 73.1767C144.251 70.5308 141.233 66.387 138 64.1237H131.907M106.76 54.5605H115.281C122.13 54.5605 128.463 58.203 131.907 64.1237V64.1237M131.907 64.1237H109M100.012 64.1237V49.5H101M100.012 64.1237H109M109 64.1237L105.575 49.5H103M101 49.5V45M101 49.5H103M103 49.5V47" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`,VK=$`<svg width="160" height="160" viewBox="0 0 160 160" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M147.484 80.0001L146.814 81.5981C145.412 84.9422 142.14 87.1182 138.514 87.1182H21.3855V83.0386L12.4844 80.0001C12.4844 77.5376 14.4806 75.5413 16.9432 75.5413H21L30.5 56.5H32H34.5H36.5L33.5 75.5413H36.5943L48.8333 64.1237H100.012H127.5L145.461 66.8188C147.93 67.1894 149.587 69.5517 149.094 72L147.484 80.0001Z" fill="var(--instrument-frame-primary-color)"/>
<path d="M12.4844 80.0001L21.3855 83.0386V87.1182H138.514C142.14 87.1182 145.412 84.9422 146.814 81.5981L147.484 80.0001L149.094 72M12.4844 80.0001V80.0001C12.4844 77.5376 14.4806 75.5413 16.9432 75.5413H21M12.4844 80.0001H107.04C116.302 80.0001 125.519 78.7134 134.427 76.1768L149.094 72M21 75.5413L30.5 56.5H32M21 75.5413H33.5M33.5 75.5413H36.5943L48.8333 64.1237H100.012H127.5L145.461 66.8188C147.93 67.1894 149.587 69.5517 149.094 72V72M33.5 75.5413L36.5 56.5H34.5M34.5 56.5V48.5M34.5 56.5H32M32 56.5V53" vector-effect="non-scaling-stroke" stroke="var(--instrument-tick-mark-tertiary-color)"/>
</svg>
`;var M5=(r=>(r.none="none",r.small="small",r.medium="medium",r.large="large",r))(M5||{});const FK={"car-ferry-aft":fK,"car-ferry-side":pK,"car-ferry-top":gK,"cargo-fore":mK,"cargo-side":vK,"cargo-top":yK,"cargo-wind-fore":bK,"cargo-wind-side":_K,"cargo-wind-top":wK,"fishing-vessel-side":CK,"fishing-vessel-top":xK,"fore-fore":EK,"generic-side":TK,"generic-top":LK,"psv-aft":SK,"psv-fore":AK,"psv-side":kK,"psv-top":IK,"sov-side":MK,"sov-top":PK,"tanker-fore":RK,"tanker-side":DK,"tanker-top":OK,"usv-large-side":$K,"usv-small-side":VK};function BK(r){return VL({filename:`wind-${r.wind+1}.svg`,fromDirectionDeg:r.fromDirectionDeg,radius:r.radius})}function NK(r){return VL({filename:`current-${r.current}.svg`,fromDirectionDeg:r.fromDirectionDeg,radius:r.radius})}function VL(r){const{filename:e,fromDirectionDeg:t,radius:i}=r,n=(t-180)*Math.PI/180,s=HK[e];return $`<g transform="translate(${-Math.sin(n)*i} ${Math.cos(n)*i}) rotate(${180+t}) translate(-24, 0) scale(2)">
    ${s}
  </g>`}const HK={"current-0.svg":$`<path d="M11 2V22H13V2Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 2V22H13V2Z" fill="var(--instrument-regular-secondary-color)"/>`,"current-1.svg":$`<path d="M11 7.00002L11 24L13 24L13 7.00005L11 7.00002Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.79309 5.20723L12.0002 0.00012207L17.2073 5.20723L15.7931 6.62144L12.0002 2.82855L8.2073 6.62144L6.79309 5.20723Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 7.00002L11 24L13 24L13 7.00005L11 7.00002Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.79309 5.20723L12.0002 0.00012207L17.2073 5.20723L15.7931 6.62144L12.0002 2.82855L8.2073 6.62144L6.79309 5.20723Z" fill="var(--instrument-regular-secondary-color)"/>`,"current-2.svg":$`<path d="M10.9742 12.0003L10.9742 24.0049L12.9999 24.005L12.9999 12.0004L10.9742 12.0003Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.79285 5.20747L12 0.000366211L17.2071 5.20747L15.7928 6.62169L12 2.82879L8.20706 6.62169L6.79285 5.20747Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.99988 10.5861L12.207 5.37903L17.4141 10.5861L15.9999 12.0003L12.207 8.20745L8.41409 12.0003L6.99988 10.5861Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M10.9742 12.0003L10.9742 24.0049L12.9999 24.005L12.9999 12.0004L10.9742 12.0003Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.79285 5.20747L12 0.000366211L17.2071 5.20747L15.7928 6.62169L12 2.82879L8.20706 6.62169L6.79285 5.20747Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.99988 10.5861L12.207 5.37903L17.4141 10.5861L15.9999 12.0003L12.207 8.20745L8.41409 12.0003L6.99988 10.5861Z" fill="var(--instrument-regular-secondary-color)"/>`,"current-3.svg":$`<path d="M11 18L11 24L13 24L13 18L11 18Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.79297 5.20711L12.0001 0L17.2072 5.20711L15.793 6.62132L12.0001 2.82843L8.20718 6.62132L6.79297 5.20711Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 10.5858L12.2071 5.37866L17.4142 10.5858L16 12L12.2071 8.20709L8.41421 12L7 10.5858Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 16.5858L12.2071 11.3787L17.4142 16.5858L16 18L12.2071 14.2071L8.41421 18L7 16.5858Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 18L11 24L13 24L13 18L11 18Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.79297 5.20711L12.0001 0L17.2072 5.20711L15.793 6.62132L12.0001 2.82843L8.20718 6.62132L6.79297 5.20711Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 10.5858L12.2071 5.37866L17.4142 10.5858L16 12L12.2071 8.20709L8.41421 12L7 10.5858Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 16.5858L12.2071 11.3787L17.4142 16.5858L16 18L12.2071 14.2071L8.41421 18L7 16.5858Z" fill="var(--instrument-regular-secondary-color)"/>`,"current-4.svg":$`<path fill-rule="evenodd" clip-rule="evenodd" d="M6.79297 5.20711L12.0001 0L17.2072 5.20711L15.793 6.62132L12.0001 2.82843L8.20718 6.62132L6.79297 5.20711Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 10.5858L12.2071 5.37866L17.4142 10.5858L16 12L12.2071 8.20709L8.41421 12L7 10.5858Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 16.5858L12.2071 11.3787L17.4142 16.5858L16 18L12.2071 14.2071L8.41421 18L7 16.5858Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 22.5858L12.2071 17.3787L17.4142 22.5858L16 24L12.2071 20.2071L8.41421 24L7 22.5858Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.79297 5.20711L12.0001 0L17.2072 5.20711L15.793 6.62132L12.0001 2.82843L8.20718 6.62132L6.79297 5.20711Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 10.5858L12.2071 5.37866L17.4142 10.5858L16 12L12.2071 8.20709L8.41421 12L7 10.5858Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 16.5858L12.2071 11.3787L17.4142 16.5858L16 18L12.2071 14.2071L8.41421 18L7 16.5858Z" fill="var(--instrument-regular-secondary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 22.5858L12.2071 17.3787L17.4142 22.5858L16 24L12.2071 20.2071L8.41421 24L7 22.5858Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-1.svg":$`<path d="M12 2C6.47715 2 2 6.47715 2 12H3.90476C3.90476 7.52912 7.52912 3.90476 12 3.90476V2Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M22 12C22 6.47715 17.5228 2 12 2V3.90476C16.4709 3.90476 20.0952 7.52912 20.0952 12H22Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M12 22C17.5228 22 22 17.5228 22 12H20.0952C20.0952 16.4709 16.4709 20.0952 12 20.0952V22Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M2 12C2 17.5228 6.47715 22 12 22V20.0952C7.52912 20.0952 3.90476 16.4709 3.90476 12H2Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M12 2C6.47715 2 2 6.47715 2 12H3.90476C3.90476 7.52912 7.52912 3.90476 12 3.90476V2Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M22 12C22 6.47715 17.5228 2 12 2V3.90476C16.4709 3.90476 20.0952 7.52912 20.0952 12H22Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M12 22C17.5228 22 22 17.5228 22 12H20.0952C20.0952 16.4709 16.4709 20.0952 12 20.0952V22Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M2 12C2 17.5228 6.47715 22 12 22V20.0952C7.52912 20.0952 3.90476 16.4709 3.90476 12H2Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-2.svg":$`<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-3.svg":$`<path d="M11 24L13 24L13 7L15 7L12 -1.74846e-07L9 7L11 7L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M8 21L8 19L11 19L11 21L8 21Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24L13 24L13 7L15 7L12 -1.74846e-07L9 7L11 7L11 24Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M8 21L8 19L11 19L11 21L8 21Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-4.svg":$`<path d="M11 24L13 24L13 7L15 7L12 -2.62268e-07L9 7L11 7L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M6 24L6 22L11 22L11 24L6 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24L13 24L13 7L15 7L12 -2.62268e-07L9 7L11 7L11 24Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M6 24L6 22L11 22L11 24L6 24Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-5.svg":$`<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 24L5 22H12V24H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M8 21L8 19H12V21H8Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 24L5 22H12V24H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M8 21L8 19H12V21H8Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-6.svg":$`<path d="M11 24H13L13 7L15 7L12 0L9 7H11L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 24L5 22H12V24H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 21L5 19H12V21H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24H13L13 7L15 7L12 0L9 7H11L11 24Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 24L5 22H12V24H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 21L5 19H12V21H5Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-7.svg":$`<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 24L5 22H12V24H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 21L5 19H12V21H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M8 18L8 16H12V18H8Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 24L5 22H12V24H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 21L5 19H12V21H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M8 18L8 16H12V18H8Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-8.svg":$`<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 24L5 22H12V24H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 21L5 19H12V21H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 18L5 16H12V18H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 24L5 22H12V24H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 21L5 19H12V21H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 18L5 16H12V18H5Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-9.svg":$`<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 24L5 22H12V24H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 21L5 19H12V21H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 18L5 16H12V18H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M8 15L8 13H12V15H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 24L5 22H12V24H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 21L5 19H12V21H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 18L5 16H12V18H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M8 15L8 13H12V15H5Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-10.svg":$`<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 24L5 22H12V24H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 21L5 19H12V21H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 18L5 16H12V18H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 15L5 13H12V15H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M8 12L8 10H12V12H8Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M11 24H13L13 7H15L12 0L9 7H11L11 24Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 24L5 22H12V24H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 21L5 19H12V21H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 18L5 16H12V18H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 15L5 13H12V15H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M8 12L8 10H12V12H8Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-11.svg":$`<path d="M5 22L13 24L13 7H15L12 0L9 7H11L11 20L5 22Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 22L13 24L13 7H15L12 0L9 7H11L11 20L5 22Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-12.svg":$`<path d="M5 22L13 24L13 7H15L12 0L9 7H11L11 19L5 22Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 18L5 16H12V18H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 22L13 24L13 7H15L12 0L9 7H11L11 19L5 22Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 18L5 16H12V18H5Z" fill="var(--instrument-regular-secondary-color)"/>`,"wind-13.svg":$`<path d="M5 22L13 24L13 7H15L12 0L9 7H11L11 19L5 22Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 18L5 16H12V18H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 15L5 13H12V15H5Z" stroke="var(--border-silhouette-color)" stroke-width="2"/>
<path d="M5 22L13 24L13 7H15L12 0L9 7H11L11 19L5 22Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 18L5 16H12V18H5Z" fill="var(--instrument-regular-secondary-color)"/>
<path d="M5 15L5 13H12V15H5Z" fill="var(--instrument-regular-secondary-color)"/>`};var UK=Object.defineProperty,zK=Object.getOwnPropertyDescriptor,pi=(r,e,t,i)=>{for(var n=i>1?void 0:i?zK(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&UK(e,t,n),n};const jK=368/2,Zf=320/2,Wf=224/2,v9=272/2,y9=176/2;let ii=class extends ee{constructor(){super(...arguments),this.state=rr.inCommand,this.watchCircleType="single",this.northArrow=!1,this.atAngleSetpoint=!1,this.padding=24,this.areas=[],this.barAreas=[],this.needles=[],this.tickmarks=[],this.advices=[],this.crosshairEnabled=!1,this.labelFrameEnabled=!1,this.vessels=[],this.wind=null,this.windFromDirectionDeg=null,this.windSymbolRadius=null,this.current=null,this.currentFromDirectionDeg=null,this.currentSymbolRadius=null,this.starboardPortIndicator=!1,this._resizeController=new hK(this,{})}get innerRingRadius(){if(this.watchCircleType==="single")return Zf;if(this.watchCircleType==="double")return Wf;if(this.watchCircleType==="doubleThin")return v9;if(this.watchCircleType==="triple")return y9;throw new Error(`Invalid watch circle type: ${this.watchCircleType}`)}watchCircle(){const r=[];if(this.state!==rr.off){if(r.push($`
        <circle
          cx="0"
          cy="0"
          r="172"
          stroke="var(--instrument-frame-primary-color)"
          fill="none"
          stroke-width="24"
        />`),this.watchCircleType!=="single"){const t=Zf,i=this.watchCircleType==="doubleThin"?v9:Wf,n=(t+i)/2,s=t-i;r.push($`
            <circle cx="0" cy="0" r=${n} stroke="var(--instrument-frame-secondary-color)" stroke-width=${s} fill="none" />
            <circle cx="0" cy="0" r=${t} stroke="var(--instrument-frame-secondary-color)" stroke-width="1" fill="none" vector-effect="non-scaling-stroke" />
            <circle cx="0" cy="0" r=${i} stroke="var(--instrument-frame-secondary-color)" stroke-width="1" fill="none" vector-effect="non-scaling-stroke" />
        `)}if(this.watchCircleType==="triple"){const t=Wf,i=y9,n=(t+i)/2,s=t-i;r.push($`<circle cx="0" cy="0" r=${n} stroke="var(--instrument-frame-primary-color)" stroke-width=${s} fill="none" />`)}}let e=r;if(this.areas.length>0){const t=this.areas.map(n=>$2({startAngle:n.startAngle,endAngle:n.endAngle,R:jK,r:this.innerRingRadius,roundOutsideCut:n.roundOutsideCut,roundInsideCut:n.roundInsideCut}));e=[$`<mask id="cutMask">
        <rect x="-200" y="-200" width="400" height="400" fill="black" />
        ${t.map(n=>$`<path d=${n} fill="white" vector-effect="non-scaling-stroke" stroke="white" stroke-width="1"/>`)}
      </mask>`,$`<g mask="url(#cutMask)">${r}</g>`],t.forEach(n=>{e.push($`<path d=${n} fill="none" stroke="var(--instrument-frame-tertiary-color)" vector-effect="non-scaling-stroke"/>`)})}else this.state!==rr.off?(e.push(O2("outerRing",{radius:368/2,strokeWidth:1,strokeColor:"var(--instrument-frame-tertiary-color)",strokePosition:"center",fillColor:"none"})),e.push($`
          ${O2("innerRing",{radius:this.innerRingRadius,strokeWidth:1,strokeColor:"var(--instrument-frame-tertiary-color)",strokePosition:"center",fillColor:"none"})}
        `)):e.push($`
          ${O2("innerRing",{radius:Zf,strokeWidth:1,strokeColor:"var(--instrument-frame-tertiary-color)",strokePosition:"center",fillColor:"none"})}
        `);return e}renderCrosshair(r){return $`
      <line
        x1="-${r}"
        y1="0"
        x2="${r}"
        y2="0"
        stroke="var(--instrument-frame-tertiary-color)"
        stroke-width="1"
        vector-effect="non-scaling-stroke"
      />
      <line
        x1="0"
        y1="-${r}"
        x2="0"
        y2="${r}"
        stroke="var(--instrument-frame-tertiary-color)"
        stroke-width="1"
        vector-effect="non-scaling-stroke"
      />
    `}renderBars(){return this.barAreas.length===0?He:this.barAreas.map((r,e)=>{const t=Math.min(r.startAngle,r.endAngle),i=Math.max(r.startAngle,r.endAngle),n=$2({r:Wf,R:Zf,startAngle:t,endAngle:i,roundInsideCut:!1,roundOutsideCut:!1}),s=$`<mask id="barMask-${e}">
        <rect x="-200" y="-200" width="400" height="400" fill="black" />
        <path d=${$2({r:1,R:200,startAngle:t,endAngle:i,roundInsideCut:!1,roundOutsideCut:!1})} fill="white" />
      </mask>`;return $`
        ${s}
        <path 
          d=${n} 
          fill=${r.fillColor} 
          stroke=${r.fillColor} 
          stroke-width="1" 
          vector-effect="non-scaling-stroke" 
          mask="url(#barMask-${e})" 
          />`})}renderNeedles(){return this.needles.length===0?He:this.needles.map(r=>$`
        <rect 
          transform="rotate(${r.angle})" 
          x="-4" y="-160" width="8" height="48" rx="4" 
          fill=${r.fillColor} 
          stroke=${r.strokeColor}
          stroke-width="1"
          vector-effect="non-scaling-stroke"
          paint-order="stroke fill"
        />
      `)}render(){const r=(176+this.padding)*2,e=`-${r/2} -${r/2} ${r} ${r}`,t=this.renderSetpoint(),i=Math.min(this.clientWidth,this.clientHeight)/r,n=this.tickmarks.map(c=>uh(c.angle,c.type,br.hinted,i,c.text)),s=this.advices?this.advices.map(c=>XW(c)):He,o=this.labelFrameEnabled?dK(i):He,a=this.wind!=null&&this.windFromDirectionDeg!=null?BK({wind:this.wind,fromDirectionDeg:this.windFromDirectionDeg,radius:this.windSymbolRadius??192}):He,l=this.current!=null&&this.currentFromDirectionDeg!=null?NK({current:this.current,fromDirectionDeg:this.currentFromDirectionDeg,radius:this.currentSymbolRadius??192}):He;return F`
      <svg
        width="100%"
        height="100%"
        viewBox=${e}
        style="--scale: ${i}"
      >
        ${l} ${a} ${this.watchCircle()} ${this.renderBars()}
        ${this.crosshairEnabled?this.renderCrosshair(184):He}
        ${this.renderNorthArrow()} ${this.renderStarboardPortIndicator()}
        ${n} ${s} ${t} ${o}
        ${this.renderVesselImage()} ${this.renderNeedles()}
      </svg>
    `}renderSetpoint(){let r="var(--instrument-enhanced-primary-color)";if(this.atAngleSetpoint&&(r="var(--instrument-enhanced-secondary-color)"),this.state===rr.active?(r="var(--instrument-regular-primary-color)",this.atAngleSetpoint&&(r="var(--instrument-regular-secondary-color)")):(this.state===rr.loading||this.state===rr.off)&&(r="var(--instrument-frame-tertiary-color)"),this.angleSetpoint===void 0)return He;{let e;return this.state===rr.inCommand?e="M23.5119 8C24.6981 6.35191 23.5696 4 21.5926 4L2.39959 4C0.422598 4 -0.705911 6.35191 0.480283 8L11.9961 24L23.5119 8Z":e="M18.5836 8L5.4086 8L11.9961 17.1526L18.5836 8ZM23.5119 8C24.6981 6.35191 23.5696 4 21.5926 4L2.39959 4C0.422598 4 -0.705911 6.35191 0.480283 8L11.9961 24L23.5119 8Z",$`
        <defs>
          <g id="setpoint">
            <path fill-rule="evenodd" clip-rule="evenodd" transform="translate(-24 12) rotate(-90)" d=${e} vector-effect="non-scaling-stroke"/>
          </g>
          <mask id="setpointMask">
            <rect x="-20" y="-20" width="50" height="50" fill="white" />
            <use href="#setpoint" fill="black" />
          </mask>
        </defs>
        <g transform="rotate(${this.angleSetpoint+90}) translate(-168 0) ">
          <use href="#setpoint" fill=${r} stroke-width="0" />
          
          <use href="#setpoint" vector-effect="non-scaling-stroke" fill="none" stroke="var(--border-silhouette-color)" stroke-width="2" stroke-linejoin="round" mask="url(#setpointMask)" />
        </g>
      `}}renderNorthArrow(){return this.northArrow?$`
<path transform="translate(-256, -256)" fill-rule="evenodd" clip-rule="evenodd" d="M238.152 96.9842L255.998 72L273.844 96.9839C267.985 96.3338 262.031 96 256 96C249.967 96 244.012 96.3339 238.152 96.9842Z" fill="var(--instrument-frame-tertiary-color)"/>
    `:He}renderVesselImage(){return this.vessels.length===0?He:this.vessels.map(r=>{let e;switch(r.size){case M5.large:e=224;break;case M5.medium:e=160;break;default:e=100}const t=e/160;return $`<g style="transform: ${r.transform} scale(${t}) translate(-80px, -80px) ">${FK[r.vesselImage]}</g>`})}renderStarboardPortIndicator(){return this.starboardPortIndicator?[$h(0,180,"var(--instrument-starboard-secondary-color)","var(--instrument-starboard-secondary-color)"),$h(180,360,"var(--instrument-port-secondary-color)","var(--instrument-port-secondary-color)")]:He}};ii.styles=ot(uK);pi([M({type:String})],ii.prototype,"state",2);pi([M({type:String})],ii.prototype,"watchCircleType",2);pi([M({type:Boolean})],ii.prototype,"northArrow",2);pi([M({type:Number})],ii.prototype,"angleSetpoint",2);pi([M({type:Boolean})],ii.prototype,"atAngleSetpoint",2);pi([M({type:Number})],ii.prototype,"padding",2);pi([M({type:Array,attribute:!1})],ii.prototype,"areas",2);pi([M({type:Array,attribute:!1})],ii.prototype,"barAreas",2);pi([M({type:Array,attribute:!1})],ii.prototype,"needles",2);pi([M({type:Array,attribute:!1})],ii.prototype,"tickmarks",2);pi([M({type:Array,attribute:!1})],ii.prototype,"advices",2);pi([M({type:Boolean})],ii.prototype,"crosshairEnabled",2);pi([M({type:Boolean})],ii.prototype,"labelFrameEnabled",2);pi([M({type:Array,attribute:!1})],ii.prototype,"vessels",2);pi([M({type:Number})],ii.prototype,"wind",2);pi([M({type:Number})],ii.prototype,"windFromDirectionDeg",2);pi([M({type:Number})],ii.prototype,"windSymbolRadius",2);pi([M({type:Number})],ii.prototype,"current",2);pi([M({type:Number})],ii.prototype,"currentFromDirectionDeg",2);pi([M({type:Number})],ii.prototype,"currentSymbolRadius",2);pi([M({type:Boolean})],ii.prototype,"starboardPortIndicator",2);ii=pi([ie("obc-watch")],ii);const GK=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
    box-sizing: border-box;
}

.container {
    position: relative;
    width: 100%;
    height: 100%;
}

.container > * {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}`;var ZK=Object.defineProperty,WK=Object.getOwnPropertyDescriptor,gi=(r,e,t,i)=>{for(var n=i>1?void 0:i?WK(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&ZK(e,t,n),n};function Kf(r){const e=r%360;return e>=0?e:e+360}let ri=class extends ee{constructor(){super(...arguments),
this.angle=0,
this.atAngleSetpoint=!1,
this.touching=!1,
this.disableAutoAtAngleSetpoint=!1,
this.autoAtAngleSetpointDeadband=2,
this.thrust=0,
this.atThrustSetpoint=!1,
this.thrustSetpointAtZeroDeadband=.1,
this.disableAutoAtThrustSetpoint=!1,
this.autoAtThrustSetpointDeadband=1,
this.state=rr.inCommand,
this.loading=0,
this.noPadding=!1,
this.angleAdvices=[],
this.thrustAdvices=[],
this.singleDirection=!1,
this.topPropeller=Wc.none,
this.bottomPropeller=Wc.none,
this.starboardPortIndicator=!1}

get atAngleSetpointCalc(){return this.angleSetpoint===void 0||this.touching?!1:this.disableAutoAtAngleSetpoint?this.atAngleSetpoint:Math.abs(this.angle-this.angleSetpoint)<this.autoAtAngleSetpointDeadband}get angleAdviceRaw(){return this.angleAdvices.map(r=>{const e=Kf(this.angle)>=Kf(r.minAngle)&&Kf(this.angle)<=Kf(r.maxAngle);let t;return e?t=Gr.triggered:r.hinted?t=Gr.hinted:t=Gr.regular,{minAngle:r.minAngle,maxAngle:r.maxAngle,type:r.type,state:t}})}render(){const r=this.angle,e=this.state===rr.active||this.state===rr.inCommand;let t=[];e&&(t=[{angle:0,type:Gs.zeroLine},{angle:90,type:Gs.primary},{angle:180,type:Gs.primary},{angle:270,type:Gs.primary}]);const i=this.noPadding?"-192 -192 384 384":"-200 -200 400 400";return $`
      <div class="container">
      <obc-watch 
        .tickmarks=${t}
        .state=${this.state} 
        .angleSetpoint=${this.angleSetpoint}
        .atAngleSetpoint=${this.atAngleSetpointCalc}
        .padding=${ll(this.noPadding?16:void 0)}
        .advices=${this.angleAdviceRaw}
        .starboardPortIndicator=${this.starboardPortIndicator}
      ></obc-watch>
      <svg viewBox=${i} xmlns="http://www.w3.org/2000/svg">
      <g transform="rotate(${r})">
      <svg  width="320" height="320" y ="-160" x="-160" viewBox="-160 -160 320 320">
        ${$L(this.thrust,this.thrustSetpoint,this.state,{atSetpoint:this.atThrustSetpoint,singleSided:!0,singleDirection:!1,singleDirectionHalfSize:this.singleDirection,tunnel:!1,autoAtSetpoint:!this.disableAutoAtThrustSetpoint,autoSetpointDeadband:this.autoAtThrustSetpointDeadband,setpointAtZeroDeadband:this.thrustSetpointAtZeroDeadband,touching:this.touching,advices:this.thrustAdvices,topPropeller:this.topPropeller,bottomPropeller:this.bottomPropeller,narrow:!0})}
        </svg>
        </g>
        </svg>
      </div>
      </div>
      `}};ri.styles=ot(GK);gi([M({type:Number})],ri.prototype,"angle",2);gi([M({type:Number})],ri.prototype,"angleSetpoint",2);gi([M({type:Boolean})],ri.prototype,"atAngleSetpoint",2);gi([M({type:Boolean})],ri.prototype,"touching",2);gi([M({type:Boolean})],ri.prototype,"disableAutoAtAngleSetpoint",2);gi([M({type:Number})],ri.prototype,"autoAtAngleSetpointDeadband",2);gi([M({type:Number})],ri.prototype,"thrust",2);gi([M({type:Number})],ri.prototype,"thrustSetpoint",2);gi([M({type:Boolean})],ri.prototype,"atThrustSetpoint",2);gi([M({type:Number})],ri.prototype,"thrustSetpointAtZeroDeadband",2);gi([M({type:Boolean})],ri.prototype,"disableAutoAtThrustSetpoint",2);gi([M({type:Number})],ri.prototype,"autoAtThrustSetpointDeadband",2);gi([M({type:String})],ri.prototype,"state",2);gi([M({type:Number})],ri.prototype,"loading",2);gi([M({type:Boolean})],ri.prototype,"noPadding",2);gi([M({type:Array,attribute:!1})],ri.prototype,"angleAdvices",2);gi([M({type:Array,attribute:!1})],ri.prototype,"thrustAdvices",2);gi([M({type:Boolean})],ri.prototype,"singleDirection",2);gi([M({type:String})],ri.prototype,"topPropeller",2);gi([M({type:String})],ri.prototype,"bottomPropeller",2);gi([M({type:Boolean})],ri.prototype,"starboardPortIndicator",2);ri=gi([ie("obc-azimuth-thruster")],ri);const FL=Ne({__name:"ObcAzimuthThruster",props:{angle:{},angleSetpoint:{},atAngleSetpoint:{type:Boolean},touching:{type:Boolean},disableAutoAtAngleSetpoint:{type:Boolean},autoAtAngleSetpointDeadband:{},thrust:{},thrustSetpoint:{},atThrustSetpoint:{type:Boolean},thrustSetpointAtZeroDeadband:{},disableAutoAtThrustSetpoint:{type:Boolean},autoAtThrustSetpointDeadband:{},state:{},loading:{},noPadding:{type:Boolean},angleAdvices:{},thrustAdvices:{},singleDirection:{type:Boolean},topPropeller:{},bottomPropeller:{},starboardPortIndicator:{type:Boolean}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-azimuth-thruster",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),KK={class:"container"},qK=Ne({__name:"ResponsiveInstrumentDemo",setup(r){const e=je(30),t=je(50),i=je(0),n=new Date().getTimezoneOffset()/60;Fn(()=>{s(),setInterval(s,1e3/60)});function s(){const l=Date.now(),c=l/1e3/60/60%12-n,u=l/1e3/60%60;let h=l/1e3%60;e.value=c/12*360,i.value=u/60*360,u%2<1&&(h=60-h),t.value=100-h/30*100}const o=je(null),{width:a}=KZ(o);return(l,c)=>(G(),we("div",KK,[ue(FL,{ref_key:"thruster",ref:o,class:"instrument","width-px":N(a),angle:e.value,thrust:t.value,"angle-setpoint":i.value},null,8,["width-px","angle","thrust","angle-setpoint"])]))}}),YK=En(qK,[["__scopeId","data-v-63033ad1"]]),qf=Ne({__name:"ObcThruster",props:{thrust:{},setpoint:{},touching:{type:Boolean},atSetpoint:{type:Boolean},disableAutoAtSetpoint:{type:Boolean},autoAtSetpointDeadband:{},setpointAtZeroDeadband:{},state:{},tunnel:{type:Boolean},singleSided:{type:Boolean},singleDirection:{type:Boolean},singleDirectionHalfSize:{type:Boolean},advices:{},topPropeller:{},bottomPropeller:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-thruster",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}});function $s(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function BL(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Xr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Kc={duration:.5,overwrite:!1,delay:0},z4,qi,Jt,ps=1e8,lr=1/ps,P5=Math.PI*2,XK=P5/4,QK=0,NL=Math.sqrt,JK=Math.cos,eq=Math.sin,Bi=function(e){return typeof e=="string"},fi=function(e){return typeof e=="function"},ro=function(e){return typeof e=="number"},j4=function(e){return typeof e>"u"},Cs=function(e){return typeof e=="object"},Mr=function(e){return e!==!1},G4=function(){return typeof window<"u"},Yf=function(e){return fi(e)||Bi(e)},HL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ur=Array.isArray,R5=/(?:-?\.?\d|\.)+/gi,UL=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ac=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,V2=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,zL=/[+-]=-?[.\d]+/,jL=/[^,'"\[\]\s]+/gi,tq=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ai,Jn,D5,Z4,tn={},q0={},GL,ZL=function(e){return(q0=qc(e,tn))&&Fr},W4=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Dd=function(e,t){return!t&&console.warn(e)},WL=function(e,t){return e&&(tn[e]=t)&&q0&&(q0[e]=t)||tn},Od=function(){return 0},iq={suppressEvents:!0,isStart:!0,kill:!1},G1={suppressEvents:!0,kill:!1},rq={suppressEvents:!0},K4={},Go=[],O5={},KL,jr={},F2={},b9=30,Z1=[],q4="",Y4=function(e){var t=e[0],i,n;if(Cs(t)||fi(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(n=Z1.length;n--&&!Z1[n].targetTest(t););i=Z1[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new yS(e[n],i)))||e.splice(n,1);return e},el=function(e){return e._gsap||Y4(mn(e))[0]._gsap},qL=function(e,t,i){return(i=e[t])&&fi(i)?e[t]():j4(i)&&e.getAttribute&&e.getAttribute(t)||i},Pr=function(e,t){return(e=e.split(",")).forEach(t)||e},vi=function(e){return Math.round(e*1e5)/1e5||0},Ci=function(e){return Math.round(e*1e7)/1e7||0},bc=function(e,t){var i=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},nq=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},Y0=function(){var e=Go.length,t=Go.slice(0),i,n;for(O5={},Go.length=0,i=0;i<e;i++)n=t[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},YL=function(e,t,i,n){Go.length&&!qi&&Y0(),e.render(t,i,qi&&t<0&&(e._initted||e._startAt)),Go.length&&!qi&&Y0()},XL=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(jL).length<2?t:Bi(e)?e.trim():e},QL=function(e){return e},rn=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},sq=function(e){return function(t,i){for(var n in i)n in t||n==="duration"&&e||n==="ease"||(t[n]=i[n])}},qc=function(e,t){for(var i in t)e[i]=t[i];return e},_9=function r(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Cs(t[i])?r(e[i]||(e[i]={}),t[i]):t[i]);return e},X0=function(e,t){var i={},n;for(n in e)n in t||(i[n]=e[n]);return i},Vh=function(e){var t=e.parent||ai,i=e.keyframes?sq(ur(e.keyframes)):rn;if(Mr(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},oq=function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0},JL=function(e,t,i,n,s){var o=e[n],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e,t},_m=function(e,t,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[n]===t&&(e[n]=s),t._next=t._prev=t.parent=null},la=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},tl=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},aq=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},$5=function(e,t,i,n){return e._startAt&&(qi?e._startAt.revert(G1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},lq=function r(e){return!e||e._ts&&r(e.parent)},w9=function(e){return e._repeat?Yc(e._tTime,e=e.duration()+e._rDelay)*e:0},Yc=function(e,t){var i=Math.floor(e=Ci(e/t));return e&&i===e?i-1:i},Q0=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},wm=function(e){return e._end=Ci(e._start+(e._tDur/Math.abs(e._ts||e._rts||lr)||0))},Cm=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Ci(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),wm(e),i._dirty||tl(i,e)),e},eS=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Q0(e.rawTime(),t),(!t._dur||pf(0,t.totalDuration(),i)-t._tTime>lr)&&t.render(i,!0)),tl(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-1e-8}},ns=function(e,t,i,n){return t.parent&&la(t),t._start=Ci((ro(i)?i:i||e!==ai?hn(e,i,t):e._time)+t._delay),t._end=Ci(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),JL(e,t,"_first","_last",e._sort?"_start":0),V5(t)||(e._recent=t),n||eS(e,t),e._ts<0&&Cm(e,e._tTime),e},tS=function(e,t){return(tn.ScrollTrigger||W4("scrollTrigger",t))&&tn.ScrollTrigger.create(t,e)},iS=function(e,t,i,n,s){if(Q4(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!qi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&KL!==Wr.frame)return Go.push(e),e._lazy=[s,n],1},cq=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},V5=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},uq=function(e,t,i,n){var s=e.ratio,o=t<0||!t&&(!e._start&&cq(e)&&!(!e._initted&&V5(e))||(e._ts<0||e._dp._ts<0)&&!V5(e))?0:1,a=e._rDelay,l=0,c,u,h;if(a&&e._repeat&&(l=pf(0,e._tDur,t),u=Yc(l,a),e._yoyo&&u&1&&(o=1-o),u!==Yc(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||qi||n||e._zTime===lr||!t&&e._zTime){if(!e._initted&&iS(e,t,n,i,l))return;for(h=e._zTime,e._zTime=t||(i?lr:0),i||(i=t&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&$5(e,t,i,!0),e._onUpdate&&!i&&qr(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&qr(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&la(e,1),!i&&!qi&&(qr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},hq=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<t)return n;n=n._prev}},Xc=function(e,t,i,n){var s=e._repeat,o=Ci(t)||0,a=e._tTime/e._tDur;return a&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Ci(o*(s+1)+e._rDelay*s):o,a>0&&!n&&Cm(e,e._tTime=e._tDur*a),e.parent&&wm(e),i||tl(e.parent,e),e},C9=function(e){return e instanceof _r?tl(e):Xc(e,e._dur)},dq={_start:0,endTime:Od,totalDuration:Od},hn=function r(e,t,i){var n=e.labels,s=e._recent||dq,o=e.duration()>=ps?s.endTime(!1):e._dur,a,l,c;return Bi(t)&&(isNaN(t)||t in n)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(t in n||(n[t]=o),n[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&i&&(l=l/100*(ur(i)?i[0]:i).totalDuration()),a>1?r(e,t.substr(0,a-1),i)+l:o+l)):t==null?o:+t},Fh=function(e,t,i){var n=ro(t[1]),s=(n?2:1)+(e<2?0:1),o=t[s],a,l;if(n&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Mr(l.vars.inherit)&&l.parent;o.immediateRender=Mr(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new wi(t[0],o,t[s+1])},wa=function(e,t){return e||e===0?t(e):t},pf=function(e,t,i){return i<e?e:i>t?t:i},ar=function(e,t){return!Bi(e)||!(t=tq.exec(e))?"":t[1]},fq=function(e,t,i){return wa(i,function(n){return pf(e,t,n)})},F5=[].slice,rS=function(e,t){return e&&Cs(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Cs(e[0]))&&!e.nodeType&&e!==Jn},pq=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(n){var s;return Bi(n)&&!t||rS(n,1)?(s=i).push.apply(s,mn(n)):i.push(n)})||i},mn=function(e,t,i){return Jt&&!t&&Jt.selector?Jt.selector(e):Bi(e)&&!i&&(D5||!Qc())?F5.call((t||Z4).querySelectorAll(e),0):ur(e)?pq(e,i):rS(e)?F5.call(e,0):e?[e]:[]},B5=function(e){return e=mn(e)[0]||Dd("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return mn(t,i.querySelectorAll?i:i===e?Dd("Invalid scope")||Z4.createElement("div"):e)}},nS=function(e){return e.sort(function(){return .5-Math.random()})},sS=function(e){if(fi(e))return e;var t=Cs(e)?e:{each:e},i=il(t.ease),n=t.from||0,s=parseFloat(t.base)||0,o={},a=n>0&&n<1,l=isNaN(n)||a,c=t.axis,u=n,h=n;return Bi(n)?u=h={center:.5,edges:.5,end:1}[n]||0:!a&&l&&(u=n[0],h=n[1]),function(d,f,g){var m=(g||t).length,v=o[m],y,_,w,S,k,P,x,C,E;if(!v){if(E=t.grid==="auto"?0:(t.grid||[1,ps])[1],!E){for(x=-1e8;x<(x=g[E++].getBoundingClientRect().left)&&E<m;);E<m&&E--}for(v=o[m]=[],y=l?Math.min(E,m)*u-.5:n%E,_=E===ps?0:l?m*h/E-.5:n/E|0,x=0,C=ps,P=0;P<m;P++)w=P%E-y,S=_-(P/E|0),v[P]=k=c?Math.abs(c==="y"?S:w):NL(w*w+S*S),k>x&&(x=k),k<C&&(C=k);n==="random"&&nS(v),v.max=x-C,v.min=C,v.v=m=(parseFloat(t.amount)||parseFloat(t.each)*(E>m?m-1:c?c==="y"?m/E:E:Math.max(E,m/E))||0)*(n==="edges"?-1:1),v.b=m<0?s-m:s,v.u=ar(t.amount||t.each)||0,i=i&&m<0?gS(i):i}return m=(v[d]-v.min)/v.max||0,Ci(v.b+(i?i(m):m)*v.v)+v.u}},N5=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=Ci(Math.round(parseFloat(i)/e)*e*t);return(n-n%1)/t+(ro(i)?0:ar(i))}},oS=function(e,t){var i=ur(e),n,s;return!i&&Cs(e)&&(n=i=e.radius||ps,e.values?(e=mn(e.values),(s=!ro(e[0]))&&(n*=n)):e=N5(e.increment)),wa(t,i?fi(e)?function(o){return s=e(o),Math.abs(s-o)<=n?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=ps,u=0,h=e.length,d,f;h--;)s?(d=e[h].x-a,f=e[h].y-l,d=d*d+f*f):d=Math.abs(e[h]-a),d<c&&(c=d,u=h);return u=!n||c<=n?e[u]:o,s||u===o||ro(o)?u:u+ar(o)}:N5(e))},aS=function(e,t,i,n){return wa(ur(e)?!t:i===!0?!!(i=0):!n,function(){return ur(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*n)/n})},gq=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(n){return t.reduce(function(s,o){return o(s)},n)}},mq=function(e,t){return function(i){return e(parseFloat(i))+(t||ar(i))}},vq=function(e,t,i){return cS(e,t,0,1,i)},lS=function(e,t,i){return wa(i,function(n){return e[~~t(n)]})},yq=function r(e,t,i){var n=t-e;return ur(e)?lS(e,r(0,e.length),t):wa(i,function(s){return(n+(s-e)%n)%n+e})},bq=function r(e,t,i){var n=t-e,s=n*2;return ur(e)?lS(e,r(0,e.length-1),t):wa(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>n?s-o:o)})},$d=function(e){for(var t=0,i="",n,s,o,a;~(n=e.indexOf("random(",t));)o=e.indexOf(")",n),a=e.charAt(n+7)==="[",s=e.substr(n+7,o-n-7).match(a?jL:R5),i+=e.substr(t,n-t)+aS(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},cS=function(e,t,i,n,s){var o=t-e,a=n-i;return wa(s,function(l){return i+((l-e)/o*a||0)})},_q=function r(e,t,i,n){var s=isNaN(e+t)?0:function(f){return(1-f)*e+f*t};if(!s){var o=Bi(e),a={},l,c,u,h,d;if(i===!0&&(n=1)&&(i=null),o)e={p:e},t={p:t};else if(ur(e)&&!ur(t)){for(u=[],h=e.length,d=h-2,c=1;c<h;c++)u.push(r(e[c-1],e[c]));h--,s=function(g){g*=h;var m=Math.min(d,~~g);return u[m](g-m)},i=t}else n||(e=qc(ur(e)?[]:{},e));if(!u){for(l in t)X4.call(a,e,l,"get",t[l]);s=function(g){return tb(g,a)||(o?e.p:e)}}}return wa(i,s)},x9=function(e,t,i){var n=e.labels,s=ps,o,a,l;for(o in n)a=n[o]-t,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},qr=function(e,t,i){var n=e.vars,s=n[t],o=Jt,a=e._ctx,l,c,u;if(s)return l=n[t+"Params"],c=n.callbackScope||e,i&&Go.length&&Y0(),a&&(Jt=a),u=l?s.apply(c,l):s.call(c),Jt=o,u},dh=function(e){return la(e),e.scrollTrigger&&e.scrollTrigger.kill(!!qi),e.progress()<1&&qr(e,"onInterrupt"),e},lc,uS=[],hS=function(e){if(e)if(e=!e.name&&e.default||e,G4()||e.headless){var t=e.name,i=fi(e),n=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Od,render:tb,add:X4,kill:$q,modifier:Oq,rawVars:0},o={targetTest:0,get:0,getSetter:eb,aliases:{},register:0};if(Qc(),e!==n){if(jr[t])return;rn(n,rn(X0(e,s),o)),qc(n.prototype,qc(s,X0(e,o))),jr[n.prop=t]=n,e.targetTest&&(Z1.push(n),K4[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}WL(t,n),e.register&&e.register(Fr,n,Rr)}else uS.push(e)},jt=255,fh={aqua:[0,jt,jt],lime:[0,jt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,jt],navy:[0,0,128],white:[jt,jt,jt],olive:[128,128,0],yellow:[jt,jt,0],orange:[jt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[jt,0,0],pink:[jt,192,203],cyan:[0,jt,jt],transparent:[jt,jt,jt,0]},B2=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*jt+.5|0},dS=function(e,t,i){var n=e?ro(e)?[e>>16,e>>8&jt,e&jt]:0:fh.black,s,o,a,l,c,u,h,d,f,g;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),fh[e])n=fh[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&jt,n&jt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&jt,e&jt]}else if(e.substr(0,3)==="hsl"){if(n=g=e.match(R5),!t)l=+n[0]%360/360,c=+n[1]/100,u=+n[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,n.length>3&&(n[3]*=1),n[0]=B2(l+1/3,s,o),n[1]=B2(l,s,o),n[2]=B2(l-1/3,s,o);else if(~e.indexOf("="))return n=e.match(UL),i&&n.length<4&&(n[3]=1),n}else n=e.match(R5)||fh.transparent;n=n.map(Number)}return t&&!g&&(s=n[0]/jt,o=n[1]/jt,a=n[2]/jt,h=Math.max(s,o,a),d=Math.min(s,o,a),u=(h+d)/2,h===d?l=c=0:(f=h-d,c=u>.5?f/(2-h-d):f/(h+d),l=h===s?(o-a)/f+(o<a?6:0):h===o?(a-s)/f+2:(s-o)/f+4,l*=60),n[0]=~~(l+.5),n[1]=~~(c*100+.5),n[2]=~~(u*100+.5)),i&&n.length<4&&(n[3]=1),n},fS=function(e){var t=[],i=[],n=-1;return e.split(Zo).forEach(function(s){var o=s.match(ac)||[];t.push.apply(t,o),i.push(n+=o.length+1)}),t.c=i,t},E9=function(e,t,i){var n="",s=(e+n).match(Zo),o=t?"hsla(":"rgba(",a=0,l,c,u,h;if(!s)return e;if(s=s.map(function(d){return(d=dS(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),i&&(u=fS(e),l=i.c,l.join(n)!==u.c.join(n)))for(c=e.replace(Zo,"1").split(ac),h=c.length-1;a<h;a++)n+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(c=e.split(Zo),h=c.length-1;a<h;a++)n+=c[a]+s[a];return n+c[h]},Zo=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in fh)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),wq=/hsl[a]?\(/,pS=function(e){var t=e.join(" "),i;if(Zo.lastIndex=0,Zo.test(t))return i=wq.test(t),e[1]=E9(e[1],i),e[0]=E9(e[0],i,fS(e[1])),!0},Vd,Wr=function(){var r=Date.now,e=500,t=33,i=r(),n=i,s=1e3/240,o=s,a=[],l,c,u,h,d,f,g=function m(v){var y=r()-n,_=v===!0,w,S,k,P;if((y>e||y<0)&&(i+=y-t),n+=y,k=n-i,w=k-o,(w>0||_)&&(P=++h.frame,d=k-h.time*1e3,h.time=k=k/1e3,o+=w+(w>=s?4:s-w),S=1),_||(l=c(m)),S)for(f=0;f<a.length;f++)a[f](k,d,P,v)};return h={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(v){return d/(1e3/(v||60))},wake:function(){GL&&(!D5&&G4()&&(Jn=D5=window,Z4=Jn.document||{},tn.gsap=Fr,(Jn.gsapVersions||(Jn.gsapVersions=[])).push(Fr.version),ZL(q0||Jn.GreenSockGlobals||!Jn.gsap&&Jn||{}),uS.forEach(hS)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),c=u||function(v){return setTimeout(v,o-h.time*1e3+1|0)},Vd=1,g(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),Vd=0,c=Od},lagSmoothing:function(v,y){e=v||1/0,t=Math.min(y||33,e)},fps:function(v){s=1e3/(v||240),o=h.time*1e3+s},add:function(v,y,_){var w=y?function(S,k,P,x){v(S,k,P,x),h.remove(w)}:v;return h.remove(v),a[_?"unshift":"push"](w),Qc(),w},remove:function(v,y){~(y=a.indexOf(v))&&a.splice(y,1)&&f>=y&&f--},_listeners:a},h}(),Qc=function(){return!Vd&&Wr.wake()},wt={},Cq=/^[\d.\-M][\d.\-,\s]/,xq=/["']/g,Eq=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),n=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[n]=isNaN(c)?c.replace(xq,"").trim():+c,n=l.substr(a+1).trim();return t},Tq=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<i?e.indexOf(")",i+1):i)},Lq=function(e){var t=(e+"").split("("),i=wt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Eq(t[1])]:Tq(e).split(",").map(XL)):wt._CE&&Cq.test(e)?wt._CE("",e):i},gS=function(e){return function(t){return 1-e(1-t)}},mS=function r(e,t){for(var i=e._first,n;i;)i instanceof _r?r(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?r(i.timeline,t):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=t)),i=i._next},il=function(e,t){return e&&(fi(e)?e:wt[e]||Lq(e))||t},Al=function(e,t,i,n){i===void 0&&(i=function(l){return 1-t(1-l)}),n===void 0&&(n=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:n},o;return Pr(e,function(a){wt[a]=tn[a]=s,wt[o=a.toLowerCase()]=i;for(var l in s)wt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=wt[a+"."+l]=s[l]}),s},vS=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},N2=function r(e,t,i){var n=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/P5*(Math.asin(1/n)||0),a=function(u){return u===1?1:n*Math.pow(2,-10*u)*eq((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:vS(a);return s=P5/s,l.config=function(c,u){return r(e,c,u)},l},H2=function r(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},n=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:vS(i);return n.config=function(s){return r(e,s)},n};Pr("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;Al(r+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});wt.Linear.easeNone=wt.none=wt.Linear.easeIn;Al("Elastic",N2("in"),N2("out"),N2());(function(r,e){var t=1/e,i=2*t,n=2.5*t,s=function(a){return a<t?r*a*a:a<i?r*Math.pow(a-1.5/e,2)+.75:a<n?r*(a-=2.25/e)*a+.9375:r*Math.pow(a-2.625/e,2)+.984375};Al("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Al("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Al("Circ",function(r){return-(NL(1-r*r)-1)});Al("Sine",function(r){return r===1?1:-JK(r*XK)+1});Al("Back",H2("in"),H2("out"),H2());wt.SteppedEase=wt.steps=tn.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,n=e+(t?0:1),s=t?1:0,o=1-lr;return function(a){return((n*pf(0,o,a)|0)+s)*i}}};Kc.ease=wt["quad.out"];Pr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return q4+=r+","+r+"Params,"});var yS=function(e,t){this.id=QK++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:qL,this.set=t?t.getSetter:eb},Fd=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Xc(this,+t.duration,1,1),this.data=t.data,Jt&&(this._ctx=Jt,Jt.data.push(this)),Vd||Wr.wake()}var e=r.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Xc(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(Qc(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Cm(this,i),!s._dp||s.parent||eS(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&ns(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===lr||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),YL(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+w9(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+w9(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,n):this._repeat?Yc(this._tTime,s)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?Q0(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-1e-8?0:this._rts,this.totalTime(pf(-Math.abs(this._delay),this._tDur,s),n!==!1),wm(this),aq(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Qc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==lr&&(this._tTime-=lr)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&ns(n,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Mr(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Q0(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=rq);var n=qi;return qi=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),qi=n,this},e.globalTime=function(i){for(var n=this,s=arguments.length?i:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,C9(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,C9(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(hn(this,i),Mr(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,Mr(n)),this._dur||(this._zTime=-1e-8),this},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=n&&s<this.endTime(!0)-lr)},e.eventCallback=function(i,n,s){var o=this.vars;return arguments.length>1?(n?(o[i]=n,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},e.then=function(i){var n=this;return new Promise(function(s){var o=fi(i)?i:QL,a=function(){var c=n.then;n.then=null,fi(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=c),s(o),n.then=c};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},e.kill=function(){dh(this)},r}();rn(Fd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var _r=function(r){BL(e,r);function e(i,n){var s;return i===void 0&&(i={}),s=r.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Mr(i.sortChildren),ai&&ns(i.parent||ai,$s(s),n),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&tS($s(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(n,s,o){return Fh(0,arguments,this),this},t.from=function(n,s,o){return Fh(1,arguments,this),this},t.fromTo=function(n,s,o,a){return Fh(2,arguments,this),this},t.set=function(n,s,o){return s.duration=0,s.parent=this,Vh(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new wi(n,s,hn(this,o),1),this},t.call=function(n,s,o){return ns(this,wi.delayedCall(0,n,s),o)},t.staggerTo=function(n,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new wi(n,o,hn(this,l)),this},t.staggerFrom=function(n,s,o,a,l,c,u){return o.runBackwards=1,Vh(o).immediateRender=Mr(o.immediateRender),this.staggerTo(n,s,o,a,l,c,u)},t.staggerFromTo=function(n,s,o,a,l,c,u,h){return a.startAt=o,Vh(a).immediateRender=Mr(a.immediateRender),this.staggerTo(n,s,a,l,c,u,h)},t.render=function(n,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=n<=0?0:Ci(n),h=this._zTime<0!=n<0&&(this._initted||!c),d,f,g,m,v,y,_,w,S,k,P,x;if(this!==ai&&u>l&&n>=0&&(u=l),u!==this._tTime||o||h){if(a!==this._time&&c&&(u+=this._time-a,n+=this._time-a),d=u,S=this._start,w=this._ts,y=!w,h&&(c||(a=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(P=this._yoyo,v=c+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(v*100+n,s,o);if(d=Ci(u%v),u===l?(m=this._repeat,d=c):(k=Ci(u/v),m=~~k,m&&m===k&&(d=c,m--),d>c&&(d=c)),k=Yc(this._tTime,v),!a&&this._tTime&&k!==m&&this._tTime-k*v-this._dur<=0&&(k=m),P&&m&1&&(d=c-d,x=1),m!==k&&!this._lock){var C=P&&k&1,E=C===(P&&m&1);if(m<k&&(C=!C),a=C?0:u%c?c:u,this._lock=1,this.render(a||(x?0:Ci(m*v)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&qr(this,"onRepeat"),this.vars.repeatRefresh&&!x&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,E&&(this._lock=2,a=C?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!x&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;mS(this,x)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=hq(this,Ci(a),Ci(d)),_&&(u-=d-(d=_._start))),this._tTime=u,this._time=d,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&d&&!s&&!m&&(qr(this,"onStart"),this._tTime!==u))return this;if(d>=a&&n>=0)for(f=this._first;f;){if(g=f._next,(f._act||d>=f._start)&&f._ts&&_!==f){if(f.parent!==this)return this.render(n,s,o);if(f.render(f._ts>0?(d-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(d-f._start)*f._ts,s,o),d!==this._time||!this._ts&&!y){_=0,g&&(u+=this._zTime=-1e-8);break}}f=g}else{f=this._last;for(var A=n<0?n:d;f;){if(g=f._prev,(f._act||A<=f._end)&&f._ts&&_!==f){if(f.parent!==this)return this.render(n,s,o);if(f.render(f._ts>0?(A-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(A-f._start)*f._ts,s,o||qi&&(f._initted||f._startAt)),d!==this._time||!this._ts&&!y){_=0,g&&(u+=this._zTime=A?-1e-8:lr);break}}f=g}}if(_&&!s&&(this.pause(),_.render(d>=a?0:-1e-8)._zTime=d>=a?1:-1,this._ts))return this._start=S,wm(this),this.render(n,s,o);this._onUpdate&&!s&&qr(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(S===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((n||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&la(this,1),!s&&!(n<0&&!a)&&(u||a||!l)&&(qr(this,u===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,s){var o=this;if(ro(s)||(s=hn(this,s,n)),!(n instanceof Fd)){if(ur(n))return n.forEach(function(a){return o.add(a,s)}),this;if(Bi(n))return this.addLabel(n,s);if(fi(n))n=wi.delayedCall(0,n);else return this}return this!==n?ns(this,n,s):this},t.getChildren=function(n,s,o,a){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-1e8);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof wi?s&&l.push(c):(o&&l.push(c),n&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(n){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===n)return s[o]},t.remove=function(n){return Bi(n)?this.removeLabel(n):fi(n)?this.killTweensOf(n):(n.parent===this&&_m(this,n),n===this._recent&&(this._recent=this._last),tl(this))},t.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ci(Wr.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),r.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},t.addLabel=function(n,s){return this.labels[n]=hn(this,s),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,s,o){var a=wi.delayedCall(0,s||Od,o);return a.data="isPause",this._hasPause=1,ns(this,a,hn(this,n))},t.removePause=function(n){var s=this._first;for(n=hn(this,n);s;)s._start===n&&s.data==="isPause"&&la(s),s=s._next},t.killTweensOf=function(n,s,o){for(var a=this.getTweensOf(n,o),l=a.length;l--;)Do!==a[l]&&a[l].kill(n,s);return this},t.getTweensOf=function(n,s){for(var o=[],a=mn(n),l=this._first,c=ro(s),u;l;)l instanceof wi?nq(l._targets,a)&&(c?(!Do||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(n,s){s=s||{};var o=this,a=hn(o,n),l=s,c=l.startAt,u=l.onStart,h=l.onStartParams,d=l.immediateRender,f,g=wi.to(o,rn({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||lr,onStart:function(){if(o.pause(),!f){var v=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==v&&Xc(g,v,0,1).render(g._time,!0,!0),f=1}u&&u.apply(g,h||[])}},s));return d?g.render(0):g},t.tweenFromTo=function(n,s,o){return this.tweenTo(s,rn({startAt:{time:hn(this,n)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),x9(this,hn(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),x9(this,hn(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+lr)},t.shiftChildren=function(n,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=n);return tl(this)},t.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return r.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),tl(this)},t.totalDuration=function(n){var s=0,o=this,a=o._last,l=ps,c,u,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(h=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,ns(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Xc(o,o===ai&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(ai._ts&&(YL(ai,Q0(n,ai)),KL=Wr.frame),Wr.frame>=b9){b9+=Xr.autoSleep||120;var s=ai._first;if((!s||!s._ts)&&Xr.autoSleep&&Wr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Wr.sleep()}}},e}(Fd);rn(_r.prototype,{_lock:0,_hasPause:0,_forcing:0});var Sq=function(e,t,i,n,s,o,a){var l=new Rr(this._pt,e,t,0,1,ES,null,s),c=0,u=0,h,d,f,g,m,v,y,_;for(l.b=i,l.e=n,i+="",n+="",(y=~n.indexOf("random("))&&(n=$d(n)),o&&(_=[i,n],o(_,e,t),i=_[0],n=_[1]),d=i.match(V2)||[];h=V2.exec(n);)g=h[0],m=n.substring(c,h.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),g!==d[u++]&&(v=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:m||u===1?m:",",s:v,c:g.charAt(1)==="="?bc(v,g)-v:parseFloat(g)-v,m:f&&f<4?Math.round:0},c=V2.lastIndex);return l.c=c<n.length?n.substring(c,n.length):"",l.fp=a,(zL.test(n)||y)&&(l.e=0),this._pt=l,l},X4=function(e,t,i,n,s,o,a,l,c,u){fi(n)&&(n=n(s||0,e,o));var h=e[t],d=i!=="get"?i:fi(h)?c?e[t.indexOf("set")||!fi(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,f=fi(h)?c?Pq:CS:J4,g;if(Bi(n)&&(~n.indexOf("random(")&&(n=$d(n)),n.charAt(1)==="="&&(g=bc(d,n)+(ar(d)||0),(g||g===0)&&(n=g))),!u||d!==n||H5)return!isNaN(d*n)&&n!==""?(g=new Rr(this._pt,e,t,+d||0,n-(d||0),typeof h=="boolean"?Dq:xS,0,f),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!h&&!(t in e)&&W4(t,n),Sq.call(this,e,t,d,n,f,l||Xr.stringFilter,c))},Aq=function(e,t,i,n,s){if(fi(e)&&(e=Bh(e,s,t,i,n)),!Cs(e)||e.style&&e.nodeType||ur(e)||HL(e))return Bi(e)?Bh(e,s,t,i,n):e;var o={},a;for(a in e)o[a]=Bh(e[a],s,t,i,n);return o},bS=function(e,t,i,n,s,o){var a,l,c,u;if(jr[e]&&(a=new jr[e]).init(s,a.rawVars?t[e]:Aq(t[e],n,s,o,i),i,n,o)!==!1&&(i._pt=l=new Rr(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==lc))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Do,H5,Q4=function r(e,t,i){var n=e.vars,s=n.ease,o=n.startAt,a=n.immediateRender,l=n.lazy,c=n.onUpdate,u=n.runBackwards,h=n.yoyoEase,d=n.keyframes,f=n.autoRevert,g=e._dur,m=e._startAt,v=e._targets,y=e.parent,_=y&&y.data==="nested"?y.vars.targets:v,w=e._overwrite==="auto"&&!z4,S=e.timeline,k,P,x,C,E,A,I,D,R,fe,se,Y,K;if(S&&(!d||!s)&&(s="none"),e._ease=il(s,Kc.ease),e._yEase=h?gS(il(h===!0?s:h,Kc.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!S&&!!n.runBackwards,!S||d&&!n.stagger){if(D=v[0]?el(v[0]).harness:0,Y=D&&n[D.prop],k=X0(n,K4),m&&(m._zTime<0&&m.progress(1),t<0&&u&&a&&!f?m.render(-1,!0):m.revert(u&&g?G1:iq),m._lazy=0),o){if(la(e._startAt=wi.set(v,rn({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!m&&Mr(l),startAt:null,delay:0,onUpdate:c&&function(){return qr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(qi||!a&&!f)&&e._startAt.revert(G1),a&&g&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(u&&g&&!m){if(t&&(a=!1),x=rn({overwrite:!1,data:"isFromStart",lazy:a&&!m&&Mr(l),immediateRender:a,stagger:0,parent:y},k),Y&&(x[D.prop]=Y),la(e._startAt=wi.set(v,x)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(qi?e._startAt.revert(G1):e._startAt.render(-1,!0)),e._zTime=t,!a)r(e._startAt,lr,lr);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&Mr(l)||l&&!g,P=0;P<v.length;P++){if(E=v[P],I=E._gsap||Y4(v)[P]._gsap,e._ptLookup[P]=fe={},O5[I.id]&&Go.length&&Y0(),se=_===v?P:_.indexOf(E),D&&(R=new D).init(E,Y||k,e,se,_)!==!1&&(e._pt=C=new Rr(e._pt,E,R.name,0,1,R.render,R,0,R.priority),R._props.forEach(function(ae){fe[ae]=C}),R.priority&&(A=1)),!D||Y)for(x in k)jr[x]&&(R=bS(x,k,e,se,E,_))?R.priority&&(A=1):fe[x]=C=X4.call(e,E,x,"get",k[x],se,_,0,n.stringFilter);e._op&&e._op[P]&&e.kill(E,e._op[P]),w&&e._pt&&(Do=e,ai.killTweensOf(E,fe,e.globalTime(t)),K=!e.parent,Do=0),e._pt&&l&&(O5[I.id]=1)}A&&TS(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!K,d&&t<=0&&S.render(ps,!0,!0)},kq=function(e,t,i,n,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,h,d,f;if(!c)for(c=e._ptCache[t]=[],d=e._ptLookup,f=e._targets.length;f--;){if(u=d[f][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return H5=1,e.vars[t]="+=0",Q4(e,a),H5=0,l?Dd(t+" not eligible for reset"):1;c.push(u)}for(f=c.length;f--;)h=c[f],u=h._pt||h,u.s=(n||n===0)&&!s?n:u.s+(n||0)+o*u.c,u.c=i-u.s,h.e&&(h.e=vi(i)+ar(h.e)),h.b&&(h.b=u.s+ar(h.b))},Iq=function(e,t){var i=e[0]?el(e[0]).harness:0,n=i&&i.aliases,s,o,a,l;if(!n)return t;s=qc({},t);for(o in n)if(o in s)for(l=n[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Mq=function(e,t,i,n){var s=t.ease||n||"power1.inOut",o,a;if(ur(t))a=i[e]||(i[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Bh=function(e,t,i,n,s){return fi(e)?e.call(t,i,n,s):Bi(e)&&~e.indexOf("random(")?$d(e):e},_S=q4+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",wS={};Pr(_S+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return wS[r]=1});var wi=function(r){BL(e,r);function e(i,n,s,o){var a;typeof n=="number"&&(s.duration=n,n=s,s=null),a=r.call(this,o?n:Vh(n))||this;var l=a.vars,c=l.duration,u=l.delay,h=l.immediateRender,d=l.stagger,f=l.overwrite,g=l.keyframes,m=l.defaults,v=l.scrollTrigger,y=l.yoyoEase,_=n.parent||ai,w=(ur(i)||HL(i)?ro(i[0]):"length"in n)?[i]:mn(i),S,k,P,x,C,E,A,I;if(a._targets=w.length?Y4(w):Dd("GSAP target "+i+" not found. https://gsap.com",!Xr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,g||d||Yf(c)||Yf(u)){if(n=a.vars,S=a.timeline=new _r({data:"nested",defaults:m||{},targets:_&&_.data==="nested"?_.vars.targets:w}),S.kill(),S.parent=S._dp=$s(a),S._start=0,d||Yf(c)||Yf(u)){if(x=w.length,A=d&&sS(d),Cs(d))for(C in d)~_S.indexOf(C)&&(I||(I={}),I[C]=d[C]);for(k=0;k<x;k++)P=X0(n,wS),P.stagger=0,y&&(P.yoyoEase=y),I&&qc(P,I),E=w[k],P.duration=+Bh(c,$s(a),k,E,w),P.delay=(+Bh(u,$s(a),k,E,w)||0)-a._delay,!d&&x===1&&P.delay&&(a._delay=u=P.delay,a._start+=u,P.delay=0),S.to(E,P,A?A(k,E,w):0),S._ease=wt.none;S.duration()?c=u=0:a.timeline=0}else if(g){Vh(rn(S.vars.defaults,{ease:"none"})),S._ease=il(g.ease||n.ease||"none");var D=0,R,fe,se;if(ur(g))g.forEach(function(Y){return S.to(w,Y,">")}),S.duration();else{P={};for(C in g)C==="ease"||C==="easeEach"||Mq(C,g[C],P,g.easeEach);for(C in P)for(R=P[C].sort(function(Y,K){return Y.t-K.t}),D=0,k=0;k<R.length;k++)fe=R[k],se={ease:fe.e,duration:(fe.t-(k?R[k-1].t:0))/100*c},se[C]=fe.v,S.to(w,se,D),D+=se.duration;S.duration()<c&&S.to({},{duration:c-S.duration()})}}c||a.duration(c=S.duration())}else a.timeline=0;return f===!0&&!z4&&(Do=$s(a),ai.killTweensOf(w),Do=0),ns(_,$s(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(h||!c&&!g&&a._start===Ci(_._time)&&Mr(h)&&lq($s(a))&&_.data!=="nested")&&(a._tTime=-1e-8,a.render(Math.max(0,-u)||0)),v&&tS($s(a),v),a}var t=e.prototype;return t.render=function(n,s,o){var a=this._time,l=this._tDur,c=this._dur,u=n<0,h=n>l-lr&&!u?l:n<lr?0:n,d,f,g,m,v,y,_,w,S;if(!c)uq(this,n,s,o);else if(h!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(d=h,w=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(m*100+n,s,o);if(d=Ci(h%m),h===l?(g=this._repeat,d=c):(v=Ci(h/m),g=~~v,g&&g===v?(d=c,g--):d>c&&(d=c)),y=this._yoyo&&g&1,y&&(S=this._yEase,d=c-d),v=Yc(this._tTime,m),d===a&&!o&&this._initted&&g===v)return this._tTime=h,this;g!==v&&(w&&this._yEase&&mS(w,y),this.vars.repeatRefresh&&!y&&!this._lock&&d!==m&&this._initted&&(this._lock=o=1,this.render(Ci(m*g),!0).invalidate()._lock=0))}if(!this._initted){if(iS(this,u?n:d,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==v))return this;if(c!==this._dur)return this.render(n,s,o)}if(this._tTime=h,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(S||this._ease)(d/c),this._from&&(this.ratio=_=1-_),d&&!a&&!s&&!g&&(qr(this,"onStart"),this._tTime!==h))return this;for(f=this._pt;f;)f.r(_,f.d),f=f._next;w&&w.render(n<0?n:w._dur*w._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(u&&$5(this,n,s,o),qr(this,"onUpdate")),this._repeat&&g!==v&&this.vars.onRepeat&&!s&&this.parent&&qr(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&$5(this,n,!0,!0),(n||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&la(this,1),!s&&!(u&&!a)&&(h||a||y)&&(qr(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),r.prototype.invalidate.call(this,n)},t.resetTo=function(n,s,o,a,l){Vd||Wr.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Q4(this,c),u=this._ease(c/this._dur),kq(this,n,s,o,a,u,c,l)?this.resetTo(n,s,o,a,1):(Cm(this,0),this.parent||JL(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?dh(this):this.scrollTrigger&&this.scrollTrigger.kill(!!qi),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,Do&&Do.vars.overwrite!==!0)._first||dh(this),this.parent&&o!==this.timeline.totalDuration()&&Xc(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=n?mn(n):a,c=this._ptLookup,u=this._pt,h,d,f,g,m,v,y;if((!s||s==="all")&&oq(a,l))return s==="all"&&(this._pt=0),dh(this);for(h=this._op=this._op||[],s!=="all"&&(Bi(s)&&(m={},Pr(s,function(_){return m[_]=1}),s=m),s=Iq(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){d=c[y],s==="all"?(h[y]=s,g=d,f={}):(f=h[y]=h[y]||{},g=s);for(m in g)v=d&&d[m],v&&((!("kill"in v.d)||v.d.kill(m)===!0)&&_m(this,v,"_pt"),delete d[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&u&&dh(this),this},e.to=function(n,s){return new e(n,s,arguments[2])},e.from=function(n,s){return Fh(1,arguments)},e.delayedCall=function(n,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(n,s,o){return Fh(2,arguments)},e.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(n,s)},e.killTweensOf=function(n,s,o){return ai.killTweensOf(n,s,o)},e}(Fd);rn(wi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Pr("staggerTo,staggerFrom,staggerFromTo",function(r){wi[r]=function(){var e=new _r,t=F5.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var J4=function(e,t,i){return e[t]=i},CS=function(e,t,i){return e[t](i)},Pq=function(e,t,i,n){return e[t](n.fp,i)},Rq=function(e,t,i){return e.setAttribute(t,i)},eb=function(e,t){return fi(e[t])?CS:j4(e[t])&&e.setAttribute?Rq:J4},xS=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Dq=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},ES=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(e===1&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},tb=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Oq=function(e,t,i,n){for(var s=this._pt,o;s;)o=s._next,s.p===n&&s.modifier(e,t,i),s=o},$q=function(e){for(var t=this._pt,i,n;t;)n=t._next,t.p===e&&!t.op||t.op===e?_m(this,t,"_pt"):t.dep||(i=1),t=n;return!i},Vq=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},TS=function(e){for(var t=e._pt,i,n,s,o;t;){for(i=t._next,n=s;n&&n.pr>t.pr;)n=n._next;(t._prev=n?n._prev:o)?t._prev._next=t:s=t,(t._next=n)?n._prev=t:o=t,t=i}e._pt=s},Rr=function(){function r(t,i,n,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=n,this.r=a||xS,this.d=l||this,this.set=c||J4,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(i,n,s){this.mSet=this.mSet||this.set,this.set=Vq,this.m=i,this.mt=s,this.tween=n},r}();Pr(q4+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return K4[r]=1});tn.TweenMax=tn.TweenLite=wi;tn.TimelineLite=tn.TimelineMax=_r;ai=new _r({sortChildren:!1,defaults:Kc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Xr.stringFilter=pS;var rl=[],W1={},Fq=[],T9=0,Bq=0,U2=function(e){return(W1[e]||Fq).map(function(t){return t()})},U5=function(){var e=Date.now(),t=[];e-T9>2&&(U2("matchMediaInit"),rl.forEach(function(i){var n=i.queries,s=i.conditions,o,a,l,c;for(a in n)o=Jn.matchMedia(n[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&t.push(i))}),U2("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),T9=e,U2("matchMedia"))},LS=function(){function r(t,i){this.selector=i&&B5(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Bq++,t&&this.add(t)}var e=r.prototype;return e.add=function(i,n,s){fi(i)&&(s=n,n=i,i=fi);var o=this,a=function(){var c=Jt,u=o.selector,h;return c&&c!==o&&c.data.push(o),s&&(o.selector=B5(s)),Jt=o,h=n.apply(o,arguments),fi(h)&&o._r.push(h),Jt=c,o.selector=u,o.isReverted=!1,h};return o.last=a,i===fi?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var n=Jt;Jt=null,i(this),Jt=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof r?i.push.apply(i,n.getTweens()):n instanceof wi&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof _r?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof wi)&&c.revert&&c.revert(i);s._r.forEach(function(u){return u(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=rl.length;o--;)rl[o].id===this.id&&rl.splice(o,1)},e.revert=function(i){this.kill(i||{})},r}(),Nq=function(){function r(t){this.contexts=[],this.scope=t,Jt&&Jt.data.push(this)}var e=r.prototype;return e.add=function(i,n,s){Cs(i)||(i={matches:i});var o=new LS(0,s||this.scope),a=o.conditions={},l,c,u;Jt&&!o.selector&&(o.selector=Jt.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(c in i)c==="all"?u=1:(l=Jn.matchMedia(i[c]),l&&(rl.indexOf(o)<0&&rl.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(U5):l.addEventListener("change",U5)));return u&&n(o,function(h){return o.add(null,h)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},r}(),J0={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(n){return hS(n)})},timeline:function(e){return new _r(e)},getTweensOf:function(e,t){return ai.getTweensOf(e,t)},getProperty:function(e,t,i,n){Bi(e)&&(e=mn(e)[0]);var s=el(e||{}).get,o=i?QL:XL;return i==="native"&&(i=""),e&&(t?o((jr[t]&&jr[t].get||s)(e,t,i,n)):function(a,l,c){return o((jr[a]&&jr[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,i){if(e=mn(e),e.length>1){var n=e.map(function(u){return Fr.quickSetter(u,t,i)}),s=n.length;return function(u){for(var h=s;h--;)n[h](u)}}e=e[0]||{};var o=jr[t],a=el(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var h=new o;lc._pt=0,h.init(e,i?u+i:u,lc,0,[e]),h.render(1,h),lc._pt&&tb(1,lc)}:a.set(e,l);return o?c:function(u){return c(e,l,i?u+i:u,a,1)}},quickTo:function(e,t,i){var n,s=Fr.to(e,rn((n={},n[t]="+=0.1",n.paused=!0,n.stagger=0,n),i||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return ai.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=il(e.ease,Kc.ease)),_9(Kc,e||{})},config:function(e){return _9(Xr,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,s=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!jr[a]&&!tn[a]&&Dd(t+" effect requires "+a+" plugin.")}),F2[t]=function(a,l,c){return i(mn(a),rn(l||{},s),c)},o&&(_r.prototype[t]=function(a,l,c){return this.add(F2[t](a,Cs(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){wt[e]=il(t)},parseEase:function(e,t){return arguments.length?il(e,t):wt},getById:function(e){return ai.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new _r(e),n,s;for(i.smoothChildTiming=Mr(e.smoothChildTiming),ai.remove(i),i._dp=0,i._time=i._tTime=ai._time,n=ai._first;n;)s=n._next,(t||!(!n._dur&&n instanceof wi&&n.vars.onComplete===n._targets[0]))&&ns(i,n,n._start-n._delay),n=s;return ns(ai,i,0),i},context:function(e,t){return e?new LS(e,t):Jt},matchMedia:function(e){return new Nq(e)},matchMediaRefresh:function(){return rl.forEach(function(e){var t=e.conditions,i,n;for(n in t)t[n]&&(t[n]=!1,i=1);i&&e.revert()})||U5()},addEventListener:function(e,t){var i=W1[e]||(W1[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=W1[e],n=i&&i.indexOf(t);n>=0&&i.splice(n,1)},utils:{wrap:yq,wrapYoyo:bq,distribute:sS,random:aS,snap:oS,normalize:vq,getUnit:ar,clamp:fq,splitColor:dS,toArray:mn,selector:B5,mapRange:cS,pipe:gq,unitize:mq,interpolate:_q,shuffle:nS},install:ZL,effects:F2,ticker:Wr,updateRoot:_r.updateRoot,plugins:jr,globalTimeline:ai,core:{PropTween:Rr,globals:WL,Tween:wi,Timeline:_r,Animation:Fd,getCache:el,_removeLinkedListItem:_m,reverting:function(){return qi},context:function(e){return e&&Jt&&(Jt.data.push(e),e._ctx=Jt),Jt},suppressOverwrites:function(e){return z4=e}}};Pr("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return J0[r]=wi[r]});Wr.add(_r.updateRoot);lc=J0.to({},{duration:0});var Hq=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Uq=function(e,t){var i=e._targets,n,s,o;for(n in t)for(s=i.length;s--;)o=e._ptLookup[s][n],o&&(o=o.d)&&(o._pt&&(o=Hq(o,n)),o&&o.modifier&&o.modifier(t[n],e,i[s],n))},z2=function(e,t){return{name:e,rawVars:1,init:function(n,s,o){o._onInit=function(a){var l,c;if(Bi(s)&&(l={},Pr(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}Uq(a,s)}}}},Fr=J0.registerPlugin({name:"attr",init:function(e,t,i,n,s){var o,a,l;this.tween=i;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],n,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)qi?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},z2("roundProps",N5),z2("modifiers"),z2("snap",oS))||J0;wi.version=_r.version=Fr.version="3.12.7";GL=1;G4()&&Qc();wt.Power0;wt.Power1;wt.Power2;wt.Power3;wt.Power4;wt.Linear;wt.Quad;wt.Cubic;wt.Quart;wt.Quint;wt.Strong;wt.Elastic;wt.Back;wt.SteppedEase;wt.Bounce;wt.Sine;wt.Expo;wt.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var L9,Oo,_c,ib,Za,S9,rb,zq=function(){return typeof window<"u"},no={},Fa=180/Math.PI,wc=Math.PI/180,Ul=Math.atan2,A9=1e8,nb=/([A-Z])/g,jq=/(left|right|width|margin|padding|x)/i,Gq=/[\s,\(]\S/,os={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},z5=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Zq=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Wq=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Kq=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},SS=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},AS=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},qq=function(e,t,i){return e.style[t]=i},Yq=function(e,t,i){return e.style.setProperty(t,i)},Xq=function(e,t,i){return e._gsap[t]=i},Qq=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Jq=function(e,t,i,n,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},eY=function(e,t,i,n,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},li="transform",Dr=li+"Origin",tY=function r(e,t){var i=this,n=this.target,s=n.style,o=n._gsap;if(e in no&&s){if(this.tfm=this.tfm||{},e!=="transform")e=os[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=Ns(n,a)}):this.tfm[e]=o.x?o[e]:Ns(n,e),e===Dr&&(this.tfm.zOrigin=o.zOrigin);else return os.transform.split(",").forEach(function(a){return r.call(i,a,t)});if(this.props.indexOf(li)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(Dr,t,"")),e=li}(s||t)&&this.props.push(e,t,s[e])},kS=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},iY=function(){var e=this.props,t=this.target,i=t.style,n=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(nb,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=rb(),(!s||!s.isStart)&&!i[li]&&(kS(i),n.zOrigin&&i[Dr]&&(i[Dr]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},IS=function(e,t){var i={target:e,props:[],revert:iY,save:tY};return e._gsap||Fr.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(n){return i.save(n)}),i},MS,j5=function(e,t){var i=Oo.createElementNS?Oo.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Oo.createElement(e);return i&&i.style?i:Oo.createElement(e)},gs=function r(e,t,i){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(nb,"-$1").toLowerCase())||n.getPropertyValue(t)||!i&&r(e,Jc(t)||t,1)||""},k9="O,Moz,ms,Ms,Webkit".split(","),Jc=function(e,t,i){var n=t||Za,s=n.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(k9[o]+e in s););return o<0?null:(o===3?"ms":o>=0?k9[o]:"")+e},G5=function(){zq()&&window.document&&(L9=window,Oo=L9.document,_c=Oo.documentElement,Za=j5("div")||{style:{}},j5("div"),li=Jc(li),Dr=li+"Origin",Za.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",MS=!!Jc("perspective"),rb=Fr.core.reverting,ib=1)},I9=function(e){var t=e.ownerSVGElement,i=j5("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0),s;n.style.display="block",i.appendChild(n),_c.appendChild(i);try{s=n.getBBox()}catch{}return i.removeChild(n),_c.removeChild(i),s},M9=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},PS=function(e){var t,i;try{t=e.getBBox()}catch{t=I9(e),i=1}return t&&(t.width||t.height)||i||(t=I9(e)),t&&!t.width&&!t.x&&!t.y?{x:+M9(e,["x","cx","x1"])||0,y:+M9(e,["y","cy","y1"])||0,width:0,height:0}:t},RS=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&PS(e))},pl=function(e,t){if(t){var i=e.style,n;t in no&&t!==Dr&&(t=li),i.removeProperty?(n=t.substr(0,2),(n==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(n==="--"?t:t.replace(nb,"-$1").toLowerCase())):i.removeAttribute(t)}},$o=function(e,t,i,n,s,o){var a=new Rr(e._pt,t,i,0,1,o?AS:SS);return e._pt=a,a.b=n,a.e=s,e._props.push(i),a},P9={deg:1,rad:1,turn:1},rY={grid:1,flex:1},ca=function r(e,t,i,n){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Za.style,l=jq.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,d=n==="px",f=n==="%",g,m,v,y;if(n===o||!s||P9[n]||P9[o])return s;if(o!=="px"&&!d&&(s=r(e,t,i,"px")),y=e.getCTM&&RS(e),(f||o==="%")&&(no[t]||~t.indexOf("adius")))return g=y?e.getBBox()[l?"width":"height"]:e[u],vi(f?s/g*h:s/100*g);if(a[l?"width":"height"]=h+(d?o:n),m=n!=="rem"&&~t.indexOf("adius")||n==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Oo||!m.appendChild)&&(m=Oo.body),v=m._gsap,v&&f&&v.width&&l&&v.time===Wr.time&&!v.uncache)return vi(s/v.width*h);if(f&&(t==="height"||t==="width")){var _=e.style[t];e.style[t]=h+n,g=e[u],_?e.style[t]=_:pl(e,t)}else(f||o==="%")&&!rY[gs(m,"display")]&&(a.position=gs(e,"position")),m===e&&(a.position="static"),m.appendChild(Za),g=Za[u],m.removeChild(Za),a.position="absolute";return l&&f&&(v=el(m),v.time=Wr.time,v.width=m[u]),vi(d?g*s/h:g&&s?h/g*s:0)},Ns=function(e,t,i,n){var s;return ib||G5(),t in os&&t!=="transform"&&(t=os[t],~t.indexOf(",")&&(t=t.split(",")[0])),no[t]&&t!=="transform"?(s=Nd(e,n),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:tg(gs(e,Dr))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=eg[t]&&eg[t](e,t,i)||gs(e,t)||qL(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?ca(e,t,s,i)+i:s},nY=function(e,t,i,n){if(!i||i==="none"){var s=Jc(t,e,1),o=s&&gs(e,s,1);o&&o!==i?(t=s,i=o):t==="borderColor"&&(i=gs(e,"borderTopColor"))}var a=new Rr(this._pt,e.style,t,0,1,ES),l=0,c=0,u,h,d,f,g,m,v,y,_,w,S,k;if(a.b=i,a.e=n,i+="",n+="",n==="auto"&&(m=e.style[t],e.style[t]=n,n=gs(e,t)||n,m?e.style[t]=m:pl(e,t)),u=[i,n],pS(u),i=u[0],n=u[1],d=i.match(ac)||[],k=n.match(ac)||[],k.length){for(;h=ac.exec(n);)v=h[0],_=n.substring(l,h.index),g?g=(g+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(g=1),v!==(m=d[c++]||"")&&(f=parseFloat(m)||0,S=m.substr((f+"").length),v.charAt(1)==="="&&(v=bc(f,v)+S),y=parseFloat(v),w=v.substr((y+"").length),l=ac.lastIndex-w.length,w||(w=w||Xr.units[t]||S,l===n.length&&(n+=w,a.e+=w)),S!==w&&(f=ca(e,t,m,w)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:f,c:y-f,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<n.length?n.substring(l,n.length):""}else a.r=t==="display"&&n==="none"?AS:SS;return zL.test(n)&&(a.e=0),this._pt=a,a},R9={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},sY=function(e){var t=e.split(" "),i=t[0],n=t[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),t[0]=R9[i]||i,t[1]=R9[n]||n,t.join(" ")},oY=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,n=i.style,s=t.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)n.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],no[a]&&(l=1,a=a==="transformOrigin"?Dr:li),pl(i,a);l&&(pl(i,li),o&&(o.svg&&i.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",Nd(i,1),o.uncache=1,kS(n)))}},eg={clearProps:function(e,t,i,n,s){if(s.data!=="isFromStart"){var o=e._pt=new Rr(e._pt,t,i,0,0,oY);return o.u=n,o.pr=-10,o.tween=s,e._props.push(i),1}}},Bd=[1,0,0,1,0,0],DS={},OS=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},D9=function(e){var t=gs(e,li);return OS(t)?Bd:t.substr(7).match(UL).map(vi)},sb=function(e,t){var i=e._gsap||el(e),n=e.style,s=D9(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Bd:s):(s===Bd&&!e.offsetParent&&e!==_c&&!i.svg&&(l=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,_c.appendChild(e)),s=D9(e),l?n.display=l:pl(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):_c.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Z5=function(e,t,i,n,s,o){var a=e._gsap,l=s||sb(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,h=a.xOffset||0,d=a.yOffset||0,f=l[0],g=l[1],m=l[2],v=l[3],y=l[4],_=l[5],w=t.split(" "),S=parseFloat(w[0])||0,k=parseFloat(w[1])||0,P,x,C,E;i?l!==Bd&&(x=f*v-g*m)&&(C=S*(v/x)+k*(-m/x)+(m*_-v*y)/x,E=S*(-g/x)+k*(f/x)-(f*_-g*y)/x,S=C,k=E):(P=PS(e),S=P.x+(~w[0].indexOf("%")?S/100*P.width:S),k=P.y+(~(w[1]||w[0]).indexOf("%")?k/100*P.height:k)),n||n!==!1&&a.smooth?(y=S-c,_=k-u,a.xOffset=h+(y*f+_*m)-y,a.yOffset=d+(y*g+_*v)-_):a.xOffset=a.yOffset=0,a.xOrigin=S,a.yOrigin=k,a.smooth=!!n,a.origin=t,a.originIsAbsolute=!!i,e.style[Dr]="0px 0px",o&&($o(o,a,"xOrigin",c,S),$o(o,a,"yOrigin",u,k),$o(o,a,"xOffset",h,a.xOffset),$o(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",S+" "+k)},Nd=function(e,t){var i=e._gsap||new yS(e);if("x"in i&&!t&&!i.uncache)return i;var n=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=gs(e,Dr)||"0",u,h,d,f,g,m,v,y,_,w,S,k,P,x,C,E,A,I,D,R,fe,se,Y,K,ae,ne,ce,ke,ye,ge,X,Fe;return u=h=d=m=v=y=_=w=S=0,f=g=1,i.svg=!!(e.getCTM&&RS(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(n[li]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[li]!=="none"?l[li]:"")),n.scale=n.rotate=n.translate="none"),x=sb(e,i.svg),i.svg&&(i.uncache?(ae=e.getBBox(),c=i.xOrigin-ae.x+"px "+(i.yOrigin-ae.y)+"px",K=""):K=!t&&e.getAttribute("data-svg-origin"),Z5(e,K||c,!!K||i.originIsAbsolute,i.smooth!==!1,x)),k=i.xOrigin||0,P=i.yOrigin||0,x!==Bd&&(I=x[0],D=x[1],R=x[2],fe=x[3],u=se=x[4],h=Y=x[5],x.length===6?(f=Math.sqrt(I*I+D*D),g=Math.sqrt(fe*fe+R*R),m=I||D?Ul(D,I)*Fa:0,_=R||fe?Ul(R,fe)*Fa+m:0,_&&(g*=Math.abs(Math.cos(_*wc))),i.svg&&(u-=k-(k*I+P*R),h-=P-(k*D+P*fe))):(Fe=x[6],ge=x[7],ce=x[8],ke=x[9],ye=x[10],X=x[11],u=x[12],h=x[13],d=x[14],C=Ul(Fe,ye),v=C*Fa,C&&(E=Math.cos(-C),A=Math.sin(-C),K=se*E+ce*A,ae=Y*E+ke*A,ne=Fe*E+ye*A,ce=se*-A+ce*E,ke=Y*-A+ke*E,ye=Fe*-A+ye*E,X=ge*-A+X*E,se=K,Y=ae,Fe=ne),C=Ul(-R,ye),y=C*Fa,C&&(E=Math.cos(-C),A=Math.sin(-C),K=I*E-ce*A,ae=D*E-ke*A,ne=R*E-ye*A,X=fe*A+X*E,I=K,D=ae,R=ne),C=Ul(D,I),m=C*Fa,C&&(E=Math.cos(C),A=Math.sin(C),K=I*E+D*A,ae=se*E+Y*A,D=D*E-I*A,Y=Y*E-se*A,I=K,se=ae),v&&Math.abs(v)+Math.abs(m)>359.9&&(v=m=0,y=180-y),f=vi(Math.sqrt(I*I+D*D+R*R)),g=vi(Math.sqrt(Y*Y+Fe*Fe)),C=Ul(se,Y),_=Math.abs(C)>2e-4?C*Fa:0,S=X?1/(X<0?-X:X):0),i.svg&&(K=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!OS(gs(e,li)),K&&e.setAttribute("transform",K))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(f*=-1,_+=m<=0?180:-180,m+=m<=0?180:-180):(g*=-1,_+=_<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=h-((i.yPercent=h&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=d+o,i.scaleX=vi(f),i.scaleY=vi(g),i.rotation=vi(m)+a,i.rotationX=vi(v)+a,i.rotationY=vi(y)+a,i.skewX=_+a,i.skewY=w+a,i.transformPerspective=S+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!t&&i.zOrigin||0)&&(n[Dr]=tg(c)),i.xOffset=i.yOffset=0,i.force3D=Xr.force3D,i.renderTransform=i.svg?lY:MS?$S:aY,i.uncache=0,i},tg=function(e){return(e=e.split(" "))[0]+" "+e[1]},j2=function(e,t,i){var n=ar(t);return vi(parseFloat(t)+parseFloat(ca(e,"x",i+"px",n)))+n},aY=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,$S(e,t)},Ma="0deg",Zu="0px",Pa=") ",$S=function(e,t){var i=t||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,h=i.rotationX,d=i.skewX,f=i.skewY,g=i.scaleX,m=i.scaleY,v=i.transformPerspective,y=i.force3D,_=i.target,w=i.zOrigin,S="",k=y==="auto"&&e&&e!==1||y===!0;if(w&&(h!==Ma||u!==Ma)){var P=parseFloat(u)*wc,x=Math.sin(P),C=Math.cos(P),E;P=parseFloat(h)*wc,E=Math.cos(P),o=j2(_,o,x*E*-w),a=j2(_,a,-Math.sin(P)*-w),l=j2(_,l,C*E*-w+w)}v!==Zu&&(S+="perspective("+v+Pa),(n||s)&&(S+="translate("+n+"%, "+s+"%) "),(k||o!==Zu||a!==Zu||l!==Zu)&&(S+=l!==Zu||k?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Pa),c!==Ma&&(S+="rotate("+c+Pa),u!==Ma&&(S+="rotateY("+u+Pa),h!==Ma&&(S+="rotateX("+h+Pa),(d!==Ma||f!==Ma)&&(S+="skew("+d+", "+f+Pa),(g!==1||m!==1)&&(S+="scale("+g+", "+m+Pa),_.style[li]=S||"translate(0, 0)"},lY=function(e,t){var i=t||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,h=i.scaleX,d=i.scaleY,f=i.target,g=i.xOrigin,m=i.yOrigin,v=i.xOffset,y=i.yOffset,_=i.forceCSS,w=parseFloat(o),S=parseFloat(a),k,P,x,C,E;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=wc,c*=wc,k=Math.cos(l)*h,P=Math.sin(l)*h,x=Math.sin(l-c)*-d,C=Math.cos(l-c)*d,c&&(u*=wc,E=Math.tan(c-u),E=Math.sqrt(1+E*E),x*=E,C*=E,u&&(E=Math.tan(u),E=Math.sqrt(1+E*E),k*=E,P*=E)),k=vi(k),P=vi(P),x=vi(x),C=vi(C)):(k=h,C=d,P=x=0),(w&&!~(o+"").indexOf("px")||S&&!~(a+"").indexOf("px"))&&(w=ca(f,"x",o,"px"),S=ca(f,"y",a,"px")),(g||m||v||y)&&(w=vi(w+g-(g*k+m*x)+v),S=vi(S+m-(g*P+m*C)+y)),(n||s)&&(E=f.getBBox(),w=vi(w+n/100*E.width),S=vi(S+s/100*E.height)),E="matrix("+k+","+P+","+x+","+C+","+w+","+S+")",f.setAttribute("transform",E),_&&(f.style[li]=E)},cY=function(e,t,i,n,s){var o=360,a=Bi(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Fa:1),c=l-n,u=n+c+"deg",h,d;return a&&(h=s.split("_")[1],h==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-360)),h==="cw"&&c<0?c=(c+o*A9)%o-~~(c/o)*o:h==="ccw"&&c>0&&(c=(c-o*A9)%o-~~(c/o)*o)),e._pt=d=new Rr(e._pt,t,i,n,c,Zq),d.e=u,d.u="deg",e._props.push(i),d},O9=function(e,t){for(var i in t)e[i]=t[i];return e},uY=function(e,t,i){var n=O9({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,u,h,d,f,g;n.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[li]=t,a=Nd(i,1),pl(i,li),i.setAttribute("transform",c)):(c=getComputedStyle(i)[li],o[li]=t,a=Nd(i,1),o[li]=c);for(l in no)c=n[l],u=a[l],c!==u&&s.indexOf(l)<0&&(f=ar(c),g=ar(u),h=f!==g?ca(i,l,c,g):parseFloat(c),d=parseFloat(u),e._pt=new Rr(e._pt,a,l,h,d-h,z5),e._pt.u=g||0,e._props.push(l));O9(a,n)};Pr("padding,margin,Width,Radius",function(r,e){var t="Top",i="Right",n="Bottom",s="Left",o=(e<3?[t,i,n,s]:[t+s,t+i,n+i,n+s]).map(function(a){return e<2?r+a:"border"+a+r});eg[e>1?"border"+r:r]=function(a,l,c,u,h){var d,f;if(arguments.length<4)return d=o.map(function(g){return Ns(a,g,c)}),f=d.join(" "),f.split(d[0]).length===5?d[0]:f;d=(u+"").split(" "),f={},o.forEach(function(g,m){return f[g]=d[m]=d[m]||d[(m-1)/2|0]}),a.init(l,f,h)}});var VS={name:"css",register:G5,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,s){var o=this._props,a=e.style,l=i.vars.startAt,c,u,h,d,f,g,m,v,y,_,w,S,k,P,x,C;ib||G5(),this.styles=this.styles||IS(e),C=this.styles.props,this.tween=i;for(m in t)if(m!=="autoRound"&&(u=t[m],!(jr[m]&&bS(m,t,i,n,e,s)))){if(f=typeof u,g=eg[m],f==="function"&&(u=u.call(i,n,e,s),f=typeof u),f==="string"&&~u.indexOf("random(")&&(u=$d(u)),g)g(this,e,m,u,i)&&(x=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",Zo.lastIndex=0,Zo.test(c)||(v=ar(c),y=ar(u)),y?v!==y&&(c=ca(e,m,c,y)+y):v&&(u+=v),this.add(a,"setProperty",c,u,n,s,0,0,m),o.push(m),C.push(m,0,a[m]);else if(f!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(i,n,e,s):l[m],Bi(c)&&~c.indexOf("random(")&&(c=$d(c)),ar(c+"")||c==="auto"||(c+=Xr.units[m]||ar(Ns(e,m))||""),(c+"").charAt(1)==="="&&(c=Ns(e,m))):c=Ns(e,m),d=parseFloat(c),_=f==="string"&&u.charAt(1)==="="&&u.substr(0,2),_&&(u=u.substr(2)),h=parseFloat(u),m in os&&(m==="autoAlpha"&&(d===1&&Ns(e,"visibility")==="hidden"&&h&&(d=0),C.push("visibility",0,a.visibility),$o(this,a,"visibility",d?"inherit":"hidden",h?"inherit":"hidden",!h)),m!=="scale"&&m!=="transform"&&(m=os[m],~m.indexOf(",")&&(m=m.split(",")[0]))),w=m in no,w){if(this.styles.save(m),S||(k=e._gsap,k.renderTransform&&!t.parseTransform||Nd(e,t.parseTransform),P=t.smoothOrigin!==!1&&k.smooth,S=this._pt=new Rr(this._pt,a,li,0,1,k.renderTransform,k,0,-1),S.dep=1),m==="scale")this._pt=new Rr(this._pt,k,"scaleY",k.scaleY,(_?bc(k.scaleY,_+h):h)-k.scaleY||0,z5),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){C.push(Dr,0,a[Dr]),u=sY(u),k.svg?Z5(e,u,0,P,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==k.zOrigin&&$o(this,k,"zOrigin",k.zOrigin,y),$o(this,a,m,tg(c),tg(u)));continue}else if(m==="svgOrigin"){Z5(e,u,1,P,0,this);continue}else if(m in DS){cY(this,k,m,d,_?bc(d,_+u):u);continue}else if(m==="smoothOrigin"){$o(this,k,"smooth",k.smooth,u);continue}else if(m==="force3D"){k[m]=u;continue}else if(m==="transform"){uY(this,u,e);continue}}else m in a||(m=Jc(m)||m);if(w||(h||h===0)&&(d||d===0)&&!Gq.test(u)&&m in a)v=(c+"").substr((d+"").length),h||(h=0),y=ar(u)||(m in Xr.units?Xr.units[m]:v),v!==y&&(d=ca(e,m,c,y)),this._pt=new Rr(this._pt,w?k:a,m,d,(_?bc(d,_+h):h)-d,!w&&(y==="px"||m==="zIndex")&&t.autoRound!==!1?Kq:z5),this._pt.u=y||0,v!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=Wq);else if(m in a)nY.call(this,e,m,c,_?_+u:u);else if(m in e)this.add(e,m,c||e[m],_?_+u:u,n,s);else if(m!=="parseTransform"){W4(m,u);continue}w||(m in a?C.push(m,0,a[m]):typeof e[m]=="function"?C.push(m,2,e[m]()):C.push(m,1,c||e[m])),o.push(m)}}x&&TS(this)},render:function(e,t){if(t.tween._time||!rb())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ns,aliases:os,getSetter:function(e,t,i){var n=os[t];return n&&n.indexOf(",")<0&&(t=n),t in no&&t!==Dr&&(e._gsap.x||Ns(e,"x"))?i&&S9===i?t==="scale"?Qq:Xq:(S9=i||{})&&(t==="scale"?Jq:eY):e.style&&!j4(e.style[t])?qq:~t.indexOf("-")?Yq:eb(e,t)},core:{_removeProperty:pl,_getMatrix:sb}};Fr.utils.checkPrefix=Jc;Fr.core.getStyleSaver=IS;(function(r,e,t,i){var n=Pr(r+","+e+","+t,function(s){no[s]=1});Pr(e,function(s){Xr.units[s]="deg",DS[s]=1}),os[n[13]]=r+","+e,Pr(i,function(s){var o=s.split(":");os[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Pr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Xr.units[r]="px"});Fr.registerPlugin(VS);var FS=Fr.registerPlugin(VS)||Fr;FS.core.Tween;const hY={class:"container"},dY={class:"ship"},fY=Ne({__name:"InstrumentDemo",setup(r){const e=je(30),t=je(-20),i=je(50),n=je(50);return Fn(()=>{FS.timeline({repeat:-1}).to(e,{value:-20,duration:5}).to(n,{value:90,duration:3},">").to(i,{value:90,duration:7},"<1").to(t,{value:30,duration:3},">").to(e,{value:30,duration:7},"<1").to(n,{value:50,duration:3},">").to(i,{value:50,duration:5},"<1").to(t,{value:-20,duration:5},">")}),(s,o)=>(G(),we("div",hY,[Z("div",dY,[o[0]||(o[0]=eR('<svg viewBox="0 0 320 985" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-84bca5bd><mask id="path-1-inside-1_1_1834" fill="white" data-v-84bca5bd><path fill-rule="evenodd" clip-rule="evenodd" d="M320 231.332C320 125.694 253.456 35.5986 160 0.675873C66.558 35.5932 0.0205697 125.666 4.76837e-06 231.283L0 985H320V231.332Z" data-v-84bca5bd></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M320 231.332C320 125.694 253.456 35.5986 160 0.675873C66.558 35.5932 0.0205697 125.666 4.76837e-06 231.283L0 985H320V231.332Z" fill="var(--normal-enabled-background-color)" data-v-84bca5bd></path><path d="M160 0.675873L160.35 -0.260862L160 -0.391665L159.65 -0.260862L160 0.675873ZM4.76837e-06 231.283L-0.999995 231.283L-0.999995 231.283L4.76837e-06 231.283ZM0 985L-1 985L-1 986H0V985ZM320 985V986H321V985H320ZM159.65 1.61261C252.728 36.394 319 126.125 319 231.332H321C321 125.263 254.185 34.8032 160.35 -0.260862L159.65 1.61261ZM159.65 -0.260862C65.8299 34.7977 -0.979346 125.235 -0.999995 231.283L1 231.283C1.02049 126.097 67.2861 36.3887 160.35 1.61261L159.65 -0.260862ZM1 985L1 231.283L-0.999995 231.283L-1 985L1 985ZM320 984H0V986H320V984ZM319 231.332V985H321V231.332H319Z" fill="var(--instrument-frame-tertiary-color)" mask="url(#path-1-inside-1_1_1834)" data-v-84bca5bd></path></svg>',1)),ue(qf,{class:"tunnel1",thrust:10,setpoint:10,tunnel:""}),ue(qf,{class:"tunnel2",thrust:5,setpoint:5,tunnel:""}),ue(FL,{class:"instrument",angle:e.value,"angle-setpoint":t.value,thrust:i.value,"thrust-setpoint":n.value,"thrust-advices":[{min:40,max:60,type:N(oc).advice,hinted:!1},{min:80,max:100,type:N(oc).caution,hinted:!1}],"angle-advices":[{minAngle:320,maxAngle:350,type:N(oc).advice,hinted:!1},{minAngle:20,maxAngle:40,type:N(oc).caution,hinted:!1}]},null,8,["angle","angle-setpoint","thrust","thrust-setpoint","thrust-advices","angle-advices"]),ue(qf,{class:"main1",thrust:50,setpoint:50}),ue(qf,{class:"main2",thrust:50,setpoint:50})])]))}}),pY=En(fY,[["__scopeId","data-v-84bca5bd"]]),gY=["src"],mY=["src"],vY=["src"],yY=["src"],bY=Ne({__name:"LandingView",setup(r){const e=N4(),t=Xe(()=>e.page),i=Gc(),n=Xe(()=>i.palette);return(s,o)=>(G(),we(pt,null,[N(e).hasConfig?$t("",!0):(G(),Re(pY,{key:0})),t.value?(G(),we("iframe",{key:1,class:Po({"content-iframe":!0,"content-iframe--current":n.value==="bright"}),src:t.value.url.brightUrl,width:"100%",height:"100%",frameborder:"0"},null,10,gY)):$t("",!0),t.value?(G(),we("iframe",{key:2,class:Po({"content-iframe":!0,"content-iframe--current":n.value==="day"}),src:t.value.url.dayUrl,width:"100%",height:"100%",frameborder:"0"},null,10,mY)):$t("",!0),t.value?(G(),we("iframe",{key:3,class:Po({"content-iframe":!0,"content-iframe--current":n.value==="dusk"}),src:t.value.url.duskUrl,width:"100%",height:"100%",frameborder:"0"},null,10,vY)):$t("",!0),t.value?(G(),we("iframe",{key:4,class:Po({"content-iframe":!0,"content-iframe--current":n.value==="night"}),src:t.value.url.nightUrl,width:"100%",height:"100%",frameborder:"0"},null,10,yY)):$t("",!0)],64))}}),_Y=En(bY,[["__scopeId","data-v-8e79164c"]]),BS=Ne({__name:"ObcInput",props:{value:{},placeholder:{},type:{},squared:{type:Boolean},textAlign:{},font:{},disabled:{type:Boolean},required:{type:Boolean},error:{type:Boolean},noHorisontalPadding:{type:Boolean}},emits:["input"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onInput:u=>o("input",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-input",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}}),K1=Ne({__name:"ObcIconButton",props:{variant:{},activated:{type:Boolean},cornerLeft:{type:Boolean},cornerRight:{type:Boolean},activeColor:{type:Boolean},wide:{type:Boolean},disabled:{type:Boolean}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-icon-button",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}});var wY=Object.defineProperty,CY=Object.getOwnPropertyDescriptor,NS=(r,e,t,i)=>{for(var n=i>1?void 0:i?CY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&wY(e,t,n),n};let ig=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M9.24995 22L8.84995 18.8C8.63328 18.7167 8.42912 18.6167 8.23745 18.5C8.04578 18.3833 7.85828 18.2583 7.67495 18.125L4.69995 19.375L1.94995 14.625L4.52495 12.675C4.50828 12.5583 4.49995 12.4458 4.49995 12.3375V11.6625C4.49995 11.5542 4.50828 11.4417 4.52495 11.325L1.94995 9.375L4.69995 4.625L7.67495 5.875C7.85828 5.74167 8.04995 5.61667 8.24995 5.5C8.44995 5.38333 8.64995 5.28333 8.84995 5.2L9.24995 2H14.75L15.15 5.2C15.3666 5.28333 15.5708 5.38333 15.7625 5.5C15.9541 5.61667 16.1416 5.74167 16.325 5.875L19.3 4.625L22.05 9.375L19.475 11.325C19.4916 11.4417 19.5 11.5542 19.5 11.6625V12.3375C19.5 12.4458 19.4833 12.5583 19.45 12.675L22.025 14.625L19.275 19.375L16.325 18.125C16.1416 18.2583 15.95 18.3833 15.75 18.5C15.55 18.6167 15.35 18.7167 15.15 18.8L14.75 22H9.24995ZM11 20H12.975L13.325 17.35C13.8416 17.2167 14.3208 17.0208 14.7625 16.7625C15.2041 16.5042 15.6083 16.1917 15.975 15.825L18.45 16.85L19.425 15.15L17.275 13.525C17.3583 13.2917 17.4166 13.0458 17.45 12.7875C17.4833 12.5292 17.5 12.2667 17.5 12C17.5 11.7333 17.4833 11.4708 17.45 11.2125C17.4166 10.9542 17.3583 10.7083 17.275 10.475L19.425 8.85L18.45 7.15L15.975 8.2C15.6083 7.81667 15.2041 7.49583 14.7625 7.2375C14.3208 6.97917 13.8416 6.78333 13.325 6.65L13 4H11.025L10.675 6.65C10.1583 6.78333 9.67912 6.97917 9.23745 7.2375C8.79578 7.49583 8.39162 7.80833 8.02495 8.175L5.54995 7.15L4.57495 8.85L6.72495 10.45C6.64162 10.7 6.58328 10.95 6.54995 11.2C6.51662 11.45 6.49995 11.7167 6.49995 12C6.49995 12.2667 6.51662 12.525 6.54995 12.775C6.58328 13.025 6.64162 13.275 6.72495 13.525L4.57495 15.15L5.54995 16.85L8.02495 15.8C8.39162 16.1833 8.79578 16.5042 9.23745 16.7625C9.67912 17.0208 10.1583 17.2167 10.675 17.35L11 20Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 13.5C12.8284 13.5 13.5 12.8284 13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1715 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1715 13.5 12 13.5ZM12 15.5C13.9329 15.5 15.5 13.933 15.5 12C15.5 10.067 13.9329 8.5 12 8.5C10.067 8.5 8.49995 10.067 8.49995 12C8.49995 13.933 10.067 15.5 12 15.5Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.24995 22L8.84995 18.8C8.63328 18.7167 8.42912 18.6167 8.23745 18.5C8.04578 18.3833 7.85828 18.2583 7.67495 18.125L4.69995 19.375L1.94995 14.625L4.52495 12.675C4.50828 12.5583 4.49995 12.4458 4.49995 12.3375V11.6625C4.49995 11.5542 4.50828 11.4417 4.52495 11.325L1.94995 9.375L4.69995 4.625L7.67495 5.875C7.85828 5.74167 8.04995 5.61667 8.24995 5.5C8.44995 5.38333 8.64995 5.28333 8.84995 5.2L9.24995 2H14.75L15.15 5.2C15.3666 5.28333 15.5708 5.38333 15.7625 5.5C15.9541 5.61667 16.1416 5.74167 16.325 5.875L19.3 4.625L22.05 9.375L19.475 11.325C19.4916 11.4417 19.5 11.5542 19.5 11.6625V12.3375C19.5 12.4458 19.4833 12.5583 19.45 12.675L22.025 14.625L19.275 19.375L16.325 18.125C16.1416 18.2583 15.95 18.3833 15.75 18.5C15.55 18.6167 15.35 18.7167 15.15 18.8L14.75 22H9.24995ZM11 20H12.975L13.325 17.35C13.8416 17.2167 14.3208 17.0208 14.7625 16.7625C15.2041 16.5042 15.6083 16.1917 15.975 15.825L18.45 16.85L19.425 15.15L17.275 13.525C17.3583 13.2917 17.4166 13.0458 17.45 12.7875C17.4833 12.5292 17.5 12.2667 17.5 12C17.5 11.7333 17.4833 11.4708 17.45 11.2125C17.4166 10.9542 17.3583 10.7083 17.275 10.475L19.425 8.85L18.45 7.15L15.975 8.2C15.6083 7.81667 15.2041 7.49583 14.7625 7.2375C14.3208 6.97917 13.8416 6.78333 13.325 6.65L13 4H11.025L10.675 6.65C10.1583 6.78333 9.67912 6.97917 9.23745 7.2375C8.79578 7.49583 8.39162 7.80833 8.02495 8.175L5.54995 7.15L4.57495 8.85L6.72495 10.45C6.64162 10.7 6.58328 10.95 6.54995 11.2C6.51662 11.45 6.49995 11.7167 6.49995 12C6.49995 12.2667 6.51662 12.525 6.54995 12.775C6.58328 13.025 6.64162 13.275 6.72495 13.525L4.57495 15.15L5.54995 16.85L8.02495 15.8C8.39162 16.1833 8.79578 16.5042 9.23745 16.7625C9.67912 17.0208 10.1583 17.2167 10.675 17.35L11 20Z" style="fill: var(--element-active-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 13.5C12.8284 13.5 13.5 12.8284 13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1715 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1715 13.5 12 13.5ZM12 15.5C13.9329 15.5 15.5 13.933 15.5 12C15.5 10.067 13.9329 8.5 12 8.5C10.067 8.5 8.49995 10.067 8.49995 12C8.49995 13.933 10.067 15.5 12 15.5Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};ig.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;NS([M({type:Boolean})],ig.prototype,"useCssColor",2);ig=NS([ie("obi-settings-iec")],ig);const xY={class:"container"},EY={class:"group"},TY={key:0},LY={key:1},SY={class:"group"},AY=Ne({__name:"SettingsToolbar",props:{help:Boolean},setup(r){const e=cx(),t=r,i=()=>{e.go(-1)};return(n,s)=>(G(),we("div",xY,[Z("div",EY,[ue(K1,{variant:N(Mh).flat,"corner-left":""},{default:J(()=>s[0]||(s[0]=[Z("obi-arrow-left-google",null,null,-1)])),_:1},8,["variant"]),ue(K1,{variant:N(Mh).flat,"corner-right":""},{default:J(()=>s[1]||(s[1]=[Z("obi-arrow-right-google",null,null,-1)])),_:1},8,["variant"]),s[3]||(s[3]=Z("div",{class:"divider"},null,-1)),ue(ch,{variant:N(s4).flat,"hug-text":""},{"leading-icon":J(()=>[t.help?(G(),we("obi-support",TY)):(G(),we("obi-settings-iec",LY))]),default:J(()=>[s[2]||(s[2]=It(" Home "))]),_:1},8,["variant"])]),Z("div",SY,[ue(K1,{variant:N(Mh).flat,onClick:i},{default:J(()=>s[4]||(s[4]=[Z("obi-close-google",null,null,-1)])),_:1},8,["variant"])])]))}}),HS=En(AY,[["__scopeId","data-v-425c1b3f"]]),kY=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

.wrapper:not(:has(.info)) {
  background: var(--container-background-color);
}

.button {
  overflow: hidden;
  width: 100%;
  height: 100%;
  min-height: var(--ui-components-elevated-card-touch-target-min);
  appearance: none;
  display: flex;
  flex-direction: column;
  justify-content: center;
  text-align: left;
  padding: 0;
  border-width: 0 !important;
  background-color: transparent;
  text-decoration: none;
}

.button, .wrapper {
  border-top-left-radius: var(--elevated-card-border-radius-top-left);
  border-top-right-radius: var(--elevated-card-border-radius-top-right);
  border-bottom-left-radius: var(--elevated-card-border-radius-bottom-left);
  border-bottom-right-radius: var(--elevated-card-border-radius-bottom-right);
}

.center:is(.button,.wrapper),.bottom:is(.button,.wrapper) {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
  }

.center:is(.button,.wrapper),.top:is(.button,.wrapper) {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }

.button:not(.info) {
  box-shadow: var(--shadow-flat);
}

.button.not-clickable:not(.info) {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
}

.button:not(.info):not(.not-clickable) {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.button:not(.info):not(.not-clickable):focus {
            outline: none;
}

.button.activated:not(.info):not(.not-clickable) {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

@media (hover:hover) {

.button:not(.info):not(.not-clickable):hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.button:not(.info):not(.not-clickable):active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.button:not(.info):not(.not-clickable):focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.button:not(.info):not(.not-clickable):disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.top.border.button,
.center.border.button {
  border-bottom: 1px solid var(--border-outline-color) !important;
}

.bottom.border.button {
  border-top: 1px solid var(--border-outline-color) !important;
}

.content-container {
  width: 100%;
  height: 100%;
  display: flex;
  min-height: var(--ui-components-elevated-card-touch-target-min);
  padding: var(--ui-components-elevated-card-padding-vertical) var(--ui-components-elevated-card-margin-horizontal);
  align-items: center;
  align-self: stretch;
  background: var(--flat-enabled-background-color);
}

.container-content {
  height: 100%;
  display: flex;
  align-items: baseline;
  flex-grow: 1;
  min-width: 0;
}

.content {
  display: flex;
  flex-direction: column;
  min-width: 0;
  padding-right: var(--ui-components-elevated-card-label-spacing);
}

.has-leading-icon .leading-icon {
  display: block;
  align-self: center;
  width: calc(var(--ui-components-elevated-card-icon-size) + var(--ui-components-rich-button-label-spacing));
  height: var(--ui-components-elevated-card-icon-size);
  padding-right: var(--ui-components-rich-button-label-spacing);
  color: var(--element-neutral-color);
  flex-shrink: 0;
  flex-grow: 0;
}

.has-trailing-icon .trailing-icon {
  width: calc(var(--ui-components-elevated-card-icon-size) + var(--ui-components-rich-button-label-spacing));
  height: var(--ui-components-elevated-card-icon-size);
  padding-left: var(--ui-components-elevated-card-label-spacing);
  color: var(--element-neutral-color);
  flex-shrink: 0;
  flex-grow: 0;
}

::slotted([slot='label']) {
  /* UI/Body */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-body-font-weight);
  line-height: var(--global-typography-ui-body-line-height);
  text-decoration: none;
  color: var(--element-active-color);
}

::slotted([slot='description']) {
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-label-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-label-font-weight);
  line-height: var(--global-typography-ui-label-line-height);
  color: var(--element-neutral-color);
}

.double-line ::slotted([slot='description']) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.has-status .status {
  /* UI/Body */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-body-font-weight);
  line-height: var(--global-typography-ui-body-line-height);
  text-decoration: none;
  color: var(--element-neutral-color);
  padding: 0 var(--ui-components-elevated-card-label-spacing);

}

.graphic {
  width: 100%;
}

.graphic-border .graphic {
  border-bottom: 1px solid var(--border-outline-color);
  margin-bottom: -1px;
}

.info .graphic {
  border-radius: var(--ui-components-elevated-card-border-radius) var(--ui-components-elevated-card-border-radius) 0 0;
  box-shadow: var(--shadow-flat);
  overflow: hidden;
}
`;var IY=Object.defineProperty,MY=Object.getOwnPropertyDescriptor,Nn=(r,e,t,i)=>{for(var n=i>1?void 0:i?MY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&IY(e,t,n),n},Gi=(r=>(r.Regular="regular",r.Top="top",r.Bottom="bottom",r.Center="center",r))(Gi||{}),cr=(r=>(r.SingleLine="single-line",r.DoubleLine="double-line",r.MultiLine="multi-line",r))(cr||{}),US=(r=>(r.Button="button",r.Anchor="a",r.Article="article",r.Div="div",r))(US||{});let nn=class extends ee{constructor(){super(...arguments),this.position="regular",this.size="single-line",this.notClickable=!1,this.info=!1,this.graphicBorder=!1,this.border=!1,this.hasAction=!1,this.leadingIconSlotController=new za(this,"leading-icon"),this.trailingIconSlotController=new za(this,"trailing-icon"),this.graphicSlotController=new za(this,"graphic"),this.statusSlotController=new za(this,"status")}render(){let r=this.href?qn`a`:qn`button`;if(r=this.notClickable?qn`article`:r,this.overrideTag!==void 0)switch(this.overrideTag){case"a":r=qn`a`;break;case"button":r=qn`button`;break;case"article":r=qn`article`;break;case"div":r=qn`div`;break;default:throw new Error("Invalid tag")}return this.hasAction&&(r=qn`article`,this.notClickable=!0),$1`
    <div class="wrapper ${this.position}">
        <${r} class=${ti({button:!0,[this.position]:!0,[this.size]:!0,"graphic-border":this.graphicBorder,info:this.info,border:this.border,"has-leading-icon":this.leadingIconSlotController.hasAssignedElements,"has-trailing-icon":this.trailingIconSlotController.hasAssignedElements,"has-graphic":this.graphicSlotController.hasAssignedElements,"has-status":this.statusSlotController.hasAssignedElements,"not-clickable":this.notClickable,"has-action":this.hasAction})}
        part="wrapper" href=${ll(this.href)} target=${ll(this.target)}>
          <div class="graphic"><slot name="graphic"></slot></div>
          <div class="content-container">
            <div class="container-content">
              <div class="leading-icon">
                <slot name="leading-icon"></slot>
              </div>
              <div class="content">
                <slot name="label"></slot>
                ${this.size==="single-line"?He:$1`<slot name="description"></slot>`}
              </div>
            </div>
            <div class="status">
              <slot name="status"></slot>
            </div>
            ${this.hasAction?$1`<obc-button
                    variant="normal"
                    class="action"
                    @click=${()=>{this.dispatchEvent(new CustomEvent("action-click"))}}
                  >
                    <slot name="action"></slot>
                  </obc-button>`:He}
            <div class="trailing-icon">
              <slot name="trailing-icon"></slot>
            </div>
          </div>
        </${r}>
        </div>
    `}};nn.styles=ot(kY);Nn([M({type:String})],nn.prototype,"position",2);Nn([M({type:String})],nn.prototype,"size",2);Nn([M({type:String})],nn.prototype,"overrideTag",2);Nn([M({type:Boolean})],nn.prototype,"notClickable",2);Nn([M({type:Boolean})],nn.prototype,"info",2);Nn([M({type:Boolean})],nn.prototype,"graphicBorder",2);Nn([M({type:Boolean})],nn.prototype,"border",2);Nn([M({type:Boolean})],nn.prototype,"hasAction",2);Nn([M({type:String})],nn.prototype,"href",2);Nn([M({type:String})],nn.prototype,"target",2);nn=Nn([ie("obc-elevated-card")],nn);const Li=Ne({__name:"ObcElevatedCard",props:{position:{},size:{},overrideTag:{},notClickable:{type:Boolean},info:{type:Boolean},graphicBorder:{type:Boolean},border:{type:Boolean},hasAction:{type:Boolean},href:{},target:{}},emits:["action-click"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onActionClick:u=>o("action-click",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-elevated-card",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}});var PY=Object.defineProperty,RY=Object.getOwnPropertyDescriptor,zS=(r,e,t,i)=>{for(var n=i>1?void 0:i?RY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&PY(e,t,n),n};let rg=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M9 18C8.45 18 7.97917 17.8042 7.5875 17.4125C7.19583 17.0208 7 16.55 7 16V4C7 3.45 7.19583 2.97917 7.5875 2.5875C7.97917 2.19583 8.45 2 9 2H18C18.55 2 19.0208 2.19583 19.4125 2.5875C19.8042 2.97917 20 3.45 20 4V16C20 16.55 19.8042 17.0208 19.4125 17.4125C19.0208 17.8042 18.55 18 18 18H9ZM9 16H18V4H9V16ZM5 22C4.45 22 3.97917 21.8042 3.5875 21.4125C3.19583 21.0208 3 20.55 3 20V6H5V20H16V22H5Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9 18C8.45 18 7.97917 17.8042 7.5875 17.4125C7.19583 17.0208 7 16.55 7 16V4C7 3.45 7.19583 2.97917 7.5875 2.5875C7.97917 2.19583 8.45 2 9 2H18C18.55 2 19.0208 2.19583 19.4125 2.5875C19.8042 2.97917 20 3.45 20 4V16C20 16.55 19.8042 17.0208 19.4125 17.4125C19.0208 17.8042 18.55 18 18 18H9ZM9 16H18V4H9V16ZM5 22C4.45 22 3.97917 21.8042 3.5875 21.4125C3.19583 21.0208 3 20.55 3 20V6H5V20H16V22H5Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};rg.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;zS([M({type:Boolean})],rg.prototype,"useCssColor",2);rg=zS([ie("obi-content-copy-google")],rg);var DY=Object.defineProperty,OY=Object.getOwnPropertyDescriptor,jS=(r,e,t,i)=>{for(var n=i>1?void 0:i?OY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&DY(e,t,n),n};let ng=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M12 13C11.1667 13 10.4583 12.7083 9.875 12.125C9.29167 11.5417 9 10.8333 9 10C9 9.16667 9.29167 8.45833 9.875 7.875C10.4583 7.29167 11.1667 7 12 7C12.8333 7 13.5417 7.29167 14.125 7.875C14.7083 8.45833 15 9.16667 15 10C15 10.8333 14.7083 11.5417 14.125 12.125C13.5417 12.7083 12.8333 13 12 13ZM6 23V15.275C5.36667 14.575 4.875 13.775 4.525 12.875C4.175 11.975 4 11.0167 4 10C4 7.76667 4.775 5.875 6.325 4.325C7.875 2.775 9.76667 2 12 2C14.2333 2 16.125 2.775 17.675 4.325C19.225 5.875 20 7.76667 20 10C20 11.0167 19.825 11.975 19.475 12.875C19.125 13.775 18.6333 14.575 18 15.275V23L12 21L6 23ZM12 16C13.6667 16 15.0833 15.4167 16.25 14.25C17.4167 13.0833 18 11.6667 18 10C18 8.33333 17.4167 6.91667 16.25 5.75C15.0833 4.58333 13.6667 4 12 4C10.3333 4 8.91667 4.58333 7.75 5.75C6.58333 6.91667 6 8.33333 6 10C6 11.6667 6.58333 13.0833 7.75 14.25C8.91667 15.4167 10.3333 16 12 16ZM8 20.025L12 19L16 20.025V16.925C15.4167 17.2583 14.7875 17.5208 14.1125 17.7125C13.4375 17.9042 12.7333 18 12 18C11.2667 18 10.5625 17.9042 9.8875 17.7125C9.2125 17.5208 8.58333 17.2583 8 16.925V20.025Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 13C11.1667 13 10.4583 12.7083 9.875 12.125C9.29167 11.5417 9 10.8333 9 10C9 9.16667 9.29167 8.45833 9.875 7.875C10.4583 7.29167 11.1667 7 12 7C12.8333 7 13.5417 7.29167 14.125 7.875C14.7083 8.45833 15 9.16667 15 10C15 10.8333 14.7083 11.5417 14.125 12.125C13.5417 12.7083 12.8333 13 12 13ZM6 23V15.275C5.36667 14.575 4.875 13.775 4.525 12.875C4.175 11.975 4 11.0167 4 10C4 7.76667 4.775 5.875 6.325 4.325C7.875 2.775 9.76667 2 12 2C14.2333 2 16.125 2.775 17.675 4.325C19.225 5.875 20 7.76667 20 10C20 11.0167 19.825 11.975 19.475 12.875C19.125 13.775 18.6333 14.575 18 15.275V23L12 21L6 23ZM12 16C13.6667 16 15.0833 15.4167 16.25 14.25C17.4167 13.0833 18 11.6667 18 10C18 8.33333 17.4167 6.91667 16.25 5.75C15.0833 4.58333 13.6667 4 12 4C10.3333 4 8.91667 4.58333 7.75 5.75C6.58333 6.91667 6 8.33333 6 10C6 11.6667 6.58333 13.0833 7.75 14.25C8.91667 15.4167 10.3333 16 12 16ZM8 20.025L12 19L16 20.025V16.925C15.4167 17.2583 14.7875 17.5208 14.1125 17.7125C13.4375 17.9042 12.7333 18 12 18C11.2667 18 10.5625 17.9042 9.8875 17.7125C9.2125 17.5208 8.58333 17.2583 8 16.925V20.025Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};ng.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;jS([M({type:Boolean})],ng.prototype,"useCssColor",2);ng=jS([ie("obi-license-google")],ng);var $Y=Object.defineProperty,VY=Object.getOwnPropertyDescriptor,GS=(r,e,t,i)=>{for(var n=i>1?void 0:i?VY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&$Y(e,t,n),n};let sg=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4 9V7C4 6.45 4.19583 5.97917 4.5875 5.5875C4.97917 5.19583 5.45 5 6 5H9C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5H18C18.55 5 19.0208 5.19583 19.4125 5.5875C19.8042 5.97917 20 6.45 20 7V9C21.1046 9 22 9.89543 22 11V13C22 14.1046 21.1046 15 20 15V19C20 19.55 19.8042 20.0208 19.4125 20.4125C19.0208 20.8042 18.55 21 18 21H6C5.45 21 4.97917 20.8042 4.5875 20.4125C4.19583 20.0208 4 19.55 4 19V15C2.89543 15 2 14.1046 2 13V11C2 9.89543 2.89543 9 4 9ZM18 19H6V7H18V19Z" fill="currentColor"/>
<path d="M9 13C9.41667 13 9.77083 12.8542 10.0625 12.5625C10.3542 12.2708 10.5 11.9167 10.5 11.5C10.5 11.0833 10.3542 10.7292 10.0625 10.4375C9.77083 10.1458 9.41667 10 9 10C8.58333 10 8.22917 10.1458 7.9375 10.4375C7.64583 10.7292 7.5 11.0833 7.5 11.5C7.5 11.9167 7.64583 12.2708 7.9375 12.5625C8.22917 12.8542 8.58333 13 9 13Z" fill="currentColor"/>
<path d="M15 13C15.4167 13 15.7708 12.8542 16.0625 12.5625C16.3542 12.2708 16.5 11.9167 16.5 11.5C16.5 11.0833 16.3542 10.7292 16.0625 10.4375C15.7708 10.1458 15.4167 10 15 10C14.5833 10 14.2292 10.1458 13.9375 10.4375C13.6458 10.7292 13.5 11.0833 13.5 11.5C13.5 11.9167 13.6458 12.2708 13.9375 12.5625C14.2292 12.8542 14.5833 13 15 13Z" fill="currentColor"/>
<path d="M8 17H16V15H8V17Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4 9V7C4 6.45 4.19583 5.97917 4.5875 5.5875C4.97917 5.19583 5.45 5 6 5H9C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5H18C18.55 5 19.0208 5.19583 19.4125 5.5875C19.8042 5.97917 20 6.45 20 7V9C21.1046 9 22 9.89543 22 11V13C22 14.1046 21.1046 15 20 15V19C20 19.55 19.8042 20.0208 19.4125 20.4125C19.0208 20.8042 18.55 21 18 21H6C5.45 21 4.97917 20.8042 4.5875 20.4125C4.19583 20.0208 4 19.55 4 19V15C2.89543 15 2 14.1046 2 13V11C2 9.89543 2.89543 9 4 9ZM18 19H6V7H18V19Z" style="fill: var(--element-active-color)"/>
<path d="M9 13C9.41667 13 9.77083 12.8542 10.0625 12.5625C10.3542 12.2708 10.5 11.9167 10.5 11.5C10.5 11.0833 10.3542 10.7292 10.0625 10.4375C9.77083 10.1458 9.41667 10 9 10C8.58333 10 8.22917 10.1458 7.9375 10.4375C7.64583 10.7292 7.5 11.0833 7.5 11.5C7.5 11.9167 7.64583 12.2708 7.9375 12.5625C8.22917 12.8542 8.58333 13 9 13Z" style="fill: var(--element-active-color)"/>
<path d="M15 13C15.4167 13 15.7708 12.8542 16.0625 12.5625C16.3542 12.2708 16.5 11.9167 16.5 11.5C16.5 11.0833 16.3542 10.7292 16.0625 10.4375C15.7708 10.1458 15.4167 10 15 10C14.5833 10 14.2292 10.1458 13.9375 10.4375C13.6458 10.7292 13.5 11.0833 13.5 11.5C13.5 11.9167 13.6458 12.2708 13.9375 12.5625C14.2292 12.8542 14.5833 13 15 13Z" style="fill: var(--element-active-color)"/>
<path d="M8 17H16V15H8V17Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};sg.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;GS([M({type:Boolean})],sg.prototype,"useCssColor",2);sg=GS([ie("obi-simulation")],sg);const FY=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

.obc-radio-button {
  user-select: none;

    /** styles when not in elevated card */
  }

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)) {
            border-color: var(--indent-enabled-border-color);
            background-color: var(--indent-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):focus {
            outline: none;
}

.activated:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)) {
            border-color: var(--indent-activated-border-color);
            background-color: var(--indent-activated-background-color);
}

@media (hover:hover) {

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):hover {
                        border-color: var(--indent-hover-border-color);
                        background-color: var(--indent-hover-background-color);
            }
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):active {
            border-color: var(--indent-pressed-border-color);
            background-color: var(--indent-pressed-background-color);
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):disabled {
            border-color: var(--indent-disabled-border-color);
            background-color: var(--indent-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-indent-disabled-color);
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)),:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):hover,:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):focus,:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):active {
                border-color: var(--element-inactive-color);
            }

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):checked {
            border-color: var(--selected-enabled-border-color);
            background-color: var(--selected-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):checked:focus {
            outline: none;
}

.activated:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):checked {
            border-color: var(--selected-activated-border-color);
            background-color: var(--selected-activated-background-color);
}

@media (hover:hover) {

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):checked:hover {
                        border-color: var(--selected-hover-border-color);
                        background-color: var(--selected-hover-background-color);
            }
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):checked:active {
            border-color: var(--selected-pressed-border-color);
            background-color: var(--selected-pressed-background-color);
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):checked:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

:is(.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button) input,input.obc-radio-button:not(obc-elevated-card-radio .obc-radio-button)):checked:disabled {
            border-color: var(--selected-disabled-border-color);
            background-color: var(--selected-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-selected-disabled-color);
}

/** styles when not in elevated card, disables hover effects, as these are in the card */

:is(:is(obc-elevated-card-radio .obc-radio-button) input,input:is(obc-elevated-card-radio .obc-radio-button)) {
            border-color: var(--indent-enabled-border-color);
            background-color: var(--indent-enabled-background-color);
            border-width: 1px;
            border-style: solid;
}

:is(obc-elevated-card-radio .obc-radio-button) input,input:is(obc-elevated-card-radio .obc-radio-button) {
            cursor: pointer;
        }

:is(:is(obc-elevated-card-radio .obc-radio-button) input,input:is(obc-elevated-card-radio .obc-radio-button)),:is(:is(obc-elevated-card-radio .obc-radio-button) input,input:is(obc-elevated-card-radio .obc-radio-button)):hover,:is(:is(obc-elevated-card-radio .obc-radio-button) input,input:is(obc-elevated-card-radio .obc-radio-button)):focus,:is(:is(obc-elevated-card-radio .obc-radio-button) input,input:is(obc-elevated-card-radio .obc-radio-button)):active {
                border-color: var(--element-inactive-color);
            }

:is(:is(obc-elevated-card-radio .obc-radio-button) input,input:is(obc-elevated-card-radio .obc-radio-button)):checked {
            border-color: var(--selected-enabled-border-color);
            background-color: var(--selected-enabled-background-color);
            border-width: 1px;
            border-style: solid;
}

input.obc-radio-button,.obc-radio-button input {
      box-sizing: border-box;
      appearance: none;
      width: var(--ui-components-radio-button-selection-size);
      height: var(--ui-components-radio-button-selection-size);
      margin: 0;
      border-radius: 100%;
      
      display: flex;
      justify-content: center;
      align-items: center;
    }

:is(input.obc-radio-button,.obc-radio-button input):checked::before {
          display: block;
          position: absolute;
          content: '';
          width: var(--ui-components-radio-button-thumb-size);
          height: var(--ui-components-radio-button-thumb-size);
          background-color: var(--on-selected-active-color);
          border-radius: 100%;
        }

.has-label :is(input.obc-radio-button,.obc-radio-button input):focus-visible {
        outline: none;
      }

.obc-radio-button .label {
      padding: 0px var(--ui-components-radio-button-label-spacing);
    }

label.obc-radio-button {
      box-sizing: border-box;
    }

label.obc-radio-button {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

label.obc-radio-button:focus {
            outline: none;
}

label.obc-radio-button.activated {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

@media (hover:hover) {

label.obc-radio-button:hover {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

label.obc-radio-button:active {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

label.obc-radio-button:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

label.obc-radio-button:disabled {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

label.obc-radio-button {
      /* UI/Body */
      font-feature-settings: 'liga' off, 'clig' off;
      font-family: var(--font-family-main);
      font-size: var(--global-typography-ui-body-font-size);
      font-style: normal;
      font-weight: var(--global-typography-ui-body-font-weight);
      line-height: var(--global-typography-ui-body-line-height);
      text-decoration: none;
      color: var(--element-active-color);
  
      display: flex;
      width: 100%;
      height: var(--ui-components-radio-button-touch-target-size);
      padding: 0 var(--ui-components-radio-button-padding-horizontal);
      border-radius: var(--ui-components-radio-button-border-radius);
  
      align-items: center;
      flex-shrink: 0;
}

label.obc-radio-button:has(input:focus-visible) {
        outline-color: var(--border-focus-color);
        outline-width: var(--global-size-spacing-border-weight-focusframe);
        outline-style: solid;
      }

label.obc-radio-button:has(input:checked) {
        /* UI/Body-Active */
        font-feature-settings: 'liga' off, 'clig' off;
        font-family: var(--font-family-main);
        font-size: var(--global-typography-ui-body-active-font-size);
        font-style: normal;
        font-weight: var(--font-weight-bold);
        line-height: var(--global-typography-ui-body-active-line-height);
      }

.wrapper {
    display: flex;
    flex-direction: column;
}

.obc-elevated-card-radio__label {
  cursor: pointer;
  user-select: none;
}

.obc-elevated-card-radio:has(input[type=radio]:checked) label {
  /* UI/Body-Active */
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-body-active-font-size);
  font-style: normal;
  font-weight: var(--font-weight-bold);
  line-height: var(--global-typography-ui-body-active-line-height);
}
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const BY=r=>r.strings===void 0,NY={},HY=(r,e=NY)=>r._$AH=e;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const $9=Jy(class extends e4{constructor(r){if(super(r),r.type!==Ao.PROPERTY&&r.type!==Ao.ATTRIBUTE&&r.type!==Ao.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!BY(r))throw Error("`live` bindings can only contain a single expression")}render(r){return r}update(r,[e]){if(e===gn||e===He)return e;const t=r.element,i=r.name;if(r.type===Ao.PROPERTY){if(e===t[i])return gn}else if(r.type===Ao.BOOLEAN_ATTRIBUTE){if(!!e===t.hasAttribute(i))return gn}else if(r.type===Ao.ATTRIBUTE&&t.getAttribute(i)===e+"")return gn;return HY(r),e}});var UY=Object.defineProperty,zY=Object.getOwnPropertyDescriptor,Ca=(r,e,t,i)=>{for(var n=i>1?void 0:i?zY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&UY(e,t,n),n};let so=class extends ee{constructor(){super(...arguments),this.checked=!1,this.disabled=!1,this.required=!1,this.inputId=""}createRenderRoot(){return this}onClick(){var r;(r=this.renderRoot.querySelector("input"))==null||r.click()}render(){return this.label!==void 0?F`
        <label
          for=${this.inputId}
          class="has-label obc-radio-button"
          @click=${this.onClick}
        >
          <input
            type="radio"
            .name=${this.name||""}
            .value=${this.value||""}
            .id=${this.inputId}
            ?checked=${$9(this.checked)}
            ?disabled=${this.disabled}
            ?required=${this.required}
          />
          <span class="label">${this.label}</span>
        </label>
      `:F`
        <input
          class="obc-radio-button"
          type="radio"
          .name=${this.name||""}
          .value=${this.value||""}
          .id=${this.inputId}
          ?checked=${$9(this.checked)}
          ?disabled=${this.disabled}
          ?required=${this.required}
        />
      `}};Ca([M({type:String})],so.prototype,"label",2);Ca([M({type:String})],so.prototype,"name",2);Ca([M({type:String})],so.prototype,"value",2);Ca([M({type:Boolean})],so.prototype,"checked",2);Ca([M({type:Boolean})],so.prototype,"disabled",2);Ca([M({type:Boolean})],so.prototype,"required",2);Ca([M({type:String})],so.prototype,"inputId",2);so=Ca([ie("obc-radio")],so);var jY=Object.defineProperty,GY=Object.getOwnPropertyDescriptor,Hn=(r,e,t,i)=>{for(var n=i>1?void 0:i?GY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&jY(e,t,n),n};let Br=class extends ee{constructor(){super(),this.position=Gi.Regular,this.size=cr.SingleLine,this.graphicBorder=!1,this.border=!1,this.name="",this.value="",this.label="",this.checked=!1,this.disabled=!1,this.required=!1,this.instanceId=`obc-elevated-card-radio-${Br.counter++}`}createRenderRoot(){return this}render(){return F`
      <obc-elevated-card
        class="obc-elevated-card-radio"
        .overrideTag=${US.Div}
        .position=${this.position}
        .size=${cr.SingleLine}
        ?graphicBorder=${this.graphicBorder}
        ?border=${this.border}
        @click=${this._handleCardClick}
      >
        <obc-radio
          .name=${this.name}
          inputId=${this.instanceId}
          .value=${this.value}
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          ?required=${this.required}
          slot="leading-icon"
        ></obc-radio>
        <label
          class="obc-elevated-card-radio__label"
          for=${this.instanceId}
          slot="label"
          >${this.label}</label
        >
      </obc-elevated-card>
    `}_handleCardClick(){var r;(r=this.renderRoot.querySelector("input"))==null||r.click()}};Br.counter=0;Hn([M({type:String})],Br.prototype,"position",2);Hn([M({type:String})],Br.prototype,"size",2);Hn([M({type:Boolean})],Br.prototype,"graphicBorder",2);Hn([M({type:Boolean})],Br.prototype,"border",2);Hn([M({type:String})],Br.prototype,"name",2);Hn([M({type:String})],Br.prototype,"value",2);Hn([M({type:String})],Br.prototype,"label",2);Hn([M({type:Boolean})],Br.prototype,"checked",2);Hn([M({type:Boolean})],Br.prototype,"disabled",2);Hn([M({type:Boolean})],Br.prototype,"required",2);Br=Hn([ie("obc-elevated-card-radio")],Br);var ZY=Object.defineProperty,WY=Object.getOwnPropertyDescriptor,kl=(r,e,t,i)=>{for(var n=i>1?void 0:i?WY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&ZY(e,t,n),n};let oo=class extends ee{constructor(){super(...arguments),this.options=[],this.name="default",this.value="",this.disabled=!1,this.required=!1,this.top=!1}_handleValueChange(r){const e=r.target.value;this.value=e,this.dispatchEvent(new CustomEvent("change",{detail:{value:e}}))}render(){return F`<div class="wrapper">
      ${this.options.map((r,e)=>{let t=Gi.Center;return e===0&&this.top&&(t=Gi.Top),e===this.options.length-1&&(t=Gi.Bottom),F` <obc-elevated-card-radio
          .name=${this.name}
          .value=${r.value}
          .label=${r.label}
          ?checked=${this.value===r.value}
          ?disabled=${this.disabled}
          ?required=${this.required}
          .position=${t}
          @change=${this._handleValueChange}
        ></obc-elevated-card-radio>`})}
    </div>`}};oo.styles=ot(FY);kl([M({type:Array})],oo.prototype,"options",2);kl([M({type:String})],oo.prototype,"name",2);kl([M({type:String})],oo.prototype,"value",2);kl([M({type:Boolean})],oo.prototype,"disabled",2);kl([M({type:Boolean})],oo.prototype,"required",2);kl([M({type:Boolean})],oo.prototype,"top",2);oo=kl([ie("obc-elevated-card-radio-group")],oo);const ob=Ne({__name:"ObcElevatedCardRadioGroup",props:{options:{},name:{},value:{},disabled:{type:Boolean},required:{type:Boolean},top:{type:Boolean}},emits:["change"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onChange:u=>o("change",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-elevated-card-radio-group",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}});var KY=Object.defineProperty,qY=Object.getOwnPropertyDescriptor,ZS=(r,e,t,i)=>{for(var n=i>1?void 0:i?qY(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&KY(e,t,n),n};let og=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M17 8C16.4477 8 16 8.44772 16 9C16 9.55228 16.4477 10 17 10C17.5523 10 18 9.55228 18 9C18 8.44772 17.5523 8 17 8Z" fill="currentColor"/>
<path d="M17 12C16.4477 12 16 12.4477 16 13C16 13.5523 16.4477 14 17 14C17.5523 14 18 13.5523 18 13C18 12.4477 17.5523 12 17 12Z" fill="currentColor"/>
<path d="M13 12C12.4477 12 12 12.4477 12 13C12 13.5523 12.4477 14 13 14C13.5523 14 14 13.5523 14 13C14 12.4477 13.5523 12 13 12Z" fill="currentColor"/>
<path d="M9 16C8.44772 16 8 16.4477 8 17C8 17.5523 8.44772 18 9 18C9.55228 18 10 17.5523 10 17C10 16.4477 9.55228 16 9 16Z" fill="currentColor"/>
<path d="M13 16C12.4477 16 12 16.4477 12 17C12 17.5523 12.4477 18 13 18C13.5523 18 14 17.5523 14 17C14 16.4477 13.5523 16 13 16Z" fill="currentColor"/>
<path d="M16 17C16 16.4477 16.4477 16 17 16C17.5523 16 18 16.4477 18 17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17 8C16.4477 8 16 8.44772 16 9C16 9.55228 16.4477 10 17 10C17.5523 10 18 9.55228 18 9C18 8.44772 17.5523 8 17 8Z" style="fill: var(--element-active-color)"/>
<path d="M17 12C16.4477 12 16 12.4477 16 13C16 13.5523 16.4477 14 17 14C17.5523 14 18 13.5523 18 13C18 12.4477 17.5523 12 17 12Z" style="fill: var(--element-active-color)"/>
<path d="M13 12C12.4477 12 12 12.4477 12 13C12 13.5523 12.4477 14 13 14C13.5523 14 14 13.5523 14 13C14 12.4477 13.5523 12 13 12Z" style="fill: var(--element-active-color)"/>
<path d="M9 16C8.44772 16 8 16.4477 8 17C8 17.5523 8.44772 18 9 18C9.55228 18 10 17.5523 10 17C10 16.4477 9.55228 16 9 16Z" style="fill: var(--element-active-color)"/>
<path d="M13 16C12.4477 16 12 16.4477 12 17C12 17.5523 12.4477 18 13 18C13.5523 18 14 17.5523 14 17C14 16.4477 13.5523 16 13 16Z" style="fill: var(--element-active-color)"/>
<path d="M16 17C16 16.4477 16.4477 16 17 16C17.5523 16 18 16.4477 18 17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};og.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;ZS([M({type:Boolean})],og.prototype,"useCssColor",2);og=ZS([ie("obi-resize-corner")],og);const YY={key:0},XY={key:1},QY=Ne({__name:"ComponentSizeSetting",setup(r){const e=je(!1),t=ff(),i=je(t.componentSize),n=[{label:"Regular",value:lh.Regular},{label:"Medium",value:lh.Medium},{label:"Large",value:lh.Large},{label:"XL",value:lh.XL}],s=Xe(()=>{var a;return(a=n.find(l=>l.value===i.value))==null?void 0:a.label});function o(a){const l=a.detail.value;i.value=l,t.componentSize=l}return(a,l)=>(G(),we("div",null,[ue(Li,{"has-leading-icon":"","has-trailing-icon":"",size:N(cr).DoubleLine,position:e.value?N(Gi).Top:N(Gi).Regular,border:e.value,onClick:l[0]||(l[0]=c=>e.value=!e.value)},{"leading-icon":J(()=>l[1]||(l[1]=[Z("obi-resize-corner",null,null,-1)])),label:J(()=>l[2]||(l[2]=[Z("div",null,"Component size",-1)])),description:J(()=>l[3]||(l[3]=[Z("div",null,"Set the global component size",-1)])),"trailing-icon":J(()=>[e.value?(G(),we("obi-chevron-up-google",YY)):(G(),we("obi-chevron-right-google",XY))]),status:J(()=>[Z("div",null,Qt(s.value),1)]),_:1},8,["size","position","border"]),e.value?(G(),Re(ob,{key:0,options:n,value:i.value,onChange:o},null,8,["value"])):$t("",!0)]))}}),JY={key:0},eX={key:1},tX=Ne({__name:"AutomationVariantSetting",setup(r){const e=je(!1),t=ff(),i=je(t.iasVariants),n=Object.values(U4).map(a=>({label:a.charAt(0).toUpperCase()+a.slice(1),value:a})),s=Xe(()=>{var a;return(a=n.find(l=>l.value===i.value))==null?void 0:a.label});function o(a){const l=a.detail.value;t.iasVariants=l,i.value=l}return(a,l)=>(G(),we("div",null,[ue(Li,{"has-leading-icon":"","has-trailing-icon":"",size:N(cr).DoubleLine,position:e.value?N(Gi).Top:N(Gi).Regular,border:e.value,onClick:l[0]||(l[0]=c=>e.value=!e.value)},{"leading-icon":J(()=>l[1]||(l[1]=[Z("obi-ias",null,null,-1)])),label:J(()=>l[2]||(l[2]=[Z("div",null,"Automation button variant",-1)])),description:J(()=>l[3]||(l[3]=[Z("div",null,"Set the variant of automation button in the IAS view",-1)])),"trailing-icon":J(()=>[e.value?(G(),we("obi-chevron-up-google",JY)):(G(),we("obi-chevron-right-google",eX))]),status:J(()=>[Z("div",null,Qt(s.value),1)]),_:1},8,["size","position","border"]),e.value?(G(),Re(ob,{key:0,options:N(n),value:i.value,onChange:o},null,8,["options","value"])):$t("",!0)]))}}),iX={key:0},rX={key:1},nX=Ne({__name:"NavigationMenuSetting",setup(r){const e=je(!1),t=ff(),i=je(t.navigationMenuVariant),n=[{label:"Normal (hidden/full)",value:An.Normal},{label:"Compact rail (compact/full)",value:An.Compact},{label:"Icon large rail (icon large/full)",value:An.RailIconLarge},{label:"Icon rail (icon/full)",value:An.RailIcon}],s=Xe(()=>{var a;return(a=n.find(l=>l.value===i.value))==null?void 0:a.label});function o(a){const l=a.detail.value;i.value=l,t.navigationMenuVariant=l}return(a,l)=>(G(),we("div",null,[ue(Li,{"has-leading-icon":"","has-trailing-icon":"",size:N(cr).DoubleLine,position:e.value?N(Gi).Top:N(Gi).Regular,border:e.value,onClick:l[0]||(l[0]=c=>e.value=!e.value)},{"leading-icon":J(()=>l[1]||(l[1]=[Z("obi-menu-iec",null,null,-1)])),label:J(()=>l[2]||(l[2]=[Z("div",null,"Navigation menu type",-1)])),"trailing-icon":J(()=>[e.value?(G(),we("obi-chevron-up-google",iX)):(G(),we("obi-chevron-right-google",rX))]),status:J(()=>[Z("div",null,Qt(s.value),1)]),_:1},8,["size","position","border"]),e.value?(G(),Re(ob,{key:0,options:n,value:i.value,onChange:o},null,8,["value"])):$t("",!0)]))}}),sX={class:"wrapper"},oX={class:"row"},aX={class:"col"},lX={class:"col"},cX={class:"group"},uX=Ne({__name:"SettingsView",setup(r){const e=()=>{window.open("https://www.oicl.no","_blank")},t=gu();return(i,n)=>(G(),we(pt,null,[ue(HS),Z("div",sX,[ue(BS,{placeholder:"Search"},{icon:J(()=>n[0]||(n[0]=[Z("obi-search",null,null,-1)])),_:1}),Z("div",oX,[Z("div",aX,[ue(Li,{"has-trailing-icon":"",position:N(Gi).Top,"has-graphic":"",border:"",onClick:e},{label:J(()=>n[1]||(n[1]=[It(" OICL ")])),"trailing-icon":J(()=>n[2]||(n[2]=[Z("obi-chevron-right-google",null,null,-1)])),graphic:J(()=>n[3]||(n[3]=[Z("div",{class:"logo"},[Z("svg",{width:"96",height:"97",viewBox:"0 0 96 97",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Z("path",{d:"M23.3999 20.2157C38.5997 4.59476 63.2435 4.59476 78.4433 20.2157C86.0338 28.0166 85.2635 38.8884 79.6537 45.8018C76.8582 49.2468 72.8785 51.6758 68.1522 52.2295C63.4327 52.7824 57.8327 51.4795 51.7863 47.2074C45.2364 42.5795 39.0134 41.1136 33.5683 41.941C28.1341 42.7668 23.6534 45.8504 20.5396 49.9819C17.2884 54.2959 15.46 59.8731 15.6212 65.3744C8.9237 50.5731 11.5166 32.4283 23.3999 20.2157Z",fill:"var(--element-active-color)"}),Z("path",{d:"M80 76.0616C79.8066 76.2719 79.6107 76.4807 79.4121 76.6877C64.3055 92.4374 39.8129 92.4374 24.7064 76.6877C18.1792 69.8822 18.8322 58.9105 24.2623 51.6014C26.9443 47.9913 30.7318 45.3838 35.2562 44.6864C39.7697 43.9906 45.1946 45.1692 51.1998 49.4736C51.3214 49.5607 51.4429 49.6468 51.5644 49.7318C44.5741 73.46 66.5785 83.5872 80 76.0616Z",fill:"var(--element-neutral-color)"})])],-1)])),_:1},8,["position"]),ue(Li,{"has-trailing-icon":"","has-status":"",border:"",position:N(Gi).Center},{label:J(()=>n[4]||(n[4]=[It(" Model ")])),status:J(()=>n[5]||(n[5]=[It(" 1.2.3456 ")])),"trailing-icon":J(()=>n[6]||(n[6]=[Z("obi-content-copy-google",null,null,-1)])),_:1},8,["position"]),ue(Li,{"has-trailing-icon":"","has-status":"",position:N(Gi).Bottom},{label:J(()=>n[7]||(n[7]=[It(" Version ")])),status:J(()=>n[8]||(n[8]=[It(" 1.2.3456 ")])),"trailing-icon":J(()=>n[9]||(n[9]=[Z("obi-content-copy-google",null,null,-1)])),_:1},8,["position"])]),Z("div",lX,[ue(Li,{"has-trailing-icon":"",position:N(Gi).Top,"has-graphic":"",border:""},{label:J(()=>n[10]||(n[10]=[It(" Systems and certificates ")])),"trailing-icon":J(()=>n[11]||(n[11]=[Z("obi-chevron-right-google",null,null,-1)])),graphic:J(()=>n[12]||(n[12]=[Z("div",{class:"logo"},[Z("obi-license-google")],-1)])),_:1},8,["position"]),ue(Li,{"has-trailing-icon":"","has-status":"",border:"",position:N(Gi).Center},{label:J(()=>n[13]||(n[13]=[It(" Phone ")])),status:J(()=>n[14]||(n[14]=[It(" 000 00 000 ")])),"trailing-icon":J(()=>n[15]||(n[15]=[Z("obi-01-content-copy",null,null,-1)])),_:1},8,["position"]),ue(Li,{"has-trailing-icon":"","has-status":"",position:N(Gi).Bottom},{label:J(()=>n[16]||(n[16]=[It(" Mail ")])),status:J(()=>n[17]||(n[17]=[It(" abc@oicl.com ")])),"trailing-icon":J(()=>n[18]||(n[18]=[Z("obi-01-content-copy",null,null,-1)])),_:1},8,["position"])])]),n[31]||(n[31]=Z("div",{class:"divider"},null,-1)),Z("div",cX,[ue(QY),ue(tX),ue(nX),ue(Li,{"has-leading-icon":"","has-trailing-icon":"","has-action":"",size:N(cr).DoubleLine,onActionClick:N(t).startSimulatedAlerts},{"leading-icon":J(()=>n[19]||(n[19]=[Z("obi-simulation",null,null,-1)])),label:J(()=>n[20]||(n[20]=[Z("div",null,"Simulate alarms",-1)])),description:J(()=>n[21]||(n[21]=[Z("div",null,"Simulate alarms to test the alerting system",-1)])),action:J(()=>n[22]||(n[22]=[It("Start alarms")])),_:1},8,["size","onActionClick"]),ue(Li,{"has-leading-icon":"","has-trailing-icon":"",size:N(cr).DoubleLine},{"leading-icon":J(()=>n[23]||(n[23]=[Z("obi-placeholder",null,null,-1)])),label:J(()=>n[24]||(n[24]=[Z("div",null,"Devices",-1)])),description:J(()=>n[25]||(n[25]=[Z("div",null,"Description with a lot of text",-1)])),"trailing-icon":J(()=>n[26]||(n[26]=[Z("obi-02-chevron-right",null,null,-1)])),_:1},8,["size"]),ue(Li,{"has-leading-icon":"","has-trailing-icon":"",size:N(cr).DoubleLine},{"leading-icon":J(()=>n[27]||(n[27]=[Z("obi-placeholder",null,null,-1)])),label:J(()=>n[28]||(n[28]=[Z("div",null,"Communication",-1)])),description:J(()=>n[29]||(n[29]=[Z("div",null,"Description with a lot of text",-1)])),"trailing-icon":J(()=>n[30]||(n[30]=[Z("obi-02-chevron-right",null,null,-1)])),_:1},8,["size"])])])],64))}}),hX=En(uX,[["__scopeId","data-v-deea7b7b"]]),dX={class:"wrapper"},fX={class:"group"},pX=Ne({__name:"HelpView",setup(r){return(e,t)=>(G(),we(pt,null,[ue(HS,{help:""}),Z("div",dX,[ue(Li,{"has-graphic":"",info:"",size:N(cr).MultiLine},{graphic:J(()=>t[0]||(t[0]=[Z("div",{style:{width:"100%",height:"120px",color:"var(--element-active-inverted-color)",background:"var(--instrument-enhanced-secondary-color)","padding-top":"40px","padding-bottom":"32px"}},[Z("obi-support-google")],-1)])),label:J(()=>t[1]||(t[1]=[Z("div",null,"Help and documentation",-1)])),description:J(()=>t[2]||(t[2]=[Z("div",null," Description with multiple lines of text and more than one line of description ",-1)])),_:1},8,["size"]),Z("div",fX,[ue(Li,{"has-leading-icon":"","has-trailing-icon":"",size:N(cr).DoubleLine},{"leading-icon":J(()=>t[3]||(t[3]=[Z("obi-placeholder",null,null,-1)])),label:J(()=>t[4]||(t[4]=[It("FAQ")])),description:J(()=>t[5]||(t[5]=[Z("div",null,"Description with a lot of text",-1)])),"trailing-icon":J(()=>t[6]||(t[6]=[Z("obi-chevron-right-google",null,null,-1)])),_:1},8,["size"]),ue(Li,{"has-leading-icon":"","has-trailing-icon":"",size:N(cr).DoubleLine},{"leading-icon":J(()=>t[7]||(t[7]=[Z("obi-placeholder",null,null,-1)])),label:J(()=>t[8]||(t[8]=[Z("div",null,"Introduction",-1)])),description:J(()=>t[9]||(t[9]=[Z("div",null,"Description with a lot of text",-1)])),"trailing-icon":J(()=>t[10]||(t[10]=[Z("obi-chevron-right-google",null,null,-1)])),_:1},8,["size"]),ue(Li,{"has-leading-icon":"","has-trailing-icon":"",size:N(cr).DoubleLine},{"leading-icon":J(()=>t[11]||(t[11]=[Z("obi-placeholder",null,null,-1)])),label:J(()=>t[12]||(t[12]=[Z("div",null,"Course",-1)])),description:J(()=>t[13]||(t[13]=[Z("div",null,"Description with a lot of text",-1)])),"trailing-icon":J(()=>t[14]||(t[14]=[Z("obi-chevron-right-google",null,null,-1)])),_:1},8,["size"])])])],64))}}),gX=En(pX,[["__scopeId","data-v-cfd90cfe"]]),mX=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
    box-sizing: border-box;
}

.trend-icon {
    display: block;
    width: 24px;
    height: 24px;
}

.outer {
    display: flex;
    width: fit-content;
    flex-direction: column;
    /* This is a hack to make the badge appear above the content */
    position: relative;
    top: -20px;
    transform: translateX(-50%);
}

.badges {
    display: flex;
    justify-content: end;
    padding-bottom: 4px;
    min-height: 20px;
}

.wrapper {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

.wrapper:focus {
            outline: none;
}

.wrapper.activated {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}

@media (hover:hover) {

.wrapper:hover {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}

.wrapper:active {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}

.wrapper:focus-visible {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper:disabled {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}

.wrapper {
    appearance: none;

    display: flex;
    flex-direction: column-reverse;
    width: fit-content;
    color: var(--instrument-regular-secondary-color);

    border-radius: 6px;
    border: 1px solid var(--instrument-frame-tertiary-color);
    background: var(--instrument-frame-primary-color);

    padding: 8px;
    gap: 8px;
}

.compact .content {
        display: none;
    }

.compact .bar-container {
        width: 48px;
        height: 96px;
    }

.header {
    width: 150px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--border-outline-color);
}

.header .percent {
        font-family: Noto Sans;
        font-size: 36px;
        font-weight: 570;
        line-height: 48px;
        text-align: center;
        font-variation-settings: 'wdth' 100, 'CTGR' 0;
    }

.header .percent-symbol {
        /* UI/Body */
        font-feature-settings: 'liga' off, 'clig' off;
        font-family: var(--font-family-main);
        font-size: var(--global-typography-ui-body-font-size);
        font-style: normal;
        font-weight: var(--global-typography-ui-body-font-weight);
        line-height: var(--global-typography-ui-body-line-height);
        text-decoration: none;
    }

.value {
    display: flex;
    align-items: baseline;
    justify-content: flex-end;
    padding-top: 4px;

    font-feature-settings: 'liga' off, 'clig' off;

    font-family: var(--font-family-main);

    font-size: var(--global-typography-ui-label-font-size);

    font-style: normal;

    font-weight: var(--global-typography-ui-label-font-weight);

    line-height: var(--global-typography-ui-label-line-height);
}

.value .current-value {
        font-family: Noto Sans;
        font-size: 16px;
        font-weight: 620;
        line-height: 24px;
        font-variation-settings: 'wdth' 100, 'CTGR' 0;
    }

.value .divider {
        padding-left: 4px;
        padding-right: 4px;
    }

.value .max-value {
        /* UI/Body */
        font-feature-settings: 'liga' off, 'clig' off;
        font-family: var(--font-family-main);
        font-size: var(--global-typography-ui-body-font-size);
        font-style: normal;
        font-weight: var(--global-typography-ui-body-font-weight);
        line-height: var(--global-typography-ui-body-line-height);
        text-decoration: none;
    }

.bar-container {
    width: 100%;
    position: relative;
    height: 70px;
    border-radius: 2px;
    border: 1px solid var(--instrument-frame-tertiary-color);
    background: var(--instrument-frame-secondary-color);
    overflow: hidden;
}

.bar {
    position: absolute;
    border-top: var(--element-inactive-color) 2px solid;
    background-color: var(--automation-medium-fuel);
    top: calc((1 - var(--percent)) * (100% - 2px) + 1px);
    bottom: 1px;
    left: 1px;
    right: 1px;
}

.tag {
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-label-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-label-font-weight);
    line-height: var(--global-typography-ui-label-line-height);
    color: var(--element-neutral-color);
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}`;var gl=(r=>(r.normal="normal",r.empty="empty",r.water="water",r.air="air",r))(gl||{}),qs=(r=>(r.fluid="fluid",r.electric="electric",r.air="air",r.connector="connector",r))(qs||{});function ab(r){let e="--automation-pipe-primary-color";return r==="empty"?e="--automation-pipe-primary-inverted-color":(r==="water"||r==="air")&&(e="--automation-fresh-water"),{inner:e,outer:"--automation-pipe-tertiary-color"}}function lb(r){if(r==="electric")return 2;if(r==="connector")return 1;if(r==="fluid")return 4;if(r==="air")return 10;throw new Error("Unknown line type")}var vX=Object.defineProperty,yX=Object.getOwnPropertyDescriptor,WS=(r,e,t,i)=>{for(var n=i>1?void 0:i?yX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&vX(e,t,n),n};let ag=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M7.11508 18.7051L5.70508 17.2951L11.7051 11.2951L17.7051 17.2951L16.2951 18.7051L11.7051 14.1251L7.11508 18.7051Z" fill="currentColor"/>
<path d="M7.11508 12.7051L5.70508 11.2951L11.7051 5.2951L17.7051 11.2951L16.2951 12.7051L11.7051 8.1251L7.11508 12.7051Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.11508 18.7051L5.70508 17.2951L11.7051 11.2951L17.7051 17.2951L16.2951 18.7051L11.7051 14.1251L7.11508 18.7051Z" style="fill: var(--element-active-color)"/>
<path d="M7.11508 12.7051L5.70508 11.2951L11.7051 5.2951L17.7051 11.2951L16.2951 12.7051L11.7051 8.1251L7.11508 12.7051Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};ag.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;WS([M({type:Boolean})],ag.prototype,"useCssColor",2);ag=WS([ie("obi-chevron-double-up-google")],ag);var bX=Object.defineProperty,_X=Object.getOwnPropertyDescriptor,KS=(r,e,t,i)=>{for(var n=i>1?void 0:i?_X(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&bX(e,t,n),n};let lg=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M16.2948 5.29493L17.7048 6.70493L11.7048 12.7049L5.70483 6.70493L7.11483 5.29493L11.7048 9.87493L16.2948 5.29493Z" fill="currentColor"/>
<path d="M16.2948 11.2949L17.7048 12.7049L11.7048 18.7049L5.70483 12.7049L7.11483 11.2949L11.7048 15.8749L16.2948 11.2949Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.2948 5.29493L17.7048 6.70493L11.7048 12.7049L5.70483 6.70493L7.11483 5.29493L11.7048 9.87493L16.2948 5.29493Z" style="fill: var(--element-active-color)"/>
<path d="M16.2948 11.2949L17.7048 12.7049L11.7048 18.7049L5.70483 12.7049L7.11483 11.2949L11.7048 15.8749L16.2948 11.2949Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};lg.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;KS([M({type:Boolean})],lg.prototype,"useCssColor",2);lg=KS([ie("obi-chevron-double-down-google")],lg);var wX=Object.defineProperty,CX=Object.getOwnPropertyDescriptor,qS=(r,e,t,i)=>{for(var n=i>1?void 0:i?CX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&wX(e,t,n),n};let cg=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12Z" fill="currentColor"/>
<path d="M8 11C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13H16C16.5523 13 17 12.5523 17 12C17 11.4477 16.5523 11 16 11H8Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12Z" style="fill: var(--element-active-color)"/>
<path d="M8 11C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13H16C16.5523 13 17 12.5523 17 12C17 11.4477 16.5523 11 16 11H8Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};cg.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;qS([M({type:Boolean})],cg.prototype,"useCssColor",2);cg=qS([ie("obi-off")],cg);var xX=Object.defineProperty,EX=Object.getOwnPropertyDescriptor,Il=(r,e,t,i)=>{for(var n=i>1?void 0:i?EX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&xX(e,t,n),n},nc=(r=>(r.fastRising="fast-rising",r.rising="rising",r.stable="stable",r.falling="falling",r.fastFalling="fast-falling",r))(nc||{});let ao=class extends ee{constructor(){super(...arguments),this.medium=gl.water,this.value=0,this.max=100,this.trend="stable",this.variant="vertical",this.tag=""}trendIcon(){return this.trend==="fast-rising"?F`<obi-chevron-double-up-google
        class="trend-icon"
      ></obi-chevron-double-up-google>`:this.trend==="rising"?F`<obi-chevron-up-google
        class="trend-icon"
      ></obi-chevron-up-google>`:this.trend==="fast-falling"?F`<obi-chevron-double-down-google
        class="trend-icon"
      ></obi-chevron-double-down-google>`:this.trend==="falling"?F`<obi-chevron-down-google
        class="trend-icon"
      ></obi-chevron-down-google>`:F`<obi-off class="trend-icon"></obi-off>`}render(){const r=this.value/this.max*100;return F`
      <div class="outer">
        <div class="badges">
          <slot name="badges"></slot>
        </div>
        <button
          class=${ti({wrapper:!0,[this.variant]:!0,[this.medium]:!0})}
          style="--percent: ${r/100}"
        >
          <div class="bar-container">
            <div class="bar"></div>
          </div>
          <div class="content">
            <div class="header">
              ${this.trendIcon()}
              <div class="percent">
                ${r.toFixed(0)}<span class="percent-symbol">%</span>
              </div>
            </div>
            <div class="value">
              <div class="current">
                <slot name="current-value" class="current-value"
                  >${this.value.toFixed(0)}</slot
                ><span class="divider">/</span>
              </div>
              <div class="max">
                <slot class="max-value" name="max-value"
                  >${this.max.toFixed(0)}</slot
                >
                <slot class="unit" name="unit">m<sup>3</sup></slot>
              </div>
            </div>
          </div>
        </button>
        <div class="tag"><slot name="tag">${this.tag}</slot></div>
      </div>
    `}};ao.styles=ot(mX);Il([M({type:String})],ao.prototype,"medium",2);Il([M({type:Number})],ao.prototype,"value",2);Il([M({type:Number})],ao.prototype,"max",2);Il([M({type:String})],ao.prototype,"trend",2);Il([M({type:String})],ao.prototype,"variant",2);Il([M({type:String})],ao.prototype,"tag",2);ao=Il([ie("obc-automation-tank")],ao);const G2=Ne({__name:"ObcAutomationTank",props:{medium:{},value:{},max:{},trend:{},variant:{},tag:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-automation-tank",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}});var TX=Object.defineProperty,LX=Object.getOwnPropertyDescriptor,xm=(r,e,t,i)=>{for(var n=i>1?void 0:i?LX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&TX(e,t,n),n};let eu=class extends ee{constructor(){super(...arguments),this.medium=gl.normal,this.lineType=qs.fluid,this.length=1}render(){if(this.lineType===qs.connector){const i=this.length*24;return F`<svg
        width="24"
        height="${i}"
        viewBox="0 0 24 ${i}"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <line
          y1="0"
          x1="12"
          y2="${i}"
          x2="12"
          stroke-width="1"
          stroke="var(--element-neutral-color)"
          stroke-dasharray="4,2"
          stroke-dashoffset="2"
        />
      </svg> `}const r=this.length*24+1,e=ab(this.medium),t=lb(this.lineType);return F`
      <div class="wrapper" style="width: 24px; height: ${this.length*24}px;">
        <svg
          class="line"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 -.5  24 ${r}"
          width="24"
          height=${r}
        >
          <line
            y1="-.5"
            x1="12"
            y2="${r-.5}"
            x2="12"
            stroke-width=${t}
            stroke="var(${e.inner})"
          />
          <line
            y1="-.5"
            x1=${12-.5-t/2}
            y2="${r-.5}"
            x2=${12-.5-t/2}
            stroke-width="1"
            stroke="var(${e.outer})"
          />
          <line
            y1="-.5"
            x1=${12+.5+t/2}
            y2="${r-.5}"
            x2=${12+.5+t/2}
            stroke-width="1"
            stroke="var(${e.outer})"
          />
        </svg>
      </div>
    `}};eu.styles=re`
    :host {
      display: block;
      line-height: 0;
    }

    svg {
      position: relative;
      top: -0.5px;
      left: -12px;
    }
  `;xm([M({type:String})],eu.prototype,"medium",2);xm([M({type:String})],eu.prototype,"lineType",2);xm([M({type:Number})],eu.prototype,"length",2);eu=xm([ie("obc-vertical-line")],eu);const Xf=Ne({__name:"ObcVerticalLine",props:{medium:{},lineType:{},length:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-vertical-line",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}});var SX=Object.defineProperty,AX=Object.getOwnPropertyDescriptor,Em=(r,e,t,i)=>{for(var n=i>1?void 0:i?AX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&SX(e,t,n),n};let tu=class extends ee{constructor(){super(...arguments),this.medium=gl.normal,this.lineType=qs.fluid,this.length=1}render(){if(this.lineType===qs.connector){const i=this.length*24;return F`<svg
        width="${i}"
        height="24"
        viewBox="0 0 ${i} 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <line
          x1="0"
          y1="12"
          x2="${i}"
          y2="12"
          stroke-width="1"
          stroke="var(--element-neutral-color)"
          stroke-dasharray="4,2"
          stroke-dashoffset="2"
        />
      </svg> `}const r=ab(this.medium),e=this.length*24+1,t=lb(this.lineType);return F`
      <div class="wrapper" style="height: 24px; width: ${this.length*24}px;">
        <svg
          class="line"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="-.5 0 ${e} 24"
          height="24"
          width=${e}
        >
          <line
            x1="-0.5"
            y1="12"
            x2="${e-.5}"
            y2="12"
            stroke-width=${t}
            stroke="var(${r.inner})"
          />
          <line
            x1="-0.5"
            y1="${12-.5-t/2}"
            x2="${e-.5}"
            y2="${12-.5-t/2}"
            stroke-width="1"
            stroke="var(${r.outer})"
          />
          <line
            x1="-0.5"
            y1="${12+.5+t/2}"
            x2="${e-.5}"
            y2="${12+.5+t/2}"
            stroke-width="1"
            stroke="var(${r.outer})"
          />
        </svg>
      </div>
    `}};tu.styles=re`
    :host {
      display: block;
      line-height: 0;
    }
    svg {
      position: relative;
      left: -0.5px;
      top: -12px;
    }
  `;Em([M({type:String})],tu.prototype,"medium",2);Em([M({type:String})],tu.prototype,"lineType",2);Em([M({type:Number})],tu.prototype,"length",2);tu=Em([ie("obc-horizontal-line")],tu);const Qf=Ne({__name:"ObcHorizontalLine",props:{medium:{},lineType:{},length:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-horizontal-line",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}});var kX=Object.defineProperty,IX=Object.getOwnPropertyDescriptor,Tm=(r,e,t,i)=>{for(var n=i>1?void 0:i?IX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&kX(e,t,n),n},ph=(r=>(r.topRight="top-right",r.topLeft="top-left",r.bottomRight="bottom-right",r.bottomLeft="bottom-left",r))(ph||{});let iu=class extends ee{constructor(){super(...arguments),this.medium=gl.normal,this.direction="top-right",this.lineType=qs.fluid}render(){let r=270;if(this.direction==="top-left"?r=180:this.direction==="bottom-left"?r=90:this.direction==="bottom-right"&&(r=0),this.lineType===qs.connector)return F`
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          transform="rotate(${r})"
        >
          <path
            d="M16.5 11.5L15 11.5C14.9951 11.5 14.9902 11.5 14.9853 11.5C13.0826 11.5079 11.5382 13.0339 11.5007 14.9294C11.5002 14.9529 11.5 14.9764 11.5 15V16.5L12.5 16.5L12.5 15C12.5 13.6355 13.5932 12.5263 14.9516 12.5005C14.9677 12.5002 14.9838 12.5 15 12.5L16.5 12.5V11.5Z"
            fill="var(--element-neutral-color)"
          />
          <path
            d="M24 11.5H22.5V12.5L24 12.5V11.5Z"
            fill="var(--element-neutral-color)"
          />
          <path
            d="M21 11.5H18V12.5L21 12.5V11.5Z"
            fill="var(--element-neutral-color)"
          />
          <path
            d="M11.5 18V21H12.5L12.5 18H11.5Z"
            fill="var(--element-neutral-color)"
          />
          <path
            d="M11.5 22.5V24H12.5V22.5H11.5Z"
            fill="var(--element-neutral-color)"
          />
        </svg>
      `;const e=ab(this.medium),t=lb(this.lineType),i=6-.5-t/2,n=6+.5+t/2;return this.lineType===qs.air?F`
        <svg
          class="line"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          height="24"
          width="24"
          transform="rotate(${r})"
        >
          <path
            d="M 17 24 v -4 a 3 3 0 0 1 3 -3 h 4 v -10 h -6 a 11 11 0 0 0 -11 11 v 6 z"
            stroke="none"
            fill="var(${e.inner})"
          />
          <path
            d="M ${12+.5+t/2} 24 v -4 a ${2.5} ${2.5} 0 0 1 ${2.5} -${2.5} h 4"
            stroke-width="1"
            stroke="var(${e.outer})"
            fill="none"
          />
          <path
            d="M ${12-.5-t/2} 24 v -6 a ${11.5} ${11.5} 0 0 1 ${11.5} -${11.5} h 6"
            stroke-width="1"
            stroke="var(${e.outer})"
            fill="none"
          />
        </svg>
      `:F`
        <svg
          class="line"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          height="24"
          width="24"
          transform="rotate(${r})"
        >
          <path
            d="M 12 24 v -6 a 6 6 0 0 1 6 -6 h 6"
            stroke-width=${t}
            stroke="var(${e.inner})"
            fill="none"
          />
          <path
            d="M ${12+.5+t/2} 24 v -6 a ${i} ${i} 0 0 1 ${i} -${i} h 6"
            stroke-width="1"
            stroke="var(${e.outer})"
            fill="none"
          />
          <path
            d="M ${12-.5-t/2} 24 v -6 a ${n} ${n} 0 0 1 ${n} -${n} h 6"
            stroke-width="1"
            stroke="var(${e.outer})"
            fill="none"
          />
        </svg>
      `}};iu.styles=re`
    :host {
      display: block;
      line-height: 0;
    }

    svg {
      position: relative;
      top: -12px;
      left: -12px;
    }
  `;Tm([M({type:String})],iu.prototype,"medium",2);Tm([M({type:String})],iu.prototype,"direction",2);Tm([M({type:String})],iu.prototype,"lineType",2);iu=Tm([ie("obc-corner-line")],iu);const Jf=Ne({__name:"ObcCornerLine",props:{medium:{},direction:{},lineType:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-corner-line",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),V9=Ne({__name:"ObcAutomationButton",props:{variant:{},state:{},static:{type:Boolean},labels:{},labelPosition:{},labelSize:{},labelStyle:{},alert:{type:Boolean},alertFrameType:{},alertFrameThickness:{},alertFrameStatus:{},progress:{type:Boolean},direction:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-automation-button",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),MX=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

:host {
    display: block;
}

.wrapper {
    height: 100%;
    width: 100%;
    line-height: 0;
}

.wrapper>* {
    height: 100%;
    width: 100%;
}`;var PX=Object.defineProperty,RX=Object.getOwnPropertyDescriptor,gf=(r,e,t,i)=>{for(var n=i>1?void 0:i?RX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&PX(e,t,n),n};let ml=class extends ee{constructor(){super(...arguments),this.value=0,this.value2=0,this.closed=!1,this.horisontal=!1}render(){if(this.closed)return F` <div class="wrapper">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M2.72361 6.3618C2.39116 6.19558 2 6.43733 2 6.80902V17.191C2 17.5627 2.39116 17.8044 2.72361 17.6382L9 14.5V9.5L2.72361 6.3618ZM9.5 9H14.5L17.6382 2.72361C17.8044 2.39116 17.5627 2 17.191 2H6.80902C6.43733 2 6.19558 2.39116 6.3618 2.72361L9.5 9ZM13.882 8L16.382 3H7.61803L10.118 8H13.882ZM15 14.5L21.2764 17.6382C21.6088 17.8044 22 17.5627 22 17.191V6.80902C22 6.43733 21.6088 6.19558 21.2764 6.3618L15 9.5V14.5ZM16 10.118V13.882L21 16.382V7.61803L16 10.118ZM8 10.118L3 7.61803V16.382L8 13.882V10.118ZM12 11C11.4477 11 11 11.4477 11 12V20C11 20.5523 11.4477 21 12 21C12.5523 21 13 20.5523 13 20V12C13 11.4477 12.5523 11 12 11Z"
            fill="var(--automation-device-tertiary-inverted-color)"
          />
          <path
            d="M16.382 3L13.882 8H10.118L7.61803 3H16.382Z"
            fill="var(--automation-device-primary-inverted-color"
          />
          <path
            d="M16 13.882V10.118L21 7.61803V16.382L16 13.882Z"
            fill="var(--automation-device-primary-inverted-color"
          />
          <path
            d="M3 7.61803L8 10.118V13.882L3 16.382V7.61803Z"
            fill="var(--automation-device-primary-inverted-color"
          />
        </svg>
      </div>`;const e=-(1-(.5*this.value-.5*this.value2+50)/100)*(this.horisontal?180:90),t=$`
      <g transform="rotate(${e} 12 18.5)">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.49942 20.1303H14.4994C15.3278 20.1303 15.9994 19.4587 15.9994 18.6303C15.9994 17.8019 15.3278 17.1303 14.4994 17.1303H9.49942C8.67099 17.1303 7.99942 17.8019 7.99942 18.6303C7.99942 19.4587 8.67099 20.1303 9.49942 20.1303ZM9.49942 19.1303L14.4994 19.1303C14.7756 19.1303 14.9994 18.9064 14.9994 18.6303C14.9994 18.3542 14.7756 18.1303 14.4994 18.1303L9.49942 18.1303C9.22328 18.1303 8.99942 18.3542 8.99942 18.6303C8.99942 18.9064 9.22328 19.1303 9.49942 19.1303Z" fill="var(--automation-device-tertiary-color)"/>
        <path d="M14.4994 19.1303L9.49942 19.1303C9.22328 19.1303 8.99942 18.9064 8.99942 18.6303C8.99942 18.3542 9.22328 18.1303 9.49942 18.1303L14.4994 18.1303C14.7756 18.1303 14.9994 18.3542 14.9994 18.6303C14.9994 18.9064 14.7756 19.1303 14.4994 19.1303Z" fill="var(--automation-device-primary-color)"/>
      </g>
    `,i=10.5,n=2.5,s=i+(n-i)*(this.horisontal?this.value2:this.value)/100,o=10.5,a=2.5,l=o+(a-o)*(this.horisontal?this.value:this.value2)/100;return F`
      <div class="wrapper">
        <div class="wrapper">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.80902 2H17.191C17.5627 2 17.8044 2.39116 17.6382 2.72361L14 10L21.2764 6.3618C21.6088 6.19558 22 6.43733 22 6.80902V17.191C22 17.5627 21.6088 17.8044 21.2764 17.6382L17.6382 15.8191L14 14H10L2.72361 17.6382C2.39116 17.8044 2 17.5627 2 17.191V6.80902C2 6.43733 2.39116 6.19558 2.72361 6.3618L10 10L6.3618 2.72361C6.19558 2.39116 6.43733 2 6.80902 2Z"
              fill="black"
            />
            <path
              d="M13 9.76224L16.3811 3H7.61719L11 9.76562V11H9.76416L3 7.61792V16.3819L9.7637 13H14.2363L21 16.3819V7.61792L14.2358 11H13V9.76224Z"
              fill="var(--automation-device-primary-color)"
            />
            ${t}
            <g clip-path="url(#clip0)">
              <rect
                x=${24-s}
                y="0"
                width=${s-n}
                height="24"
                fill="var(--automation-device-secondary-color)"
              />
              <line
                x1=${24-s}
                y1="0"
                x2=${24-s}
                y2="24"
                stroke="var(--automation-device-tertiary-color)"
                stroke-width="1"
              />
            </g>
            ${this.horisontal?$`
        <g clip-path="url(#clip2)">
          <rect y="0" x=${a} height="24" width=${l-a} fill="var(--automation-device-secondary-color)"/>
          <line y1="0" x1=${l} y2="24" x2=${l} stroke="var(--automation-device-tertiary-color)" stroke-width="1"/>
        </g>
          `:$`
        <g clip-path="url(#clip1)">
          <rect x="0" y=${a} width="24" height=${l-a} fill="var(--automation-device-secondary-color)"/>
          <line x1="0" y1=${l} x2="24" y2=${l} stroke="var(--automation-device-tertiary-color)" stroke-width="1"/>
        </g>
        `}
            <defs>
              <clipPath id="clip0">
                <path
                  d="M 13 11 L 13 13 H 14.2363 L 21 16.3819 V 7.6179 L 14.2358 11 Z"
                />
              </clipPath>
              <clipPath id="clip1">
                <path
                  d="M 13 9.7622 L 16.3811 3 H 7.6172 L 11 9.7656 L 11 13 H 13 V 9.7622 Z"
                />
              </clipPath>
              <clipPath id="clip2">
                <path
                  d="M 11 11 V 11 H 9.7642 L 3 7.6179 V 16.3819 L 9.7637 13 H 14.2363 L 14.2358 11 Z"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
      </div>
    `}};ml.styles=ot(MX);gf([M({type:Number})],ml.prototype,"value",2);gf([M({type:Number})],ml.prototype,"value2",2);gf([M({type:Boolean})],ml.prototype,"closed",2);gf([M({type:Boolean})],ml.prototype,"horisontal",2);ml=gf([ie("obc-valve-analog-three-way-icon")],ml);var DX=Object.defineProperty,OX=Object.getOwnPropertyDescriptor,YS=(r,e,t,i)=>{for(var n=i>1?void 0:i?OX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&DX(e,t,n),n};let ug=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.8819 13C13.5388 13 14.8819 11.6569 14.8819 10C14.8819 8.34315 13.5388 7 11.8819 7C10.225 7 8.8819 8.34315 8.8819 10C8.8819 11.6569 10.225 13 11.8819 13ZM13.8819 10C13.8819 11.1046 12.9865 12 11.8819 12C10.7773 12 9.8819 11.1046 9.8819 10C9.8819 8.89543 10.7773 8 11.8819 8C12.9865 8 13.8819 8.89543 13.8819 10Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.8819 7C21.4342 7 21.8819 6.55229 21.8819 6V3C21.8819 2.44772 21.4342 2 20.8819 2H11.8819C7.46362 2 3.8819 5.58172 3.8819 10C3.8819 12.1897 4.76167 14.174 6.18702 15.6186L3.83151 18.563C3.0458 19.5451 3.74506 21 5.00282 21H18.7609C20.0187 21 20.718 19.5451 19.9322 18.563L17.5768 15.6186C19.0021 14.174 19.8819 12.1897 19.8819 10C19.8819 9.3094 19.7944 8.63924 19.6299 8C19.5416 7.65724 19.4313 7.32337 19.3004 7H20.8819ZM17.8168 6H20.8819V3H11.8819C8.0159 3 4.8819 6.13401 4.8819 10C4.8819 13.866 8.0159 17 11.8819 17C15.7479 17 18.8819 13.866 18.8819 10C18.8819 9.06987 18.701 8.18446 18.3734 7.37522L17.8168 6ZM4.61238 19.1877L6.93344 16.2863C8.29499 17.3596 10.0137 18 11.8819 18C13.7501 18 15.4688 17.3596 16.8303 16.2864L19.1514 19.1877C19.4133 19.515 19.1802 20 18.7609 20H5.00282C4.58356 20 4.35048 19.515 4.61238 19.1877Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.93156 16.2863L4.6105 19.1877C4.3486 19.515 4.58169 20 5.00094 20H18.7591C19.1783 20 19.4114 19.515 19.1495 19.1877L16.8285 16.2864C15.4669 17.3596 13.7483 18 11.88 18C10.0118 18 8.29311 17.3596 6.93156 16.2863Z" fill="currentColor"/>
<path d="M11.88 12C12.9846 12 13.88 11.1046 13.88 10C13.88 8.89543 12.9846 8 11.88 8C10.7755 8 9.88002 8.89543 9.88002 10C9.88002 11.1046 10.7755 12 11.88 12Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.88 6H17.8149L18.3716 7.37522C18.6991 8.18446 18.88 9.06987 18.88 10C18.88 13.866 15.746 17 11.88 17C8.01403 17 4.88002 13.866 4.88002 10C4.88002 6.13401 8.01403 3 11.88 3H20.88V6ZM11.88 13C13.5369 13 14.88 11.6569 14.88 10C14.88 8.34315 13.5369 7 11.88 7C10.2232 7 8.88002 8.34315 8.88002 10C8.88002 11.6569 10.2232 13 11.88 13Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.8819 13C13.5388 13 14.8819 11.6569 14.8819 10C14.8819 8.34315 13.5388 7 11.8819 7C10.225 7 8.8819 8.34315 8.8819 10C8.8819 11.6569 10.225 13 11.8819 13ZM13.8819 10C13.8819 11.1046 12.9865 12 11.8819 12C10.7773 12 9.8819 11.1046 9.8819 10C9.8819 8.89543 10.7773 8 11.8819 8C12.9865 8 13.8819 8.89543 13.8819 10Z" style="fill: var(--automation-device-tertiary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.8819 7C21.4342 7 21.8819 6.55229 21.8819 6V3C21.8819 2.44772 21.4342 2 20.8819 2H11.8819C7.46362 2 3.8819 5.58172 3.8819 10C3.8819 12.1897 4.76167 14.174 6.18702 15.6186L3.83151 18.563C3.0458 19.5451 3.74506 21 5.00282 21H18.7609C20.0187 21 20.718 19.5451 19.9322 18.563L17.5768 15.6186C19.0021 14.174 19.8819 12.1897 19.8819 10C19.8819 9.3094 19.7944 8.63924 19.6299 8C19.5416 7.65724 19.4313 7.32337 19.3004 7H20.8819ZM17.8168 6H20.8819V3H11.8819C8.0159 3 4.8819 6.13401 4.8819 10C4.8819 13.866 8.0159 17 11.8819 17C15.7479 17 18.8819 13.866 18.8819 10C18.8819 9.06987 18.701 8.18446 18.3734 7.37522L17.8168 6ZM4.61238 19.1877L6.93344 16.2863C8.29499 17.3596 10.0137 18 11.8819 18C13.7501 18 15.4688 17.3596 16.8303 16.2864L19.1514 19.1877C19.4133 19.515 19.1802 20 18.7609 20H5.00282C4.58356 20 4.35048 19.515 4.61238 19.1877Z" style="fill: var(--automation-device-tertiary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.93156 16.2863L4.6105 19.1877C4.3486 19.515 4.58169 20 5.00094 20H18.7591C19.1783 20 19.4114 19.515 19.1495 19.1877L16.8285 16.2864C15.4669 17.3596 13.7483 18 11.88 18C10.0118 18 8.29311 17.3596 6.93156 16.2863Z" style="fill: var(--automation-device-primary-color)"/>
<path d="M11.88 12C12.9846 12 13.88 11.1046 13.88 10C13.88 8.89543 12.9846 8 11.88 8C10.7755 8 9.88002 8.89543 9.88002 10C9.88002 11.1046 10.7755 12 11.88 12Z" style="fill: var(--automation-device-primary-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.88 6H17.8149L18.3716 7.37522C18.6991 8.18446 18.88 9.06987 18.88 10C18.88 13.866 15.746 17 11.88 17C8.01403 17 4.88002 13.866 4.88002 10C4.88002 6.13401 8.01403 3 11.88 3H20.88V6ZM11.88 13C13.5369 13 14.88 11.6569 14.88 10C14.88 8.34315 13.5369 7 11.88 7C10.2232 7 8.88002 8.34315 8.88002 10C8.88002 11.6569 10.2232 13 11.88 13Z" style="fill: var(--automation-device-primary-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};ug.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;YS([M({type:Boolean})],ug.prototype,"useCssColor",2);ug=YS([ie("obi-pump-on-horizontal")],ug);const F9=Ne({__name:"ObiPumpOnHorizontal",props:{useCssColor:{type:Boolean}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obi-pump-on-horizontal",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}});var $X=Object.defineProperty,VX=Object.getOwnPropertyDescriptor,XS=(r,e,t,i)=>{for(var n=i>1?void 0:i?VX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&$X(e,t,n),n};let hg=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.8819 13C13.5388 13 14.8819 11.6569 14.8819 10C14.8819 8.34315 13.5388 7 11.8819 7C10.225 7 8.8819 8.34315 8.8819 10C8.8819 11.6569 10.225 13 11.8819 13ZM13.8819 10C13.8819 11.1046 12.9865 12 11.8819 12C10.7773 12 9.8819 11.1046 9.8819 10C9.8819 8.89543 10.7773 8 11.8819 8C12.9865 8 13.8819 8.89543 13.8819 10Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.8819 7C21.4342 7 21.8819 6.55229 21.8819 6V3C21.8819 2.44772 21.4342 2 20.8819 2H11.8819C7.46362 2 3.8819 5.58172 3.8819 10C3.8819 12.1897 4.76167 14.174 6.18702 15.6186L3.83151 18.563C3.0458 19.5451 3.74506 21 5.00282 21H18.7609C20.0187 21 20.718 19.5451 19.9322 18.563L17.5768 15.6186C19.0021 14.174 19.8819 12.1897 19.8819 10C19.8819 9.3094 19.7944 8.63924 19.6299 8C19.5416 7.65724 19.4313 7.32337 19.3004 7H20.8819ZM17.8168 6H20.8819V3H11.8819C8.0159 3 4.8819 6.13401 4.8819 10C4.8819 13.866 8.0159 17 11.8819 17C15.7479 17 18.8819 13.866 18.8819 10C18.8819 9.06987 18.701 8.18446 18.3734 7.37522L17.8168 6ZM4.61238 19.1877L6.93344 16.2863C8.29499 17.3596 10.0137 18 11.8819 18C13.7501 18 15.4688 17.3596 16.8303 16.2864L19.1514 19.1877C19.4133 19.515 19.1802 20 18.7609 20H5.00282C4.58356 20 4.35048 19.515 4.61238 19.1877Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.93156 16.2863L4.6105 19.1877C4.3486 19.515 4.58169 20 5.00094 20H18.7591C19.1783 20 19.4114 19.515 19.1495 19.1877L16.8285 16.2864C15.4669 17.3596 13.7483 18 11.88 18C10.0118 18 8.29311 17.3596 6.93156 16.2863Z" fill="currentColor"/>
<path d="M11.88 12C12.9846 12 13.88 11.1046 13.88 10C13.88 8.89543 12.9846 8 11.88 8C10.7755 8 9.88002 8.89543 9.88002 10C9.88002 11.1046 10.7755 12 11.88 12Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.88 6H17.8149L18.3716 7.37522C18.6991 8.18446 18.88 9.06987 18.88 10C18.88 13.866 15.746 17 11.88 17C8.01403 17 4.88002 13.866 4.88002 10C4.88002 6.13401 8.01403 3 11.88 3H20.88V6ZM11.88 13C13.5369 13 14.88 11.6569 14.88 10C14.88 8.34315 13.5369 7 11.88 7C10.2232 7 8.88002 8.34315 8.88002 10C8.88002 11.6569 10.2232 13 11.88 13Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.8819 13C13.5388 13 14.8819 11.6569 14.8819 10C14.8819 8.34315 13.5388 7 11.8819 7C10.225 7 8.8819 8.34315 8.8819 10C8.8819 11.6569 10.225 13 11.8819 13ZM13.8819 10C13.8819 11.1046 12.9865 12 11.8819 12C10.7773 12 9.8819 11.1046 9.8819 10C9.8819 8.89543 10.7773 8 11.8819 8C12.9865 8 13.8819 8.89543 13.8819 10Z" style="fill: var(--automation-device-tertiary-inverted-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.8819 7C21.4342 7 21.8819 6.55229 21.8819 6V3C21.8819 2.44772 21.4342 2 20.8819 2H11.8819C7.46362 2 3.8819 5.58172 3.8819 10C3.8819 12.1897 4.76167 14.174 6.18702 15.6186L3.83151 18.563C3.0458 19.5451 3.74506 21 5.00282 21H18.7609C20.0187 21 20.718 19.5451 19.9322 18.563L17.5768 15.6186C19.0021 14.174 19.8819 12.1897 19.8819 10C19.8819 9.3094 19.7944 8.63924 19.6299 8C19.5416 7.65724 19.4313 7.32337 19.3004 7H20.8819ZM17.8168 6H20.8819V3H11.8819C8.0159 3 4.8819 6.13401 4.8819 10C4.8819 13.866 8.0159 17 11.8819 17C15.7479 17 18.8819 13.866 18.8819 10C18.8819 9.06987 18.701 8.18446 18.3734 7.37522L17.8168 6ZM4.61238 19.1877L6.93344 16.2863C8.29499 17.3596 10.0137 18 11.8819 18C13.7501 18 15.4688 17.3596 16.8303 16.2864L19.1514 19.1877C19.4133 19.515 19.1802 20 18.7609 20H5.00282C4.58356 20 4.35048 19.515 4.61238 19.1877Z" style="fill: var(--automation-device-tertiary-inverted-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.93156 16.2863L4.6105 19.1877C4.3486 19.515 4.58169 20 5.00094 20H18.7591C19.1783 20 19.4114 19.515 19.1495 19.1877L16.8285 16.2864C15.4669 17.3596 13.7483 18 11.88 18C10.0118 18 8.29311 17.3596 6.93156 16.2863Z" style="fill: var(--automation-device-primary-inverted-color)"/>
<path d="M11.88 12C12.9846 12 13.88 11.1046 13.88 10C13.88 8.89543 12.9846 8 11.88 8C10.7755 8 9.88002 8.89543 9.88002 10C9.88002 11.1046 10.7755 12 11.88 12Z" style="fill: var(--automation-device-primary-inverted-color)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.88 6H17.8149L18.3716 7.37522C18.6991 8.18446 18.88 9.06987 18.88 10C18.88 13.866 15.746 17 11.88 17C8.01403 17 4.88002 13.866 4.88002 10C4.88002 6.13401 8.01403 3 11.88 3H20.88V6ZM11.88 13C13.5369 13 14.88 11.6569 14.88 10C14.88 8.34315 13.5369 7 11.88 7C10.2232 7 8.88002 8.34315 8.88002 10C8.88002 11.6569 10.2232 13 11.88 13Z" style="fill: var(--automation-device-primary-inverted-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};hg.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;XS([M({type:Boolean})],hg.prototype,"useCssColor",2);hg=XS([ie("obi-pump-off-horizontal")],hg);const B9=Ne({__name:"ObiPumpOffHorizontal",props:{useCssColor:{type:Boolean}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obi-pump-off-horizontal",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),FX={class:"container"},BX=["value","value2"],NX=["value","value2"],HX=5e3,UX=2e3,zX=1e4,jX=Ne({__name:"IasView",setup(r){const e=gl.water,t=gl.empty,i=qs.fluid,s=ff().iasVariants,o=je(1e3),a=Xe(()=>c.value),l=Xe(()=>S(a.value)),c=je(20),u=je(30),h=je(100),d=je(300),f=Xe(()=>c.value*u.value/(u.value+h.value)),g=Xe(()=>S(-f.value)),m=Xe(()=>f.value>0?e:t),v=je(1e3),y=Xe(()=>c.value*h.value/(u.value+h.value)),_=Xe(()=>S(-y.value)),w=Xe(()=>y.value>0?e:t);function S(P){return P>10?nc.fastFalling:P>1?nc.falling:P>-1?nc.stable:P>-10?nc.rising:nc.fastRising}const k=Xe(()=>c.value>0);return Fn(()=>{setInterval(()=>{o.value<=1&&(o.value=0,c.value=0),o.value-=a.value/1,d.value+=f.value/1,v.value+=y.value/1},1e3/1)}),(P,x)=>(G(),we("div",FX,[ue(Xf,{medium:N(e),type:N(i),length:2.5,style:{top:"calc(24px * 9)",left:"calc(24px * 6)"}},null,8,["medium","type"]),ue(Jf,{direction:N(ph).topRight,medium:N(e),type:N(i),style:{top:"calc(24px * 12)",left:"calc(24px * 6)"}},null,8,["direction","medium","type"]),ue(Qf,{medium:N(e),type:N(i),length:2.5,style:{top:"calc(24px * 12)",left:"calc(24px * 6.5)"}},null,8,["medium","type"]),ue(G2,{value:o.value,medium:N(e),max:HX,trend:l.value,style:{top:"72px",left:"calc(24px * 6)"}},null,8,["value","medium","trend"]),ue(Qf,{medium:N(e),type:N(i),length:6.5,style:{top:"calc(24px * 12)",left:"calc(24px * 8)"}},null,8,["medium","type"]),ue(V9,{variant:N(s),state:k.value?N(x5).open:N(x5).closed,direction:k.value?N(E5).forward:N(E5).forwardStopped,style:{top:"calc(24px * 12)",left:"calc(24px * 8)"}},{icon:J(()=>[k.value?(G(),Re(F9,{key:0,"use-css-color":""})):(G(),Re(B9,{key:1,"use-css-color":""}))]),"icon-siluette":J(()=>[k.value?(G(),Re(F9,{key:0,"use-css-color":""})):(G(),Re(B9,{key:1,"use-css-color":""}))]),_:1},8,["variant","state","direction"]),ue(Qf,{medium:m.value,type:N(i),length:3,style:{top:"calc(24px * 12)",left:"calc(24px * 15.5)"}},null,8,["medium","type"]),ue(Jf,{direction:N(ph).bottomLeft,medium:m.value,type:N(i),style:{top:"calc(24px * 12)",left:"calc(24px * 19)"}},null,8,["direction","medium","type"]),ue(Xf,{medium:m.value,type:N(i),length:1.5,style:{top:"calc(24px * 12.5)",left:"calc(24px * 19)"}},null,8,["medium","type"]),ue(Xf,{medium:w.value,type:N(i),length:2.5,style:{top:"calc(24px * 9.5)",left:"calc(24px * 15)"}},null,8,["medium","type"]),ue(Jf,{direction:N(ph).bottomRight,medium:w.value,type:N(i),style:{top:"calc(24px * 9)",left:"calc(24px * 15)"}},null,8,["direction","medium","type"]),ue(Qf,{medium:w.value,type:N(i),length:15,style:{top:"calc(24px * 9)",left:"calc(24px * 15.5)"}},null,8,["medium","type"]),ue(Jf,{direction:N(ph).bottomLeft,medium:w.value,type:N(i),style:{top:"calc(24px * 9)",left:"calc(24px * 31)"}},null,8,["direction","medium","type"]),ue(Xf,{medium:w.value,type:N(i),length:5,style:{top:"calc(24px * 9.5)",left:"calc(24px * 31)"}},null,8,["medium","type"]),ue(V9,{style:{top:"calc(24px * 12)",left:"calc(24px * 15)"},variant:N(s)},{icon:J(()=>[Z("obc-valve-analog-three-way-icon",{value:u.value,value2:h.value},null,8,BX)]),"icon-siluette":J(()=>[Z("obc-valve-analog-three-way-icon",{value:u.value,value2:h.value},null,8,NX)]),_:1},8,["variant"]),ue(G2,{tag:"#002",value:d.value,medium:N(e),max:UX,trend:g.value,style:{top:"calc(24px * 14)",left:"calc(24px * 19)"}},null,8,["value","medium","trend"]),ue(G2,{tag:"#003",value:v.value,medium:N(e),max:zX,trend:_.value,style:{top:"calc(24px * 14)",left:"calc(24px * 31)"}},null,8,["value","medium","trend"])]))}}),GX=En(jX,[["__scopeId","data-v-279d4643"]]),N9={"02-illustration":["UI icons","Communication and media"],"03-illustration":["UI icons","Data and metrics"],"03-tidal-stream":["Maritime icons","Chart targets"],"07-chart-styles":["Maritime icons","Chart display"],"acdc-converter":["Automation icons","Automation system"],"ais-aton-mobile-physical-iec":["Maritime icons","Chart targets"],"ais-aton-mobile-virtual-iec":["Maritime icons","Chart targets"],"ais-aton-physical-iec":["Maritime icons","Chart targets"],"ais-aton-physical-selected-iec":["Maritime icons","Chart targets"],"ais-aton-virtual-iec":["Maritime icons","Chart targets"],"ais-headingline-iec":["Maritime icons","Chart targets"],"ais-headingline-turn-iec":["Maritime icons","Chart targets"],"ais-locating-device-active-iec":["Maritime icons","Chart targets"],"ais-locatingdevice-active-selected-iec":["Maritime icons","Chart targets"],"ais-locatingdevice-lost-iec":["Maritime icons","Chart targets"],"ais-locatingdevice-test-iec":["Maritime icons","Chart targets"],"ais-proposal":["Maritime icons","Navigation and operation"],"ais-sar-aircraft-fixedwing-iec":["Maritime icons","Chart targets"],"ais-sar-aircraft-helicopter-iec":["Maritime icons","Chart targets"],"ais-sar-vessel-iec":["Maritime icons","Chart targets"],"ais-target-activated-iec":["Maritime icons","Chart targets"],"ais-target-activated-nohdgcog-iec":["Maritime icons","Chart targets"],"ais-target-activated-nohdgcog-selected-iec":["Maritime icons","Chart targets"],"ais-target-activated-selected-iec":["Maritime icons","Chart targets"],"ais-target-dangerous-iec":["Maritime icons","Chart targets"],"ais-target-dangerous-nocoghdg-iec":["Maritime icons","Chart targets"],"ais-target-dangerous-selected-iec":["Maritime icons","Chart targets"],"ais-target-sleeping-iec":["Maritime icons","Chart targets"],"ais-target-sleeping-nohdgcog-iec":["Maritime icons","Chart targets"],"ais-target-sleeping-nohdgcog-selected-iec":["Maritime icons","Chart targets"],"ais-target-sleeping-selected-iec":["Maritime icons","Chart targets"],"ais-target-synthetic-iec":["Maritime icons","Chart targets"],"ais-target-synthetic-nocog-iec":["Maritime icons","Chart targets"],"ais-target-synthetic-selected-iec":["Maritime icons","Chart targets"],"alarm-abandon":["Alert icons","Additional alert icons"],"alarm-ack-proposal":["Alert icons","Additional alert icons"],"alarm-acknowledged-iec":["Alert icons","General alerts"],"alarm-acknowledged-outlined":["Alert icons","General alerts"],"alarm-aground":["Alert icons","Additional alert icons"],"alarm-badge":["Alert icons","Additional alert icons"],"alarm-badge-outline":["Alert icons","Additional alert icons"],"alarm-emergency-iec":["Alert icons","General alerts"],"alarm-fire":["Alert icons","Additional alert icons"],"alarm-general":["Alert icons","Additional alert icons"],"alarm-google":["Alert icons","Additional alert icons"],"alarm-light-off":["Maritime icons","Objects and equipment"],"alarm-noack-iec":["Alert icons","General alerts"],"alarm-pob":["Alert icons","Additional alert icons"],"alarm-rectified-iec":["Alert icons","General alerts"],"alarm-rectified-outlined":["Alert icons","General alerts"],"alarm-signal-fail":["Alert icons","Additional alert icons"],"alarm-silenced-iec":["Alert icons","General alerts"],"alarm-silenced-outlined":["Alert icons","General alerts"],"alarm-transferred-iec":["Alert icons","General alerts"],"alarm-unacknowledged-iec":["Alert icons","General alerts"],"alert-category-a":["Alert icons","Additional alert icons"],"alert-category-b":["Alert icons","Additional alert icons"],"alert-category-c":["Alert icons","Additional alert icons"],"alert-empty":["Alert icons","Additional alert icons"],"alert-header-aggregated-iec":["Alert icons","General alerts"],"alert-header-aggregated-large-iec":["Alert icons","General alerts"],"alert-header-group-iec":["Alert icons","General alerts"],"alert-header-group-large-iec":["Alert icons","General alerts"],"alert-list":["Alert icons","Additional alert icons"],"alert-off-google":["Alert icons","Additional alert icons"],"alert-settings":["Maritime icons","Chart display"],"alert-trigger-google":["Alert icons","Additional alert icons"],alerts:["Alert icons","Additional alert icons"],"alerts-active":["Alert icons","Additional alert icons"],"alerts-alarm-twotone":["Alert icons","General alerts"],"alerts-caution-twotone":["Alert icons","General alerts"],"alerts-shelf":["Alert icons","Additional alert icons"],"alerts-warning-twotone":["Alert icons","General alerts"],altitude:["Maritime icons","Navigation and operation"],"anchor-iec":["Maritime icons","Chart display"],anchorwatch:["Maritime icons","Navigation and operation"],antenna:["Automation icons","Electricity"],"antenna-2":["Automation icons","Electricity"],"antenna-2-off":["Automation icons","Electricity"],"antenna-2-on":["Automation icons","Electricity"],"antenna-off":["Automation icons","Electricity"],"antenna-on":["Automation icons","Electricity"],"application-open-google":["UI icons","General"],applications:["UI icons","General"],"arrow-bidirectional-diagonal":["UI icons","General"],"arrow-bidirectional-horizontal":["UI icons","General"],"arrow-bidirectional-vertical":["UI icons","General"],"arrow-down-google":["UI icons","General"],"arrow-flyout-google":["UI icons","General"],"arrow-left-google":["UI icons","General"],"arrow-right-google":["UI icons","General"],"arrow-up-google":["UI icons","General"],"associated-target-ais-iec":["Maritime icons","Chart targets"],"associated-target-ais-selected-iec":["Maritime icons","Chart targets"],"associated-target-radar-iec":["Maritime icons","Chart targets"],"associated-target-radar-selected-iec":["Maritime icons","Chart targets"],auto:["Automation icons","Automation system"],autonomous:["Maritime icons","Navigation and operation"],"autonomous-marine-radio-device-iec":["Maritime icons","Chart targets"],"backlight-high":["UI icons","Systems and devices"],"backlight-low":["UI icons","Systems and devices"],backward:["Automation icons","Motors, pumps and fans"],"backward-fast":["Automation icons","Motors, pumps and fans"],"backward-stopped":["Automation icons","Motors, pumps and fans"],"battery-horizontal-100":["UI icons","Systems and devices"],"battery-horizontal-25":["UI icons","Systems and devices"],"battery-horizontal-50":["UI icons","Systems and devices"],"battery-horizontal-75":["UI icons","Systems and devices"],"battery-horizontal-charging-100":["UI icons","Systems and devices"],"battery-horizontal-charging-25":["UI icons","Systems and devices"],"battery-horizontal-charging-50":["UI icons","Systems and devices"],"battery-horizontal-charging-empty":["UI icons","Systems and devices"],"battery-horizontal-empty":["UI icons","Systems and devices"],"battery-horizontal-error":["UI icons","Systems and devices"],"battery-horizontal-low":["UI icons","Systems and devices"],"battery-horizontal-notification":["UI icons","Systems and devices"],"battery-pack-0":["Automation icons","Automation system"],"battery-pack-100":["Automation icons","Automation system"],"battery-pack-25":["Automation icons","Automation system"],"battery-pack-50":["Automation icons","Automation system"],"battery-pack-70":["Automation icons","Automation system"],"battery-pack-charging":["Automation icons","Automation system"],"battery-vertical-25":["UI icons","Systems and devices"],"battery-vertical-50":["UI icons","Systems and devices"],"battery-vertical-75":["UI icons","Systems and devices"],"battery-vertical-charging-100":["UI icons","Systems and devices"],"battery-vertical-charging-25":["UI icons","Systems and devices"],"battery-vertical-charging-50":["UI icons","Systems and devices"],"battery-vertical-charging-75":["UI icons","Systems and devices"],"battery-vertical-charging-empty":["UI icons","Systems and devices"],"battery-vertical-charging-low":["UI icons","Systems and devices"],"battery-vertical-empty":["UI icons","Systems and devices"],"battery-vertical-error":["UI icons","Systems and devices"],"battery-vertical-full":["UI icons","Systems and devices"],"battery-vertical-low":["UI icons","Systems and devices"],"battery-vertical-notification":["UI icons","Systems and devices"],"beacon-default":["Maritime icons","Paper chart symbols"],"beacon-general-board":["Maritime icons","Paper chart symbols"],"beacon-general-cone-down":["Maritime icons","Paper chart symbols"],"beacon-general-cone-up":["Maritime icons","Paper chart symbols"],"beacon-general-cross":["Maritime icons","Paper chart symbols"],"beacon-general-cube":["Maritime icons","Paper chart symbols"],"beacon-general-danger":["Maritime icons","Paper chart symbols"],"beacon-general-east":["Maritime icons","Paper chart symbols"],"beacon-general-flag":["Maritime icons","Paper chart symbols"],"beacon-general-north":["Maritime icons","Paper chart symbols"],"beacon-general-south":["Maritime icons","Paper chart symbols"],"beacon-general-sphere":["Maritime icons","Paper chart symbols"],"beacon-general-square":["Maritime icons","Paper chart symbols"],"beacon-general-t-shape":["Maritime icons","Paper chart symbols"],"beacon-general-west":["Maritime icons","Paper chart symbols"],"beacon-general-x-shape":["Maritime icons","Paper chart symbols"],"beacon-minor-stake":["Maritime icons","Paper chart symbols"],"beacon-tower-board":["Maritime icons","Paper chart symbols"],"beacon-tower-cone-down":["Maritime icons","Paper chart symbols"],"beacon-tower-cone-up":["Maritime icons","Paper chart symbols"],"beacon-tower-cross":["Maritime icons","Paper chart symbols"],"beacon-tower-cube":["Maritime icons","Paper chart symbols"],"beacon-tower-danger":["Maritime icons","Paper chart symbols"],"beacon-tower-east":["Maritime icons","Paper chart symbols"],"beacon-tower-flag":["Maritime icons","Paper chart symbols"],"beacon-tower-north":["Maritime icons","Paper chart symbols"],"beacon-tower-south":["Maritime icons","Paper chart symbols"],"beacon-tower-sphere":["Maritime icons","Paper chart symbols"],"beacon-tower-square":["Maritime icons","Paper chart symbols"],"beacon-tower-t-shape":["Maritime icons","Paper chart symbols"],"beacon-tower-west":["Maritime icons","Paper chart symbols"],"beacon-tower-x-shape":["Maritime icons","Paper chart symbols"],bilge:["Automation icons","Automation system"],"bipolar_transistor-01":["Automation icons","Electricity"],"bipolar_transistor-02":["Automation icons","Electricity"],"bipolar_transistor-02-off":["Automation icons","Electricity"],"bipolar_transistor-02-on":["Automation icons","Electricity"],"bipolar_transistor-03":["Automation icons","Electricity"],"bipolar_transistor-03-flat":["Automation icons","Electricity"],"bipolar_transistor-03-off":["Automation icons","Electricity"],"bipolar_transistor-03-on":["Automation icons","Electricity"],"bipolar_transistor-04":["Automation icons","Electricity"],"bipolar_transistor-04-flat":["Automation icons","Electricity"],"bipolar_transistor-04-off":["Automation icons","Electricity"],"bipolar_transistor-04-on":["Automation icons","Electricity"],"bipolar_transistor-off":["Automation icons","Electricity"],"bipolar_transistor-on":["Automation icons","Electricity"],"blower-off-horizontal":["Automation icons","Motors, pumps and fans"],"blower-off-vertical":["Automation icons","Motors, pumps and fans"],"blower-on-horizontal":["Automation icons","Motors, pumps and fans"],"blower-on-vertical":["Automation icons","Motors, pumps and fans"],"blower-static-horizontal":["Automation icons","Motors, pumps and fans"],"blower-static-vertical":["Automation icons","Motors, pumps and fans"],bluetooth:["UI icons","Systems and devices"],"buoy-barrel-board":["Maritime icons","Paper chart symbols"],"buoy-barrel-cone-down":["Maritime icons","Paper chart symbols"],"buoy-barrel-cone-up":["Maritime icons","Paper chart symbols"],"buoy-barrel-cross":["Maritime icons","Paper chart symbols"],"buoy-barrel-cube":["Maritime icons","Paper chart symbols"],"buoy-barrel-danger":["Maritime icons","Paper chart symbols"],"buoy-barrel-east":["Maritime icons","Paper chart symbols"],"buoy-barrel-flag":["Maritime icons","Paper chart symbols"],"buoy-barrel-north":["Maritime icons","Paper chart symbols"],"buoy-barrel-south":["Maritime icons","Paper chart symbols"],"buoy-barrel-sphere":["Maritime icons","Paper chart symbols"],"buoy-barrel-square":["Maritime icons","Paper chart symbols"],"buoy-barrel-t-shape":["Maritime icons","Paper chart symbols"],"buoy-barrel-west":["Maritime icons","Paper chart symbols"],"buoy-barrel-x-shape":["Maritime icons","Paper chart symbols"],"buoy-can-board":["Maritime icons","Paper chart symbols"],"buoy-can-cone-down":["Maritime icons","Paper chart symbols"],"buoy-can-cone-up":["Maritime icons","Paper chart symbols"],"buoy-can-cross":["Maritime icons","Paper chart symbols"],"buoy-can-cube":["Maritime icons","Paper chart symbols"],"buoy-can-danger":["Maritime icons","Paper chart symbols"],"buoy-can-east":["Maritime icons","Paper chart symbols"],"buoy-can-flag":["Maritime icons","Paper chart symbols"],"buoy-can-north":["Maritime icons","Paper chart symbols"],"buoy-can-south":["Maritime icons","Paper chart symbols"],"buoy-can-sphere":["Maritime icons","Paper chart symbols"],"buoy-can-square":["Maritime icons","Paper chart symbols"],"buoy-can-t-shape":["Maritime icons","Paper chart symbols"],"buoy-can-west":["Maritime icons","Paper chart symbols"],"buoy-can-x-shape":["Maritime icons","Paper chart symbols"],"buoy-conical-board":["Maritime icons","Paper chart symbols"],"buoy-conical-cone-down":["Maritime icons","Paper chart symbols"],"buoy-conical-cone-up":["Maritime icons","Paper chart symbols"],"buoy-conical-cross":["Maritime icons","Paper chart symbols"],"buoy-conical-cube":["Maritime icons","Paper chart symbols"],"buoy-conical-danger":["Maritime icons","Paper chart symbols"],"buoy-conical-east":["Maritime icons","Paper chart symbols"],"buoy-conical-flag":["Maritime icons","Paper chart symbols"],"buoy-conical-north":["Maritime icons","Paper chart symbols"],"buoy-conical-south":["Maritime icons","Paper chart symbols"],"buoy-conical-sphere":["Maritime icons","Paper chart symbols"],"buoy-conical-square":["Maritime icons","Paper chart symbols"],"buoy-conical-t-shape":["Maritime icons","Paper chart symbols"],"buoy-conical-west":["Maritime icons","Paper chart symbols"],"buoy-conical-x-shape":["Maritime icons","Paper chart symbols"],"buoy-default":["Maritime icons","Paper chart symbols"],"buoy-mooring-barrel":["Maritime icons","Paper chart symbols"],"buoy-mooring-can":["Maritime icons","Paper chart symbols"],"buoy-pilar-board":["Maritime icons","Paper chart symbols"],"buoy-pilar-cone-down":["Maritime icons","Paper chart symbols"],"buoy-pilar-cone-up":["Maritime icons","Paper chart symbols"],"buoy-pilar-cross":["Maritime icons","Paper chart symbols"],"buoy-pilar-cube":["Maritime icons","Paper chart symbols"],"buoy-pilar-danger":["Maritime icons","Paper chart symbols"],"buoy-pilar-east":["Maritime icons","Paper chart symbols"],"buoy-pilar-flag":["Maritime icons","Paper chart symbols"],"buoy-pilar-north":["Maritime icons","Paper chart symbols"],"buoy-pilar-south":["Maritime icons","Paper chart symbols"],"buoy-pilar-sphere":["Maritime icons","Paper chart symbols"],"buoy-pilar-square":["Maritime icons","Paper chart symbols"],"buoy-pilar-t-shape":["Maritime icons","Paper chart symbols"],"buoy-pilar-west":["Maritime icons","Paper chart symbols"],"buoy-pilar-x-shape":["Maritime icons","Paper chart symbols"],"buoy-spar-board":["Maritime icons","Paper chart symbols"],"buoy-spar-cone-down":["Maritime icons","Paper chart symbols"],"buoy-spar-cone-up":["Maritime icons","Paper chart symbols"],"buoy-spar-cross":["Maritime icons","Paper chart symbols"],"buoy-spar-cube":["Maritime icons","Paper chart symbols"],"buoy-spar-danger":["Maritime icons","Paper chart symbols"],"buoy-spar-east":["Maritime icons","Paper chart symbols"],"buoy-spar-flag":["Maritime icons","Paper chart symbols"],"buoy-spar-north":["Maritime icons","Paper chart symbols"],"buoy-spar-south":["Maritime icons","Paper chart symbols"],"buoy-spar-sphere":["Maritime icons","Paper chart symbols"],"buoy-spar-square":["Maritime icons","Paper chart symbols"],"buoy-spar-t-shape":["Maritime icons","Paper chart symbols"],"buoy-spar-west":["Maritime icons","Paper chart symbols"],"buoy-spar-x-shape":["Maritime icons","Paper chart symbols"],"buoy-spherical-board":["Maritime icons","Paper chart symbols"],"buoy-spherical-cone-down":["Maritime icons","Paper chart symbols"],"buoy-spherical-cone-up":["Maritime icons","Paper chart symbols"],"buoy-spherical-cross":["Maritime icons","Paper chart symbols"],"buoy-spherical-cube":["Maritime icons","Paper chart symbols"],"buoy-spherical-danger":["Maritime icons","Paper chart symbols"],"buoy-spherical-east":["Maritime icons","Paper chart symbols"],"buoy-spherical-flag":["Maritime icons","Paper chart symbols"],"buoy-spherical-north":["Maritime icons","Paper chart symbols"],"buoy-spherical-south":["Maritime icons","Paper chart symbols"],"buoy-spherical-sphere":["Maritime icons","Paper chart symbols"],"buoy-spherical-square":["Maritime icons","Paper chart symbols"],"buoy-spherical-t-shape":["Maritime icons","Paper chart symbols"],"buoy-spherical-west":["Maritime icons","Paper chart symbols"],"buoy-spherical-x-shape":["Maritime icons","Paper chart symbols"],"buoy-super":["Maritime icons","Paper chart symbols"],"buoy-super-landby":["Maritime icons","Paper chart symbols"],"calendar-date-google":["UI icons","General"],"calendar-google":["UI icons","General"],"cam-hmi-iec":["Application icons","Applications"],"camera-off":["UI icons","Communication and media"],"camera-on":["UI icons","Communication and media"],"camera-tilt":["UI icons","Communication and media"],"capacitor-01":["Automation icons","Electricity"],"capacitor-01-off":["Automation icons","Electricity"],"capacitor-01-on":["Automation icons","Electricity"],"capacitor-02":["Automation icons","Electricity"],"capacitor-02-off":["Automation icons","Electricity"],"capacitor-02-on":["Automation icons","Electricity"],"capacitor-03":["Automation icons","Electricity"],"capacitor-03-off":["Automation icons","Electricity"],"capacitor-03-on":["Automation icons","Electricity"],"capacitor-04":["Automation icons","Electricity"],"capacitor-04-off":["Automation icons","Electricity"],"capacitor-04-on":["Automation icons","Electricity"],"caution-badge":["Alert icons","Additional alert icons"],"caution-badge-outline":["Alert icons","Additional alert icons"],"caution-color-iec":["Alert icons","General alerts"],"caution-empty":["Alert icons","Additional alert icons"],"caution-google":["Alert icons","Additional alert icons"],cctv:["Application icons","Applications"],"cell-bad":["UI icons","Systems and devices"],"cell-full":["UI icons","Systems and devices"],"cell-low":["UI icons","Systems and devices"],"cell-medium":["UI icons","Systems and devices"],"cell-off":["UI icons","Systems and devices"],"cent-iec":["Maritime icons","Chart display"],"cent-off-iec":["Maritime icons","Chart display"],chart:["Maritime icons","Chart display"],"chart-archipelagic-sea-lanes":["Maritime icons","Chart display"],"chart-aton-iec":["Maritime icons","Chart display"],"chart-boundaries-limits-proposal":["Maritime icons","Chart display"],"chart-boundary-iec":["Maritime icons","Chart display"],"chart-catzoc-iec":["Maritime icons","Chart display"],"chart-cautionary-notes":["Maritime icons","Chart display"],"chart-contour-label-iec":["Maritime icons","Chart display"],"chart-dated-objects-iec":["Maritime icons","Chart display"],"chart-display-settings-iec":["Maritime icons","Chart display"],"chart-display-settings-proposal":["Maritime icons","Chart display"],"chart-drying-line-proposal":["Maritime icons","Chart display"],"chart-four-shades-proposal":["Maritime icons","Chart display"],"chart-full-light-lines":["Maritime icons","Chart display"],"chart-grid-iec":["Maritime icons","Chart display"],"chart-highlight-data-dependent-iec":["Maritime icons","Chart display"],"chart-highlight-information-iec":["Maritime icons","Chart display"],"chart-info":["Maritime icons","Chart display"],"chart-isolated-dangers":["Maritime icons","Chart display"],"chart-isolated-dangers-filled":["Maritime icons","Chart display"],"chart-layers":["Maritime icons","Chart display"],"chart-magnetic-variation-iec":["Maritime icons","Chart display"],"chart-management-proposal":["Maritime icons","Chart display"],"chart-manual-update-iec":["Maritime icons","Chart display"],"chart-national-language-proposal-1":["Maritime icons","Chart display"],"chart-national-language-proposal-2":["Maritime icons","Chart display"],"chart-original-scale-iec":["Maritime icons","Chart display"],"chart-paper-symbol-iec":["Maritime icons","Chart display"],"chart-plain-boundaries-iec":["Maritime icons","Chart display"],"chart-prohibited-restricted-areas":["Maritime icons","Chart display"],"chart-radar-overlay-iec":["Maritime icons","Chart display"],"chart-safety-countour-off-proposal":["Maritime icons","Chart display"],"chart-safety-countour-on-proposal":["Maritime icons","Chart display"],"chart-safety-depth-proposal":["Maritime icons","Chart display"],"chart-safety-depths-show-proposal":["Maritime icons","Chart display"],"chart-safety-settings-proposal":["Maritime icons","Chart display"],"chart-sandbanks":["Maritime icons","Chart display"],"chart-scale-boundaries-iec":["Maritime icons","Chart display"],"chart-scale-min-proposal":["Maritime icons","Chart display"],"chart-seabed-proposal":["Maritime icons","Chart display"],"chart-search":["Maritime icons","Chart display"],"chart-settings":["Maritime icons","Chart display"],"chart-shallow-contour-proposal":["Maritime icons","Chart display"],"chart-shallow-pattern-iec":["Maritime icons","Chart display"],"chart-ship-routing-system-iec":["Maritime icons","Chart display"],"chart-simplified-symbols-iec":["Maritime icons","Chart display"],"chart-spot-soundings-iec":["Maritime icons","Chart display"],"chart-submarine-cables":["Maritime icons","Chart display"],"chart-symbolized-boundaries-iec":["Maritime icons","Chart display"],"chart-tidal-iec":["Maritime icons","Chart display"],"chart-unknown":["Maritime icons","Chart display"],"chart-update-review":["Maritime icons","Chart display"],"chart-user-proposal":["Maritime icons","Chart display"],"check-google":["UI icons","General"],"check-mixed":["UI icons","General"],"checkbox-checked":["UI icons","General"],"checkbox-checked-filled":["UI icons","General"],"checkbox-uncheck-google":["UI icons","General"],"chevron-double-down-google":["UI icons","General"],"chevron-double-left-google":["UI icons","General"],"chevron-double-right-google":["UI icons","General"],"chevron-double-up-google":["UI icons","General"],"chevron-down-google":["UI icons","General"],"chevron-left-google":["UI icons","General"],"chevron-right-google":["UI icons","General"],"chevron-tripple-left":["UI icons","General"],"chevron-tripple-right":["UI icons","General"],"chevron-up-google":["UI icons","General"],"clear-day":["Weather & Environment icons","Forecast"],"clear-day-colour":["Weather & Environment icons","Forecast"],"clear-night":["Weather & Environment icons","Forecast"],"clear-night-colour":["Weather & Environment icons","Forecast"],"clear-polartwilight":["Weather & Environment icons","Forecast"],"clear-polartwilight-colour":["Weather & Environment icons","Forecast"],"close-google":["UI icons","General"],cloudy:["Weather & Environment icons","Forecast"],"cloudy-colour":["Weather & Environment icons","Forecast"],"coastal-navigation":["Maritime icons","Navigation and operation"],coffee:["Maritime icons","Objects and equipment"],cog:["Maritime icons","Navigation and operation"],"cold-google":["Automation icons","Automation system"],"com-call-active-google":["UI icons","Communication and media"],"com-call-end-google":["UI icons","Communication and media"],"com-call-google":["UI icons","Communication and media"],"com-message-active-google":["UI icons","Communication and media"],"com-message-google":["UI icons","Communication and media"],"com-message-important-google":["UI icons","Communication and media"],"com-mic-muted-google":["UI icons","Communication and media"],"com-microphone":["UI icons","Communication and media"],"com-pa":["UI icons","Communication and media"],"com-pa-list":["UI icons","Communication and media"],"com-radio":["UI icons","Communication and media"],"com-radio-emergency":["UI icons","Communication and media"],"command-auto-track":["Maritime icons","Command and users"],"command-autopilot":["Maritime icons","Command and users"],"command-available":["Maritime icons","Command and users"],"command-in":["Maritime icons","Command and users"],"command-locked":["Maritime icons","Command and users"],"command-locked-f":["Maritime icons","Command and users"],"command-no":["Maritime icons","Command and users"],"command-partial":["Maritime icons","Command and users"],"command-request":["Maritime icons","Command and users"],"command-shared":["Maritime icons","Command and users"],"command-take":["Maritime icons","Command and users"],communication:["Application icons","Applications"],"computer-pc":["UI icons","Systems and devices"],"computer-server":["UI icons","Systems and devices"],configure:["UI icons","General"],"connection-1-bar":["UI icons","Systems and devices"],"connection-2-bars":["UI icons","Systems and devices"],"connection-3-bars":["UI icons","Systems and devices"],"connection-4-bars":["UI icons","Systems and devices"],"connector-coming-from":["Automation icons","Pipes, wires, lines and ducts"],"connector-corner":["Automation icons","Pipes, wires, lines and ducts"],"connector-cross":["Automation icons","Pipes, wires, lines and ducts"],"connector-cross-joint":["Automation icons","Pipes, wires, lines and ducts"],"connector-going-to":["Automation icons","Pipes, wires, lines and ducts"],"connector-overlap":["Automation icons","Pipes, wires, lines and ducts"],"connector-straight":["Automation icons","Pipes, wires, lines and ducts"],"connector-threeway":["Automation icons","Pipes, wires, lines and ducts"],"connector-threeway-joint":["Automation icons","Pipes, wires, lines and ducts"],"conning-iec":["Application icons","Applications"],"conspicuous-cairn":["Maritime icons","Paper chart symbols"],contacts:["Maritime icons","Command and users"],container:["Maritime icons","Objects and equipment"],"content-collapse-google":["UI icons","General"],"content-copy-google":["UI icons","General"],"content-cut-google":["UI icons","General"],"content-expand-google":["UI icons","General"],"content-paste-google":["UI icons","General"],"converter-acdc":["Automation icons","Electricity"],"converter-acdc-off":["Automation icons","Electricity"],"converter-acdc-on":["Automation icons","Electricity"],"converter-dcac":["Automation icons","Electricity"],"converter-dcac-off":["Automation icons","Electricity"],"converter-dcac-on":["Automation icons","Electricity"],"converter-dcdc":["Automation icons","Electricity"],"converter-dcdc-off":["Automation icons","Electricity"],"converter-dcdc-on":["Automation icons","Electricity"],"converter-filter-1":["Automation icons","Electricity"],"converter-filter-1-off":["Automation icons","Electricity"],"converter-filter-1-on":["Automation icons","Electricity"],coordinate:["Maritime icons","Navigation and operation"],crane:["Maritime icons","Objects and equipment"],current:["Weather & Environment icons","General"],"current-1":["Weather & Environment icons","General"],"current-2":["Weather & Environment icons","General"],"current-3":["Weather & Environment icons","General"],"current-4":["Weather & Environment icons","General"],"cursor-action-pointer":["Cursors","Cursors"],"cursor-action-pointer-icon":["Cursors","Cursors"],"cursor-closed-hand":["Cursors","Cursors"],"cursor-closed-hand-icon":["Cursors","Cursors"],"cursor-delete":["Cursors","Cursors"],"cursor-delete-icon":["Cursors","Cursors"],"cursor-draw":["Cursors","Cursors"],"cursor-draw-icon":["Cursors","Cursors"],"cursor-help":["Cursors","Cursors"],"cursor-help-icon":["Cursors","Cursors"],"cursor-insert-point":["Cursors","Cursors"],"cursor-insert-point-icon":["Cursors","Cursors"],"cursor-map":["Cursors","Cursors"],"cursor-map-icon":["Cursors","Cursors"],"cursor-map-iec":["Cursors","Cursors"],"cursor-map-iec-icon":["Cursors","Cursors"],"cursor-open-hand":["Cursors","Cursors"],"cursor-open-hand-icon":["Cursors","Cursors"],"cursor-placeholder-icon":["Cursors","Cursors"],"cursor-pointer":["Cursors","Cursors"],"cursor-pointer-icon":["Cursors","Cursors"],"cursor-pointing-hand":["Cursors","Cursors"],"cursor-pointing-hand-icon":["Cursors","Cursors"],"cursor-remove-point":["Cursors","Cursors"],"cursor-remove-point-icon":["Cursors","Cursors"],"cursor-setpoint":["Cursors","Cursors"],"cursor-setpoint-icon":["Cursors","Cursors"],"damper-horizontal-off":["Automation icons","Switches"],"damper-horizontal-off-large":["Automation icons","Switches"],"damper-horizontal-on":["Automation icons","Switches"],"damper-horizontal-on-large":["Automation icons","Switches"],dashboard:["UI icons","General"],database:["UI icons","Systems and devices"],"dcdc-converter":["Automation icons","Automation system"],"delete-filled-google":["UI icons","General"],"delete-google":["UI icons","General"],delta:["UI icons","Data and metrics"],depth:["Maritime icons","Navigation and operation"],"device-filter":["Automation icons","Automation system"],"diagnostic-google":["UI icons","Data and metrics"],"diodes-01":["Automation icons","Electricity"],"diodes-01-off":["Automation icons","Electricity"],"diodes-01-on":["Automation icons","Electricity"],"diodes-02":["Automation icons","Electricity"],"diodes-02-off":["Automation icons","Electricity"],"diodes-02-on":["Automation icons","Electricity"],"diodes-03":["Automation icons","Electricity"],"diodes-03-off":["Automation icons","Electricity"],"diodes-03-on":["Automation icons","Electricity"],"diodes-04":["Automation icons","Electricity"],"diodes-04-off":["Automation icons","Electricity"],"diodes-04-on":["Automation icons","Electricity"],"diodes-05":["Automation icons","Electricity"],"diodes-05-off":["Automation icons","Electricity"],"diodes-05-on":["Automation icons","Electricity"],"diodes-06":["Automation icons","Electricity"],"diodes-06-off":["Automation icons","Electricity"],"diodes-06-on":["Automation icons","Electricity"],"diodes-07":["Automation icons","Electricity"],"diodes-07-off":["Automation icons","Electricity"],"diodes-07-on":["Automation icons","Electricity"],"display-brilliance-iec":["UI icons","Systems and devices"],"display-brilliance-low":["UI icons","Systems and devices"],"display-brilliance-proposal":["UI icons","Systems and devices"],diver:["Maritime icons","Objects and equipment"],"dock-bottom-google":["UI icons","General"],"dock-left-google":["UI icons","General"],"dock-right-google":["UI icons","General"],"down-iec":["UI icons","General"],"drop-down-double-google":["UI icons","General"],"drop-down-google":["UI icons","General"],"duct-coming-from":["Automation icons","Pipes, wires, lines and ducts"],"duct-corner":["Automation icons","Pipes, wires, lines and ducts"],"duct-cross":["Automation icons","Pipes, wires, lines and ducts"],"duct-direction":["Automation icons","Pipes, wires, lines and ducts"],"duct-end-point":["Automation icons","Pipes, wires, lines and ducts"],"duct-going-to":["Automation icons","Pipes, wires, lines and ducts"],"duct-overlap":["Automation icons","Pipes, wires, lines and ducts"],"duct-straight":["Automation icons","Pipes, wires, lines and ducts"],"duct-threeway":["Automation icons","Pipes, wires, lines and ducts"],duty:["Automation icons","Automation system"],"dynamic-positioning":["Application icons","Applications"],"ecdis-iec":["Application icons","Applications"],"ecdis-proposal":["Application icons","Applications"],eco:["UI icons","Data and metrics"],"edit-google":["UI icons","General"],"electrical-clock":["Automation icons","Electricity"],"electrical-clock-off":["Automation icons","Electricity"],"electrical-clock-on":["Automation icons","Electricity"],"energy-ammonia":["Automation icons","Automation system"],"energy-battery":["Automation icons","Automation system"],"energy-diesel":["Automation icons","Automation system"],"energy-fuel":["Automation icons","Automation system"],"energy-hydrogen":["Automation icons","Automation system"],"energy-methanol":["Automation icons","Automation system"],"energy-oil":["Automation icons","Automation system"],"energy-petrol":["Automation icons","Automation system"],engine:["Maritime icons","Objects and equipment"],"engine-fill":["Maritime icons","Objects and equipment"],epms:["Automation icons","Automation system"],"ethernet-google":["UI icons","Systems and devices"],"ethernet-switch":["Automation icons","Automation system"],"event-marker-iec":["Maritime icons","Chart targets"],"exclamation-mark":["Alert icons","Additional alert icons"],expand:["UI icons","General"],"fan-off":["Automation icons","Motors, pumps and fans"],"fan-on":["Automation icons","Motors, pumps and fans"],"file-download-google":["UI icons","General"],"file-export-google":["UI icons","General"],"file-upload-google":["UI icons","General"],filter:["UI icons","General"],"filter-1":["Automation icons","Electricity"],"filter-1-off":["Automation icons","Electricity"],"filter-1-on":["Automation icons","Electricity"],"filter-2":["Automation icons","Electricity"],"filter-2-off":["Automation icons","Electricity"],"filter-2-on":["Automation icons","Electricity"],"filter-3":["Automation icons","Electricity"],"filter-3-off":["Automation icons","Electricity"],"filter-3-on":["Automation icons","Electricity"],"filter-4":["Automation icons","Electricity"],"filter-4-off":["Automation icons","Electricity"],"filter-4-on":["Automation icons","Electricity"],fire:["Automation icons","Automation system"],fishing:["Maritime icons","Navigation and operation"],fog:["Weather & Environment icons","Forecast"],"fog-colour":["Weather & Environment icons","Forecast"],forward:["Automation icons","Motors, pumps and fans"],"forward-fast":["Automation icons","Motors, pumps and fans"],"forward-stopped":["Automation icons","Motors, pumps and fans"],"fuse-01":["Automation icons","Electricity"],"fuse-01-off":["Automation icons","Electricity"],"fuse-01-on":["Automation icons","Electricity"],"fuse-02":["Automation icons","Electricity"],"fuse-02-off":["Automation icons","Electricity"],"fuse-02-on":["Automation icons","Electricity"],generator:["Automation icons","Automation system"],"generic-line-coming-from":["Automation icons","Pipes, wires, lines and ducts"],"generic-line-corner":["Automation icons","Pipes, wires, lines and ducts"],"generic-line-cross":["Automation icons","Pipes, wires, lines and ducts"],"generic-line-direction":["Automation icons","Pipes, wires, lines and ducts"],"generic-line-end-point":["Automation icons","Pipes, wires, lines and ducts"],"generic-line-going-to":["Automation icons","Pipes, wires, lines and ducts"],"generic-line-overlap":["Automation icons","Pipes, wires, lines and ducts"],"generic-line-straight":["Automation icons","Pipes, wires, lines and ducts"],"generic-line-threeway":["Automation icons","Pipes, wires, lines and ducts"],"grid-off-google":["Maritime icons","Chart display"],"ground-1":["Automation icons","Electricity"],"ground-1-off":["Automation icons","Electricity"],"ground-1-on":["Automation icons","Electricity"],"ground-2":["Automation icons","Electricity"],"ground-2-off":["Automation icons","Electricity"],"ground-2-on":["Automation icons","Electricity"],"ground-3":["Automation icons","Electricity"],"ground-3-off":["Automation icons","Electricity"],"ground-3-on":["Automation icons","Electricity"],"harbour-berthing":["Maritime icons","Navigation and operation"],hdg:["Maritime icons","Navigation and operation"],"heading-c-up-proposal":["Maritime icons","Chart display"],"heading-h-up-proposal":["Maritime icons","Chart display"],"heading-line-off-iec":["Maritime icons","Chart display"],"heading-line-off-proposal":["Maritime icons","Chart display"],"heading-n-up-proposal":["Maritime icons","Chart display"],"heat-google":["Automation icons","Automation system"],heat_pump_balance:["Automation icons","Automation system"],heatexhanger:["Automation icons","Automation system"],heatpump:["Automation icons","Automation system"],heave:["Maritime icons","Navigation and operation"],"heavy-rain":["Weather & Environment icons","Forecast"],"heavy-rain-colour":["Weather & Environment icons","Forecast"],"heavy-rain-showers-day":["Weather & Environment icons","Forecast"],"heavy-rain-showers-day-colour":["Weather & Environment icons","Forecast"],"heavy-rain-showers-night":["Weather & Environment icons","Forecast"],"heavy-rain-showers-night-colour":["Weather & Environment icons","Forecast"],"heavy-rain-showers-polartwilight":["Weather & Environment icons","Forecast"],"heavy-rain-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"heavy-sleet":["Weather & Environment icons","Forecast"],"heavy-sleet-colour":["Weather & Environment icons","Forecast"],"heavy-sleet-showers-day":["Weather & Environment icons","Forecast"],"heavy-sleet-showers-day-colour":["Weather & Environment icons","Forecast"],"heavy-sleet-showers-night":["Weather & Environment icons","Forecast"],"heavy-sleet-showers-night-colour":["Weather & Environment icons","Forecast"],"heavy-sleet-showers-polartwilight":["Weather & Environment icons","Forecast"],"heavy-sleet-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"heavy-snow":["Weather & Environment icons","Forecast"],"heavy-snow-colour":["Weather & Environment icons","Forecast"],"heavy-snow-showers-day":["Weather & Environment icons","Forecast"],"heavy-snow-showers-day-colour":["Weather & Environment icons","Forecast"],"heavy-snow-showers-night":["Weather & Environment icons","Forecast"],"heavy-snow-showers-night-colour":["Weather & Environment icons","Forecast"],"heavy-snow-showers-polartwilight":["Weather & Environment icons","Forecast"],"heavy-snow-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],help:["UI icons","General"],"history-google":["UI icons","General"],home:["Application icons","Applications"],hvac:["Automation icons","Automation system"],"hydraulic-separator":["Automation icons","Automation system"],ias:["Application icons","Applications"],iceberg:["Maritime icons","Objects and equipment"],"id-tag":["Automation icons","Automation system"],"iec-chart-disp-set":["Maritime icons","Navigation and operation"],"iec-chart-disp-set-proposal":["Maritime icons","Chart display"],info:["UI icons","General"],"info-report-iec":["Maritime icons","Chart display"],"info-report-proposal":["Maritime icons","Chart display"],input:["Maritime icons","Navigation and operation"],"input-devices-google":["UI icons","Systems and devices"],"input-down":["UI icons","General"],"input-keyboard-google":["UI icons","Systems and devices"],"input-keyboard-screen-google":["UI icons","Systems and devices"],"input-left":["UI icons","General"],"input-mouse-google":["UI icons","Systems and devices"],"input-right":["UI icons","General"],"input-up":["UI icons","General"],io:["Automation icons","Automation system"],joystick:["Maritime icons","Navigation and operation"],kayaking:["Maritime icons","Objects and equipment"],"keeping-area":["Maritime icons","Navigation and operation"],"keeping-station":["Maritime icons","Navigation and operation"],"keeping-track":["Maritime icons","Navigation and operation"],keylinegrid:["Maritime icons","Objects and equipment"],kitesurfing:["Maritime icons","Objects and equipment"],latched:["Maritime icons","Navigation and operation"],"license-google":["UI icons","General"],"light-alarm":["Maritime icons","Objects and equipment"],"light-alarm-colour-off":["Maritime icons","Objects and equipment"],"light-alarm-colour-on":["Maritime icons","Objects and equipment"],"light-aol":["Maritime icons","Objects and equipment"],"light-aol-colour-off":["Maritime icons","Objects and equipment"],"light-aol-colour-on":["Maritime icons","Objects and equipment"],"light-aol-off":["Maritime icons","Objects and equipment"],"light-backlight-buttons":["Maritime icons","Objects and equipment"],"light-backlight-buttons-colour-on":["Maritime icons","Objects and equipment"],"light-backlight-buttons-off":["Maritime icons","Objects and equipment"],"light-backlight-buttonslight-backlight-buttons-colour-off":["Maritime icons","Objects and equipment"],"light-bulb":["Automation icons","Electricity"],"light-bulb-off":["Automation icons","Electricity"],"light-bulb-on":["Automation icons","Electricity"],"light-deck":["Maritime icons","Objects and equipment"],"light-deck-colour-off":["Maritime icons","Objects and equipment"],"light-deck-colour-on":["Maritime icons","Objects and equipment"],"light-deck-off":["Maritime icons","Objects and equipment"],"light-emergency":["Maritime icons","Objects and equipment"],"light-emergency-colour-off":["Maritime icons","Objects and equipment"],"light-emergency-colour-on":["Maritime icons","Objects and equipment"],"light-emergency-off":["Maritime icons","Objects and equipment"],"light-flashlight":["Maritime icons","Objects and equipment"],"light-flashlight-colour-off":["Maritime icons","Objects and equipment"],"light-flashlight-colour-on":["Maritime icons","Objects and equipment"],"light-flashlight-off":["Maritime icons","Objects and equipment"],"light-float":["Maritime icons","Paper chart symbols"],"light-lantern-off":["Maritime icons","Objects and equipment"],"light-lantern-on":["Maritime icons","Objects and equipment"],"light-lantern-on-colour-off":["Maritime icons","Objects and equipment"],"light-lantern-on-colour-on":["Maritime icons","Objects and equipment"],"light-lantern-port":["Maritime icons","Objects and equipment"],"light-lantern-port-colour-off":["Maritime icons","Objects and equipment"],"light-lantern-port-colour-on":["Maritime icons","Objects and equipment"],"light-lantern-port-off":["Maritime icons","Objects and equipment"],"light-lantern-stbd":["Maritime icons","Objects and equipment"],"light-lantern-stbd-colour-off":["Maritime icons","Objects and equipment"],"light-lantern-stbd-colour-on":["Maritime icons","Objects and equipment"],"light-lantern-stbd-off":["Maritime icons","Objects and equipment"],"light-rain":["Weather & Environment icons","Forecast"],"light-rain-colour":["Weather & Environment icons","Forecast"],"light-rain-showers-night":["Weather & Environment icons","Forecast"],"light-rain-showers-night-colour":["Weather & Environment icons","Forecast"],"light-rain-showers-polartwilight":["Weather & Environment icons","Forecast"],"light-rain-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"light-rain-showers-sun":["Weather & Environment icons","Forecast"],"light-rain-showers-sun-colour":["Weather & Environment icons","Forecast"],"light-roof":["Maritime icons","Objects and equipment"],"light-roof-colour-off":["Maritime icons","Objects and equipment"],"light-roof-colour-on":["Maritime icons","Objects and equipment"],"light-roof-off":["Maritime icons","Objects and equipment"],"light-searchlight":["Maritime icons","Objects and equipment"],"light-searchlight-colour-off":["Maritime icons","Objects and equipment"],"light-searchlight-colour-on":["Maritime icons","Objects and equipment"],"light-searchlight-off":["Maritime icons","Objects and equipment"],"light-sleet":["Weather & Environment icons","Forecast"],"light-sleet-showers-day":["Weather & Environment icons","Forecast"],"light-sleet-showers-day-colour":["Weather & Environment icons","Forecast"],"light-sleet-showers-night":["Weather & Environment icons","Forecast"],"light-sleet-showers-night-colour":["Weather & Environment icons","Forecast"],"light-sleet-showers-polartwilight":["Weather & Environment icons","Forecast"],"light-sleet-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"light-snow":["Weather & Environment icons","Forecast"],"light-snow-colour":["Weather & Environment icons","Forecast"],"light-snow-showers-day":["Weather & Environment icons","Forecast"],"light-snow-showers-day-colour":["Weather & Environment icons","Forecast"],"light-snow-showers-night":["Weather & Environment icons","Forecast"],"light-snow-showers-night-colour":["Weather & Environment icons","Forecast"],"light-snow-showers-polartwilight":["Weather & Environment icons","Forecast"],"light-snow-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-rain":["Weather & Environment icons","Forecast"],"lightning-heavy-rain-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-rain-showers-day":["Weather & Environment icons","Forecast"],"lightning-heavy-rain-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-rain-showers-night":["Weather & Environment icons","Forecast"],"lightning-heavy-rain-showers-night-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-rain-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-heavy-rain-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-sleet":["Weather & Environment icons","Forecast"],"lightning-heavy-sleet-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-sleet-showers-day":["Weather & Environment icons","Forecast"],"lightning-heavy-sleet-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-sleet-showers-night":["Weather & Environment icons","Forecast"],"lightning-heavy-sleet-showers-night-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-sleet-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-heavy-sleet-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-snow":["Weather & Environment icons","Forecast"],"lightning-heavy-snow-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-snow-showers-day":["Weather & Environment icons","Forecast"],"lightning-heavy-snow-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-snow-showers-night":["Weather & Environment icons","Forecast"],"lightning-heavy-snow-showers-night-colour":["Weather & Environment icons","Forecast"],"lightning-heavy-snow-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-heavy-snow-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-light-rain":["Weather & Environment icons","Forecast"],"lightning-light-rain-colour":["Weather & Environment icons","Forecast"],"lightning-light-rain-showers-day":["Weather & Environment icons","Forecast"],"lightning-light-rain-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-light-rain-showers-night":["Weather & Environment icons","Forecast"],"lightning-light-rain-showers-night-colour":["Weather & Environment icons","Forecast"],"lightning-light-rain-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-light-rain-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-light-sleet-showers-day":["Weather & Environment icons","Forecast"],"lightning-light-sleet-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-light-sleet-showers-night":["Weather & Environment icons","Forecast"],"lightning-light-sleet-showers-night-colour":["Weather & Environment icons","Forecast"],"lightning-light-sleet-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-light-sleet-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-light-snow":["Weather & Environment icons","Forecast"],"lightning-light-snow-colour":["Weather & Environment icons","Forecast"],"lightning-light-snow-showers-day":["Weather & Environment icons","Forecast"],"lightning-light-snow-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-light-snow-showers-night":["Weather & Environment icons","Forecast"],"lightning-light-snow-showers-night-colour":["Weather & Environment icons","Forecast"],"lightning-light-snow-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-light-snow-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-ligth-sleet":["Weather & Environment icons","Forecast"],"lightning-ligth-sleet-colour":["Weather & Environment icons","Forecast"],"lightning-rain":["Weather & Environment icons","Forecast"],"lightning-rain-colour":["Weather & Environment icons","Forecast"],"lightning-rain-showers-day":["Weather & Environment icons","Forecast"],"lightning-rain-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-rain-showers-mon":["Weather & Environment icons","Forecast"],"lightning-rain-showers-mon-colour":["Weather & Environment icons","Forecast"],"lightning-rain-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-rain-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-sleet-showers-day":["Weather & Environment icons","Forecast"],"lightning-sleet-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-sleet-showers-night":["Weather & Environment icons","Forecast"],"lightning-sleet-showers-night-colour":["Weather & Environment icons","Forecast"],"lightning-sleet-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-sleet-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"lightning-sleeth":["Weather & Environment icons","Forecast"],"lightning-sleeth-colour":["Weather & Environment icons","Forecast"],"lightning-snow":["Weather & Environment icons","Forecast"],"lightning-snow-colour":["Weather & Environment icons","Forecast"],"lightning-snow-showers-day":["Weather & Environment icons","Forecast"],"lightning-snow-showers-day-colour":["Weather & Environment icons","Forecast"],"lightning-snow-showers-night":["Weather & Environment icons","Forecast"],"lightning-snow-showers-night-colour":["Weather & Environment icons","Forecast"],"lightning-snow-showers-polartwilight":["Weather & Environment icons","Forecast"],"lightning-snow-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],lights:["Application icons","Applications"],"lights-leet-colour":["Weather & Environment icons","Forecast"],"limits-attention":["UI icons","Data and metrics"],"limits-improving":["UI icons","Data and metrics"],"limits-inside":["UI icons","Data and metrics"],"limits-outside-over":["UI icons","Data and metrics"],"limits-outside-under":["UI icons","Data and metrics"],"line-of-position":["Maritime icons","Chart display"],"line-of-position-iec":["Maritime icons","Chart display"],link:["UI icons","General"],"link-remove":["UI icons","General"],local:["Automation icons","Automation system"],"local-only":["Automation icons","Automation system"],"location-1":["Maritime icons","Chart display"],"location-2":["Maritime icons","Chart display"],"location-3":["Maritime icons","Chart display"],"log-add-google":["UI icons","General"],"log-edit-google":["UI icons","General"],"log-open-google":["UI icons","General"],"logic-01":["Automation icons","Electricity"],"logic-01-off":["Automation icons","Electricity"],"logic-01-on":["Automation icons","Electricity"],"logic-02":["Automation icons","Electricity"],"logic-02-off":["Automation icons","Electricity"],"logic-02-on":["Automation icons","Electricity"],"logic-03":["Automation icons","Electricity"],"logic-03-off":["Automation icons","Electricity"],"logic-03-on":["Automation icons","Electricity"],"logic-04":["Automation icons","Electricity"],"logic-04-off":["Automation icons","Electricity"],"logic-04-on":["Automation icons","Electricity"],"logic-05":["Automation icons","Electricity"],"logic-05-off":["Automation icons","Electricity"],"logic-05-on":["Automation icons","Electricity"],"logic-06":["Automation icons","Electricity"],"logic-06-off":["Automation icons","Electricity"],"logic-06-on":["Automation icons","Electricity"],"logic-07":["Automation icons","Electricity"],"logic-07-off":["Automation icons","Electricity"],"logic-07-on":["Automation icons","Electricity"],"logo-generic":["Application icons","Applications"],"logo-oicl":["Application icons","Applications"],"logo-openbridge":["Application icons","Applications"],manual:["Automation icons","Automation system"],"manual-only":["Automation icons","Automation system"],"measure-google":["Maritime icons","Chart display"],"media-backwards-10s":["UI icons","Communication and media"],"media-forward-10s":["UI icons","Communication and media"],"media-live":["UI icons","Communication and media"],"media-loop":["UI icons","Communication and media"],"media-pause":["UI icons","Communication and media"],"media-play":["UI icons","Communication and media"],"media-record":["UI icons","Communication and media"],"media-resume":["UI icons","Communication and media"],"media-skip-next":["UI icons","Communication and media"],"media-skip-previous":["UI icons","Communication and media"],"media-stop":["UI icons","Communication and media"],"megamenu-google":["UI icons","General"],"menu-iec":["UI icons","General"],"messages-iec":["UI icons","General"],misc:["Automation icons","Automation system"],monitoring:["UI icons","General"],"monitoring-route":["Maritime icons","Navigation and operation"],moored:["Maritime icons","Navigation and operation"],"more-google":["UI icons","General"],"more-vertical-google":["UI icons","General"],"mosfet-ntype-1":["Automation icons","Electricity"],"mosfet-ntype-1-off":["Automation icons","Electricity"],"mosfet-ntype-1-on":["Automation icons","Electricity"],"mosfet-ntype-2":["Automation icons","Electricity"],"mosfet-ntype-2-off":["Automation icons","Electricity"],"mosfet-ntype-2-on":["Automation icons","Electricity"],"mosfet-ntype-3":["Automation icons","Electricity"],"mosfet-ntype-3-off":["Automation icons","Electricity"],"mosfet-ntype-3-on":["Automation icons","Electricity"],"mosfet-ntype-4":["Automation icons","Electricity"],"mosfet-ntype-4-off":["Automation icons","Electricity"],"mosfet-ntype-4-on":["Automation icons","Electricity"],"mosfet-ptype-1":["Automation icons","Electricity"],"mosfet-ptype-1-off":["Automation icons","Electricity"],"mosfet-ptype-1-on":["Automation icons","Electricity"],"mosfet-ptype-2":["Automation icons","Electricity"],"mosfet-ptype-2-off":["Automation icons","Electricity"],"mosfet-ptype-2-on":["Automation icons","Electricity"],"mosfet-ptype-3":["Automation icons","Electricity"],"mosfet-ptype-3-off":["Automation icons","Electricity"],"mosfet-ptype-3-on":["Automation icons","Electricity"],"mosfet-ptype-4":["Automation icons","Electricity"],"mosfet-ptype-4-off":["Automation icons","Electricity"],"mosfet-ptype-4-on":["Automation icons","Electricity"],"motion-relative-iec":["Maritime icons","Navigation and operation"],"motion-relative-proposal":["Maritime icons","Navigation and operation"],"motion-tm-reset-proposal-1":["Maritime icons","Navigation and operation"],"motion-tm-reset-proposal-2":["Maritime icons","Navigation and operation"],"motion-true-iec":["Maritime icons","Navigation and operation"],"motion-true-proposal":["Maritime icons","Navigation and operation"],"motor-off-horisontal":["Automation icons","Motors, pumps and fans"],"motor-off-vertical":["Automation icons","Motors, pumps and fans"],"motor-on-horisontal":["Automation icons","Motors, pumps and fans"],"motor-on-vertical":["Automation icons","Motors, pumps and fans"],"motor-static-horisontal":["Automation icons","Motors, pumps and fans"],"motor-static-vertical":["Automation icons","Motors, pumps and fans"],move:["Maritime icons","Navigation and operation"],"msi-iec":["Maritime icons","Chart display"],"navigation-route":["Maritime icons","Navigation and operation"],"note-edit-proposal":["UI icons","General"],notification:["Alert icons","Additional alert icons"],"notification-advice":["Alert icons","Additional alert icons"],"notification-advice-active":["Alert icons","Additional alert icons"],"notification-advice-active-twotone":["Alert icons","Additional alert icons"],"notification-filled":["Alert icons","Additional alert icons"],notunderway:["Maritime icons","Navigation and operation"],"object-derelict":["Maritime icons","Objects and equipment"],"object-flotsam":["Maritime icons","Objects and equipment"],"object-jetsam":["Maritime icons","Objects and equipment"],"object-lagan":["Maritime icons","Objects and equipment"],off:["Automation icons","Automation system"],"off-iec":["UI icons","General"],on:["Automation icons","Automation system"],"on-iec":["UI icons","General"],"on-off-iec":["UI icons","General"],"open-sea":["Maritime icons","Navigation and operation"],"own-ship-iec":["Maritime icons","Chart targets"],"own-ship-minimised-iec":["Maritime icons","Chart targets"],"own-ship-simplified-iec":["Maritime icons","Chart targets"],"ownship-minimised-sternline-iec":["Maritime icons","Chart targets"],"page-first-google":["UI icons","General"],"page-last-google":["UI icons","General"],"palette-color-calibrated-iec":["UI icons","Systems and devices"],"palette-day":["UI icons","Systems and devices"],"palette-day-bright":["UI icons","Systems and devices"],"palette-day-night-iec":["UI icons","Systems and devices"],"palette-dimming":["UI icons","Systems and devices"],"palette-dusk":["UI icons","Systems and devices"],"palette-night":["UI icons","Systems and devices"],"panel-illumination-iec":["UI icons","Systems and devices"],"panel-illumination-proposal":["UI icons","Systems and devices"],"partlycloudy-day":["Weather & Environment icons","Forecast"],"partlycloudy-day-colour":["Weather & Environment icons","Forecast"],"partlycloudy-night":["Weather & Environment icons","Forecast"],"partlycloudy-night-colour":["Weather & Environment icons","Forecast"],"partlycloudy-polartwilight":["Weather & Environment icons","Forecast"],"partlycloudy-polartwilight-colour":["Weather & Environment icons","Forecast"],"past-position-iec":["Maritime icons","Chart targets"],"piezoelectric-crystal":["Automation icons","Electricity"],"piezoelectric-crystal-off":["Automation icons","Electricity"],"piezoelectric-crystal-on":["Automation icons","Electricity"],"pilot-onboard":["Maritime icons","Navigation and operation"],pilotage:["Maritime icons","Navigation and operation"],"pin-google":["UI icons","General"],"pin-selected-google":["UI icons","General"],"pipe-coming-from":["Automation icons","Pipes, wires, lines and ducts"],"pipe-corner":["Automation icons","Pipes, wires, lines and ducts"],"pipe-cross":["Automation icons","Pipes, wires, lines and ducts"],"pipe-direction":["Automation icons","Pipes, wires, lines and ducts"],"pipe-end-point":["Automation icons","Pipes, wires, lines and ducts"],"pipe-going-to":["Automation icons","Pipes, wires, lines and ducts"],"pipe-overlap":["Automation icons","Pipes, wires, lines and ducts"],"pipe-straight":["Automation icons","Pipes, wires, lines and ducts"],"pipe-threeway":["Automation icons","Pipes, wires, lines and ducts"],pitch:["Maritime icons","Navigation and operation"],placeholder:["UI icons","General"],"placeholder-device-off-f":["UI icons","General"],"placeholder-device-on":["UI icons","General"],"placeholder-device-static":["UI icons","General"],"plotted-position-iec":["Maritime icons","Chart targets"],pls:["Automation icons","Automation system"],"pls-component":["Automation icons","Automation system"],print:["UI icons","General"],"print-screen-iec":["UI icons","General"],"print-screen-proposal":["UI icons","General"],propulsion:["Maritime icons","Navigation and operation"],"propulsion-azimuth-thruster":["Maritime icons","Navigation and operation"],"propulsion-main-engine":["Maritime icons","Navigation and operation"],"propulsion-rudder":["Maritime icons","Navigation and operation"],"propulsion-static":["Maritime icons","Navigation and operation"],"propulsion-tunnel-thruster":["Maritime icons","Navigation and operation"],"pump-off-horizontal":["Automation icons","Motors, pumps and fans"],"pump-off-vertical":["Automation icons","Motors, pumps and fans"],"pump-on-horizontal":["Automation icons","Motors, pumps and fans"],"pump-on-vertical":["Automation icons","Motors, pumps and fans"],"pump-static-horizontal":["Automation icons","Motors, pumps and fans"],"pump-static-vertical":["Automation icons","Motors, pumps and fans"],"push-button-off":["Automation icons","Switches"],"push-button-on":["Automation icons","Switches"],"radar-antenna-position-iec":["Maritime icons","Chart targets"],"radar-electronic-bearing-line-proposal":["Maritime icons","Chart display"],"radar-electronic-range-and-bearing-proposal":["Maritime icons","Chart display"],"radar-gain-iec":["Maritime icons","Chart display"],"radar-gain-proposal":["Maritime icons","Chart display"],"radar-iec":["Application icons","Applications"],"radar-long-pulse-iec":["Maritime icons","Chart display"],"radar-overlay-proposal":["Maritime icons","Chart display"],"radar-performance-monitor-iec":["Maritime icons","Chart display"],"radar-rain-iec":["Maritime icons","Chart display"],"radar-range-iec":["Maritime icons","Chart display"],"radar-range-proposal":["Maritime icons","Chart display"],"radar-sea-iec":["Maritime icons","Chart display"],"radar-settings-proposal":["Maritime icons","Chart display"],"radar-short-pulse-iec":["Maritime icons","Chart display"],"radar-standby-iec":["Maritime icons","Chart display"],"radar-target-acquisition-state-auto-iec":["Maritime icons","Chart targets"],"radar-target-acquisition-state-iec":["Maritime icons","Chart targets"],"radar-target-tracked-dangerous-iec":["Maritime icons","Chart targets"],"radar-target-tracked-dangerous-selected-iec":["Maritime icons","Chart targets"],"radar-target-tracked-iec":["Maritime icons","Chart targets"],"radar-target-tracked-selected-iec":["Maritime icons","Chart targets"],"radar-tune-iec":["Maritime icons","Chart display"],"radar-tune-proposal":["Maritime icons","Chart display"],"radar-variable-range-marker-proposal":["Maritime icons","Chart display"],rain:["Weather & Environment icons","Forecast"],"rain-colour":["Weather & Environment icons","Forecast"],"rain-showers-day":["Weather & Environment icons","Forecast"],"rain-showers-day-colour":["Weather & Environment icons","Forecast"],"rain-showers-mon":["Weather & Environment icons","Forecast"],"rain-showers-mon-colour":["Weather & Environment icons","Forecast"],"rain-showers-polartwilight":["Weather & Environment icons","Forecast"],"rain-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],"range-rings-iec":["Maritime icons","Chart display"],"rank-1":["Maritime icons","Command and users"],"rank-2":["Maritime icons","Command and users"],"rank-3":["Maritime icons","Command and users"],"rank-4":["Maritime icons","Command and users"],"rank-5":["Maritime icons","Command and users"],"rank-6":["Maritime icons","Command and users"],"record-event":["Maritime icons","Chart display"],"record-event-iec":["Maritime icons","Chart display"],"redo-iec":["UI icons","General"],"refresh-google":["UI icons","General"],"reorder-google":["UI icons","General"],"resistor-1":["Automation icons","Electricity"],"resistor-1-off":["Automation icons","Electricity"],"resistor-1-on":["Automation icons","Electricity"],"resistor-2":["Automation icons","Electricity"],"resistor-2-off":["Automation icons","Electricity"],"resistor-2-on":["Automation icons","Electricity"],"resistor-3":["Automation icons","Electricity"],"resistor-3-off":["Automation icons","Electricity"],"resistor-3-on":["Automation icons","Electricity"],"resistor-4":["Automation icons","Electricity"],"resistor-4-off":["Automation icons","Electricity"],"resistor-4-on":["Automation icons","Electricity"],"resistor-5":["Automation icons","Electricity"],"resistor-5-off":["Automation icons","Electricity"],"resistor-5-on":["Automation icons","Electricity"],"resize-bottom":["UI icons","General"],"resize-corner":["UI icons","General"],"resize-top":["UI icons","General"],resize_center:["UI icons","General"],rock:["Maritime icons","Objects and equipment"],roll:["Maritime icons","Navigation and operation"],rot:["Maritime icons","Navigation and operation"],rotate:["Maritime icons","Navigation and operation"],route:["Maritime icons","Navigation and operation"],"route-export-iec":["Maritime icons","Chart display"],"route-export-proposal":["Maritime icons","Chart display"],"route-import-iec":["Maritime icons","Chart display"],"route-import-proposal":["Maritime icons","Chart display"],"route-monitoring-proposal":["Maritime icons","Navigation and operation"],"route-plan-proposal":["Maritime icons","Chart display"],"route-planning":["Maritime icons","Navigation and operation"],router:["Automation icons","Electricity"],"router-2":["Automation icons","Electricity"],"router-2-off":["Automation icons","Electricity"],"router-2-on":["Automation icons","Electricity"],"router-component":["Automation icons","Automation system"],"router-off":["Automation icons","Electricity"],"router-on":["Automation icons","Electricity"],"rowing-google":["Maritime icons","Objects and equipment"],running:["Alert icons","Additional alert icons"],"running-color-iec":["Alert icons","General alerts"],"running-fill":["Alert icons","Additional alert icons"],"s-mode":["Maritime icons","Chart display"],"satellite-full":["UI icons","Systems and devices"],"satellite-low":["UI icons","Systems and devices"],"satellite-medium":["UI icons","Systems and devices"],"satellite-off":["UI icons","Systems and devices"],"save-proposal":["UI icons","General"],"screen-desk":["UI icons","Systems and devices"],"screen-full-exit-google":["UI icons","General"],"screen-full-google":["UI icons","General"],"screen-pad":["UI icons","General"],"screen-quad":["UI icons","General"],"screen-recording":["UI icons","General"],"screen-shot":["UI icons","General"],"screen-split-bottom":["UI icons","General"],"screen-split-left":["UI icons","General"],"screen-split-right":["UI icons","General"],"screen-split-top":["UI icons","General"],screens:["Application icons","Applications"],search:["UI icons","General"],"sensor-gps-bad":["UI icons","Systems and devices"],"sensor-gps-full":["UI icons","Systems and devices"],"sensor-gps-low":["UI icons","Systems and devices"],"sensor-gps-medium":["UI icons","Systems and devices"],"sensor-gyro":["UI icons","Systems and devices"],"settings-default-iec":["UI icons","General"],"settings-default-proposal":["UI icons","General"],"settings-iec":["UI icons","General"],"settings-user-iec":["UI icons","General"],"settings-user-proposal":["UI icons","General"],ship:["Application icons","Applications"],"ship-bulkcarrier":["Maritime icons","Objects and equipment"],"ship-carferry":["Maritime icons","Objects and equipment"],"ship-container":["Maritime icons","Objects and equipment"],"ship-fishing":["Maritime icons","Objects and equipment"],"ship-highspeed":["Maritime icons","Objects and equipment"],"ship-navy":["Maritime icons","Objects and equipment"],"ship-offshore":["Maritime icons","Objects and equipment"],"ship-passenger":["Maritime icons","Objects and equipment"],"ship-sailboat":["Maritime icons","Objects and equipment"],"ship-sailship":["Maritime icons","Objects and equipment"],"ship-tanker":["Maritime icons","Objects and equipment"],"ship-tugboat":["Maritime icons","Objects and equipment"],"ship-wreck-iec":["Maritime icons","Chart targets"],"ship-yacht":["Maritime icons","Objects and equipment"],"silence-iec":["Alert icons","General alerts"],"simplified-beacon-cardinal-east":["Maritime icons","Paper chart symbols"],"simplified-beacon-cardinal-north":["Maritime icons","Paper chart symbols"],"simplified-beacon-cardinal-south":["Maritime icons","Paper chart symbols"],"simplified-beacon-cardinal-west":["Maritime icons","Paper chart symbols"],"simplified-beacon-default":["Maritime icons","Paper chart symbols"],"simplified-beacon-isolated-danger":["Maritime icons","Paper chart symbols"],"simplified-beacon-major-lateral-red":["Maritime icons","Paper chart symbols"],"simplified-beacon-major-safe-water":["Maritime icons","Paper chart symbols"],"simplified-beacon-major-special-purpose":["Maritime icons","Paper chart symbols"],"simplified-beacon-minor-lateral-green":["Maritime icons","Paper chart symbols"],"simplified-beacon-minor-lateral-red":["Maritime icons","Paper chart symbols"],"simplified-beacon-minor-safe-water":["Maritime icons","Paper chart symbols"],"simplified-beacon-minor-special-purpose":["Maritime icons","Paper chart symbols"],"simplified-buoy-cardinal-east":["Maritime icons","Paper chart symbols"],"simplified-buoy-cardinal-north":["Maritime icons","Paper chart symbols"],"simplified-buoy-cardinal-south":["Maritime icons","Paper chart symbols"],"simplified-buoy-cardinal-west":["Maritime icons","Paper chart symbols"],"simplified-buoy-default":["Maritime icons","Paper chart symbols"],"simplified-buoy-installation-mooring":["Maritime icons","Paper chart symbols"],"simplified-buoy-lateral-can-green":["Maritime icons","Paper chart symbols"],"simplified-buoy-lateral-can-red":["Maritime icons","Paper chart symbols"],"simplified-buoy-lateral-conical-green":["Maritime icons","Paper chart symbols"],"simplified-buoy-lateral-conical-red":["Maritime icons","Paper chart symbols"],"simplified-buoy-light-float":["Maritime icons","Paper chart symbols"],"simplified-buoy-light-vessel":["Maritime icons","Paper chart symbols"],"simplified-buoy-safe-water":["Maritime icons","Paper chart symbols"],"simplified-buoy-special-purpose":["Maritime icons","Paper chart symbols"],"simplified-buoy-special-purpose-ice":["Maritime icons","Paper chart symbols"],"simplified-buoy-special-purpose-tss-port":["Maritime icons","Paper chart symbols"],"simplified-buoy-special-purpose-tss-stbd":["Maritime icons","Paper chart symbols"],"simplified-buoy-super":["Maritime icons","Paper chart symbols"],"simplified-simplified-buoy-isolated-danger":["Maritime icons","Paper chart symbols"],simulation:["UI icons","Data and metrics"],"sleet-showers-day":["Weather & Environment icons","Forecast"],"sleet-showers-day-colour":["Weather & Environment icons","Forecast"],"sleet-showers-night":["Weather & Environment icons","Forecast"],"sleet-showers-night-colour":["Weather & Environment icons","Forecast"],"sleet-showers-polartwilight":["Weather & Environment icons","Forecast"],"sleet-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],sleeth:["Weather & Environment icons","Forecast"],"sleeth-colour":["Weather & Environment icons","Forecast"],"slightlycloudy-day":["Weather & Environment icons","Forecast"],"slightlycloudy-day-colour":["Weather & Environment icons","Forecast"],"slightlycloudy-night":["Weather & Environment icons","Forecast"],"slightlycloudy-night-colour":["Weather & Environment icons","Forecast"],"slightlycloudy-polartwilight":["Weather & Environment icons","Forecast"],"slightlycloudy-polartwilight-colour":["Weather & Environment icons","Forecast"],snow:["Weather & Environment icons","Forecast"],"snow-colour":["Weather & Environment icons","Forecast"],"snow-showers-day":["Weather & Environment icons","Forecast"],"snow-showers-day-colour":["Weather & Environment icons","Forecast"],"snow-showers-night":["Weather & Environment icons","Forecast"],"snow-showers-night-colour":["Weather & Environment icons","Forecast"],"snow-showers-polartwilight":["Weather & Environment icons","Forecast"],"snow-showers-polartwilight-colour":["Weather & Environment icons","Forecast"],sog:["Maritime icons","Navigation and operation"],"sort-google":["UI icons","General"],sound:["UI icons","Systems and devices"],"sound-fill":["UI icons","Systems and devices"],"sound-low":["UI icons","Systems and devices"],"sound-low-fill":["UI icons","Systems and devices"],"sound-muted":["UI icons","Systems and devices"],"sound-muted-fill":["UI icons","Systems and devices"],"sound-no":["UI icons","Systems and devices"],"sound-no-fill":["UI icons","Systems and devices"],"sound-unavailable":["UI icons","Systems and devices"],"sound-unavailable-fill":["UI icons","Systems and devices"],"sources-01":["Automation icons","Electricity"],"sources-01-off":["Automation icons","Electricity"],"sources-01-on":["Automation icons","Electricity"],"sources-02":["Automation icons","Electricity"],"sources-02-off":["Automation icons","Electricity"],"sources-02-on":["Automation icons","Electricity"],"sources-03":["Automation icons","Electricity"],"sources-03-off":["Automation icons","Electricity"],"sources-03-on":["Automation icons","Electricity"],"sources-04":["Automation icons","Electricity"],"sources-04-off":["Automation icons","Electricity"],"sources-04-on":["Automation icons","Electricity"],"sources-05":["Automation icons","Electricity"],"sources-05-off":["Automation icons","Electricity"],"sources-05-on":["Automation icons","Electricity"],speaker:["Automation icons","Electricity"],"speaker-off":["Automation icons","Electricity"],"speaker-on":["Automation icons","Electricity"],speed:["UI icons","Data and metrics"],"speed-good":["UI icons","Data and metrics"],"speed-high":["UI icons","Data and metrics"],"speed-low":["UI icons","Data and metrics"],"stabilisation-indicator-ground-iec":["Maritime icons","Chart targets"],"stabilisation-indicator-water-iec":["Maritime icons","Chart targets"],standby:["Automation icons","Automation system"],"standby-iec":["UI icons","General"],star:["UI icons","General"],"star-selected":["UI icons","General"],stopped:["Automation icons","Motors, pumps and fans"],stw:["Maritime icons","Navigation and operation"],"support-google":["UI icons","General"],surfing:["Maritime icons","Objects and equipment"],swell:["Weather & Environment icons","General"],swimming:["Maritime icons","Objects and equipment"],"switch-01-off":["Automation icons","Switches"],"switch-01-on":["Automation icons","Switches"],"switch-02-off":["Automation icons","Switches"],"switch-02-on":["Automation icons","Switches"],"switch-03-off":["Automation icons","Switches"],"switch-03-on":["Automation icons","Switches"],"switch-horizontal-off":["Automation icons","Switches"],"switch-horizontal-off-large":["Automation icons","Switches"],"switch-horizontal-on":["Automation icons","Switches"],"switch-horizontal-on-large":["Automation icons","Switches"],"sync-google":["UI icons","General"],system:["Automation icons","Automation system"],table:["UI icons","General"],tank:["Maritime icons","Objects and equipment"],"target-associated-ais-camera":["Maritime icons","Chart targets"],"target-associated-camera-radar":["Maritime icons","Chart targets"],"target-associated-radar-camera":["Maritime icons","Chart targets"],"target-camera":["Maritime icons","Chart targets"],"target-cancel-all-iec":["Maritime icons","Chart display"],"target-cancel-iec":["Maritime icons","Chart display"],"target-priority-ais-iec":["Maritime icons","Chart display"],"target-priority-radar-iec":["Maritime icons","Chart display"],"target-select-iec":["Maritime icons","Chart display"],"target-settings-proposal":["Maritime icons","Chart display"],"temp-cold":["Automation icons","Automation system"],"temp-hot":["Automation icons","Automation system"],"temp-hotcold":["Automation icons","Automation system"],temperature:["Weather & Environment icons","General"],"text-icon":["UI icons","General"],"threeway-acuator-generic-closed":["Automation icons","Valves "],"threeway-acuator-generic-closed-bottom":["Automation icons","Valves "],"threeway-acuator-generic-closed-left":["Automation icons","Valves "],"threeway-acuator-generic-closed-right":["Automation icons","Valves "],"threeway-acuator-generic-inleft-bottom-0":["Automation icons","Valves "],"threeway-acuator-generic-inleft-bottom-100":["Automation icons","Valves "],"threeway-acuator-generic-inleft-bottom-25":["Automation icons","Valves "],"threeway-acuator-generic-inleft-bottom-50":["Automation icons","Valves "],"threeway-acuator-generic-inleft-bottom-75":["Automation icons","Valves "],"threeway-acuator-generic-inleft-left-0":["Automation icons","Valves "],"threeway-acuator-generic-inleft-left-100":["Automation icons","Valves "],"threeway-acuator-generic-inleft-left-25":["Automation icons","Valves "],"threeway-acuator-generic-inleft-left-50":["Automation icons","Valves "],"threeway-acuator-generic-inleft-left-75":["Automation icons","Valves "],"threeway-acuator-generic-inleft-right-0":["Automation icons","Valves "],"threeway-acuator-generic-inleft-right-100":["Automation icons","Valves "],"threeway-acuator-generic-inleft-right-25":["Automation icons","Valves "],"threeway-acuator-generic-inleft-right-50":["Automation icons","Valves "],"threeway-acuator-generic-inleft-right-75":["Automation icons","Valves "],"threeway-acuator-generic-open":["Automation icons","Valves "],"threeway-acuator-piston-closed":["Automation icons","Valves "],"threeway-acuator-piston-closed-bottom":["Automation icons","Valves "],"threeway-acuator-piston-closed-left":["Automation icons","Valves "],"threeway-acuator-piston-closed-right":["Automation icons","Valves "],"threeway-acuator-piston-inleft-bottom-0":["Automation icons","Valves "],"threeway-acuator-piston-inleft-bottom-100":["Automation icons","Valves "],"threeway-acuator-piston-inleft-bottom-25":["Automation icons","Valves "],"threeway-acuator-piston-inleft-bottom-50":["Automation icons","Valves "],"threeway-acuator-piston-inleft-bottom-75":["Automation icons","Valves "],"threeway-acuator-piston-inleft-left-0":["Automation icons","Valves "],"threeway-acuator-piston-inleft-left-100":["Automation icons","Valves "],"threeway-acuator-piston-inleft-left-25":["Automation icons","Valves "],"threeway-acuator-piston-inleft-left-50":["Automation icons","Valves "],"threeway-acuator-piston-inleft-left-75":["Automation icons","Valves "],"threeway-acuator-piston-inleft-right-0":["Automation icons","Valves "],"threeway-acuator-piston-inleft-right-100":["Automation icons","Valves "],"threeway-acuator-piston-inleft-right-25":["Automation icons","Valves "],"threeway-acuator-piston-inleft-right-50":["Automation icons","Valves "],"threeway-acuator-piston-inleft-right-75":["Automation icons","Valves "],"threeway-acuator-piston-open":["Automation icons","Valves "],"threeway-analog-closed":["Automation icons","Valves "],"threeway-analog-inleft-bottom-0":["Automation icons","Valves "],"threeway-analog-inleft-bottom-100":["Automation icons","Valves "],"threeway-analog-inleft-bottom-25":["Automation icons","Valves "],"threeway-analog-inleft-bottom-50":["Automation icons","Valves "],"threeway-analog-inleft-bottom-75":["Automation icons","Valves "],"threeway-analog-inleft-left-0":["Automation icons","Valves "],"threeway-analog-inleft-left-100":["Automation icons","Valves "],"threeway-analog-inleft-left-25":["Automation icons","Valves "],"threeway-analog-inleft-left-50":["Automation icons","Valves "],"threeway-analog-inleft-left-75":["Automation icons","Valves "],"threeway-analog-inleft-right-0":["Automation icons","Valves "],"threeway-analog-inleft-right-100":["Automation icons","Valves "],"threeway-analog-inleft-right-25":["Automation icons","Valves "],"threeway-analog-inleft-right-50":["Automation icons","Valves "],"threeway-analog-inleft-right-75":["Automation icons","Valves "],"threeway-digital-closed":["Automation icons","Valves "],"threeway-digital-closed-bottom":["Automation icons","Valves "],"threeway-digital-closed-left":["Automation icons","Valves "],"threeway-digital-closed-right":["Automation icons","Valves "],"threeway-digital-open":["Automation icons","Valves "],"threeway-digital-static":["Automation icons","Valves "],"threeway-stacked-closed":["Automation icons","Valves "],"threeway-stacked-closed-bottom":["Automation icons","Valves "],"threeway-stacked-closed-left":["Automation icons","Valves "],"threeway-stacked-closed-right":["Automation icons","Valves "],"threeway-stacked-inleft-bottom-0":["Automation icons","Valves "],"threeway-stacked-inleft-bottom-100":["Automation icons","Valves "],"threeway-stacked-inleft-bottom-25":["Automation icons","Valves "],"threeway-stacked-inleft-bottom-50":["Automation icons","Valves "],"threeway-stacked-inleft-bottom-75":["Automation icons","Valves "],"threeway-stacked-inleft-left-0":["Automation icons","Valves "],"threeway-stacked-inleft-left-100":["Automation icons","Valves "],"threeway-stacked-inleft-left-25":["Automation icons","Valves "],"threeway-stacked-inleft-left-50":["Automation icons","Valves "],"threeway-stacked-inleft-left-75":["Automation icons","Valves "],"threeway-stacked-inleft-right-0":["Automation icons","Valves "],"threeway-stacked-inleft-right-100":["Automation icons","Valves "],"threeway-stacked-inleft-right-25":["Automation icons","Valves "],"threeway-stacked-inleft-right-50":["Automation icons","Valves "],"threeway-stacked-inleft-right-75":["Automation icons","Valves "],"threeway-stacked-open":["Automation icons","Valves "],"tidal-iec":["Maritime icons","Chart targets"],tide:["Weather & Environment icons","General"],"tide-high":["Weather & Environment icons","General"],"tide-low":["Weather & Environment icons","General"],"time-google":["UI icons","General"],"time-less":["UI icons","Data and metrics"],"time-more":["UI icons","Data and metrics"],"track-no":["Maritime icons","Navigation and operation"],"track-off-port":["Maritime icons","Navigation and operation"],"track-off-strb":["Maritime icons","Navigation and operation"],"track-on":["Maritime icons","Navigation and operation"],"transformer-01":["Automation icons","Electricity"],"transformer-01-off":["Automation icons","Electricity"],"transformer-01-on":["Automation icons","Electricity"],"transformer-02":["Automation icons","Electricity"],"transformer-02-off":["Automation icons","Electricity"],"transformer-02-on":["Automation icons","Electricity"],trend:["UI icons","Data and metrics"],"trend-down":["UI icons","Data and metrics"],"trend-up":["UI icons","Data and metrics"],"trial-settings-proposal":["Maritime icons","Chart display"],trophy:["UI icons","Data and metrics"],"true-relative-vector-iec":["Maritime icons","Chart display"],"true-relative-vector-proposal":["Maritime icons","Chart display"],turn:["Maritime icons","Navigation and operation"],"twoway-acuator-general-10":["Automation icons","Valves "],"twoway-acuator-general-25":["Automation icons","Valves "],"twoway-acuator-general-50":["Automation icons","Valves "],"twoway-acuator-general-75":["Automation icons","Valves "],"twoway-acuator-general-closed":["Automation icons","Valves "],"twoway-acuator-general-closed-left":["Automation icons","Valves "],"twoway-acuator-general-closed-right":["Automation icons","Valves "],"twoway-acuator-general-open":["Automation icons","Valves "],"twoway-acuator-piston-10":["Automation icons","Valves "],"twoway-acuator-piston-25":["Automation icons","Valves "],"twoway-acuator-piston-50":["Automation icons","Valves "],"twoway-acuator-piston-75":["Automation icons","Valves "],"twoway-acuator-piston-closed":["Automation icons","Valves "],"twoway-acuator-piston-closed-left":["Automation icons","Valves "],"twoway-acuator-piston-closed-right":["Automation icons","Valves "],"twoway-acuator-piston-open":["Automation icons","Valves "],"twoway-analog-10":["Automation icons","Valves "],"twoway-analog-25":["Automation icons","Valves "],"twoway-analog-50":["Automation icons","Valves "],"twoway-analog-75":["Automation icons","Valves "],"twoway-analog-closed":["Automation icons","Valves "],"twoway-analog-open":["Automation icons","Valves "],"twoway-digital-closed":["Automation icons","Valves "],"twoway-digital-non-return":["Automation icons","Valves "],"twoway-digital-open":["Automation icons","Valves "],"twoway-digital-static":["Automation icons","Valves "],"twoway-stacked-10":["Automation icons","Valves "],"twoway-stacked-25":["Automation icons","Valves "],"twoway-stacked-50":["Automation icons","Valves "],"twoway-stacked-75":["Automation icons","Valves "],"twoway-stacked-closed":["Automation icons","Valves "],"twoway-stacked-closed-left":["Automation icons","Valves "],"twoway-stacked-closed-right":["Automation icons","Valves "],"twoway-stacked-open":["Automation icons","Valves "],unacknowledged:["Alert icons","General alerts"],"unacknowledged-fill":["Alert icons","General alerts"],underwaysailing:["Maritime icons","Navigation and operation"],underwayusingengine:["Maritime icons","Navigation and operation"],"undo-iec":["UI icons","General"],"unfold-less-google":["UI icons","General"],"unfold-more-google":["UI icons","General"],unknownobject:["Maritime icons","Objects and equipment"],"up-iec":["UI icons","General"],usb:["UI icons","Systems and devices"],"usb-stick":["UI icons","Systems and devices"],user:["Maritime icons","Command and users"],"user-google":["Maritime icons","Command and users"],"user-profiles":["Maritime icons","Command and users"],"user-settings":["Maritime icons","Command and users"],"view-gallery-google":["UI icons","General"],"view-single-google":["UI icons","General"],"visibility-off-google":["UI icons","General"],"visibility-on-google":["UI icons","General"],volume:["Automation icons","Electricity"],"volume-off":["Automation icons","Electricity"],"volume-on":["Automation icons","Electricity"],voyages:["Maritime icons","Navigation and operation"],"warning-acknowledged-iec":["Alert icons","General alerts"],"warning-badge":["Alert icons","Additional alert icons"],"warning-badge-outline":["Alert icons","Additional alert icons"],"warning-empty":["Alert icons","Additional alert icons"],"warning-google":["Alert icons","Additional alert icons"],"warning-noack-iec":["Alert icons","General alerts"],"warning-rectified-iec":["Alert icons","General alerts"],"warning-rectified-outlined":["Alert icons","General alerts"],"warning-silenced-iec":["Alert icons","General alerts"],"warning-silenced-outlined":["Alert icons","General alerts"],"warning-transferred-iec":["Alert icons","General alerts"],"warning-unacknowledged-iec":["Alert icons","General alerts"],"warning-unacknowledged-outlined":["Alert icons","General alerts"],wave:["Weather & Environment icons","General"],"waypoint-active-iec":["Maritime icons","Chart targets"],"waypoint-add-iec":["Maritime icons","Chart display"],"waypoint-delete-iec":["Maritime icons","Chart display"],"waypoint-edit-iec":["Maritime icons","Chart display"],"waypoint-next-iec":["Maritime icons","Chart targets"],"waypoint-optional-iec":["Maritime icons","Chart targets"],weather:["Weather & Environment icons","General"],whale:["Maritime icons","Objects and equipment"],"widget-add-google":["UI icons","General"],"wifi-bad-google":["UI icons","Systems and devices"],"wifi-off-google":["UI icons","Systems and devices"],"wifi2-google":["UI icons","Systems and devices"],"wifi2-off-google":["UI icons","Systems and devices"],"wifistrengt-0-google":["UI icons","Systems and devices"],"wifistrengt-1-google":["UI icons","Systems and devices"],"wifistrengt-2-google":["UI icons","Systems and devices"],"wifistrengt-3-google":["UI icons","Systems and devices"],"wifistrengt-4-google":["UI icons","Systems and devices"],winch:["Maritime icons","Objects and equipment"],wind:["Weather & Environment icons","General"],"wind-1":["Weather & Environment icons","General"],"wind-10":["Weather & Environment icons","General"],"wind-11":["Weather & Environment icons","General"],"wind-12":["Weather & Environment icons","General"],"wind-13":["Weather & Environment icons","General"],"wind-2":["Weather & Environment icons","General"],"wind-3":["Weather & Environment icons","General"],"wind-4":["Weather & Environment icons","General"],"wind-5":["Weather & Environment icons","General"],"wind-6":["Weather & Environment icons","General"],"wind-7":["Weather & Environment icons","General"],"wind-8":["Weather & Environment icons","General"],"wind-9":["Weather & Environment icons","General"],"wind-turbine-land":["Maritime icons","Objects and equipment"],"wind-turbine-ocean":["Maritime icons","Objects and equipment"],wiper:["Maritime icons","Objects and equipment"],"wiper-fluid":["Maritime icons","Objects and equipment"],wipers:["Application icons","Applications"],"wire-coming-from":["Automation icons","Pipes, wires, lines and ducts"],"wire-corner":["Automation icons","Pipes, wires, lines and ducts"],"wire-cross":["Automation icons","Pipes, wires, lines and ducts"],"wire-direction":["Automation icons","Pipes, wires, lines and ducts"],"wire-end-point":["Automation icons","Pipes, wires, lines and ducts"],"wire-going-to":["Automation icons","Pipes, wires, lines and ducts"],"wire-overlap":["Automation icons","Pipes, wires, lines and ducts"],"wire-straight":["Automation icons","Pipes, wires, lines and ducts"],"wire-threeway":["Automation icons","Pipes, wires, lines and ducts"],wrench:["UI icons","General"],yaw:["Maritime icons","Navigation and operation"]},ZX=Ne({__name:"ObcToggleButtonGroup",props:{hasLabels:{type:Boolean},value:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-toggle-button-group",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),e1=Ne({__name:"ObcToggleButtonOption",props:{value:{},selected:{type:Boolean}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-toggle-button-option",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),WX=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
.wrapper {
  position: relative;
  padding: 0;
  background: transparent;
  width: fit-content;
  height: 48px;
  appearance: none;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  font-feature-settings: 'liga' off, 'clig' off;
  font-family: var(--font-family-main);
  font-size: var(--global-typography-ui-button-font-size);
  font-style: normal;
  font-weight: var(--global-typography-ui-button-font-weight);
  line-height: var(--global-typography-ui-button-line-height);
}
.wrapper.full-width {
    width: 100%;
  }
.wrapper.full-width .visible-wrapper {
      width: 100%;
      justify-content: space-between;
    }
.wrapper .visible-wrapper {
    height: 32px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-left: 8px;
    padding-right: 4px;
  }
.wrapper.visible-wrapper {
    padding-left: 20px;
    padding-right: 20px;
  }
.wrapper .icon {
    height: 24px;
    width: 24px;
  }
.wrapper .label {
    padding-left: 8px;
    padding-right: 8px;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
.wrapper {
            cursor: pointer;
}
.wrapper:focus {
            outline: none;
}
.wrapper.activated .visible-wrapper {
            border-color: var(--normal-activated-border-color);
            background-color: var(--normal-activated-background-color);
}
.wrapper .visible-wrapper {
            border-color: var(--normal-enabled-border-color);
            background-color: var(--normal-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}
@media (hover:hover) {
            .wrapper:hover .visible-wrapper {
                        border-color: var(--normal-hover-border-color);
                        background-color: var(--normal-hover-background-color);
            }
}
.wrapper:active .visible-wrapper {
            border-color: var(--normal-pressed-border-color);
            background-color: var(--normal-pressed-background-color);
}
.wrapper:focus-visible .visible-wrapper {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}
.wrapper:disabled .visible-wrapper {
            border-color: var(--normal-disabled-border-color);
            background-color: var(--normal-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-normal-disabled-color);
}
.wrapper {
  color: var(--on-normal-active-color);
}
.wrapper .icon {
    color: var(--on-normal-neutral-color);
  }
.wrapper:disabled .icon {
    color: var(--on-normal-disabled-color);
  }
.wrapper select {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    appearance: none;
    opacity: 0;
  }
`;var KX=Object.defineProperty,qX=Object.getOwnPropertyDescriptor,QS=(r,e,t,i)=>{for(var n=i>1?void 0:i?qX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&KX(e,t,n),n};let dg=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M8.9313 10C8.32548 10 8.02257 10 7.88231 10.1198C7.76061 10.2237 7.69602 10.3797 7.70858 10.5392C7.72305 10.7231 7.93724 10.9373 8.36561 11.3657L11.4342 14.4343C11.6323 14.6323 11.7313 14.7313 11.8454 14.7684C11.9458 14.8011 12.054 14.8011 12.1544 14.7684C12.2686 14.7313 12.3676 14.6323 12.5656 14.4343L15.6342 11.3657C16.0626 10.9373 16.2768 10.7231 16.2913 10.5392C16.3038 10.3797 16.2392 10.2237 16.1175 10.1198C15.9773 10 15.6744 10 15.0686 10H8.9313Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.9313 10C8.32548 10 8.02257 10 7.88231 10.1198C7.76061 10.2237 7.69602 10.3797 7.70858 10.5392C7.72305 10.7231 7.93724 10.9373 8.36561 11.3657L11.4342 14.4343C11.6323 14.6323 11.7313 14.7313 11.8454 14.7684C11.9458 14.8011 12.054 14.8011 12.1544 14.7684C12.2686 14.7313 12.3676 14.6323 12.5656 14.4343L15.6342 11.3657C16.0626 10.9373 16.2768 10.7231 16.2913 10.5392C16.3038 10.3797 16.2392 10.2237 16.1175 10.1198C15.9773 10 15.6744 10 15.0686 10H8.9313Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};dg.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;QS([M({type:Boolean})],dg.prototype,"useCssColor",2);dg=QS([ie("obi-drop-down-google")],dg);var YX=Object.defineProperty,XX=Object.getOwnPropertyDescriptor,Cu=(r,e,t,i)=>{for(var n=i>1?void 0:i?XX(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&YX(e,t,n),n};let ua=class extends ee{constructor(){super(...arguments),this.options=[],this.fullWidth=!1,this.selectedValue="",this.selectedLabel=""}connectedCallback(){super.connectedCallback(),this.selectedValue=this.value||this.options[0].value,this.selectedLabel=this.value?this.options.find(r=>r.value===this.value).label:this.options[0].label}render(){return F`
      <div class=${ti({wrapper:!0,"full-width":this.fullWidth})}>
        <div class="visible-wrapper">
          <div class="label">${this.selectedLabel}</div>
          <div class="icon">
            <obi-drop-down-google></obi-drop-down-google>
          </div>
        </div>
        <select @change=${this.changeHandler}>
          ${this.options.map(r=>{const e=r.level?(r.level-1)*2:0,t=[];for(let i=0;i<e;i++)t.push(F`&nbsp;`);return F`<option value=${r.value}>
              ${t}${r.label}
            </option>`})}
        </select>
      </div>
    `}changeHandler(r){const e=r.target;this.selectedValue=e.value,this.selectedLabel=this.options.find(t=>t.value===this.selectedValue).label.trim(),this.dispatchEvent(new CustomEvent("change",{detail:{value:this.selectedValue,label:this.selectedLabel}}))}};ua.styles=ot(WX);Cu([M({type:Array})],ua.prototype,"options",2);Cu([M({type:String})],ua.prototype,"value",2);Cu([M({type:Boolean})],ua.prototype,"fullWidth",2);Cu([ba()],ua.prototype,"selectedValue",2);Cu([ba()],ua.prototype,"selectedLabel",2);ua=Cu([ie("obc-select")],ua);const QX=Ne({__name:"ObcSelect",props:{options:{},value:{},fullWidth:{type:Boolean}},emits:["change"],setup(r,{emit:e}){const t=r,i=At({}),n={created(c){for(const u in t)i[u]=c[u]}};let s=!1;const o=e,a=mt(),l=()=>{const c={onChange:u=>o("change",u)};for(const u in t){const h=t[u];(h!==void 0||s)&&(c[u]=h??i[u])}return s=!0,lt("obc-select",c,vt(a))};return(c,u)=>Ft((G(),Re(l,null,null,512)),[[n]])}}),JX={class:"top"},eQ={class:"container"},tQ={class:"input-form card"},iQ={class:"container result"},rQ={class:"info-container"},nQ={class:"font-ui-title color-element-neutral title"},sQ={class:"font-ui-subtitle color-element-neutral subtitle"},oQ={class:"icon-list"},aQ=["innerHTML"],lQ={class:"color-element-neutral icon-description"},cQ=Ne({__name:"IconList",setup(r){const e=je(""),t=Gc(),i=je(!1),n=je(null);function s(f){if(e.value=f.target.value,!i.value&&n.value){i.value=!0;const g=n.value.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:g-180,behavior:"smooth"})}}function o(f){t.setPalette(f.detail.value)}const a={"UI icons":["Communication and media","Data and metrics","General","Systems and devices"],"Alert icons":["General alerts","Additional alert icons","Alerts"],"Application icons":["Applications"],"Maritime icons":["Targets","Chart display","Navigation and operation","Objects and equipment","Paper chart symbols","Command and users","Chart targets"],"Weather & Environment icons":["Forecast","General"],"Automation icons":["Automation system","Electricity","Motors, pumps and fans","Pipes, wires, lines and ducts","Switches","Valves "],Cursors:["Cursors"]},l=je("All");function c(f){l.value=f.detail.value}const u=Xe(()=>[{label:"All categories",value:"All"},...Object.entries(a).flatMap(([f,g])=>g.length===1?[{label:f,value:f}]:[{label:f,value:f},...g.map(m=>({label:m,value:`${f}-${m}`,level:3}))]),{label:"IEC",value:"IEC"}]),h=je({});function d(){const f=Object.keys(N9).filter(v=>v.toLowerCase().includes(e.value.toLowerCase())).map(v=>({name:v,icon:H4(v,{useCssColor:!0})})),g={};for(const[v,y]of Object.entries(a)){g[v]={};for(const _ of y)g[v][_]=[]}for(const v of f){const y=N9[v.name];if(!y)continue;const[_,w]=y;try{g[_][w].push(v)}catch{console.error(`Error adding icon ${v.name} to group ${_} and subgroup ${w}`)}}const m=f.filter(v=>v.name.endsWith("iec"));g.IEC={IEC:m};for(const[v,y]of Object.entries(g)){for(const[_,w]of Object.entries(y))w.length===0&&delete g[v][_];Object.keys(g[v]).length===0&&delete g[v]}if(l.value!=="All"){const[v,y]=l.value.split("-");y?h.value={[v]:{[y]:g[v][y]}}:h.value={[v]:g[v]};return}h.value=g}return Cr([e,l],d,{immediate:!0}),(f,g)=>(G(),we("div",null,[Z("div",JX,[Z("div",eQ,[Z("div",tQ,[ue(BS,{placeholder:"Search for icons",class:"icon-search",claas:"icon-search",onInput:s},{default:J(()=>g[0]||(g[0]=[Z("obi-search",{slot:"icon"},null,-1)])),_:1}),ue(QX,{options:u.value,value:l.value,class:"icon-filter","full-width":"",onChange:c},null,8,["options","value"]),ue(ZX,{value:N(t).palette,class:"palette-toggle",onValue:o},{default:J(()=>[ue(e1,{value:"night"},{default:J(()=>g[1]||(g[1]=[Z("obi-palette-night",{slot:"icon"},null,-1)])),_:1}),ue(e1,{value:"dusk"},{default:J(()=>g[2]||(g[2]=[Z("obi-palette-dusk",{slot:"icon"},null,-1)])),_:1}),ue(e1,{value:"day"},{default:J(()=>g[3]||(g[3]=[Z("obi-palette-day",{slot:"icon"},null,-1)])),_:1}),ue(e1,{value:"bright"},{default:J(()=>g[4]||(g[4]=[Z("obi-palette-day-bright",{slot:"icon"},null,-1)])),_:1})]),_:1},8,["value"])])])]),Z("div",iQ,[Z("div",rQ,[ue(Li,{"has-trailing-icon":"",size:N(cr).MultiLine,class:"info-button",href:"https://github.com/Ocean-Industries-Concept-Lab/openbridge-webcomponents/releases/download/v0.0.15/OpenBidge.icons.zip"},{default:J(()=>g[5]||(g[5]=[Z("div",{slot:"label"},"Download all icons",-1),Z("span",{slot:"description"},"Download all icons as SVG files.",-1),Z("obi-file-download-google",{slot:"trailing-icon"},null,-1)])),_:1},8,["size"]),ue(Li,{class:"info-button","has-trailing-icon":"",size:N(cr).MultiLine,href:"https://www.figma.com/community/file/1445713209741917748/openbridge-icon-pack",target:"_top"},{default:J(()=>g[6]||(g[6]=[Z("div",{slot:"label"},"OpenBridge Figma",-1),Z("span",{slot:"description"},"Go to Openbridge Icons to access the icon library directly in figma",-1),Z("obi-chevron-right-google",{slot:"trailing-icon"},null,-1)])),_:1},8,["size"]),ue(Li,{class:"info-button","has-trailing-icon":"",size:N(cr).MultiLine,href:"https://github.com/Ocean-Industries-Concept-Lab/openbridge-webcomponents",target:"_top"},{default:J(()=>g[7]||(g[7]=[Z("div",{slot:"label"},"OpenBridge Github",-1),Z("span",{slot:"description"},"Go to Github to see the coded OpenBridge design system. ",-1),Z("obi-chevron-right-google",{slot:"trailing-icon"},null,-1)])),_:1},8,["size"])]),Z("div",{ref_key:"contentContainer",ref:n,class:"content-container"},[(G(!0),we(pt,null,Ws(h.value,(m,v)=>(G(),we("div",{key:v,class:"main-catergory"},[Z("div",nQ,Qt(v),1),(G(!0),we(pt,null,Ws(m,(y,_)=>(G(),we("div",{key:_,class:"sub-category"},[Z("div",sQ,Qt(_),1),Z("div",oQ,[(G(!0),we(pt,null,Ws(y,w=>(G(),we("div",{key:w.name,class:"icon-item font-ui-label"},[ue(K1,{class:"color-element-active icon",variant:N(Mh).flat,size:"large"},{default:J(()=>[Z("span",{innerHTML:w.icon},null,8,aQ)]),_:2},1032,["variant"]),Z("span",lQ,Qt(w.name),1)]))),128))])]))),128))]))),128))],512)])]))}}),uQ=En(cQ,[["__scopeId","data-v-f4f217f1"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function mf(r){return r+.5|0}const Vo=(r,e,t)=>Math.max(Math.min(r,t),e);function gh(r){return Vo(mf(r*2.55),0,255)}function Wo(r){return Vo(mf(r*255),0,255)}function Hs(r){return Vo(mf(r/2.55)/100,0,1)}function H9(r){return Vo(mf(r*100),0,100)}const cn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},W5=[..."0123456789ABCDEF"],hQ=r=>W5[r&15],dQ=r=>W5[(r&240)>>4]+W5[r&15],t1=r=>(r&240)>>4===(r&15),fQ=r=>t1(r.r)&&t1(r.g)&&t1(r.b)&&t1(r.a);function pQ(r){var e=r.length,t;return r[0]==="#"&&(e===4||e===5?t={r:255&cn[r[1]]*17,g:255&cn[r[2]]*17,b:255&cn[r[3]]*17,a:e===5?cn[r[4]]*17:255}:(e===7||e===9)&&(t={r:cn[r[1]]<<4|cn[r[2]],g:cn[r[3]]<<4|cn[r[4]],b:cn[r[5]]<<4|cn[r[6]],a:e===9?cn[r[7]]<<4|cn[r[8]]:255})),t}const gQ=(r,e)=>r<255?e(r):"";function mQ(r){var e=fQ(r)?hQ:dQ;return r?"#"+e(r.r)+e(r.g)+e(r.b)+gQ(r.a,e):void 0}const vQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JS(r,e,t){const i=e*Math.min(t,1-t),n=(s,o=(s+r/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function yQ(r,e,t){const i=(n,s=(n+r/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function bQ(r,e,t){const i=JS(r,1,.5);let n;for(e+t>1&&(n=1/(e+t),e*=n,t*=n),n=0;n<3;n++)i[n]*=1-e-t,i[n]+=e;return i}function _Q(r,e,t,i,n){return r===n?(e-t)/i+(e<t?6:0):e===n?(t-r)/i+2:(r-e)/i+4}function cb(r){const t=r.r/255,i=r.g/255,n=r.b/255,s=Math.max(t,i,n),o=Math.min(t,i,n),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=_Q(t,i,n,u,s),l=l*60+.5),[l|0,c||0,a]}function ub(r,e,t,i){return(Array.isArray(e)?r(e[0],e[1],e[2]):r(e,t,i)).map(Wo)}function hb(r,e,t){return ub(JS,r,e,t)}function wQ(r,e,t){return ub(bQ,r,e,t)}function CQ(r,e,t){return ub(yQ,r,e,t)}function eA(r){return(r%360+360)%360}function xQ(r){const e=vQ.exec(r);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?gh(+e[5]):Wo(+e[5]));const n=eA(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=wQ(n,s,o):e[1]==="hsv"?i=CQ(n,s,o):i=hb(n,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function EQ(r,e){var t=cb(r);t[0]=eA(t[0]+e),t=hb(t),r.r=t[0],r.g=t[1],r.b=t[2]}function TQ(r){if(!r)return;const e=cb(r),t=e[0],i=H9(e[1]),n=H9(e[2]);return r.a<255?`hsla(${t}, ${i}%, ${n}%, ${Hs(r.a)})`:`hsl(${t}, ${i}%, ${n}%)`}const U9={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},z9={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function LQ(){const r={},e=Object.keys(z9),t=Object.keys(U9);let i,n,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],n=0;n<t.length;n++)s=t[n],a=a.replace(s,U9[s]);s=parseInt(z9[o],16),r[a]=[s>>16&255,s>>8&255,s&255]}return r}let i1;function SQ(r){i1||(i1=LQ(),i1.transparent=[0,0,0,0]);const e=i1[r.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const AQ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kQ(r){const e=AQ.exec(r);let t=255,i,n,s;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?gh(o):Vo(o*255,0,255)}return i=+e[1],n=+e[3],s=+e[5],i=255&(e[2]?gh(i):Vo(i,0,255)),n=255&(e[4]?gh(n):Vo(n,0,255)),s=255&(e[6]?gh(s):Vo(s,0,255)),{r:i,g:n,b:s,a:t}}}function IQ(r){return r&&(r.a<255?`rgba(${r.r}, ${r.g}, ${r.b}, ${Hs(r.a)})`:`rgb(${r.r}, ${r.g}, ${r.b})`)}const Z2=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,zl=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function MQ(r,e,t){const i=zl(Hs(r.r)),n=zl(Hs(r.g)),s=zl(Hs(r.b));return{r:Wo(Z2(i+t*(zl(Hs(e.r))-i))),g:Wo(Z2(n+t*(zl(Hs(e.g))-n))),b:Wo(Z2(s+t*(zl(Hs(e.b))-s))),a:r.a+t*(e.a-r.a)}}function r1(r,e,t){if(r){let i=cb(r);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=hb(i),r.r=i[0],r.g=i[1],r.b=i[2]}}function tA(r,e){return r&&Object.assign(e||{},r)}function j9(r){var e={r:0,g:0,b:0,a:255};return Array.isArray(r)?r.length>=3&&(e={r:r[0],g:r[1],b:r[2],a:255},r.length>3&&(e.a=Wo(r[3]))):(e=tA(r,{r:0,g:0,b:0,a:1}),e.a=Wo(e.a)),e}function PQ(r){return r.charAt(0)==="r"?kQ(r):xQ(r)}class Hd{constructor(e){if(e instanceof Hd)return e;const t=typeof e;let i;t==="object"?i=j9(e):t==="string"&&(i=pQ(e)||SQ(e)||PQ(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=tA(this._rgb);return e&&(e.a=Hs(e.a)),e}set rgb(e){this._rgb=j9(e)}rgbString(){return this._valid?IQ(this._rgb):void 0}hexString(){return this._valid?mQ(this._rgb):void 0}hslString(){return this._valid?TQ(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,n=e.rgb;let s;const o=t===s?.5:t,a=2*o-1,l=i.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*n.r+.5,i.g=255&c*i.g+s*n.g+.5,i.b=255&c*i.b+s*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=MQ(this._rgb,e._rgb,t)),this}clone(){return new Hd(this.rgb)}alpha(e){return this._rgb.a=Wo(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=mf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return r1(this._rgb,2,e),this}darken(e){return r1(this._rgb,2,-e),this}saturate(e){return r1(this._rgb,1,e),this}desaturate(e){return r1(this._rgb,1,-e),this}rotate(e){return EQ(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ks(){}const RQ=(()=>{let r=0;return()=>r++})();function Zt(r){return r==null}function qt(r){if(Array.isArray&&Array.isArray(r))return!0;const e=Object.prototype.toString.call(r);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ut(r){return r!==null&&Object.prototype.toString.call(r)==="[object Object]"}function Ni(r){return(typeof r=="number"||r instanceof Number)&&isFinite(+r)}function jn(r,e){return Ni(r)?r:e}function Lt(r,e){return typeof r>"u"?e:r}const DQ=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100:+r/e,iA=(r,e)=>typeof r=="string"&&r.endsWith("%")?parseFloat(r)/100*e:+r;function Xt(r,e,t){if(r&&typeof r.call=="function")return r.apply(t,e)}function Nt(r,e,t,i){let n,s,o;if(qt(r))for(s=r.length,n=0;n<s;n++)e.call(t,r[n],n);else if(ut(r))for(o=Object.keys(r),s=o.length,n=0;n<s;n++)e.call(t,r[o[n]],o[n])}function fg(r,e){let t,i,n,s;if(!r||!e||r.length!==e.length)return!1;for(t=0,i=r.length;t<i;++t)if(n=r[t],s=e[t],n.datasetIndex!==s.datasetIndex||n.index!==s.index)return!1;return!0}function pg(r){if(qt(r))return r.map(pg);if(ut(r)){const e=Object.create(null),t=Object.keys(r),i=t.length;let n=0;for(;n<i;++n)e[t[n]]=pg(r[t[n]]);return e}return r}function rA(r){return["__proto__","prototype","constructor"].indexOf(r)===-1}function OQ(r,e,t,i){if(!rA(r))return;const n=e[r],s=t[r];ut(n)&&ut(s)?Ud(n,s,i):e[r]=pg(s)}function Ud(r,e,t){const i=qt(e)?e:[e],n=i.length;if(!ut(r))return r;t=t||{};const s=t.merger||OQ;let o;for(let a=0;a<n;++a){if(o=i[a],!ut(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],r,o,t)}return r}function Nh(r,e){return Ud(r,e,{merger:$Q})}function $Q(r,e,t){if(!rA(r))return;const i=e[r],n=t[r];ut(i)&&ut(n)?Nh(i,n):Object.prototype.hasOwnProperty.call(e,r)||(e[r]=pg(n))}const G9={"":r=>r,x:r=>r.x,y:r=>r.y};function VQ(r){const e=r.split("."),t=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function FQ(r){const e=VQ(r);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function zd(r,e){return(G9[e]||(G9[e]=FQ(e)))(r)}function db(r){return r.charAt(0).toUpperCase()+r.slice(1)}const Nr=r=>typeof r<"u",Or=r=>typeof r=="function",Z9=(r,e)=>{if(r.size!==e.size)return!1;for(const t of r)if(!e.has(t))return!1;return!0};function BQ(r){return r.type==="mouseup"||r.type==="click"||r.type==="contextmenu"}const Pt=Math.PI,Wi=2*Pt,NQ=Wi+Pt,gg=Number.POSITIVE_INFINITY,fb=Pt/180,Ki=Pt/2,fn=Pt/4,mg=Pt*2/3,nA=Math.log10,ru=Math.sign;function Hh(r,e,t){return Math.abs(r-e)<t}function W9(r){const e=Math.round(r);r=Hh(r,e,r/1e3)?e:r;const t=Math.pow(10,Math.floor(nA(r))),i=r/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function HQ(r){const e=[],t=Math.sqrt(r);let i;for(i=1;i<t;i++)r%i===0&&(e.push(i),e.push(r/i));return t===(t|0)&&e.push(t),e.sort((n,s)=>n-s).pop(),e}function UQ(r){return typeof r=="symbol"||typeof r=="object"&&r!==null&&!(Symbol.toPrimitive in r||"toString"in r||"valueOf"in r)}function ha(r){return!UQ(r)&&!isNaN(parseFloat(r))&&isFinite(r)}function zQ(r,e){const t=Math.round(r);return t-e<=r&&t+e>=r}function jQ(r,e,t){let i,n,s;for(i=0,n=r.length;i<n;i++)s=r[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Vi(r){return r*(Pt/180)}function sA(r){return r*(180/Pt)}function K9(r){if(!Ni(r))return;let e=1,t=0;for(;Math.round(r*e)/e!==r;)e*=10,t++;return t}function K5(r,e){const t=e.x-r.x,i=e.y-r.y,n=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*Pt&&(s+=Wi),{angle:s,distance:n}}function nu(r,e){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function GQ(r,e){return(r-e+NQ)%Wi-Pt}function es(r){return(r%Wi+Wi)%Wi}function vg(r,e,t,i){const n=es(r),s=es(e),o=es(t),a=es(s-n),l=es(o-n),c=es(n-s),u=es(n-o);return n===s||n===o||i&&s===o||a>l&&c<u}function vn(r,e,t){return Math.max(e,Math.min(t,r))}function ZQ(r){return vn(r,-32768,32767)}function oA(r,e,t,i=1e-6){return r>=Math.min(e,t)-i&&r<=Math.max(e,t)+i}function pb(r,e,t){t=t||(o=>r[o]<e);let i=r.length-1,n=0,s;for(;i-n>1;)s=n+i>>1,t(s)?n=s:i=s;return{lo:n,hi:i}}const Wa=(r,e,t,i)=>pb(r,t,i?n=>{const s=r[n][e];return s<t||s===t&&r[n+1][e]===t}:n=>r[n][e]<t),WQ=(r,e,t)=>pb(r,t,i=>r[i][e]>=t);function KQ(r,e,t){let i=0,n=r.length;for(;i<n&&r[i]<e;)i++;for(;n>i&&r[n-1]>t;)n--;return i>0||n<r.length?r.slice(i,n):r}const aA=["push","pop","shift","splice","unshift"];function qQ(r,e){if(r._chartjs){r._chartjs.listeners.push(e);return}Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),aA.forEach(t=>{const i="_onData"+db(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(...s){const o=n.apply(this,s);return r._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function q9(r,e){const t=r._chartjs;if(!t)return;const i=t.listeners,n=i.indexOf(e);n!==-1&&i.splice(n,1),!(i.length>0)&&(aA.forEach(s=>{delete r[s]}),delete r._chartjs)}function YQ(r){const e=new Set(r);return e.size===r.length?r:Array.from(e)}const lA=function(){return typeof window>"u"?function(r){return r()}:window.requestAnimationFrame}();function cA(r,e){let t=[],i=!1;return function(...n){t=n,i||(i=!0,lA.call(window,()=>{i=!1,r.apply(e,t)}))}}function XQ(r,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(r,e,i)):r.apply(this,i),e}}const uA=r=>r==="start"?"left":r==="end"?"right":"center",Uh=(r,e,t)=>r==="start"?e:r==="end"?t:(e+t)/2;function QQ(r,e,t){const i=e.length;let n=0,s=i;if(r._sorted){const{iScale:o,vScale:a,_parsed:l}=r,c=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null,u=o.axis,{min:h,max:d,minDefined:f,maxDefined:g}=o.getUserBounds();if(f){if(n=Math.min(Wa(l,u,h).lo,t?i:Wa(e,u,o.getPixelForValue(h)).lo),c){const m=l.slice(0,n+1).reverse().findIndex(v=>!Zt(v[a.axis]));n-=Math.max(0,m)}n=vn(n,0,i-1)}if(g){let m=Math.max(Wa(l,o.axis,d,!0).hi+1,t?0:Wa(e,u,o.getPixelForValue(d),!0).hi+1);if(c){const v=l.slice(m-1).findIndex(y=>!Zt(y[a.axis]));m+=Math.max(0,v)}s=vn(m,n,i)-n}else s=i-n}return{start:n,count:s}}function JQ(r){const{xScale:e,yScale:t,_scaleRanges:i}=r,n={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return r._scaleRanges=n,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,n),s}const n1=r=>r===0||r===1,Y9=(r,e,t)=>-(Math.pow(2,10*(r-=1))*Math.sin((r-e)*Wi/t)),X9=(r,e,t)=>Math.pow(2,-10*r)*Math.sin((r-e)*Wi/t)+1,zh={linear:r=>r,easeInQuad:r=>r*r,easeOutQuad:r=>-r*(r-2),easeInOutQuad:r=>(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1),easeInCubic:r=>r*r*r,easeOutCubic:r=>(r-=1)*r*r+1,easeInOutCubic:r=>(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2),easeInQuart:r=>r*r*r*r,easeOutQuart:r=>-((r-=1)*r*r*r-1),easeInOutQuart:r=>(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2),easeInQuint:r=>r*r*r*r*r,easeOutQuint:r=>(r-=1)*r*r*r*r+1,easeInOutQuint:r=>(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2),easeInSine:r=>-Math.cos(r*Ki)+1,easeOutSine:r=>Math.sin(r*Ki),easeInOutSine:r=>-.5*(Math.cos(Pt*r)-1),easeInExpo:r=>r===0?0:Math.pow(2,10*(r-1)),easeOutExpo:r=>r===1?1:-Math.pow(2,-10*r)+1,easeInOutExpo:r=>n1(r)?r:r<.5?.5*Math.pow(2,10*(r*2-1)):.5*(-Math.pow(2,-10*(r*2-1))+2),easeInCirc:r=>r>=1?r:-(Math.sqrt(1-r*r)-1),easeOutCirc:r=>Math.sqrt(1-(r-=1)*r),easeInOutCirc:r=>(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1),easeInElastic:r=>n1(r)?r:Y9(r,.075,.3),easeOutElastic:r=>n1(r)?r:X9(r,.075,.3),easeInOutElastic(r){return n1(r)?r:r<.5?.5*Y9(r*2,.1125,.45):.5+.5*X9(r*2-1,.1125,.45)},easeInBack(r){return r*r*((1.70158+1)*r-1.70158)},easeOutBack(r){return(r-=1)*r*((1.70158+1)*r+1.70158)+1},easeInOutBack(r){let e=1.70158;return(r/=.5)<1?.5*(r*r*(((e*=1.525)+1)*r-e)):.5*((r-=2)*r*(((e*=1.525)+1)*r+e)+2)},easeInBounce:r=>1-zh.easeOutBounce(1-r),easeOutBounce(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:r=>r<.5?zh.easeInBounce(r*2)*.5:zh.easeOutBounce(r*2-1)*.5+.5};function gb(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function yg(r){return gb(r)?r:new Hd(r)}function W2(r){return gb(r)?r:new Hd(r).saturate(.5).darken(.1).hexString()}const eJ=["x","y","borderWidth","radius","tension"],tJ=["color","borderColor","backgroundColor"];function iJ(r){r.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),r.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),r.set("animations",{colors:{type:"color",properties:tJ},numbers:{type:"number",properties:eJ}}),r.describe("animations",{_fallback:"animation"}),r.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rJ(r){r.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Q9=new Map;function nJ(r,e){e=e||{};const t=r+JSON.stringify(e);let i=Q9.get(t);return i||(i=new Intl.NumberFormat(r,e),Q9.set(t,i)),i}function mb(r,e,t){return nJ(e,t).format(r)}const sJ={values(r){return qt(r)?r:""+r},numeric(r,e,t){if(r===0)return"0";const i=this.chart.options.locale;let n,s=r;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),s=oJ(r,t)}const o=nA(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),mb(r,i,l)}};function oJ(r,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&r!==Math.floor(r)&&(t=r-Math.floor(r)),t}var hA={formatters:sJ};function aJ(r){r.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),r.route("scale.ticks","color","","color"),r.route("scale.grid","color","","borderColor"),r.route("scale.border","color","","borderColor"),r.route("scale.title","color","","color"),r.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),r.describe("scales",{_fallback:"scale"}),r.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vl=Object.create(null),q5=Object.create(null);function jh(r,e){if(!e)return r;const t=e.split(".");for(let i=0,n=t.length;i<n;++i){const s=t[i];r=r[s]||(r[s]=Object.create(null))}return r}function K2(r,e,t){return typeof e=="string"?Ud(jh(r,e),t):Ud(jh(r,""),e)}class lJ{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>W2(n.backgroundColor),this.hoverBorderColor=(i,n)=>W2(n.borderColor),this.hoverColor=(i,n)=>W2(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return K2(this,e,t)}get(e){return jh(this,e)}describe(e,t){return K2(q5,e,t)}override(e,t){return K2(vl,e,t)}route(e,t,i,n){const s=jh(this,e),o=jh(this,i),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[n];return ut(l)?Object.assign({},c,l):Lt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var yi=new lJ({_scriptable:r=>!r.startsWith("on"),_indexable:r=>r!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iJ,rJ,aJ]);function cJ(r){return!r||Zt(r.size)||Zt(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}function J9(r,e,t,i,n){let s=e[n];return s||(s=e[n]=r.measureText(n).width,t.push(n)),s>i&&(i=s),i}function Ra(r,e,t){const i=r.currentDevicePixelRatio,n=t!==0?Math.max(t/2,.5):0;return Math.round((e-n)*i)/i+n}function e6(r,e){!e&&!r||(e=e||r.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,r.width,r.height),e.restore())}function Y5(r,e,t,i){uJ(r,e,t,i)}function uJ(r,e,t,i,n){let s,o,a,l,c,u,h,d;const f=e.pointStyle,g=e.rotation,m=e.radius;let v=(g||0)*fb;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){r.save(),r.translate(t,i),r.rotate(v),r.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),r.restore();return}if(!(isNaN(m)||m<=0)){switch(r.beginPath(),f){default:r.arc(t,i,m,0,Wi),r.closePath();break;case"triangle":u=m,r.moveTo(t+Math.sin(v)*u,i-Math.cos(v)*m),v+=mg,r.lineTo(t+Math.sin(v)*u,i-Math.cos(v)*m),v+=mg,r.lineTo(t+Math.sin(v)*u,i-Math.cos(v)*m),r.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(v+fn)*l,h=Math.cos(v+fn)*l,a=Math.sin(v+fn)*l,d=Math.sin(v+fn)*l,r.arc(t-h,i-a,c,v-Pt,v-Ki),r.arc(t+d,i-o,c,v-Ki,v),r.arc(t+h,i+a,c,v,v+Ki),r.arc(t-d,i+o,c,v+Ki,v+Pt),r.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=l,r.rect(t-u,i-l,2*u,2*l);break}v+=fn;case"rectRot":h=Math.cos(v)*m,o=Math.cos(v)*m,a=Math.sin(v)*m,d=Math.sin(v)*m,r.moveTo(t-h,i-a),r.lineTo(t+d,i-o),r.lineTo(t+h,i+a),r.lineTo(t-d,i+o),r.closePath();break;case"crossRot":v+=fn;case"cross":h=Math.cos(v)*m,o=Math.cos(v)*m,a=Math.sin(v)*m,d=Math.sin(v)*m,r.moveTo(t-h,i-a),r.lineTo(t+h,i+a),r.moveTo(t+d,i-o),r.lineTo(t-d,i+o);break;case"star":h=Math.cos(v)*m,o=Math.cos(v)*m,a=Math.sin(v)*m,d=Math.sin(v)*m,r.moveTo(t-h,i-a),r.lineTo(t+h,i+a),r.moveTo(t+d,i-o),r.lineTo(t-d,i+o),v+=fn,h=Math.cos(v)*m,o=Math.cos(v)*m,a=Math.sin(v)*m,d=Math.sin(v)*m,r.moveTo(t-h,i-a),r.lineTo(t+h,i+a),r.moveTo(t+d,i-o),r.lineTo(t-d,i+o);break;case"line":o=Math.cos(v)*m,a=Math.sin(v)*m,r.moveTo(t-o,i-a),r.lineTo(t+o,i+a);break;case"dash":r.moveTo(t,i),r.lineTo(t+Math.cos(v)*m,i+Math.sin(v)*m);break;case!1:r.closePath();break}r.fill(),e.borderWidth>0&&r.stroke()}}function jd(r,e,t){return t=t||.5,!e||r&&r.x>e.left-t&&r.x<e.right+t&&r.y>e.top-t&&r.y<e.bottom+t}function Lm(r,e){r.save(),r.beginPath(),r.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),r.clip()}function Sm(r){r.restore()}function hJ(r,e,t,i,n){if(!e)return r.lineTo(t.x,t.y);if(n==="middle"){const s=(e.x+t.x)/2;r.lineTo(s,e.y),r.lineTo(s,t.y)}else n==="after"!=!!i?r.lineTo(e.x,t.y):r.lineTo(t.x,e.y);r.lineTo(t.x,t.y)}function dJ(r,e,t,i){if(!e)return r.lineTo(t.x,t.y);r.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function fJ(r,e){e.translation&&r.translate(e.translation[0],e.translation[1]),Zt(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline)}function pJ(r,e,t,i,n){if(n.strikethrough||n.underline){const s=r.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=n.strikethrough?(l+c)/2:c;r.strokeStyle=r.fillStyle,r.beginPath(),r.lineWidth=n.decorationWidth||2,r.moveTo(o,u),r.lineTo(a,u),r.stroke()}}function gJ(r,e){const t=r.fillStyle;r.fillStyle=e.color,r.fillRect(e.left,e.top,e.width,e.height),r.fillStyle=t}function X5(r,e,t,i,n,s={}){const o=qt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(r.save(),r.font=n.string,fJ(r,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&gJ(r,s.backdrop),a&&(s.strokeColor&&(r.strokeStyle=s.strokeColor),Zt(s.strokeWidth)||(r.lineWidth=s.strokeWidth),r.strokeText(c,t,i,s.maxWidth)),r.fillText(c,t,i,s.maxWidth),pJ(r,t,i,c,s),i+=Number(n.lineHeight);r.restore()}function Q5(r,e){const{x:t,y:i,w:n,h:s,radius:o}=e;r.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Pt,Pt,!0),r.lineTo(t,i+s-o.bottomLeft),r.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Pt,Ki,!0),r.lineTo(t+n-o.bottomRight,i+s),r.arc(t+n-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ki,0,!0),r.lineTo(t+n,i+o.topRight),r.arc(t+n-o.topRight,i+o.topRight,o.topRight,0,-Ki,!0),r.lineTo(t+o.topLeft,i)}const mJ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vJ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yJ(r,e){const t=(""+r).match(mJ);if(!t||t[1]==="normal")return e*1.2;switch(r=+t[2],t[3]){case"px":return r;case"%":r/=100;break}return e*r}const bJ=r=>+r||0;function dA(r,e){const t={},i=ut(e),n=i?Object.keys(e):e,s=ut(r)?i?o=>Lt(r[o],r[e[o]]):o=>r[o]:()=>r;for(const o of n)t[o]=bJ(s(o));return t}function _J(r){return dA(r,{top:"y",right:"x",bottom:"y",left:"x"})}function Gh(r){return dA(r,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(r){const e=_J(r);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wr(r,e){r=r||{},e=e||yi.font;let t=Lt(r.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Lt(r.style,e.style);i&&!(""+i).match(vJ)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:Lt(r.family,e.family),lineHeight:yJ(Lt(r.lineHeight,e.lineHeight),t),size:t,style:i,weight:Lt(r.weight,e.weight),string:""};return n.string=cJ(n),n}function s1(r,e,t,i){let n,s,o;for(n=0,s=r.length;n<s;++n)if(o=r[n],o!==void 0&&o!==void 0)return o}function wJ(r,e,t){const{min:i,max:n}=r,s=iA(e,(n-i)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(n,s)}}function Ml(r,e){return Object.assign(Object.create(r),e)}function vb(r,e=[""],t,i,n=()=>r[0]){const s=t||r;typeof i>"u"&&(i=mA("_fallback",r));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:r,_rootScopes:s,_fallback:i,_getTarget:n,override:a=>vb([a,...r],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete r[0][l],!0},get(a,l){return pA(a,l,()=>kJ(l,e,r,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(r[0])},has(a,l){return i6(a).includes(l)},ownKeys(a){return i6(a)},set(a,l,c){const u=a._storage||(a._storage=n());return a[l]=u[l]=c,delete a._keys,!0}})}function su(r,e,t,i){const n={_cacheable:!1,_proxy:r,_context:e,_subProxy:t,_stack:new Set,_descriptors:fA(r,i),setContext:s=>su(r,s,t,i),override:s=>su(r.override(s),e,t,i)};return new Proxy(n,{deleteProperty(s,o){return delete s[o],delete r[o],!0},get(s,o,a){return pA(s,o,()=>xJ(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(r,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,o)},getPrototypeOf(){return Reflect.getPrototypeOf(r)},has(s,o){return Reflect.has(r,o)},ownKeys(){return Reflect.ownKeys(r)},set(s,o,a){return r[o]=a,delete s[o],!0}})}function fA(r,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=r;return{allKeys:n,scriptable:t,indexable:i,isScriptable:Or(t)?t:()=>t,isIndexable:Or(i)?i:()=>i}}const CJ=(r,e)=>r?r+db(e):e,yb=(r,e)=>ut(e)&&r!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function pA(r,e,t){if(Object.prototype.hasOwnProperty.call(r,e)||e==="constructor")return r[e];const i=t();return r[e]=i,i}function xJ(r,e,t){const{_proxy:i,_context:n,_subProxy:s,_descriptors:o}=r;let a=i[e];return Or(a)&&o.isScriptable(e)&&(a=EJ(e,a,r,t)),qt(a)&&a.length&&(a=TJ(e,a,r,o.isIndexable)),yb(e,a)&&(a=su(a,n,s&&s[e],o)),a}function EJ(r,e,t,i){const{_proxy:n,_context:s,_subProxy:o,_stack:a}=t;if(a.has(r))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+r);a.add(r);let l=e(s,o||i);return a.delete(r),yb(r,l)&&(l=bb(n._scopes,n,r,l)),l}function TJ(r,e,t,i){const{_proxy:n,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&i(r))return e[s.index%e.length];if(ut(e[0])){const l=e,c=n._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=bb(c,n,r,u);e.push(su(h,s,o&&o[r],a))}}return e}function gA(r,e,t){return Or(r)?r(e,t):r}const LJ=(r,e)=>r===!0?e:typeof r=="string"?zd(e,r):void 0;function SJ(r,e,t,i,n){for(const s of e){const o=LJ(t,s);if(o){r.add(o);const a=gA(o._fallback,t,n);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function bb(r,e,t,i){const n=e._rootScopes,s=gA(e._fallback,t,i),o=[...r,...n],a=new Set;a.add(i);let l=t6(a,o,t,s||t,i);return l===null||typeof s<"u"&&s!==t&&(l=t6(a,o,s,l,i),l===null)?!1:vb(Array.from(a),[""],n,s,()=>AJ(e,t,i))}function t6(r,e,t,i,n){for(;t;)t=SJ(r,e,t,i,n);return t}function AJ(r,e,t){const i=r._getTarget();e in i||(i[e]={});const n=i[e];return qt(n)&&ut(t)?t:n||{}}function kJ(r,e,t,i){let n;for(const s of e)if(n=mA(CJ(s,r),t),typeof n<"u")return yb(r,n)?bb(t,i,r,n):n}function mA(r,e){for(const t of e){if(!t)continue;const i=t[r];if(typeof i<"u")return i}}function i6(r){let e=r._keys;return e||(e=r._keys=IJ(r._scopes)),e}function IJ(r){const e=new Set;for(const t of r)for(const i of Object.keys(t).filter(n=>!n.startsWith("_")))e.add(i);return Array.from(e)}const MJ=Number.EPSILON||1e-14,ou=(r,e)=>e<r.length&&!r[e].skip&&r[e],vA=r=>r==="x"?"y":"x";function PJ(r,e,t,i){const n=r.skip?e:r,s=e,o=t.skip?e:t,a=nu(s,n),l=nu(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-n.x),y:s.y-h*(o.y-n.y)},next:{x:s.x+d*(o.x-n.x),y:s.y+d*(o.y-n.y)}}}function RJ(r,e,t){const i=r.length;let n,s,o,a,l,c=ou(r,0);for(let u=0;u<i-1;++u)if(l=c,c=ou(r,u+1),!(!l||!c)){if(Hh(e[u],0,MJ)){t[u]=t[u+1]=0;continue}n=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(n,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=n*o*e[u],t[u+1]=s*o*e[u])}}function DJ(r,e,t="x"){const i=vA(t),n=r.length;let s,o,a,l=ou(r,0);for(let c=0;c<n;++c){if(o=a,a=l,l=ou(r,c+1),!a)continue;const u=a[t],h=a[i];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${i}`]=h-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${i}`]=h+s*e[c])}}function OJ(r,e="x"){const t=vA(e),i=r.length,n=Array(i).fill(0),s=Array(i);let o,a,l,c=ou(r,0);for(o=0;o<i;++o)if(a=l,l=c,c=ou(r,o+1),!!l){if(c){const u=c[e]-l[e];n[o]=u!==0?(c[t]-l[t])/u:0}s[o]=a?c?ru(n[o-1])!==ru(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}RJ(r,n,s),DJ(r,s,e)}function o1(r,e,t){return Math.max(Math.min(r,t),e)}function $J(r,e){let t,i,n,s,o,a=jd(r[0],e);for(t=0,i=r.length;t<i;++t)o=s,s=a,a=t<i-1&&jd(r[t+1],e),s&&(n=r[t],o&&(n.cp1x=o1(n.cp1x,e.left,e.right),n.cp1y=o1(n.cp1y,e.top,e.bottom)),a&&(n.cp2x=o1(n.cp2x,e.left,e.right),n.cp2y=o1(n.cp2y,e.top,e.bottom)))}function VJ(r,e,t,i,n){let s,o,a,l;if(e.spanGaps&&(r=r.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")OJ(r,n);else{let c=i?r[r.length-1]:r[0];for(s=0,o=r.length;s<o;++s)a=r[s],l=PJ(c,a,r[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&$J(r,t)}function _b(){return typeof window<"u"&&typeof document<"u"}function wb(r){let e=r.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bg(r,e,t){let i;return typeof r=="string"?(i=parseInt(r,10),r.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=r,i}const Am=r=>r.ownerDocument.defaultView.getComputedStyle(r,null);function FJ(r,e){return Am(r).getPropertyValue(e)}const BJ=["top","right","bottom","left"];function nl(r,e,t){const i={};t=t?"-"+t:"";for(let n=0;n<4;n++){const s=BJ[n];i[s]=parseFloat(r[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const NJ=(r,e,t)=>(r>0||e>0)&&(!t||!t.shadowRoot);function HJ(r,e){const t=r.touches,i=t&&t.length?t[0]:r,{offsetX:n,offsetY:s}=i;let o=!1,a,l;if(NJ(n,s,r.target))a=n,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ba(r,e){if("native"in r)return r;const{canvas:t,currentDevicePixelRatio:i}=e,n=Am(t),s=n.boxSizing==="border-box",o=nl(n,"padding"),a=nl(n,"border","width"),{x:l,y:c,box:u}=HJ(r,t),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:g}=e;return s&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/f*t.width/i),y:Math.round((c-d)/g*t.height/i)}}function UJ(r,e,t){let i,n;if(e===void 0||t===void 0){const s=r&&wb(r);if(!s)e=r.clientWidth,t=r.clientHeight;else{const o=s.getBoundingClientRect(),a=Am(s),l=nl(a,"border","width"),c=nl(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,i=bg(a.maxWidth,s,"clientWidth"),n=bg(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||gg,maxHeight:n||gg}}const a1=r=>Math.round(r*10)/10;function zJ(r,e,t,i){const n=Am(r),s=nl(n,"margin"),o=bg(n.maxWidth,r,"clientWidth")||gg,a=bg(n.maxHeight,r,"clientHeight")||gg,l=UJ(r,e,t);let{width:c,height:u}=l;if(n.boxSizing==="content-box"){const d=nl(n,"border","width"),f=nl(n,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=a1(Math.min(c,o,l.maxWidth)),u=a1(Math.min(u,a,l.maxHeight)),c&&!u&&(u=a1(c/2)),(e!==void 0||t!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=a1(Math.floor(u*i))),{width:c,height:u}}function r6(r,e,t){const i=e||1,n=Math.floor(r.height*i),s=Math.floor(r.width*i);r.height=Math.floor(r.height),r.width=Math.floor(r.width);const o=r.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${r.height}px`,o.style.width=`${r.width}px`),r.currentDevicePixelRatio!==i||o.height!==n||o.width!==s?(r.currentDevicePixelRatio=i,o.height=n,o.width=s,r.ctx.setTransform(i,0,0,i,0,0),!0):!1}const jJ=function(){let r=!1;try{const e={get passive(){return r=!0,!1}};_b()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return r}();function n6(r,e){const t=FJ(r,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Na(r,e,t,i){return{x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}}function GJ(r,e,t,i){return{x:r.x+t*(e.x-r.x),y:i==="middle"?t<.5?r.y:e.y:i==="after"?t<1?r.y:e.y:t>0?e.y:r.y}}function ZJ(r,e,t,i){const n={x:r.cp2x,y:r.cp2y},s={x:e.cp1x,y:e.cp1y},o=Na(r,n,t),a=Na(n,s,t),l=Na(s,e,t),c=Na(o,a,t),u=Na(a,l,t);return Na(c,u,t)}const WJ=function(r,e){return{x(t){return r+r+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},KJ=function(){return{x(r){return r},setWidth(r){},textAlign(r){return r},xPlus(r,e){return r+e},leftForLtr(r,e){return r}}};function q2(r,e,t){return r?WJ(e,t):KJ()}function qJ(r,e){let t,i;(e==="ltr"||e==="rtl")&&(t=r.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),r.prevTextDirection=i)}function YJ(r,e){e!==void 0&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",e[0],e[1]))}function yA(r){return r==="angle"?{between:vg,compare:GQ,normalize:es}:{between:oA,compare:(e,t)=>e-t,normalize:e=>e}}function s6({start:r,end:e,count:t,loop:i,style:n}){return{start:r%t,end:e%t,loop:i&&(e-r+1)%t===0,style:n}}function XJ(r,e,t){const{property:i,start:n,end:s}=t,{between:o,normalize:a}=yA(i),l=e.length;let{start:c,end:u,loop:h}=r,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),n,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:r.style}}function bA(r,e,t){if(!t)return[r];const{property:i,start:n,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=yA(i),{start:u,end:h,loop:d,style:f}=XJ(r,e,t),g=[];let m=!1,v=null,y,_,w;const S=()=>l(n,w,y)&&a(n,w)!==0,k=()=>a(s,y)===0||l(s,w,y),P=()=>m||S(),x=()=>!m||k();for(let C=u,E=u;C<=h;++C)_=e[C%o],!_.skip&&(y=c(_[i]),y!==w&&(m=l(y,n,s),v===null&&P()&&(v=a(y,n)===0?C:E),v!==null&&x()&&(g.push(s6({start:v,end:C,loop:d,count:o,style:f})),v=null),E=C,w=y));return v!==null&&g.push(s6({start:v,end:h,loop:d,count:o,style:f})),g}function _A(r,e){const t=[],i=r.segments;for(let n=0;n<i.length;n++){const s=bA(i[n],r.points,e);s.length&&t.push(...s)}return t}function QJ(r,e,t,i){let n=0,s=e-1;if(t&&!i)for(;n<e&&!r[n].skip;)n++;for(;n<e&&r[n].skip;)n++;for(n%=e,t&&(s+=n);s>n&&r[s%e].skip;)s--;return s%=e,{start:n,end:s}}function JJ(r,e,t,i){const n=r.length,s=[];let o=e,a=r[e],l;for(l=e+1;l<=t;++l){const c=r[l%n];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%n,end:(l-1)%n,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%n,end:o%n,loop:i}),s}function eee(r,e){const t=r.points,i=r.options.spanGaps,n=t.length;if(!n)return[];const s=!!r._loop,{start:o,end:a}=QJ(t,n,s,i);if(i===!0)return o6(r,[{start:o,end:a,loop:s}],t,e);const l=a<o?a+n:a,c=!!r._fullLoop&&o===0&&a===n-1;return o6(r,JJ(t,o,l,c),t,e)}function o6(r,e,t,i){return!i||!i.setContext||!t?e:tee(r,e,t,i)}function tee(r,e,t,i){const n=r._chart.getContext(),s=a6(r.options),{_datasetIndex:o,options:{spanGaps:a}}=r,l=t.length,c=[];let u=s,h=e[0].start,d=h;function f(g,m,v,y){const _=a?-1:1;if(g!==m){for(g+=l;t[g%l].skip;)g-=_;for(;t[m%l].skip;)m+=_;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:v,style:y}),u=y,h=m%l)}}for(const g of e){h=a?h:g.start;let m=t[h%l],v;for(d=h+1;d<=g.end;d++){const y=t[d%l];v=a6(i.setContext(Ml(n,{type:"segment",p0:m,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),iee(v,u)&&f(h,d-1,g.loop,u),m=y,u=v}h<d-1&&f(h,d-1,g.loop,u)}return c}function a6(r){return{backgroundColor:r.backgroundColor,borderCapStyle:r.borderCapStyle,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderJoinStyle:r.borderJoinStyle,borderWidth:r.borderWidth,borderColor:r.borderColor}}function iee(r,e){if(!e)return!1;const t=[],i=function(n,s){return gb(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(r,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ree{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){const s=t.listeners[n],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=lA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(n.draw(),this._notify(n,i,e,"progress")),s.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Rs=new ree;const l6="transparent",nee={boolean(r,e,t){return t>.5?e:r},color(r,e,t){const i=yg(r||l6),n=i.valid&&yg(e||l6);return n&&n.valid?n.mix(i,t).hexString():e},number(r,e,t){return r+(e-r)*t}};class see{constructor(e,t,i,n){const s=t[i];n=s1([e.to,n,s,e.from]);const o=s1([e.from,s,n]);this._active=!0,this._fn=e.fn||nee[e.type||typeof o],this._easing=zh[e.easing]||zh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=s1([e.to,t,n,e.from]),this._from=s1([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,n=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||t<i),!this._active){this._target[n]=a,this._notify(!0);return}if(t<0){this._target[n]=s;return}l=t/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][t]()}}class Cb{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ut(e))return;const t=Object.keys(yi.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const s=e[n];if(!ut(s))return;const o={};for(const a of t)o[a]=s[a];(qt(s.properties)&&s.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){const i=t.options,n=aee(e,i);if(!n)return[];const s=this._createAnimations(n,i);return i.$shared&&oee(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,n=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(e,t));continue}const u=t[c];let h=s[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new see(d,e,c,u),n.push(h)}return n}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Rs.add(this._chart,i),!0}}function oee(r,e){const t=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const s=r[i[n]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function aee(r,e){if(!e)return;let t=r.options;if(!t){r.options=e;return}return t.$shared&&(r.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function c6(r,e){const t=r&&r.options||{},i=t.reverse,n=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:n,end:i?n:s}}function lee(r,e,t){if(t===!1)return!1;const i=c6(r,t),n=c6(e,t);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function cee(r){let e,t,i,n;return ut(r)?(e=r.top,t=r.right,i=r.bottom,n=r.left):e=t=i=n=r,{top:e,right:t,bottom:i,left:n,disabled:r===!1}}function wA(r,e){const t=[],i=r._getSortedDatasetMetas(e);let n,s;for(n=0,s=i.length;n<s;++n)t.push(i[n].index);return t}function u6(r,e,t,i={}){const n=r.keys,s=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===t){if(u=!0,i.all)continue;break}c=r.values[l],Ni(c)&&(s||e===0||ru(e)===ru(c))&&(e+=c)}return!u&&!i.all?0:e}function uee(r,e){const{iScale:t,vScale:i}=e,n=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(r),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[n]:u,[s]:r[u]};return a}function Y2(r,e){const t=r&&r.options.stacked;return t||t===void 0&&e.stack!==void 0}function hee(r,e,t){return`${r.id}.${e.id}.${t.stack||t.type}`}function dee(r){const{min:e,max:t,minDefined:i,maxDefined:n}=r.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}function fee(r,e,t){const i=r[e]||(r[e]={});return i[t]||(i[t]={})}function h6(r,e,t,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const s=r[n.index];if(t&&s>0||!t&&s<0)return n.index}return null}function d6(r,e){const{chart:t,_cachedMeta:i}=r,n=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=hee(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const g=e[f],{[l]:m,[c]:v}=g,y=g._stacks||(g._stacks={});d=y[c]=fee(n,u,m),d[a]=v,d._top=h6(d,o,!0,i.type),d._bottom=h6(d,o,!1,i.type);const _=d._visualValues||(d._visualValues={});_[a]=v}}function X2(r,e){const t=r.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function pee(r,e){return Ml(r,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gee(r,e,t){return Ml(r,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Wu(r,e){const t=r.controller.index,i=r.vScale&&r.vScale.axis;if(i){e=e||r._parsed;for(const n of e){const s=n._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const Q2=r=>r==="reset"||r==="none",f6=(r,e)=>e?r:Object.assign({},r),mee=(r,e,t)=>r&&!e.hidden&&e._stacked&&{keys:wA(t,!0),values:null};class Cc{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Y2(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Wu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(h,d,f,g)=>h==="x"?d:h==="r"?g:f,s=t.xAxisID=Lt(i.xAxisID,X2(e,"x")),o=t.yAxisID=Lt(i.yAxisID,X2(e,"y")),a=t.rAxisID=Lt(i.rAxisID,X2(e,"r")),l=t.indexAxis,c=t.iAxisID=n(l,s,o,a),u=t.vAxisID=n(l,o,s,a);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&q9(this._data,this),e._stacked&&Wu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(ut(t)){const n=this._cachedMeta;this._data=uee(t,n)}else if(i!==t){if(i){q9(i,this);const n=this._cachedMeta;Wu(n),n._parsed=[]}t&&Object.isExtensible(t)&&qQ(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const s=t._stacked;t._stacked=Y2(t.vScale,t),t.stack!==i.stack&&(n=!0,Wu(t),t.stack=i.stack),this._resyncElements(e),(n||s!==t._stacked)&&(d6(this,t._parsed),t._stacked=Y2(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:n}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&t===n.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=n,i._sorted=!0,d=n;else{qt(n[e])?d=this.parseArrayData(i,n,e,t):ut(n[e])?d=this.parseObjectData(i,n,e,t):d=this.parsePrimitiveData(i,n,e,t);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<t;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&d6(this,d)}parsePrimitiveData(e,t,i,n){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(n);let d,f,g;for(d=0,f=n;d<f;++d)g=d+i,h[d]={[a]:u||s.parse(c[g],g),[l]:o.parse(t[g],g)};return h}parseArrayData(e,t,i,n){const{xScale:s,yScale:o}=e,a=new Array(n);let l,c,u,h;for(l=0,c=n;l<c;++l)u=l+i,h=t[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,t,i,n){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let u,h,d,f;for(u=0,h=n;u<h;++u)d=u+i,f=t[d],c[u]={x:s.parse(zd(f,a),d),y:o.parse(zd(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const n=this.chart,s=this._cachedMeta,o=t[e.axis],a={keys:wA(n,!0),values:t._stacks[e.axis]._visualValues};return u6(a,o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,n){const s=i[t.axis];let o=s===null?NaN:s;const a=n&&i._stacks[t.axis];n&&a&&(n.values=a,o=u6(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,n=i._parsed,s=i._sorted&&e===i.iScale,o=n.length,a=this._getOtherScale(e),l=mee(t,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=dee(a);let d,f;function g(){f=n[d];const m=f[a.axis];return!Ni(f[e.axis])||u>m||h<m}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let n,s,o;for(n=0,s=t.length;n<s;++n)o=t[n][e.axis],Ni(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,n=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=cee(Lt(this.options.clip,lee(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],s=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=n[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const n=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=gee(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=n.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=pee(this.chart.getContext(),this.index)),s.dataset=n,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const n=t==="active",s=this._cachedDataOpts,o=e+"-"+t,a=s[o],l=this.enableOptionSharing&&Nr(i);if(a)return f6(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=n?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(yi.elements[e]),g=()=>this.getContext(i,n,t),m=c.resolveNamedOptions(d,f,g,h);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(f6(m,l))),m}_resolveAnimations(e,t,i){const n=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,a=s[o];if(a)return a;let l;if(n.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,t),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,t))}const c=new Cb(n,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Q2(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==n;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,n){Q2(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!Q2(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;const s=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const n=i.length,s=t.length,o=Math.min(s,n);o&&this.parse(0,o),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,t,i=!0){const n=this._cachedMeta,s=n.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,t);i._stacked&&Wu(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}it(Cc,"defaults",{}),it(Cc,"datasetElementType",null),it(Cc,"dataElementType",null);function vee(r,e,t){let i=1,n=1,s=0,o=0;if(e<Wi){const a=r,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(w,S,k)=>vg(w,a,l,!0)?1:Math.max(S,S*t,k,k*t),g=(w,S,k)=>vg(w,a,l,!0)?-1:Math.min(S,S*t,k,k*t),m=f(0,c,h),v=f(Ki,u,d),y=g(Pt,c,h),_=g(Pt+Ki,u,d);i=(m-y)/2,n=(v-_)/2,s=-(m+y)/2,o=-(v+_)/2}return{ratioX:i,ratioY:n,offsetX:s,offsetY:o}}class mh extends Cc{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let s=l=>+i[l];if(ut(i[e])){const{key:l="value"}=this._parsing;s=c=>+zd(i[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)n._parsed[o]=s(o)}}_getRotation(){return Vi(this.options.rotation-90)}_getCircumference(){return Vi(this.options.circumference)}_getRotationExtents(){let e=Wi,t=-Wi;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,s=n._getRotation(),o=n._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,n=this._cachedMeta,s=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(DQ(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:m}=vee(h,u,l),v=(i.width-o)/d,y=(i.height-o)/f,_=Math.max(Math.min(v,y)/2,0),w=iA(this.options.radius,_),S=Math.max(w*l,0),k=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,n.total=this.calculateTotal(),this.outerRadius=w-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,n=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*s/Wi)}updateElements(e,t,i,n){const s=n==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,n);let y=this._getRotation(),_;for(_=0;_<t;++_)y+=this._circumference(_,s);for(_=t;_<t+i;++_){const w=this._circumference(_,s),S=e[_],k={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:g,innerRadius:f};v&&(k.options=m||this.resolveDataElementOptions(_,S.active?"active":n)),y+=w,this.updateElement(S,_,k,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,n;for(n=0;n<t.length;n++){const s=e._parsed[n];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(n)&&!t[n].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Wi*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=mb(t._parsed[e],i.options.locale);return{label:n[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let n,s,o,a,l;if(!e){for(n=0,s=i.data.datasets.length;n<s;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),e=o.data,a=o.controller;break}}if(!e)return 0;for(n=0,s=e.length;n<s;++n)l=a.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(Lt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}it(mh,"id","doughnut"),it(mh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),it(mh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),it(mh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class q1 extends Cc{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=t,o=this.getParsed(e),a=n.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled;let{start:s,count:o}=QQ(t,i,n);if(this._drawStart=s,this._drawCount=o,JQ(t)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){const s=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(t,n),h=this.getSharedOptions(u),d=this.includeOptions(n,h),f=o.axis,g=a.axis,{spanGaps:m,segment:v}=this.options,y=ha(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||n==="none";let w=t>0&&this.getParsed(t-1);for(let S=t;S<t+i;++S){const k=e[S],P=this.getParsed(S),x=_?k:{},C=Zt(P[g]),E=x[f]=o.getPixelForValue(P[f],S),A=x[g]=s||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,P,l):P[g],S);x.skip=isNaN(E)||isNaN(A)||C,x.stop=S>0&&Math.abs(P[f]-w[f])>y,v&&(x.parsed=P,x.raw=c.data[S]),d&&(x.options=h||this.resolveDataElementOptions(S,k.active?"active":n)),_||this.updateElement(k,S,x,n),w=P}this.updateSharedOptions(h,n,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let l=t.length-1;l>=0;--l)a=Math.max(a,t[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,n=i.options&&i.options.borderWidth||0;if(!t.length)return n;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,s,o)/2}}it(q1,"id","scatter"),it(q1,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),it(q1,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Da(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xb{constructor(e){it(this,"options");this.options=e||{}}static override(e){Object.assign(xb.prototype,e)}init(){}formats(){return Da()}parse(){return Da()}format(){return Da()}add(){return Da()}diff(){return Da()}startOf(){return Da()}endOf(){return Da()}}var yee={_date:xb};function bee(r,e,t,i){const{controller:n,data:s,_sorted:o}=r,a=n._cachedMeta.iScale,l=r.dataset&&r.dataset.options?r.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?WQ:Wa;if(i){if(n._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(s,e,t-h),f=c(s,e,t+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(s,e,t);if(l){const{vScale:h}=n._cachedMeta,{_parsed:d}=r,f=d.slice(0,u.lo+1).reverse().findIndex(m=>!Zt(m[h.axis]));u.lo-=Math.max(0,f);const g=d.slice(u.hi).findIndex(m=>!Zt(m[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function km(r,e,t,i,n){const s=r.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=bee(s[a],e,o,n);for(let f=h;f<=d;++f){const g=u[f];g.skip||i(g,c,f)}}}function _ee(r){const e=r.indexOf("x")!==-1,t=r.indexOf("y")!==-1;return function(i,n){const s=e?Math.abs(i.x-n.x):0,o=t?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function J2(r,e,t,i,n){const s=[];return!n&&!r.isPointInArea(e)||km(r,t,e,function(a,l,c){!n&&!jd(a,r.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function wee(r,e,t,i){let n=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=K5(o,{x:e.x,y:e.y});vg(h,c,u)&&n.push({element:o,datasetIndex:a,index:l})}return km(r,t,e,s),n}function Cee(r,e,t,i,n,s){let o=[];const a=_ee(t);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,n);if(i&&!f)return;const g=u.getCenterPoint(n);if(!(!!s||r.isPointInArea(g))&&!f)return;const v=a(e,g);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return km(r,t,e,c),o}function ev(r,e,t,i,n,s){return!s&&!r.isPointInArea(e)?[]:t==="r"&&!i?wee(r,e,t,n):Cee(r,e,t,i,n,s)}function p6(r,e,t,i,n){const s=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return km(r,t,e,(l,c,u)=>{l[o]&&l[o](e[t],n)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,n))}),i&&!a?[]:s}var xee={modes:{index(r,e,t,i){const n=Ba(e,r),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?J2(r,n,s,i,o):ev(r,n,s,!1,i,o),l=[];return a.length?(r.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(r,e,t,i){const n=Ba(e,r),s=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?J2(r,n,s,i,o):ev(r,n,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=r.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(r,e,t,i){const n=Ba(e,r),s=t.axis||"xy",o=t.includeInvisible||!1;return J2(r,n,s,i,o)},nearest(r,e,t,i){const n=Ba(e,r),s=t.axis||"xy",o=t.includeInvisible||!1;return ev(r,n,s,t.intersect,i,o)},x(r,e,t,i){const n=Ba(e,r);return p6(r,n,"x",t.intersect,i)},y(r,e,t,i){const n=Ba(e,r);return p6(r,n,"y",t.intersect,i)}}};const CA=["left","top","right","bottom"];function Ku(r,e){return r.filter(t=>t.pos===e)}function g6(r,e){return r.filter(t=>CA.indexOf(t.pos)===-1&&t.box.axis===e)}function qu(r,e){return r.sort((t,i)=>{const n=e?i:t,s=e?t:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight})}function Eee(r){const e=[];let t,i,n,s,o,a;for(t=0,i=(r||[]).length;t<i;++t)n=r[t],{position:s,options:{stack:o,stackWeight:a=1}}=n,e.push({index:t,box:n,pos:s,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&s+o,stackWeight:a});return e}function Tee(r){const e={};for(const t of r){const{stack:i,pos:n,stackWeight:s}=t;if(!i||!CA.includes(n))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Lee(r,e){const t=Tee(r),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let s,o,a;for(s=0,o=r.length;s<o;++s){a=r[s];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=n):(a.width=i,a.height=u?u*n:l&&e.availableHeight)}return t}function See(r){const e=Eee(r),t=qu(e.filter(c=>c.box.fullSize),!0),i=qu(Ku(e,"left"),!0),n=qu(Ku(e,"right")),s=qu(Ku(e,"top"),!0),o=qu(Ku(e,"bottom")),a=g6(e,"x"),l=g6(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:Ku(e,"chartArea"),vertical:i.concat(n).concat(l),horizontal:s.concat(o).concat(a)}}function m6(r,e,t,i){return Math.max(r[t],e[t])+Math.max(r[i],e[i])}function xA(r,e){r.top=Math.max(r.top,e.top),r.left=Math.max(r.left,e.left),r.bottom=Math.max(r.bottom,e.bottom),r.right=Math.max(r.right,e.right)}function Aee(r,e,t,i){const{pos:n,box:s}=t,o=r.maxPadding;if(!ut(n)){t.size&&(r[n]-=t.size);const h=i[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,r[n]+=t.size}s.getPadding&&xA(o,s.getPadding());const a=Math.max(0,e.outerWidth-m6(o,r,"left","right")),l=Math.max(0,e.outerHeight-m6(o,r,"top","bottom")),c=a!==r.w,u=l!==r.h;return r.w=a,r.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function kee(r){const e=r.maxPadding;function t(i){const n=Math.max(e[i]-r[i],0);return r[i]+=n,n}r.y+=t("top"),r.x+=t("left"),t("right"),t("bottom")}function Iee(r,e){const t=e.maxPadding;function i(n){const s={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(r?["left","right"]:["top","bottom"])}function vh(r,e,t,i){const n=[];let s,o,a,l,c,u;for(s=0,o=r.length,c=0;s<o;++s){a=r[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Iee(a.horizontal,e));const{same:h,other:d}=Aee(e,t,a,i);c|=h&&n.length,u=u||d,l.fullSize||n.push(a)}return c&&vh(n,e,t,i)||u}function l1(r,e,t,i,n){r.top=t,r.left=e,r.right=e+i,r.bottom=t+n,r.width=i,r.height=n}function v6(r,e,t,i){const n=t.padding;let{x:s,y:o}=e;for(const a of r){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;Nr(c.start)&&(o=c.start),l.fullSize?l1(l,n.left,o,t.outerWidth-n.right-n.left,d):l1(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;Nr(c.start)&&(s=c.start),l.fullSize?l1(l,s,n.top,d,t.outerHeight-n.bottom-n.top):l1(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var Fo={addBox(r,e){r.boxes||(r.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},r.boxes.push(e)},removeBox(r,e){const t=r.boxes?r.boxes.indexOf(e):-1;t!==-1&&r.boxes.splice(t,1)},configure(r,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(r,e,t,i){if(!r)return;const n=sn(r.options.layout.padding),s=Math.max(e-n.width,0),o=Math.max(t-n.height,0),a=See(r.boxes),l=a.vertical,c=a.horizontal;Nt(r.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:n,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},n);xA(d,sn(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:n.left,y:n.top},n),g=Lee(l.concat(c),h);vh(a.fullSize,f,h,g),vh(l,f,h,g),vh(c,f,h,g)&&vh(l,f,h,g),kee(f),v6(a.leftAndTop,f,h,g),f.x+=f.w,f.y+=f.h,v6(a.rightAndBottom,f,h,g),r.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Nt(a.chartArea,m=>{const v=m.box;Object.assign(v,r.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class EA{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class Mee extends EA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Y1="$chartjs",Pee={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},y6=r=>r===null||r==="";function Ree(r,e){const t=r.style,i=r.getAttribute("height"),n=r.getAttribute("width");if(r[Y1]={initial:{height:i,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",y6(n)){const s=n6(r,"width");s!==void 0&&(r.width=s)}if(y6(i))if(r.style.height==="")r.height=r.width/(e||2);else{const s=n6(r,"height");s!==void 0&&(r.height=s)}return r}const TA=jJ?{passive:!0}:!1;function Dee(r,e,t){r&&r.addEventListener(e,t,TA)}function Oee(r,e,t){r&&r.canvas&&r.canvas.removeEventListener(e,t,TA)}function $ee(r,e){const t=Pee[r.type]||r.type,{x:i,y:n}=Ba(r,e);return{type:t,chart:e,native:r,x:i!==void 0?i:null,y:n!==void 0?n:null}}function _g(r,e){for(const t of r)if(t===e||t.contains(e))return!0}function Vee(r,e,t){const i=r.canvas,n=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_g(a.addedNodes,i),o=o&&!_g(a.removedNodes,i);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function Fee(r,e,t){const i=r.canvas,n=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_g(a.removedNodes,i),o=o&&!_g(a.addedNodes,i);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const Gd=new Map;let b6=0;function LA(){const r=window.devicePixelRatio;r!==b6&&(b6=r,Gd.forEach((e,t)=>{t.currentDevicePixelRatio!==r&&e()}))}function Bee(r,e){Gd.size||window.addEventListener("resize",LA),Gd.set(r,e)}function Nee(r){Gd.delete(r),Gd.size||window.removeEventListener("resize",LA)}function Hee(r,e,t){const i=r.canvas,n=i&&wb(i);if(!n)return;const s=cA((a,l)=>{const c=n.clientWidth;t(a,l),c<n.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(n),Bee(r,s),o}function tv(r,e,t){t&&t.disconnect(),e==="resize"&&Nee(r)}function Uee(r,e,t){const i=r.canvas,n=cA(s=>{r.ctx!==null&&t($ee(s,r))},r);return Dee(i,e,n),n}class zee extends EA{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Ree(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Y1])return!1;const i=t[Y1].initial;["height","width"].forEach(s=>{const o=i[s];Zt(o)?t.removeAttribute(s):t.setAttribute(s,o)});const n=i.style||{};return Object.keys(n).forEach(s=>{t.style[s]=n[s]}),t.width=t.width,delete t[Y1],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),o={attach:Vee,detach:Fee,resize:Hee}[t]||Uee;n[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),n=i[t];if(!n)return;({attach:tv,detach:tv,resize:tv}[t]||Oee)(e,t,n),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return zJ(e,t,i,n)}isAttached(e){const t=e&&wb(e);return!!(t&&t.isConnected)}}function jee(r){return!_b()||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?Mee:zee}var I1;let an=(I1=class{constructor(){it(this,"x");it(this,"y");it(this,"active",!1);it(this,"options");it(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return ha(this.x)&&ha(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const n={};return e.forEach(s=>{n[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),n}},it(I1,"defaults",{}),it(I1,"defaultRoutes"),I1);function Gee(r,e){const t=r.options.ticks,i=Zee(r),n=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?Kee(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>n)return qee(e,c,s,o/n),c;const u=Wee(s,e,n);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(c1(e,c,u,Zt(f)?0:a-f,a),h=0,d=o-1;h<d;h++)c1(e,c,u,s[h],s[h+1]);return c1(e,c,u,l,Zt(f)?e.length:l+f),c}return c1(e,c,u),c}function Zee(r){const e=r.options.offset,t=r._tickSize(),i=r._length/t+(e?0:1),n=r._maxLength/t;return Math.floor(Math.min(i,n))}function Wee(r,e,t){const i=Yee(r),n=e.length/t;if(!i)return Math.max(n,1);const s=HQ(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>n)return l}return Math.max(n,1)}function Kee(r){const e=[];let t,i;for(t=0,i=r.length;t<i;t++)r[t].major&&e.push(t);return e}function qee(r,e,t,i){let n=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<r.length;o++)o===s&&(e.push(r[o]),n++,s=t[n*i])}function c1(r,e,t,i,n){const s=Lt(i,0),o=Math.min(Lt(n,r.length),r.length);let a=0,l,c,u;for(t=Math.ceil(t),n&&(l=n-i,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(r[c]),a++,u=Math.round(s+a*t))}function Yee(r){const e=r.length;let t,i;if(e<2)return!1;for(i=r[0],t=1;t<e;++t)if(r[t]-r[t-1]!==i)return!1;return i}const Xee=r=>r==="left"?"right":r==="right"?"left":r,_6=(r,e,t)=>e==="top"||e==="left"?r[e]+t:r[e]-t,w6=(r,e)=>Math.min(e||r,r);function C6(r,e){const t=[],i=r.length/e,n=r.length;let s=0;for(;s<n;s+=i)t.push(r[Math.floor(s)]);return t}function Qee(r,e,t){const i=r.ticks.length,n=Math.min(e,i-1),s=r._startPixel,o=r._endPixel,a=1e-6;let l=r.getPixelForTick(n),c;if(!(t&&(i===1?c=Math.max(l-s,o-l):e===0?c=(r.getPixelForTick(1)-l)/2:c=(l-r.getPixelForTick(n-1))/2,l+=n<e?c:-c,l<s-a||l>o+a)))return l}function Jee(r,e){Nt(r,t=>{const i=t.gc,n=i.length/2;let s;if(n>e){for(s=0;s<n;++s)delete t.data[i[s]];i.splice(0,n)}})}function Yu(r){return r.drawTicks?r.tickLength:0}function x6(r,e){if(!r.display)return 0;const t=wr(r.font,e),i=sn(r.padding);return(qt(r.text)?r.text.length:1)*t.lineHeight+i.height}function ete(r,e){return Ml(r,{scale:e,type:"scale"})}function tte(r,e,t){return Ml(r,{tick:t,index:e,type:"tick"})}function ite(r,e,t){let i=uA(r);return(t&&e!=="right"||!t&&e==="right")&&(i=Xee(i)),i}function rte(r,e,t,i){const{top:n,left:s,bottom:o,right:a,chart:l}=r,{chartArea:c,scales:u}=l;let h=0,d,f,g;const m=o-n,v=a-s;if(r.isHorizontal()){if(f=Uh(i,s,a),ut(t)){const y=Object.keys(t)[0],_=t[y];g=u[y].getPixelForValue(_)+m-e}else t==="center"?g=(c.bottom+c.top)/2+m-e:g=_6(r,t,e);d=a-s}else{if(ut(t)){const y=Object.keys(t)[0],_=t[y];f=u[y].getPixelForValue(_)-v+e}else t==="center"?f=(c.left+c.right)/2-v+e:f=_6(r,t,e);g=Uh(i,o,n),h=t==="left"?-Ki:Ki}return{titleX:f,titleY:g,maxWidth:d,rotation:h}}class xu extends an{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=jn(e,Number.POSITIVE_INFINITY),t=jn(t,Number.NEGATIVE_INFINITY),i=jn(i,Number.POSITIVE_INFINITY),n=jn(n,Number.NEGATIVE_INFINITY),{min:jn(e,i),max:jn(t,n),minDefined:Ni(e),maxDefined:Ni(t)}}getMinMax(e){let{min:t,max:i,minDefined:n,maxDefined:s}=this.getUserBounds(),o;if(n&&s)return{min:t,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),n||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=n&&t>i?t:i,{min:jn(t,jn(i,t)),max:jn(i,jn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:n,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wJ(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?C6(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Gee(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xt(this.options.afterUpdate,[this])}beforeSetDimensions(){Xt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Xt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,n,s;for(i=0,n=e.length;i<n;i++)s=e[i],s.label=Xt(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Xt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=w6(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,s=t.maxRotation;let o=n,a,l,c;if(!this._isVisible()||!t.display||n>=s||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=vn(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Yu(e.grid)-t.padding-x6(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=sA(Math.min(Math.asin(vn((u.highest.height+6)/a,-1,1)),Math.asin(vn(l/c,-1,1))-Math.asin(vn(d/c,-1,1)))),o=Math.max(n,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Xt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=x6(n,t.options.font);if(a?(e.width=this.maxWidth,e.height=Yu(s)+l):(e.height=this.maxHeight,e.width=Yu(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,g=Vi(this.labelRotation),m=Math.cos(g),v=Math.sin(g);if(a){const y=i.mirror?0:v*h.width+m*d.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=i.mirror?0:m*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,v,m)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=n*e.width,f=i*t.height):(d=i*e.height,f=n*t.width):s==="start"?f=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=t.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Zt(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=C6(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:n,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/w6(t,i));let c=0,u=0,h,d,f,g,m,v,y,_,w,S,k;for(h=0;h<t;h+=l){if(g=e[h].label,m=this._resolveTickFontOptions(h),n.font=v=m.string,y=s[v]=s[v]||{data:{},gc:[]},_=m.lineHeight,w=S=0,!Zt(g)&&!qt(g))w=J9(n,y.data,y.gc,w,g),S=_;else if(qt(g))for(d=0,f=g.length;d<f;++d)k=g[d],!Zt(k)&&!qt(k)&&(w=J9(n,y.data,y.gc,w,k),S+=_);o.push(w),a.push(S),c=Math.max(w,c),u=Math.max(S,u)}Jee(s,t);const P=o.indexOf(c),x=a.indexOf(u),C=E=>({width:o[E]||0,height:a[E]||0});return{first:C(0),last:C(t-1),widest:C(P),highest:C(x),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return ZQ(this._alignToPixels?Ra(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=tte(this.getContext(),e,i))}return this.$context||(this.$context=ete(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Vi(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,n=this.options,{grid:s,position:o,border:a}=n,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Yu(s),f=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,v=m/2,y=function(Y){return Ra(i,Y,m)};let _,w,S,k,P,x,C,E,A,I,D,R;if(o==="top")_=y(this.bottom),x=this.bottom-d,E=_-v,I=y(e.top)+v,R=e.bottom;else if(o==="bottom")_=y(this.top),I=e.top,R=y(e.bottom)-v,x=_+v,E=this.top+d;else if(o==="left")_=y(this.right),P=this.right-d,C=_-v,A=y(e.left)+v,D=e.right;else if(o==="right")_=y(this.left),A=e.left,D=y(e.right)-v,P=_+v,C=this.left+d;else if(t==="x"){if(o==="center")_=y((e.top+e.bottom)/2+.5);else if(ut(o)){const Y=Object.keys(o)[0],K=o[Y];_=y(this.chart.scales[Y].getPixelForValue(K))}I=e.top,R=e.bottom,x=_+v,E=x+d}else if(t==="y"){if(o==="center")_=y((e.left+e.right)/2);else if(ut(o)){const Y=Object.keys(o)[0],K=o[Y];_=y(this.chart.scales[Y].getPixelForValue(K))}P=_-v,C=P-d,A=e.left,D=e.right}const fe=Lt(n.ticks.maxTicksLimit,h),se=Math.max(1,Math.ceil(h/fe));for(w=0;w<h;w+=se){const Y=this.getContext(w),K=s.setContext(Y),ae=a.setContext(Y),ne=K.lineWidth,ce=K.color,ke=ae.dash||[],ye=ae.dashOffset,ge=K.tickWidth,X=K.tickColor,Fe=K.tickBorderDash||[],Ce=K.tickBorderDashOffset;S=Qee(this,w,l),S!==void 0&&(k=Ra(i,S,ne),c?P=C=A=D=k:x=E=I=R=k,f.push({tx1:P,ty1:x,tx2:C,ty2:E,x1:A,y1:I,x2:D,y2:R,width:ne,color:ce,borderDash:ke,borderDashOffset:ye,tickWidth:ge,tickColor:X,tickBorderDash:Fe,tickBorderDashOffset:Ce}))}return this._ticksLength=h,this._borderValue=_,f}_computeLabelItems(e){const t=this.axis,i=this.options,{position:n,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=Yu(i.grid),f=d+u,g=h?-u:f,m=-Vi(this.labelRotation),v=[];let y,_,w,S,k,P,x,C,E,A,I,D,R="middle";if(n==="top")P=this.bottom-g,x=this._getXAxisLabelAlignment();else if(n==="bottom")P=this.top+g,x=this._getXAxisLabelAlignment();else if(n==="left"){const se=this._getYAxisLabelAlignment(d);x=se.textAlign,k=se.x}else if(n==="right"){const se=this._getYAxisLabelAlignment(d);x=se.textAlign,k=se.x}else if(t==="x"){if(n==="center")P=(e.top+e.bottom)/2+f;else if(ut(n)){const se=Object.keys(n)[0],Y=n[se];P=this.chart.scales[se].getPixelForValue(Y)+f}x=this._getXAxisLabelAlignment()}else if(t==="y"){if(n==="center")k=(e.left+e.right)/2-f;else if(ut(n)){const se=Object.keys(n)[0],Y=n[se];k=this.chart.scales[se].getPixelForValue(Y)}x=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const fe=this._getLabelSizes();for(y=0,_=a.length;y<_;++y){w=a[y],S=w.label;const se=s.setContext(this.getContext(y));C=this.getPixelForTick(y)+s.labelOffset,E=this._resolveTickFontOptions(y),A=E.lineHeight,I=qt(S)?S.length:1;const Y=I/2,K=se.color,ae=se.textStrokeColor,ne=se.textStrokeWidth;let ce=x;o?(k=C,x==="inner"&&(y===_-1?ce=this.options.reverse?"left":"right":y===0?ce=this.options.reverse?"right":"left":ce="center"),n==="top"?c==="near"||m!==0?D=-I*A+A/2:c==="center"?D=-fe.highest.height/2-Y*A+A:D=-fe.highest.height+A/2:c==="near"||m!==0?D=A/2:c==="center"?D=fe.highest.height/2-Y*A:D=fe.highest.height-I*A,h&&(D*=-1),m!==0&&!se.showLabelBackdrop&&(k+=A/2*Math.sin(m))):(P=C,D=(1-I)*A/2);let ke;if(se.showLabelBackdrop){const ye=sn(se.backdropPadding),ge=fe.heights[y],X=fe.widths[y];let Fe=D-ye.top,Ce=0-ye.left;switch(R){case"middle":Fe-=ge/2;break;case"bottom":Fe-=ge;break}switch(x){case"center":Ce-=X/2;break;case"right":Ce-=X;break;case"inner":y===_-1?Ce-=X:y>0&&(Ce-=X/2);break}ke={left:Ce,top:Fe,width:X+ye.width,height:ge+ye.height,color:se.backdropColor}}v.push({label:S,font:E,textOffset:D,options:{rotation:m,color:K,strokeColor:ae,strokeWidth:ne,textAlign:ce,textBaseline:R,translation:[k,P],backdrop:ke}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Vi(this.labelRotation))return e==="top"?"left":"right";let n="center";return t.align==="start"?n="left":t.align==="end"?n="right":t.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:n,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return t==="left"?n?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?n?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:n,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(s=>s.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=n.length;s<o;++s){const l=n[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:n}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Ra(e,this.left,o)-o/2,u=Ra(e,this.right,a)+a/2,h=d=l):(h=Ra(e,this.top,o)-o/2,d=Ra(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&Lm(i,n);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;X5(i,c,0,u,l,a)}n&&Sm(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const s=wr(i.font),o=sn(i.padding),a=i.align;let l=s.lineHeight/2;t==="bottom"||t==="center"||ut(t)?(l+=o.bottom,qt(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=rte(this,l,t,a);X5(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:ite(a,t,n),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Lt(e.grid&&e.grid.z,-1),n=Lt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xu.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let s,o;for(s=0,o=t.length;s<o;++s){const a=t[s];a[i]===this.id&&(!e||a.type===e)&&n.push(a)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return wr(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class u1{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;ote(t)&&(i=this.register(t));const n=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in n||(n[s]=e,nte(e,o,i),this.override&&yi.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in yi[n]&&(delete yi[n][i],this.override&&delete vl[i])}}function nte(r,e,t){const i=Ud(Object.create(null),[t?yi.get(t):{},yi.get(e),r.defaults]);yi.set(e,i),r.defaultRoutes&&ste(e,r.defaultRoutes),r.descriptors&&yi.describe(e,r.descriptors)}function ste(r,e){Object.keys(e).forEach(t=>{const i=t.split("."),n=i.pop(),s=[r].concat(i).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");yi.route(s,n,l,a)})}function ote(r){return"id"in r&&"defaults"in r}class ate{constructor(){this.controllers=new u1(Cc,"datasets",!0),this.elements=new u1(an,"elements"),this.plugins=new u1(Object,"plugins"),this.scales=new u1(xu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(n=>{const s=i||this._getRegistryForType(n);i||s.isForType(n)||s===this.plugins&&n.id?this._exec(e,s,n):Nt(n,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){const n=db(e);Xt(i["before"+n],[],i),t[e](i),Xt(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const n=t.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var Yn=new ate;class lte{constructor(){this._init=[]}notify(e,t,i,n){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,n){n=n||{};for(const s of e){const o=s.plugin,a=o[i],l=[t,n,s.options];if(Xt(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){Zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,n=Lt(i.options&&i.options.plugins,{}),s=cte(i);return n===!1&&!t?[]:hte(e,s,n,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,n=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function cte(r){const e={},t=[],i=Object.keys(Yn.plugins.items);for(let s=0;s<i.length;s++)t.push(Yn.getPlugin(i[s]));const n=r.plugins||[];for(let s=0;s<n.length;s++){const o=n[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function ute(r,e){return!e&&r===!1?null:r===!0?{}:r}function hte(r,{plugins:e,localIds:t},i,n){const s=[],o=r.getContext();for(const a of e){const l=a.id,c=ute(i[l],n);c!==null&&s.push({plugin:a,options:dte(r.config,{plugin:a,local:t[l]},c,o)})}return s}function dte(r,{plugin:e,local:t},i,n){const s=r.pluginScopeKeys(e),o=r.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),r.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function J5(r,e){const t=yi.datasets[r]||{};return((e.datasets||{})[r]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function fte(r,e){let t=r;return r==="_index_"?t=e:r==="_value_"&&(t=e==="x"?"y":"x"),t}function pte(r,e){return r===e?"_index_":"_value_"}function E6(r){if(r==="x"||r==="y"||r==="r")return r}function gte(r){if(r==="top"||r==="bottom")return"x";if(r==="left"||r==="right")return"y"}function ey(r,...e){if(E6(r))return r;for(const t of e){const i=t.axis||gte(t.position)||r.length>1&&E6(r[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${r}' axis. Please provide 'axis' or 'position' option.`)}function T6(r,e,t){if(t[e+"AxisID"]===r)return{axis:e}}function mte(r,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===r||i.yAxisID===r);if(t.length)return T6(r,"x",t[0])||T6(r,"y",t[0])}return{}}function vte(r,e){const t=vl[r.type]||{scales:{}},i=e.scales||{},n=J5(r.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ut(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ey(o,a,mte(o,r),yi.scales[a.type]),c=pte(l,n),u=t.scales||{};s[o]=Nh(Object.create(null),[{axis:l},a,u[l],u[c]])}),r.data.datasets.forEach(o=>{const a=o.type||r.type,l=o.indexAxis||J5(a,e),u=(vl[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=fte(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),Nh(s[f],[{axis:d},i[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Nh(a,[yi.scales[a.type],yi.scale])}),s}function SA(r){const e=r.options||(r.options={});e.plugins=Lt(e.plugins,{}),e.scales=vte(r,e)}function AA(r){return r=r||{},r.datasets=r.datasets||[],r.labels=r.labels||[],r}function yte(r){return r=r||{},r.data=AA(r.data),SA(r),r}const L6=new Map,kA=new Set;function h1(r,e){let t=L6.get(r);return t||(t=e(),L6.set(r,t),kA.add(t)),t}const Xu=(r,e,t)=>{const i=zd(e,t);i!==void 0&&r.add(i)};class bte{constructor(e){this._config=yte(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=AA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),SA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return h1(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return h1(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return h1(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return h1(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){const{options:n,type:s}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>Xu(l,e,h))),u.forEach(h=>Xu(l,n,h)),u.forEach(h=>Xu(l,vl[s]||{},h)),u.forEach(h=>Xu(l,yi,h)),u.forEach(h=>Xu(l,q5,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),kA.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,vl[t]||{},yi.datasets[t]||{},{type:t},yi,q5]}resolveNamedOptions(e,t,i,n=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=S6(this._resolverCache,e,n);let l=o;if(wte(o,t)){s.$shared=!1,i=Or(i)?i():i;const c=this.createResolver(e,i,a);l=su(o,i,c)}for(const c of t)s[c]=l[c];return s}createResolver(e,t,i=[""],n){const{resolver:s}=S6(this._resolverCache,e,i);return ut(t)?su(s,t,void 0,n):s}}function S6(r,e,t){let i=r.get(e);i||(i=new Map,r.set(e,i));const n=t.join();let s=i.get(n);return s||(s={resolver:vb(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,s)),s}const _te=r=>ut(r)&&Object.getOwnPropertyNames(r).some(e=>Or(r[e]));function wte(r,e){const{isScriptable:t,isIndexable:i}=fA(r);for(const n of e){const s=t(n),o=i(n),a=(o||s)&&r[n];if(s&&(Or(a)||_te(a))||o&&qt(a))return!0}return!1}var Cte="4.4.8";const xte=["top","bottom","left","right","chartArea"];function A6(r,e){return r==="top"||r==="bottom"||xte.indexOf(r)===-1&&e==="x"}function k6(r,e){return function(t,i){return t[r]===i[r]?t[e]-i[e]:t[r]-i[r]}}function I6(r){const e=r.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Xt(t&&t.onComplete,[r],e)}function Ete(r){const e=r.chart,t=e.options.animation;Xt(t&&t.onProgress,[r],e)}function IA(r){return _b()&&typeof r=="string"?r=document.getElementById(r):r&&r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas),r}const X1={},M6=r=>{const e=IA(r);return Object.values(X1).filter(t=>t.canvas===e).pop()};function Tte(r,e,t){const i=Object.keys(r);for(const n of i){const s=+n;if(s>=e){const o=r[n];delete r[n],(t>0||s>e)&&(r[s+t]=o)}}}function Lte(r,e,t,i){return!t||r.type==="mouseout"?null:i?e:r}function d1(r,e,t){return r.options.clip?r[t]:e[t]}function Ste(r,e){const{xScale:t,yScale:i}=r;return t&&i?{left:d1(t,e,"left"),right:d1(t,e,"right"),top:d1(i,e,"top"),bottom:d1(i,e,"bottom")}:e}var Co;let Mn=(Co=class{static register(...e){Yn.add(...e),P6()}static unregister(...e){Yn.remove(...e),P6()}constructor(e,t){const i=this.config=new bte(t),n=IA(e),s=M6(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||jee(n)),this.platform.updateConfig(i);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=RQ(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lte,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=XQ(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],X1[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Rs.listen(this,"complete",I6),Rs.listen(this,"progress",Ete),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:s}=this;return Zt(e)?t&&s?s:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Yn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():r6(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return e6(this.canvas,this.ctx),this}stop(){return Rs.stop(this),this}resize(e,t){Rs.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,n=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,t,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,r6(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Xt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Nt(t,(i,n)=>{i.id=n})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const a=t[o],l=ey(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Nt(s,o=>{const a=o.options,l=a.id,c=ey(l,a),u=Lt(a.type,o.dtype);(a.position===void 0||A6(a.position,c)!==A6(o.dposition))&&(a.position=o.dposition),n[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Yn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),Nt(n,(o,a)=>{o||delete i[a]}),Nt(i,o=>{Fo.configure(this,o,o.options),Fo.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((n,s)=>n.index-s.index),i>t){for(let n=t;n<i;++n)this._destroyDatasetMeta(n);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(k6("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,n)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const s=t[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||J5(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Yn.getController(a),{datasetElementType:c,dataElementType:u}=yi.datasets[a];Object.assign(l,{dataElementType:Yn.getElement(u),datasetElementType:c&&Yn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Nt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!n&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||Nt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(k6("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Nt(this.scales,e=>{Fo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Z9(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:s}of t){const o=i==="_removeElements"?-s:s;Tte(e,n,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),n=i(0);for(let s=1;s<t;s++)if(!Z9(n,i(s)))return;return Array.from(n).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fo.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Nt(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,s)=>{n._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Or(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rs.has(this)?this.attached&&!Rs.running(this)&&Rs.start(this):(this.draw(),I6({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let n,s;for(n=0,s=t.length;n<s;++n){const o=t[n];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,n=!i.disabled,s=Ste(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(n&&Lm(t,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),n&&Sm(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return jd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){const s=xee.modes[t];return typeof s=="function"?s(this,e,i,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let n=i.filter(s=>s&&s._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=Ml(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const n=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,n);Nr(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Rs.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),e6(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete X1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},n=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Nt(this.options.events,s=>i(s,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},n=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),i("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Nt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Nt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const n=i?"set":"remove";let s,o,a,l;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!fg(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const n=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(t,e),a=i?e:s(e,t);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:n=[],options:s}=this,o=t,a=this._getActiveElements(e,n,i,o),l=BQ(e),c=Lte(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Xt(s.onHover,[e,a,this],this),l&&Xt(s.onClick,[e,a,this],this));const u=!fg(a,n);return(u||t)&&(this._active=a,this._updateHoverStyles(a,n,t)),this._lastEvent=c,u}_getActiveElements(e,t,i,n){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}},it(Co,"defaults",yi),it(Co,"instances",X1),it(Co,"overrides",vl),it(Co,"registry",Yn),it(Co,"version",Cte),it(Co,"getChart",M6),Co);function P6(){return Nt(Mn.instances,r=>r._plugins.invalidate())}function MA(r,e,t=e){r.lineCap=Lt(t.borderCapStyle,e.borderCapStyle),r.setLineDash(Lt(t.borderDash,e.borderDash)),r.lineDashOffset=Lt(t.borderDashOffset,e.borderDashOffset),r.lineJoin=Lt(t.borderJoinStyle,e.borderJoinStyle),r.lineWidth=Lt(t.borderWidth,e.borderWidth),r.strokeStyle=Lt(t.borderColor,e.borderColor)}function Ate(r,e,t){r.lineTo(t.x,t.y)}function kte(r){return r.stepped?hJ:r.tension||r.cubicInterpolationMode==="monotone"?dJ:Ate}function PA(r,e,t={}){const i=r.length,{start:n=0,end:s=i-1}=t,{start:o,end:a}=e,l=Math.max(n,o),c=Math.min(s,a),u=n<o&&s<o||n>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function Ite(r,e,t,i){const{points:n,options:s}=e,{count:o,start:a,loop:l,ilen:c}=PA(n,t,i),u=kte(s);let{move:h=!0,reverse:d}=i||{},f,g,m;for(f=0;f<=c;++f)g=n[(a+(d?c-f:f))%o],!g.skip&&(h?(r.moveTo(g.x,g.y),h=!1):u(r,m,g,d,s.stepped),m=g);return l&&(g=n[(a+(d?c:0))%o],u(r,m,g,d,s.stepped)),!!l}function Mte(r,e,t,i){const n=e.points,{count:s,start:o,ilen:a}=PA(n,t,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,g,m,v,y;const _=S=>(o+(c?a-S:S))%s,w=()=>{m!==v&&(r.lineTo(u,v),r.lineTo(u,m),r.lineTo(u,y))};for(l&&(f=n[_(0)],r.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=n[_(d)],f.skip)continue;const S=f.x,k=f.y,P=S|0;P===g?(k<m?m=k:k>v&&(v=k),u=(h*u+S)/++h):(w(),r.lineTo(S,k),g=P,h=0,m=v=k),y=k}w()}function ty(r){const e=r.options,t=e.borderDash&&e.borderDash.length;return!r._decimated&&!r._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Mte:Ite}function Pte(r){return r.stepped?GJ:r.tension||r.cubicInterpolationMode==="monotone"?ZJ:Na}function Rte(r,e,t,i){let n=e._path;n||(n=e._path=new Path2D,e.path(n,t,i)&&n.closePath()),MA(r,e.options),r.stroke(n)}function Dte(r,e,t,i){const{segments:n,options:s}=e,o=ty(e);for(const a of n)MA(r,s,a.style),r.beginPath(),o(r,e,a,{start:t,end:t+i-1})&&r.closePath(),r.stroke()}const Ote=typeof Path2D=="function";function $te(r,e,t,i){Ote&&!e.options.segment?Rte(r,e,t,i):Dte(r,e,t,i)}class Bo extends an{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;VJ(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=eee(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,n=e[t],s=this.points,o=_A(this,{property:t,start:n,end:n});if(!o.length)return;const a=[],l=Pte(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],g=s[d];if(f===g){a.push(f);continue}const m=Math.abs((n-f[t])/(g[t]-f[t])),v=l(f,g,m,i.stepped);v[t]=e[t],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,t,i){return ty(this)(e,this,t,i)}path(e,t,i){const n=this.segments,s=ty(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const a of n)o&=s(e,this,a,{start:t,end:t+i-1});return!!o}draw(e,t,i,n){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),$te(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}it(Bo,"id","line"),it(Bo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),it(Bo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),it(Bo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function R6(r,e,t,i){const n=r.options,{[t]:s}=r.getProps([t],i);return Math.abs(e-s)<n.radius+n.hitRadius}class Q1 extends an{constructor(t){super();it(this,"parsed");it(this,"skip");it(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,n){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return R6(this,t,"x",i)}inYRange(t,i){return R6(this,t,"y",i)}getCenterPoint(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const n=i&&t.borderWidth||0;return(i+n)*2}draw(t,i){const n=this.options;this.skip||n.radius<.1||!jd(this,i,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Y5(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}it(Q1,"id","point"),it(Q1,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),it(Q1,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Vte(r,e,t){const i=r.segments,n=r.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Eb(l,c,n);const u=iy(t,n[l],n[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:n[l],end:n[c]});continue}const h=_A(e,u);for(const d of h){const f=iy(t,s[d.start],s[d.end],d.loop),g=bA(a,n,f);for(const m of g)o.push({source:m,target:d,start:{[t]:D6(u,f,"start",Math.max)},end:{[t]:D6(u,f,"end",Math.min)}})}}return o}function iy(r,e,t,i){if(i)return;let n=e[r],s=t[r];return r==="angle"&&(n=es(n),s=es(s)),{property:r,start:n,end:s}}function Fte(r,e){const{x:t=null,y:i=null}=r||{},n=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Eb(o,a,n);const l=n[o],c=n[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:c.y}))}),s}function Eb(r,e,t){for(;e>r;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function D6(r,e,t,i){return r&&e?i(r[t],e[t]):r?r[t]:e?e[t]:0}function RA(r,e){let t=[],i=!1;return qt(r)?(i=!0,t=r):t=Fte(r,e),t.length?new Bo({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function O6(r){return r&&r.fill!==!1}function Bte(r,e,t){let n=r[e].fill;const s=[e];let o;if(!t)return n;for(;n!==!1&&s.indexOf(n)===-1;){if(!Ni(n))return n;if(o=r[n],!o)return!1;if(o.visible)return n;s.push(n),n=o.fill}return!1}function Nte(r,e,t){const i=jte(r);if(ut(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return Ni(n)&&Math.floor(n)===n?Hte(i[0],e,n,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Hte(r,e,t,i){return(r==="-"||r==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function Ute(r,e){let t=null;return r==="start"?t=e.bottom:r==="end"?t=e.top:ut(r)?t=e.getPixelForValue(r.value):e.getBasePixel&&(t=e.getBasePixel()),t}function zte(r,e,t){let i;return r==="start"?i=t:r==="end"?i=e.options.reverse?e.min:e.max:ut(r)?i=r.value:i=e.getBaseValue(),i}function jte(r){const e=r.options,t=e.fill;let i=Lt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Gte(r){const{scale:e,index:t,line:i}=r,n=[],s=i.segments,o=i.points,a=Zte(e,t);a.push(RA({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)Wte(n,o[u],a)}return new Bo({points:n,options:{}})}function Zte(r,e){const t=[],i=r.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const s=i[n];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function Wte(r,e,t){const i=[];for(let n=0;n<t.length;n++){const s=t[n],{first:o,last:a,point:l}=Kte(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(r.push(l),!a)break}}r.push(...i)}function Kte(r,e,t){const i=r.interpolate(e,t);if(!i)return{};const n=i[t],s=r.segments,o=r.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][t],d=o[u.end][t];if(oA(n,h,d)){a=n===h,l=n===d;break}}return{first:a,last:l,point:i}}class DA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:n,y:s,radius:o}=this;return t=t||{start:0,end:Wi},e.arc(n,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:n}=this,s=e.angle;return{x:t+Math.cos(s)*n,y:i+Math.sin(s)*n,angle:s}}}function qte(r){const{chart:e,fill:t,line:i}=r;if(Ni(t))return Yte(e,t);if(t==="stack")return Gte(r);if(t==="shape")return!0;const n=Xte(r);return n instanceof DA?n:RA(n,i)}function Yte(r,e){const t=r.getDatasetMeta(e);return t&&r.isDatasetVisible(e)?t.dataset:null}function Xte(r){return(r.scale||{}).getPointPositionForValue?Jte(r):Qte(r)}function Qte(r){const{scale:e={},fill:t}=r,i=Ute(t,e);if(Ni(i)){const n=e.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function Jte(r){const{scale:e,fill:t}=r,i=e.options,n=e.getLabels().length,s=i.reverse?e.max:e.min,o=zte(t,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new DA({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)a.push(e.getPointPositionForValue(l,o));return a}function iv(r,e,t){const i=qte(e),{line:n,scale:s,axis:o}=e,a=n.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&n.points.length&&(Lm(r,t),eie(r,{line:n,target:i,above:u,below:h,area:t,scale:s,axis:o}),Sm(r))}function eie(r,e){const{line:t,target:i,above:n,below:s,area:o,scale:a}=e,l=t._loop?"angle":e.axis;r.save(),l==="x"&&s!==n&&($6(r,i,o.top),V6(r,{line:t,target:i,color:n,scale:a,property:l}),r.restore(),r.save(),$6(r,i,o.bottom)),V6(r,{line:t,target:i,color:s,scale:a,property:l}),r.restore()}function $6(r,e,t){const{segments:i,points:n}=e;let s=!0,o=!1;r.beginPath();for(const a of i){const{start:l,end:c}=a,u=n[l],h=n[Eb(l,c,n)];s?(r.moveTo(u.x,u.y),s=!1):(r.lineTo(u.x,t),r.lineTo(u.x,u.y)),o=!!e.pathSegment(r,a,{move:o}),o?r.closePath():r.lineTo(h.x,t)}r.lineTo(e.first().x,t),r.closePath(),r.clip()}function V6(r,e){const{line:t,target:i,property:n,color:s,scale:o}=e,a=Vte(t,i,n);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=s}={}}=l,f=i!==!0;r.save(),r.fillStyle=d,tie(r,o,f&&iy(n,u,h)),r.beginPath();const g=!!t.pathSegment(r,l);let m;if(f){g?r.closePath():F6(r,i,h,n);const v=!!i.pathSegment(r,c,{move:g,reverse:!0});m=g&&v,m||F6(r,i,u,n)}r.closePath(),r.fill(m?"evenodd":"nonzero"),r.restore()}}function tie(r,e,t){const{top:i,bottom:n}=e.chart.chartArea,{property:s,start:o,end:a}=t||{};s==="x"&&(r.beginPath(),r.rect(o,i,a-o,n-i),r.clip())}function F6(r,e,t,i){const n=e.interpolate(t,i);n&&r.lineTo(n.x,n.y)}var iie={id:"filler",afterDatasetsUpdate(r,e,t){const i=(r.data.datasets||[]).length,n=[];let s,o,a,l;for(o=0;o<i;++o)s=r.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Bo&&(l={visible:r.isDatasetVisible(o),index:o,fill:Nte(a,o,i),chart:r,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,n.push(l);for(o=0;o<i;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=Bte(n,o,t.propagate))},beforeDraw(r,e,t){const i=t.drawTime==="beforeDraw",n=r.getSortedVisibleDatasetMetas(),s=r.chartArea;for(let o=n.length-1;o>=0;--o){const a=n[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&iv(r.ctx,a,s))}},beforeDatasetsDraw(r,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=r.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const s=i[n].$filler;O6(s)&&iv(r.ctx,s,r.chartArea)}},beforeDatasetDraw(r,e,t){const i=e.meta.$filler;!O6(i)||t.drawTime!=="beforeDatasetDraw"||iv(r.ctx,i,r.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};class OA extends an{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const n=qt(i.text)?i.text.length:1;this._padding=sn(i.padding);const s=n*wr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:n,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Uh(a,i,s),h=t+e,c=s-i):(o.position==="left"?(u=i+e,h=Uh(a,n,t),l=Pt*-.5):(u=s-e,h=Uh(a,t,n),l=Pt*.5),c=n-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=wr(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);X5(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:c,textAlign:uA(t.align),textBaseline:"middle",translation:[o,a]})}}function rie(r,e){const t=new OA({ctx:r.ctx,options:e,chart:r});Fo.configure(r,t,e),Fo.addBox(r,t),r.titleBlock=t}var nie={id:"title",_element:OA,start(r,e,t){rie(r,t)},stop(r){const e=r.titleBlock;Fo.removeBox(r,e),delete r.titleBlock},beforeUpdate(r,e,t){const i=r.titleBlock;Fo.configure(r,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yh={average(r){if(!r.length)return!1;let e,t,i=new Set,n=0,s=0;for(e=0,t=r.length;e<t;++e){const a=r[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),n+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/s}},nearest(r,e){if(!r.length)return!1;let t=e.x,i=e.y,n=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=r.length;s<o;++s){const l=r[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=nu(e,c);u<n&&(n=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Wn(r,e){return e&&(qt(e)?Array.prototype.push.apply(r,e):r.push(e)),r}function Ds(r){return(typeof r=="string"||r instanceof String)&&r.indexOf(`
`)>-1?r.split(`
`):r}function sie(r,e){const{element:t,datasetIndex:i,index:n}=e,s=r.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(n);return{chart:r,label:o,parsed:s.getParsed(n),raw:r.data.datasets[i].data[n],formattedValue:a,dataset:s.getDataset(),dataIndex:n,datasetIndex:i,element:t}}function B6(r,e){const t=r.chart.ctx,{body:i,footer:n,title:s}=r,{boxWidth:o,boxHeight:a}=e,l=wr(e.bodyFont),c=wr(e.titleFont),u=wr(e.footerFont),h=s.length,d=n.length,f=i.length,g=sn(e.padding);let m=g.height,v=0,y=i.reduce((S,k)=>S+k.before.length+k.lines.length+k.after.length,0);if(y+=r.beforeBody.length+r.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*S+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let _=0;const w=function(S){v=Math.max(v,t.measureText(S).width+_)};return t.save(),t.font=c.string,Nt(r.title,w),t.font=l.string,Nt(r.beforeBody.concat(r.afterBody),w),_=e.displayColors?o+2+e.boxPadding:0,Nt(i,S=>{Nt(S.before,w),Nt(S.lines,w),Nt(S.after,w)}),_=0,t.font=u.string,Nt(r.footer,w),t.restore(),v+=g.width,{width:v,height:m}}function oie(r,e){const{y:t,height:i}=e;return t<i/2?"top":t>r.height-i/2?"bottom":"center"}function aie(r,e,t,i){const{x:n,width:s}=i,o=t.caretSize+t.caretPadding;if(r==="left"&&n+s+o>e.width||r==="right"&&n-s-o<0)return!0}function lie(r,e,t,i){const{x:n,width:s}=t,{width:o,chartArea:{left:a,right:l}}=r;let c="center";return i==="center"?c=n<=(a+l)/2?"left":"right":n<=s/2?c="left":n>=o-s/2&&(c="right"),aie(c,r,e,t)&&(c="center"),c}function N6(r,e,t){const i=t.yAlign||e.yAlign||oie(r,t);return{xAlign:t.xAlign||e.xAlign||lie(r,e,t,i),yAlign:i}}function cie(r,e){let{x:t,width:i}=r;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function uie(r,e,t){let{y:i,height:n}=r;return e==="top"?i+=t:e==="bottom"?i-=n+t:i-=n/2,i}function H6(r,e,t,i){const{caretSize:n,caretPadding:s,cornerRadius:o}=r,{xAlign:a,yAlign:l}=t,c=n+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Gh(o);let g=cie(e,a);const m=uie(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+n:a==="right"&&(g+=Math.max(h,f)+n),{x:vn(g,0,i.width-e.width),y:vn(m,0,i.height-e.height)}}function f1(r,e,t){const i=sn(t.padding);return e==="center"?r.x+r.width/2:e==="right"?r.x+r.width-i.right:r.x+i.left}function U6(r){return Wn([],Ds(r))}function hie(r,e,t){return Ml(r,{tooltip:e,tooltipItems:t,type:"tooltip"})}function z6(r,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?r.override(t):r}const $A={beforeTitle:ks,title(r){if(r.length>0){const e=r[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:ks,beforeBody:ks,beforeLabel:ks,label(r){if(this&&this.options&&this.options.mode==="dataset")return r.label+": "+r.formattedValue||r.formattedValue;let e=r.dataset.label||"";e&&(e+=": ");const t=r.formattedValue;return Zt(t)||(e+=t),e},labelColor(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(r){const t=r.chart.getDatasetMeta(r.datasetIndex).controller.getStyle(r.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ks,afterBody:ks,beforeFooter:ks,footer:ks,afterFooter:ks};function Er(r,e,t,i){const n=r[e].call(t,i);return typeof n>"u"?$A[e].call(t,i):n}class ry extends an{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,s=new Cb(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=hie(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,n=Er(i,"beforeTitle",this,e),s=Er(i,"title",this,e),o=Er(i,"afterTitle",this,e);let a=[];return a=Wn(a,Ds(n)),a=Wn(a,Ds(s)),a=Wn(a,Ds(o)),a}getBeforeBody(e,t){return U6(Er(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,n=[];return Nt(e,s=>{const o={before:[],lines:[],after:[]},a=z6(i,s);Wn(o.before,Ds(Er(a,"beforeLabel",this,s))),Wn(o.lines,Er(a,"label",this,s)),Wn(o.after,Ds(Er(a,"afterLabel",this,s))),n.push(o)}),n}getAfterBody(e,t){return U6(Er(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,n=Er(i,"beforeFooter",this,e),s=Er(i,"footer",this,e),o=Er(i,"afterFooter",this,e);let a=[];return a=Wn(a,Ds(n)),a=Wn(a,Ds(s)),a=Wn(a,Ds(o)),a}_createItems(e){const t=this._active,i=this.chart.data,n=[],s=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(sie(this.chart,t[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),Nt(a,u=>{const h=z6(e.callbacks,u);n.push(Er(h,"labelColor",this,u)),s.push(Er(h,"labelPointStyle",this,u)),o.push(Er(h,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const i=this.options.setContext(this.getContext()),n=this._active;let s,o=[];if(!n.length)this.opacity!==0&&(s={opacity:0});else{const a=yh[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=B6(this,i),c=Object.assign({},a,l),u=N6(this.chart,i,c),h=H6(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){const s=this.getCaretPosition(e,i,n);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:n,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Gh(a),{x:d,y:f}=e,{width:g,height:m}=t;let v,y,_,w,S,k;return s==="center"?(S=f+m/2,n==="left"?(v=d,y=v-o,w=S+o,k=S-o):(v=d+g,y=v+o,w=S-o,k=S+o),_=v):(n==="left"?y=d+Math.max(l,u)+o:n==="right"?y=d+g-Math.max(c,h)-o:y=this.caretX,s==="top"?(w=f,S=w-o,v=y-o,_=y+o):(w=f+m,S=w+o,v=y+o,_=y-o),k=w),{x1:v,x2:y,x3:_,y1:w,y2:S,y3:k}}drawTitle(e,t,i){const n=this.title,s=n.length;let o,a,l;if(s){const c=q2(i.rtl,this.x,this.width);for(e.x=f1(this,i.titleAlign,i),t.textAlign=c.textAlign(i.titleAlign),t.textBaseline="middle",o=wr(i.titleFont),a=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,l=0;l<s;++l)t.fillText(n[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,t,i,n,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=wr(s.bodyFont),h=f1(this,"left",s),d=n.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,g=t.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=n.leftForLtr(d,c)+c/2,y=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Y5(e,m,v,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Y5(e,m,v,y)}else{e.lineWidth=ut(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=n.leftForLtr(d,c),v=n.leftForLtr(n.xPlus(d,1),c-2),y=Gh(o.borderRadius);Object.values(y).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Q5(e,{x:m,y:g,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Q5(e,{x:v,y:g+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:n}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=wr(i.bodyFont);let d=h.lineHeight,f=0;const g=q2(i.rtl,this.x,this.width),m=function(C){t.fillText(C,g.x(e.x+f),e.y+d/2),e.y+=d+s},v=g.textAlign(o);let y,_,w,S,k,P,x;for(t.textAlign=o,t.textBaseline="middle",t.font=h.string,e.x=f1(this,v,i),t.fillStyle=i.bodyColor,Nt(this.beforeBody,m),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,S=0,P=n.length;S<P;++S){for(y=n[S],_=this.labelTextColors[S],t.fillStyle=_,Nt(y.before,m),w=y.lines,a&&w.length&&(this._drawColorBox(t,e,S,g,i),d=Math.max(h.lineHeight,l)),k=0,x=w.length;k<x;++k)m(w[k]),d=h.lineHeight;Nt(y.after,m)}f=0,d=h.lineHeight,Nt(this.afterBody,m),e.y-=s}drawFooter(e,t,i){const n=this.footer,s=n.length;let o,a;if(s){const l=q2(i.rtl,this.x,this.width);for(e.x=f1(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=l.textAlign(i.footerAlign),t.textBaseline="middle",o=wr(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,a=0;a<s;++a)t.fillText(n[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=Gh(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(a+h,l),o==="top"&&this.drawCaret(e,t,i,n),t.lineTo(a+c-d,l),t.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,t,i,n),t.lineTo(a+c,l+u-g),t.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,t,i,n),t.lineTo(a+f,l+u),t.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,t,i,n),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,n=i&&i.x,s=i&&i.y;if(n||s){const o=yh[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=B6(this,e),l=Object.assign({},o,this._size),c=N6(t,e,l),u=H6(e,l,c,t);(n._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=sn(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,n,t),qJ(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),YJ(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,n=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!fg(i,n),o=this._positionChanged(n,t);(s||o)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),a=this._positionChanged(o,e),l=t||!fg(o,s)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,i,n){const s=this.options;if(e.type==="mouseout")return[];if(!n)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:n,options:s}=this,o=yh[s.position].call(this,e,t);return o!==!1&&(i!==o.x||n!==o.y)}}it(ry,"positioners",yh);var die={id:"tooltip",_element:ry,positioners:yh,afterInit(r,e,t){t&&(r.tooltip=new ry({chart:r,options:t}))},beforeUpdate(r,e,t){r.tooltip&&r.tooltip.initialize(t)},reset(r,e,t){r.tooltip&&r.tooltip.initialize(t)},afterDraw(r){const e=r.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(r.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(r.ctx),r.notifyPlugins("afterTooltipDraw",t)}},afterEvent(r,e){if(r.tooltip){const t=e.replay;r.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(r,e)=>e.bodyFont.size,boxWidth:(r,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$A},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:r=>r!=="filter"&&r!=="itemSort"&&r!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const fie=(r,e,t,i)=>(typeof e=="string"?(t=r.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function pie(r,e,t,i){const n=r.indexOf(e);if(n===-1)return fie(r,e,t,i);const s=r.lastIndexOf(e);return n!==s?t:n}const gie=(r,e)=>r===null?null:vn(Math.round(r),0,e);function j6(r){const e=this.getLabels();return r>=0&&r<e.length?e[r]:r}class ny extends xu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:n,label:s}of t)i[n]===s&&i.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Zt(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:pie(i,e,Lt(t,e),this._addedLabels),gie(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,n=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)n.push({value:o});return n}getLabelForValue(e){return j6.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}it(ny,"id","category"),it(ny,"defaults",{ticks:{callback:j6}});function mie(r,e){const t=[],{bounds:n,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=r,f=s||1,g=u-1,{min:m,max:v}=e,y=!Zt(o),_=!Zt(a),w=!Zt(c),S=(v-m)/(h+1);let k=W9((v-m)/g/f)*f,P,x,C,E;if(k<1e-14&&!y&&!_)return[{value:m},{value:v}];E=Math.ceil(v/k)-Math.floor(m/k),E>g&&(k=W9(E*k/g/f)*f),Zt(l)||(P=Math.pow(10,l),k=Math.ceil(k*P)/P),n==="ticks"?(x=Math.floor(m/k)*k,C=Math.ceil(v/k)*k):(x=m,C=v),y&&_&&s&&zQ((a-o)/s,k/1e3)?(E=Math.round(Math.min((a-o)/k,u)),k=(a-o)/E,x=o,C=a):w?(x=y?o:x,C=_?a:C,E=c-1,k=(C-x)/E):(E=(C-x)/k,Hh(E,Math.round(E),k/1e3)?E=Math.round(E):E=Math.ceil(E));const A=Math.max(K9(k),K9(x));P=Math.pow(10,Zt(l)?A:l),x=Math.round(x*P)/P,C=Math.round(C*P)/P;let I=0;for(y&&(d&&x!==o?(t.push({value:o}),x<o&&I++,Hh(Math.round((x+I*k)*P)/P,o,G6(o,S,r))&&I++):x<o&&I++);I<E;++I){const D=Math.round((x+I*k)*P)/P;if(_&&D>a)break;t.push({value:D})}return _&&d&&C!==a?t.length&&Hh(t[t.length-1].value,a,G6(a,S,r))?t[t.length-1].value=a:t.push({value:a}):(!_||C===a)&&t.push({value:C}),t}function G6(r,e,{horizontal:t,minRotation:i}){const n=Vi(i),s=(t?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+r).length;return Math.min(e/s,o)}class vie extends xu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Zt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:s}=this;const o=l=>n=t?n:l,a=l=>s=i?s:l;if(e){const l=ru(n),c=ru(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(n===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(n-l)}this.min=n,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=mie(n,s);return e.bounds==="ticks"&&jQ(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return mb(e,this.chart.options.locale,this.options.ticks.format)}}class sy extends vie{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ni(e)?e:0,this.max=Ni(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Vi(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}it(sy,"id","linear"),it(sy,"defaults",{ticks:{callback:hA.formatters.numeric}});const Im={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ir=Object.keys(Im);function Z6(r,e){return r-e}function W6(r,e){if(Zt(e))return null;const t=r._adapter,{parser:i,round:n,isoWeekday:s}=r._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ni(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(n&&(o=n==="week"&&(ha(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,n)),+o)}function K6(r,e,t,i){const n=Ir.length;for(let s=Ir.indexOf(r);s<n-1;++s){const o=Im[Ir[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return Ir[s]}return Ir[n-1]}function yie(r,e,t,i,n){for(let s=Ir.length-1;s>=Ir.indexOf(t);s--){const o=Ir[s];if(Im[o].common&&r._adapter.diff(n,i,o)>=e-1)return o}return Ir[t?Ir.indexOf(t):0]}function bie(r){for(let e=Ir.indexOf(r)+1,t=Ir.length;e<t;++e)if(Im[Ir[e]].common)return Ir[e]}function q6(r,e,t){if(!t)r[e]=!0;else if(t.length){const{lo:i,hi:n}=pb(t,e),s=t[i]>=e?t[i]:t[n];r[s]=!0}}function _ie(r,e,t,i){const n=r._adapter,s=+n.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+n.add(a,1,i))l=t[a],l>=0&&(e[l].major=!0);return e}function Y6(r,e,t){const i=[],n={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],n[a]=o,i.push({value:a,major:!1});return s===0||!t?i:_ie(r,i,n,t)}class wg extends xu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),n=this._adapter=new yee._date(e.adapters.date);n.init(t),Nh(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:W6(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:n,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=Ni(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),s=Ni(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const s=this.min,o=this.max,a=KQ(n,s,o);return this._unit=t.unit||(i.autoSkip?K6(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):yie(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:bie(this._unit),this.initOffsets(n),e.reverse&&a.reverse(),Y6(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,n,s;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?t=1-n:t=(this.getDecimalForValue(e[1])-n)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=vn(t,0,o),i=vn(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,n=this.options,s=n.time,o=s.unit||K6(s.minUnit,t,i,this._getLabelCapacity(t)),a=Lt(n.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ha(l)||l===!0,u={};let h=t,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,t,o)>1e5*a)throw new Error(t+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)q6(u,d,g);return(d===i||n.bounds==="ticks"||f===1)&&q6(u,d,g),Object.keys(u).sort(Z6).map(m=>+m)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,s=this._unit,o=t||n[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,n){const s=this.options,o=s.ticks.callback;if(o)return Xt(o,[e,t,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[t],f=c&&h&&d&&d.major;return this._adapter.format(e,n||(f?h:u))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,n=Vi(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Y6(this,[e],this._majorUnit),n),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,i=n.length;t<i;++t)e=e.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const n=this.getLabels();for(t=0,i=n.length;t<i;++t)e.push(W6(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return YQ(e.sort(Z6))}}it(wg,"id","time"),it(wg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function p1(r,e,t){let i=0,n=r.length-1,s,o,a,l;t?(e>=r[i].pos&&e<=r[n].pos&&({lo:i,hi:n}=Wa(r,"pos",e)),{pos:s,time:a}=r[i],{pos:o,time:l}=r[n]):(e>=r[i].time&&e<=r[n].time&&({lo:i,hi:n}=Wa(r,"time",e)),{time:s,pos:a}=r[i],{time:o,pos:l}=r[n]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class X6 extends wg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=p1(t,this.min),this._tableRange=p1(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,n=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=i&&n.push(c);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=n.length;o<a;++o)u=n[o+1],l=n[o-1],c=n[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((n,s)=>n-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(p1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return p1(this._table,i*this._tableRange+this._minPos,!0)}}it(X6,"id","timeseries"),it(X6,"defaults",wg.defaults);const VA={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},wie={ariaLabel:{type:String},ariaDescribedby:{type:String}},Cie={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...VA,...wie},xie=zC[0]==="2"?(r,e)=>Object.assign(r,{attrs:e}):(r,e)=>Object.assign(r,e);function jl(r){return tf(r)?yt(r):r}function Eie(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;return tf(e)?new Proxy(r,{}):r}function Tie(r,e){const t=r.options;t&&e&&Object.assign(t,e)}function FA(r,e){r.labels=e}function BA(r,e,t){const i=[];r.datasets=e.map(n=>{const s=r.datasets.find(o=>o[t]===n[t]);return!s||!n.data||i.includes(s)?{...n}:(i.push(s),Object.assign(s,n),s)})}function Lie(r,e){const t={labels:[],datasets:[]};return FA(t,r.labels),BA(t,r.datasets,e),t}const Sie=Ne({props:Cie,setup(r,e){let{expose:t,slots:i}=e;const n=je(null),s=rf(null);t({chart:s});const o=()=>{if(!n.value)return;const{type:c,data:u,options:h,plugins:d,datasetIdKey:f}=r,g=Lie(u,f),m=Eie(g,u);s.value=new Mn(n.value,{type:c,data:m,options:{...h},plugins:d})},a=()=>{const c=yt(s.value);c&&(r.destroyDelay>0?setTimeout(()=>{c.destroy(),s.value=null},r.destroyDelay):(c.destroy(),s.value=null))},l=c=>{c.update(r.updateMode)};return Fn(o),Gg(a),Cr([()=>r.options,()=>r.data],(c,u)=>{let[h,d]=c,[f,g]=u;const m=yt(s.value);if(!m)return;let v=!1;if(h){const y=jl(h),_=jl(f);y&&y!==_&&(Tie(m,y),v=!0)}if(d){const y=jl(d.labels),_=jl(g.labels),w=jl(d.datasets),S=jl(g.datasets);y!==_&&(FA(m.config.data,y),v=!0),w&&w!==S&&(BA(m.config.data,w,r.datasetIdKey),v=!0)}v&&du(()=>{l(m)})},{deep:!0}),()=>lt("canvas",{role:"img",ariaLabel:r.ariaLabel,ariaDescribedby:r.ariaDescribedby,ref:n},[lt("p",{},[i.default?i.default():""])])}});function Aie(r,e){return Mn.register(e),Ne({props:VA,setup(t,i){let{expose:n}=i;const s=rf(null),o=a=>{s.value=a==null?void 0:a.chart};return n({chart:s}),()=>lt(Sie,xie({ref:o},{type:r,...t}))}})}const kie=Aie("scatter",q1);/*!
 * chartjs-plugin-gradient v0.6.1
 * https://github.com/kurkle/chartjs-plugin-gradient#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */const Iie=Mn.version,Mie=(r,e)=>r.parse(e);function Pie(r,e){const t=ha(e)?parseFloat(e):Mie(r,e);return r.getPixelForValue(t)}const NA=r=>r&&r.right>r.left&&r.bottom>r.top;function HA(r,e,t){return e==="r"?r.createRadialGradient(t.xCenter,t.yCenter,0,t.xCenter,t.yCenter,t.drawingArea):e==="y"?r.createLinearGradient(0,t.bottom,0,t.top):r.createLinearGradient(t.left,0,t.right,0)}function UA(r,e){e.forEach(function(t){r.addColorStop(t.stop,t.color.rgbString())})}function zA(r,e,t){if(r.options.has(e.key)){const n=r.options.get(e.key).filter(s=>s.datasetIndex===t);if(n.length)return n[0]}}function jA(r,e){if(r.type==="radialLinear"){const s=r.getDistanceFromCenterForValue(e);return{pixel:s,stop:s/r.drawingArea}}const t=r.options.reverse,i=Pie(r,e),n=r.getDecimalForPixel(i);return{pixel:i,stop:t?1-n:n}}const rv=r=>r<=.0031308?r*12.92:Math.pow(r,1/2.4)*1.055-.055,Gl=r=>r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4);function Rie(r,e,t){const i=e.color.rgb,n=Gl(i.r/255),s=Gl(i.g/255),o=Gl(i.b/255),a=t.color.rgb,l=Gl(a.r/255),c=Gl(a.g/255),u=Gl(a.b/255);return yg({r:Math.round(rv(n+r*(l-n))*255),g:Math.round(rv(s+r*(c-s))*255),b:Math.round(rv(o+r*(u-o))*255),a:i.a+r*Math.abs(a.a-i.a)})}function Die(r,e,t,i){const n=zA(r,e,t);if(!n||!n.stopColors.length)return;const{stop:s}=jA(n.scale,i);let o,a;for(const l of n.stopColors){if(l.stop===s)return l.color;l.stop<s?o=l:l.stop>s&&!a&&(a=l)}return a?Rie(s,o,a):o}const GA=[{key:"backgroundColor",legendItemKey:"fillStyle"},{key:"borderColor",legendItemKey:"strokeStyle"}],Oie=(r,e)=>e.labels&&e.labels.font&&Nr(e.labels.font.size)?e.labels.font.size:r.options.font.size;function $ie(r,e,t,i,n){const s=zA(r,t,i.datasetIndex);if(!s||!s.stopColors.length)return;const o=HA(e,s.axis,n);UA(o,s.stopColors),i[t.legendItemKey]=o}function Vie(r,{boxWidth:e,boxHeight:t}){return{top:r.top,left:r.left,bottom:r.top+t,right:r.left+e,xCenter:r.left+e/2,yCenter:r.top+t/2,drawingArea:Math.max(e,t)/2}}function Fie(r,e,t,i){const n=r.legend.legendHitBoxes[t.datasetIndex],s=Vie(n,i);NA(s)&&GA.forEach(function(o){$ie(e,r.ctx,o,t,s)})}function Bie(r,e,t,i){for(const n of r.legend.legendItems)GA.forEach(function(s){const o=t.data[n.index],a=Die(e,s,i,o);a&&a.valid&&(n[s.legendItemKey]=a.rgbString())})}function Nie(r,e){const t=r.legend,i=t.options,n=i.labels.boxHeight?i.labels.boxHeight:Oie(r,i),s=i.labels.boxWidth,o=r.data.datasets;for(let a=0;a<o.length;a++){const l=t.legendItems[a];l.datasetIndex===a?Fie(r,e,l,{boxWidth:s,boxHeight:n}):Bie(r,e,o[a],a)}}const g1=new Map,Hie=(r,e)=>r[e+"Scale"];function Uie(r,e,t){for(const i of Object.keys(e)){const{pixel:n,stop:s}=jA(r,i);if(isFinite(n)&&isFinite(s)){const o=yg(e[i]);o&&o.valid&&t.push({stop:Math.max(0,Math.min(1,s)),color:o})}}t.sort((i,n)=>i.stop-n.stop)}function zie(r,e,t,i){e[t]=i,r.dataset&&(r.dataset.options?r.dataset.options[t]=i:r.dataset[t]=i)}function jie(r,e,t,i){let n=r.options.get(t);return n?e.hidden||(n=n.filter(s=>s.datasetIndex!==i),r.options.set(t,n)):(n=[],r.options.set(t,n)),n}function Gie(r,e,t,i,n){const s=r.ctx,o=r.getDatasetMeta(n);if(!o.hidden)for(const[a,l]of Object.entries(t)){const{axis:c,colors:u}=l;if(!u)continue;const h=Hie(o,c);if(!h){console.warn(`Scale not found for '${c}'-axis in datasets[${n}] of chart id ${r.id}, skipping.`);continue}const d=jie(e,o,a,n),f={datasetIndex:n,axis:c,scale:h,stopColors:[]};d.push(f);const g=HA(s,c,h);Uie(h,u,f.stopColors),f.stopColors.length&&(UA(g,f.stopColors),zie(o,i,a,g))}}var Zie={id:"gradient",beforeInit(r){const e={};e.options=new Map,g1.set(r,e)},beforeDatasetsUpdate(r){const e=r.chartArea;if(!NA(e))return;const t=g1.get(r),i=r.data.datasets;for(let n=0;n<i.length;n++){const s=i[n],o=s.gradient;o&&Gie(r,t,o,s,n)}},afterUpdate(r){const e=g1.get(r);r.legend&&r.legend.options.display!==!1&&Iie&&Nie(r,e)},destroy(r){g1.delete(r)}};/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */const Q6={modes:{point(r,e){return J1(r,e,{intersect:!0})},nearest(r,e,t){return qie(r,e,t)},x(r,e,t){return J1(r,e,{intersect:t.intersect,axis:"x"})},y(r,e,t){return J1(r,e,{intersect:t.intersect,axis:"y"})}}};function Tb(r,e,t){return(Q6.modes[t.mode]||Q6.modes.nearest)(r,e,t)}function Wie(r,e,t){return t!=="x"&&t!=="y"?r.inRange(e.x,e.y,"x",!0)||r.inRange(e.x,e.y,"y",!0):r.inRange(e.x,e.y,t,!0)}function Kie(r,e,t){return t==="x"?{x:r.x,y:e.y}:t==="y"?{x:e.x,y:r.y}:e}function J1(r,e,t){return r.filter(i=>t.intersect?i.inRange(e.x,e.y):Wie(i,e,t.axis))}function qie(r,e,t){let i=Number.POSITIVE_INFINITY;return J1(r,e,t).reduce((n,s)=>{const o=s.getCenterPoint(),a=Kie(e,o,t.axis),l=nu(e,a);return l<i?(n=[s],i=l):l===i&&n.push(s),n},[]).sort((n,s)=>n._index-s._index).slice(0,1)}function Pl(r,e,t){const i=Math.cos(t),n=Math.sin(t),s=e.x,o=e.y;return{x:s+i*(r.x-s)-n*(r.y-o),y:o+n*(r.x-s)+i*(r.y-o)}}const Yie=(r,e)=>e>r||r.length>e.length&&r.slice(0,e.length)===e,Ka=.001,Mm=(r,e,t)=>Math.min(t,Math.max(e,r)),ZA=(r,e)=>r.value>=r.start-e&&r.value<=r.end+e;function Xie(r,e,t){for(const i of Object.keys(r))r[i]=Mm(r[i],e,t);return r}function Qie(r,e,t,i){return!r||!e||t<=0?!1:Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2)<=Math.pow(t+i,2)}function WA(r,{x:e,y:t,x2:i,y2:n},s,{borderWidth:o,hitTolerance:a}){const l=(o+a)/2,c=r.x>=e-l-Ka&&r.x<=i+l+Ka,u=r.y>=t-l-Ka&&r.y<=n+l+Ka;return s==="x"?c:(s==="y"||c)&&u}function KA(r,{rect:e,center:t},i,{rotation:n,borderWidth:s,hitTolerance:o}){const a=Pl(r,t,Vi(-n));return WA(a,e,i,{borderWidth:s,hitTolerance:o})}function Rl(r,e){const{centerX:t,centerY:i}=r.getProps(["centerX","centerY"],e);return{x:t,y:i}}function Jie(r,e,t,i=!0){const n=t.split(".");let s=0;for(const o of e.split(".")){const a=n[s++];if(parseInt(o,10)<parseInt(a,10))break;if(Yie(a,o)){if(i)throw new Error(`${r} v${t} is not supported. v${e} or newer is required.`);return!1}}return!0}const qA=r=>typeof r=="string"&&r.endsWith("%"),YA=r=>parseFloat(r)/100,XA=r=>Mm(YA(r),0,1),Qu=(r,e)=>({x:r,y:e,x2:r,y2:e,width:0,height:0}),ere={box:r=>Qu(r.centerX,r.centerY),doughnutLabel:r=>Qu(r.centerX,r.centerY),ellipse:r=>({centerX:r.centerX,centerY:r.centerX,radius:0,width:0,height:0}),label:r=>Qu(r.centerX,r.centerY),line:r=>Qu(r.x,r.y),point:r=>({centerX:r.centerX,centerY:r.centerY,radius:0,width:0,height:0}),polygon:r=>Qu(r.centerX,r.centerY)};function Lb(r,e){return e==="start"?0:e==="end"?r:qA(e)?XA(e)*r:r/2}function da(r,e,t=!0){return typeof e=="number"?e:qA(e)?(t?XA(e):YA(e))*r:r}function tre(r,e){const{x:t,width:i}=r,n=e.textAlign;return n==="center"?t+i/2:n==="end"||n==="right"?t+i:t}function QA(r,e,{borderWidth:t,position:i,xAdjust:n,yAdjust:s},o){const a=ut(o),l=e.width+(a?o.width:0)+t,c=e.height+(a?o.height:0)+t,u=Sb(i),h=J6(r.x,l,n,u.x),d=J6(r.y,c,s,u.y);return{x:h,y:d,x2:h+l,y2:d+c,width:l,height:c,centerX:h+l/2,centerY:d+c/2}}function Sb(r,e="center"){return ut(r)?{x:Lt(r.x,e),y:Lt(r.y,e)}:(r=Lt(r,e),{x:r,y:r})}const JA=(r,e)=>r&&r.autoFit&&e<1;function ek(r,e){const t=r.font,i=qt(t)?t:[t];return JA(r,e)?i.map(function(n){const s=wr(n);return s.size=Math.floor(n.size*e),s.lineHeight=n.lineHeight,wr(s)}):i.map(n=>wr(n))}function tk(r){return r&&(Nr(r.xValue)||Nr(r.yValue))}function J6(r,e,t=0,i){return r-Lb(e,i)+t}function Eu(r,e,t){const i=t.init;if(i){if(i===!0)return rk(e,t)}else return;return ire(r,e,t)}function ik(r,e,t){let i=!1;return e.forEach(n=>{Or(r[n])?(i=!0,t[n]=r[n]):Nr(t[n])&&delete t[n]}),i}function rk(r,e){const t=e.type||"line";return ere[t](r)}function ire(r,e,t){const i=Xt(t.init,[{chart:r,properties:e,options:t}]);if(i===!0)return rk(e,t);if(ut(i))return i}const nv=new Map,rre=r=>isNaN(r)||r<=0,nre=r=>r.reduce(function(e,t){return e+=t.string,e},"");function Pm(r){if(r&&typeof r=="object"){const e=r.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function Rm(r,{x:e,y:t},i){i&&(r.translate(e,t),r.rotate(Vi(i)),r.translate(-e,-t))}function lo(r,e){if(e&&e.borderWidth)return r.lineCap=e.borderCapStyle||"butt",r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.lineJoin=e.borderJoinStyle||"miter",r.lineWidth=e.borderWidth,r.strokeStyle=e.borderColor,!0}function Tu(r,e){r.shadowColor=e.backgroundShadowColor,r.shadowBlur=e.shadowBlur,r.shadowOffsetX=e.shadowOffsetX,r.shadowOffsetY=e.shadowOffsetY}function Dm(r,e){const t=e.content;if(Pm(t))return{width:da(t.width,e.width),height:da(t.height,e.height)};const i=ek(e),n=e.textStrokeWidth,s=qt(t)?t:[t],o=s.join()+nre(i)+n+(r._measureText?"-spriting":"");return nv.has(o)||nv.set(o,lre(r,s,i,n)),nv.get(o)}function nk(r,e,t){const{x:i,y:n,width:s,height:o}=e;r.save(),Tu(r,t);const a=lo(r,t);r.fillStyle=t.backgroundColor,r.beginPath(),Q5(r,{x:i,y:n,w:s,h:o,radius:Xie(Gh(t.borderRadius),0,Math.min(s,o)/2)}),r.closePath(),r.fill(),a&&(r.shadowColor=t.borderShadowColor,r.stroke()),r.restore()}function sk(r,e,t,i){const n=t.content;if(Pm(n)){r.save(),r.globalAlpha=hre(t.opacity,n.style.opacity),r.drawImage(n,e.x,e.y,e.width,e.height),r.restore();return}const s=qt(n)?n:[n],o=ek(t,i),a=t.color,l=qt(a)?a:[a],c=tre(e,t),u=e.y+t.textStrokeWidth/2;r.save(),r.textBaseline="middle",r.textAlign=t.textAlign,sre(r,t)&&cre(r,{x:c,y:u},s,o),ure(r,{x:c,y:u},s,{fonts:o,colors:l}),r.restore()}function sre(r,e){if(e.textStrokeWidth>0)return r.lineJoin="round",r.miterLimit=2,r.lineWidth=e.textStrokeWidth,r.strokeStyle=e.textStrokeColor,!0}function ore(r,e,t,i){const{radius:n,options:s}=e,o=s.pointStyle,a=s.rotation;let l=(a||0)*fb;if(Pm(o)){r.save(),r.translate(t,i),r.rotate(l),r.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),r.restore();return}rre(n)||are(r,{x:t,y:i,radius:n,rotation:a,style:o,rad:l})}function are(r,{x:e,y:t,radius:i,rotation:n,style:s,rad:o}){let a,l,c,u;switch(r.beginPath(),s){default:r.arc(e,t,i,0,Wi),r.closePath();break;case"triangle":r.moveTo(e+Math.sin(o)*i,t-Math.cos(o)*i),o+=mg,r.lineTo(e+Math.sin(o)*i,t-Math.cos(o)*i),o+=mg,r.lineTo(e+Math.sin(o)*i,t-Math.cos(o)*i),r.closePath();break;case"rectRounded":u=i*.516,c=i-u,a=Math.cos(o+fn)*c,l=Math.sin(o+fn)*c,r.arc(e-a,t-l,u,o-Pt,o-Ki),r.arc(e+l,t-a,u,o-Ki,o),r.arc(e+a,t+l,u,o,o+Ki),r.arc(e-l,t+a,u,o+Ki,o+Pt),r.closePath();break;case"rect":if(!n){c=Math.SQRT1_2*i,r.rect(e-c,t-c,2*c,2*c);break}o+=fn;case"rectRot":a=Math.cos(o)*i,l=Math.sin(o)*i,r.moveTo(e-a,t-l),r.lineTo(e+l,t-a),r.lineTo(e+a,t+l),r.lineTo(e-l,t+a),r.closePath();break;case"crossRot":o+=fn;case"cross":a=Math.cos(o)*i,l=Math.sin(o)*i,r.moveTo(e-a,t-l),r.lineTo(e+a,t+l),r.moveTo(e+l,t-a),r.lineTo(e-l,t+a);break;case"star":a=Math.cos(o)*i,l=Math.sin(o)*i,r.moveTo(e-a,t-l),r.lineTo(e+a,t+l),r.moveTo(e+l,t-a),r.lineTo(e-l,t+a),o+=fn,a=Math.cos(o)*i,l=Math.sin(o)*i,r.moveTo(e-a,t-l),r.lineTo(e+a,t+l),r.moveTo(e+l,t-a),r.lineTo(e-l,t+a);break;case"line":a=Math.cos(o)*i,l=Math.sin(o)*i,r.moveTo(e-a,t-l),r.lineTo(e+a,t+l);break;case"dash":r.moveTo(e,t),r.lineTo(e+Math.cos(o)*i,t+Math.sin(o)*i);break}r.fill()}function lre(r,e,t,i){r.save();const n=e.length;let s=0,o=i;for(let a=0;a<n;a++){const l=t[Math.min(a,t.length-1)];r.font=l.string;const c=e[a];s=Math.max(s,r.measureText(c).width+i),o+=l.lineHeight}return r.restore(),{width:s,height:o}}function cre(r,{x:e,y:t},i,n){r.beginPath();let s=0;i.forEach(function(o,a){const l=n[Math.min(a,n.length-1)],c=l.lineHeight;r.font=l.string,r.strokeText(o,e,t+c/2+s),s+=c}),r.stroke()}function ure(r,{x:e,y:t},i,{fonts:n,colors:s}){let o=0;i.forEach(function(a,l){const c=s[Math.min(l,s.length-1)],u=n[Math.min(l,n.length-1)],h=u.lineHeight;r.beginPath(),r.font=u.string,r.fillStyle=c,r.fillText(a,e,t+h/2+o),o+=h,r.fill()})}function hre(r,e){const t=ha(r)?r:e;return ha(t)?Mm(t,0,1):1}const ok=["left","bottom","top","right"];function dre(r,e){const{pointX:t,pointY:i,options:n}=e,s=n.callout,o=s&&s.display&&vre(e,s);if(!o||bre(e,s,o))return;if(r.save(),r.beginPath(),!lo(r,s))return r.restore();const{separatorStart:l,separatorEnd:c}=fre(e,o),{sideStart:u,sideEnd:h}=gre(e,o,l);(s.margin>0||n.borderWidth===0)&&(r.moveTo(l.x,l.y),r.lineTo(c.x,c.y)),r.moveTo(u.x,u.y),r.lineTo(h.x,h.y);const d=Pl({x:t,y:i},e.getCenterPoint(),Vi(-e.rotation));r.lineTo(d.x,d.y),r.stroke(),r.restore()}function fre(r,e){const{x:t,y:i,x2:n,y2:s}=r,o=pre(r,e);let a,l;return e==="left"||e==="right"?(a={x:t+o,y:i},l={x:a.x,y:s}):(a={x:t,y:i+o},l={x:n,y:a.y}),{separatorStart:a,separatorEnd:l}}function pre(r,e){const{width:t,height:i,options:n}=r,s=n.callout.margin+n.borderWidth/2;return e==="right"?t+s:e==="bottom"?i+s:-s}function gre(r,e,t){const{y:i,width:n,height:s,options:o}=r,a=o.callout.start,l=mre(e,o.callout);let c,u;return e==="left"||e==="right"?(c={x:t.x,y:i+da(s,a)},u={x:c.x+l,y:c.y}):(c={x:t.x+da(n,a),y:t.y},u={x:c.x,y:c.y+l}),{sideStart:c,sideEnd:u}}function mre(r,e){const t=e.side;return r==="left"||r==="top"?-t:t}function vre(r,e){const t=e.position;return ok.includes(t)?t:yre(r,e)}function yre(r,e){const{x:t,y:i,x2:n,y2:s,width:o,height:a,pointX:l,pointY:c,centerX:u,centerY:h,rotation:d}=r,f={x:u,y:h},g=e.start,m=da(o,g),v=da(a,g),y=[t,t+m,t+m,n],_=[i+v,s,i,s],w=[];for(let S=0;S<4;S++){const k=Pl({x:y[S],y:_[S]},f,Vi(d));w.push({position:ok[S],distance:nu(k,{x:l,y:c})})}return w.sort((S,k)=>S.distance-k.distance)[0].position}function bre(r,e,t){const{pointX:i,pointY:n}=r,s=e.margin;let o=i,a=n;return t==="left"?o+=s:t==="right"?o-=s:t==="top"?a+=s:t==="bottom"&&(a-=s),r.inRange(o,a)}const e_={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function au(r,e,t){return e=typeof e=="number"?e:r.parse(e),Ni(e)?r.getPixelForValue(e):t}function yl(r,e,t){const i=e[t];if(i||t==="scaleID")return i;const n=t.charAt(0),s=Object.values(r).filter(o=>o.axis&&o.axis===n);return s.length?s[0].id:n}function ak(r,e){if(r){const t=r.options.reverse,i=au(r,e.min,t?e.end:e.start),n=au(r,e.max,t?e.start:e.end);return{start:i,end:n}}}function lk(r,e){const{chartArea:t,scales:i}=r,n=i[yl(i,e,"xScaleID")],s=i[yl(i,e,"yScaleID")];let o=t.width/2,a=t.height/2;return n&&(o=au(n,e.xValue,n.left+n.width/2)),s&&(a=au(s,e.yValue,s.top+s.height/2)),{x:o,y:a}}function Ab(r,e){const t=r.scales,i=t[yl(t,e,"xScaleID")],n=t[yl(t,e,"yScaleID")];if(!i&&!n)return{};let{left:s,right:o}=i||r.chartArea,{top:a,bottom:l}=n||r.chartArea;const c=t_(i,{min:e.xMin,max:e.xMax,start:s,end:o});s=c.start,o=c.end;const u=t_(n,{min:e.yMin,max:e.yMax,start:l,end:a});return a=u.start,l=u.end,{x:s,y:a,x2:o,y2:l,width:o-s,height:l-a,centerX:s+(o-s)/2,centerY:a+(l-a)/2}}function ck(r,e){if(!tk(e)){const t=Ab(r,e);let i=e.radius;(!i||isNaN(i))&&(i=Math.min(t.width,t.height)/2,e.radius=i);const n=i*2,s=t.centerX+e.xAdjust,o=t.centerY+e.yAdjust;return{x:s-i,y:o-i,x2:s+i,y2:o+i,centerX:s,centerY:o,width:n,height:n,radius:i}}return wre(r,e)}function _re(r,e){const{scales:t,chartArea:i}=r,n=t[e.scaleID],s={x:i.left,y:i.top,x2:i.right,y2:i.bottom};return n?Cre(n,s,e):xre(t,s,e),s}function uk(r,e){const t=Ab(r,e);return t.initProperties=Eu(r,t,e),t.elements=[{type:"label",optionScope:"label",properties:Lre(r,t,e),initProperties:t.initProperties}],t}function wre(r,e){const t=lk(r,e),i=e.radius*2;return{x:t.x-e.radius+e.xAdjust,y:t.y-e.radius+e.yAdjust,x2:t.x+e.radius+e.xAdjust,y2:t.y+e.radius+e.yAdjust,centerX:t.x+e.xAdjust,centerY:t.y+e.yAdjust,radius:e.radius,width:i,height:i}}function t_(r,e){const t=ak(r,e)||e;return{start:Math.min(t.start,t.end),end:Math.max(t.start,t.end)}}function Cre(r,e,t){const i=au(r,t.value,NaN),n=au(r,t.endValue,i);r.isHorizontal()?(e.x=i,e.x2=n):(e.y=i,e.y2=n)}function xre(r,e,t){for(const i of Object.keys(e_)){const n=r[yl(r,t,i)];if(n){const{min:s,max:o,start:a,end:l,startProp:c,endProp:u}=e_[i],h=ak(n,{min:t[s],max:t[o],start:n[a],end:n[l]});e[c]=h.start,e[u]=h.end}}}function Ere({properties:r,options:e},t,i,n){const{x:s,x2:o,width:a}=r;return hk({start:s,end:o,borderWidth:e.borderWidth},{position:i.x,padding:{start:n.left,end:n.right},adjust:e.label.xAdjust,size:t.width})}function Tre({properties:r,options:e},t,i,n){const{y:s,y2:o,height:a}=r;return hk({start:s,end:o,borderWidth:e.borderWidth},{position:i.y,padding:{start:n.top,end:n.bottom},adjust:e.label.yAdjust,size:t.height})}function hk(r,e){const{start:t,end:i,borderWidth:n}=r,{position:s,padding:{start:o,end:a},adjust:l}=e,c=i-n-t-o-a-e.size;return t+n/2+l+Lb(c,s)}function Lre(r,e,t){const i=t.label;i.backgroundColor="transparent",i.callout.display=!1;const n=Sb(i.position),s=sn(i.padding),o=Dm(r.ctx,i),a=Ere({properties:e,options:t},o,n,s),l=Tre({properties:e,options:t},o,n,s),c=o.width+s.width,u=o.height+s.height;return{x:a,y:l,x2:a+c,y2:l+u,width:c,height:u,centerX:a+c/2,centerY:l+u/2,rotation:i.rotation}}const oy=["enter","leave"],kb=oy.concat("click");function Sre(r,e,t){e.listened=ik(t,kb,e.listeners),e.moveListened=!1,oy.forEach(i=>{Or(t[i])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(i=>{!e.listened&&Or(i.click)&&(e.listened=!0),e.moveListened||oy.forEach(n=>{Or(i[n])&&(e.listened=!0,e.moveListened=!0)})})}function Are(r,e,t){if(r.listened)switch(e.type){case"mousemove":case"mouseout":return kre(r,e,t);case"click":return Ire(r,e,t)}}function kre(r,e,t){if(!r.moveListened)return;let i;e.type==="mousemove"?i=Tb(r.visibleElements,e,t.interaction):i=[];const n=r.hovered;r.hovered=i;const s={state:r,event:e};let o=i_(s,"leave",n,i);return i_(s,"enter",i,n)||o}function i_({state:r,event:e},t,i,n){let s;for(const o of i)n.indexOf(o)<0&&(s=dk(o.options[t]||r.listeners[t],o,e)||s);return s}function Ire(r,e,t){const i=r.listeners,n=Tb(r.visibleElements,e,t.interaction);let s;for(const o of n)s=dk(o.options.click||i.click,o,e)||s;return s}function dk(r,e,t){return Xt(r,[e.$context,t])===!0}const Cg=["afterDraw","beforeDraw"];function Mre(r,e,t){const i=e.visibleElements;e.hooked=ik(t,Cg,e.hooks),e.hooked||i.forEach(n=>{e.hooked||Cg.forEach(s=>{Or(n.options[s])&&(e.hooked=!0)})})}function r_(r,e,t){if(r.hooked){const i=e.options[t]||r.hooks[t];return Xt(i,[e.$context])}}function Pre(r,e,t){const i=Vre(r.scales,e,t);let n=n_(e,i,"min","suggestedMin");n=n_(e,i,"max","suggestedMax")||n,n&&Or(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function Rre(r,e){for(const t of r)Ore(t,e)}function n_(r,e,t,i){if(Ni(e[t])&&!Dre(r.options,t,i)){const n=r[t]!==e[t];return r[t]=e[t],n}}function Dre(r,e,t){return Nr(r[e])||Nr(r[t])}function Ore(r,e){for(const t of["scaleID","xScaleID","yScaleID"]){const i=yl(e,r,t);i&&!e[i]&&$re(r,t)&&console.warn(`No scale found with id '${i}' for annotation '${r.id}'`)}}function $re(r,e){if(e==="scaleID")return!0;const t=e.charAt(0);for(const i of["Min","Max","Value"])if(Nr(r[t+i]))return!0;return!1}function Vre(r,e,t){const i=e.axis,n=e.id,s=i+"ScaleID",o={min:Lt(e.min,Number.NEGATIVE_INFINITY),max:Lt(e.max,Number.POSITIVE_INFINITY)};for(const a of t)a.scaleID===n?s_(a,e,["value","endValue"],o):yl(r,a,s)===n&&s_(a,e,[i+"Min",i+"Max",i+"Value"],o);return o}function s_(r,e,t,i){for(const n of t){const s=r[n];if(Nr(s)){const o=e.parse(s);i.min=Math.min(i.min,o),i.max=Math.max(i.max,o)}}}class Lu extends an{inRange(e,t,i,n){const{x:s,y:o}=Pl({x:e,y:t},this.getCenterPoint(n),Vi(-this.options.rotation));return WA({x:s,y:o},this.getProps(["x","y","x2","y2"],n),i,this.options)}getCenterPoint(e){return Rl(this,e)}draw(e){e.save(),Rm(e,this.getCenterPoint(),this.options.rotation),nk(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return uk(e,t)}}Lu.id="boxAnnotation";Lu.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Lu.defaultRoutes={borderColor:"color",backgroundColor:"color"};Lu.descriptors={label:{_fallback:!0}};class Om extends an{inRange(e,t,i,n){return KA({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],n),center:this.getCenterPoint(n)},i,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Rl(this,e)}draw(e){const t=this.options;!t.display||!t.content||(zre(e,this),e.save(),Rm(e,this.getCenterPoint(),this.rotation),sk(e,this,t,this._fitRatio),e.restore())}resolveElementProperties(e,t){const i=Fre(e,t);if(!i)return{};const{controllerMeta:n,point:s,radius:o}=Nre(e,t,i);let a=Dm(e.ctx,t);const l=Hre(a,o);JA(t,l)&&(a={width:a.width*l,height:a.height*l});const{position:c,xAdjust:u,yAdjust:h}=t,d=QA(s,a,{borderWidth:0,position:c,xAdjust:u,yAdjust:h});return{initProperties:Eu(e,d,t),...d,...n,rotation:t.rotation,_fitRatio:l}}}Om.id="doughnutLabelAnnotation";Om.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};Om.defaultRoutes={};function Fre(r,e){return r.getSortedVisibleDatasetMetas().reduce(function(t,i){const n=i.controller;return n instanceof mh&&Bre(r,e,i.data)&&(!t||n.innerRadius<t.controller.innerRadius)&&n.options.circumference>=90?i:t},void 0)}function Bre(r,e,t){if(!e.autoHide)return!0;for(let i=0;i<t.length;i++)if(!t[i].hidden&&r.getDataVisibility(i))return!0}function Nre({chartArea:r},e,t){const{left:i,top:n,right:s,bottom:o}=r,{innerRadius:a,offsetX:l,offsetY:c}=t.controller,u=(i+s)/2+l,h=(n+o)/2+c,d={left:Math.max(u-a,i),right:Math.min(u+a,s),top:Math.max(h-a,n),bottom:Math.min(h+a,o)},f={x:(d.left+d.right)/2,y:(d.top+d.bottom)/2},g=e.spacing+e.borderWidth/2,m=a-g,v=f.y>h,y=v?n+g:o-g,_=Ure(y,u,h,m);return{controllerMeta:{_centerX:u,_centerY:h,_radius:m,_counterclockwise:v,..._},point:f,radius:Math.min(a,Math.min(d.right-d.left,d.bottom-d.top)/2)}}function Hre({width:r,height:e},t){const i=Math.sqrt(Math.pow(r,2)+Math.pow(e,2));return t*2/i}function Ure(r,e,t,i){const n=Math.pow(t-r,2),s=Math.pow(i,2),o=e*-2,a=Math.pow(e,2)+n-s,l=Math.pow(o,2)-4*a;if(l<=0)return{_startAngle:0,_endAngle:Wi};const c=(-o-Math.sqrt(l))/2,u=(-o+Math.sqrt(l))/2;return{_startAngle:K5({x:e,y:t},{x:c,y:r}).angle,_endAngle:K5({x:e,y:t},{x:u,y:r}).angle}}function zre(r,e){const{_centerX:t,_centerY:i,_radius:n,_startAngle:s,_endAngle:o,_counterclockwise:a,options:l}=e;r.save();const c=lo(r,l);r.fillStyle=l.backgroundColor,r.beginPath(),r.arc(t,i,n,s,o,a),r.closePath(),r.fill(),c&&r.stroke(),r.restore()}class vf extends an{inRange(e,t,i,n){return KA({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],n),center:this.getCenterPoint(n)},i,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return Rl(this,e)}draw(e){const t=this.options,i=!Nr(this._visible)||this._visible;!t.display||!t.content||!i||(e.save(),Rm(e,this.getCenterPoint(),this.rotation),dre(e,this),nk(e,this,t),sk(e,jre(this),t),e.restore())}resolveElementProperties(e,t){let i;if(tk(t))i=lk(e,t);else{const{centerX:a,centerY:l}=Ab(e,t);i={x:a,y:l}}const n=sn(t.padding),s=Dm(e.ctx,t),o=QA(i,s,t,n);return{initProperties:Eu(e,o,t),pointX:i.x,pointY:i.y,...o,rotation:t.rotation}}}vf.id="labelAnnotation";vf.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};vf.defaultRoutes={borderColor:"color"};function jre({x:r,y:e,width:t,height:i,options:n}){const s=n.borderWidth/2,o=sn(n.padding);return{x:r+o.left+s,y:e+o.top+s,width:t-o.left-o.right-n.borderWidth,height:i-o.top-o.bottom-n.borderWidth}}const Ib=(r,e,t)=>({x:r.x+t*(e.x-r.x),y:r.y+t*(e.y-r.y)}),ay=(r,e,t)=>Ib(e,t,Math.abs((r-e.y)/(t.y-e.y))).x,o_=(r,e,t)=>Ib(e,t,Math.abs((r-e.x)/(t.x-e.x))).y,bh=r=>r*r,Gre=(r,e,{x:t,y:i,x2:n,y2:s},o)=>o==="y"?{start:Math.min(i,s),end:Math.max(i,s),value:e}:{start:Math.min(t,n),end:Math.max(t,n),value:r},a_=(r,e,t,i)=>(1-i)*(1-i)*r+2*(1-i)*i*e+i*i*t,ly=(r,e,t,i)=>({x:a_(r.x,e.x,t.x,i),y:a_(r.y,e.y,t.y,i)}),l_=(r,e,t,i)=>2*(1-i)*(e-r)+2*i*(t-e),c_=(r,e,t,i)=>-Math.atan2(l_(r.x,e.x,t.x,i),l_(r.y,e.y,t.y,i))+.5*Pt;class yf extends an{inRange(e,t,i,n){const s=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y"){const o={mouseX:e,mouseY:t},{path:a,ctx:l}=this;if(a){lo(l,this.options),l.lineWidth+=this.options.hitTolerance;const{chart:u}=this.$context,h=e*u.currentDevicePixelRatio,d=t*u.currentDevicePixelRatio,f=l.isPointInStroke(a,h,d)||cy(this,o,n);return l.restore(),f}const c=bh(s);return qre(this,o,c,n)||cy(this,o,n)}return Zre(this,{mouseX:e,mouseY:t},i,{hitSize:s,useFinalPosition:n})}getCenterPoint(e){return Rl(this,e)}draw(e){const{x:t,y:i,x2:n,y2:s,cp:o,options:a}=this;if(e.save(),!lo(e,a))return e.restore();Tu(e,a);const l=Math.sqrt(Math.pow(n-t,2)+Math.pow(s-i,2));if(a.curve&&o)return rne(e,this,o,l),e.restore();const{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=fk(this),f=Math.atan2(s-i,n-t);e.translate(t,i),e.rotate(f),e.beginPath(),e.moveTo(0+h,0),e.lineTo(l-d,0),e.shadowColor=a.borderShadowColor,e.stroke(),uy(e,0,h,c),uy(e,l,-d,u),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){const i=_re(e,t),{x:n,y:s,x2:o,y2:a}=i,l=Wre(i,e.chartArea),c=l?Kre({x:n,y:s},{x:o,y:a},e.chartArea):{x:n,y:s,x2:o,y2:a,width:Math.abs(o-n),height:Math.abs(a-s)};if(c.centerX=(o+n)/2,c.centerY=(a+s)/2,c.initProperties=Eu(e,c,t),t.curve){const h={x:c.x,y:c.y},d={x:c.x2,y:c.y2};c.cp=ine(c,t,nu(h,d))}const u=Yre(e,c,t.label);return u._visible=l,c.elements=[{type:"label",optionScope:"label",properties:u,initProperties:c.initProperties}],c}}yf.id="lineAnnotation";const u_={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};yf.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},u_),fill:!1,length:12,start:Object.assign({},u_),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},vf.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};yf.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};yf.defaultRoutes={borderColor:"color"};function Zre(r,{mouseX:e,mouseY:t},i,{hitSize:n,useFinalPosition:s}){const o=Gre(e,t,r.getProps(["x","y","x2","y2"],s),i);return ZA(o,n)||cy(r,{mouseX:e,mouseY:t},s,i)}function Wre({x:r,y:e,x2:t,y2:i},{top:n,right:s,bottom:o,left:a}){return!(r<a&&t<a||r>s&&t>s||e<n&&i<n||e>o&&i>o)}function h_({x:r,y:e},t,{top:i,right:n,bottom:s,left:o}){return r<o&&(e=o_(o,{x:r,y:e},t),r=o),r>n&&(e=o_(n,{x:r,y:e},t),r=n),e<i&&(r=ay(i,{x:r,y:e},t),e=i),e>s&&(r=ay(s,{x:r,y:e},t),e=s),{x:r,y:e}}function Kre(r,e,t){const{x:i,y:n}=h_(r,e,t),{x:s,y:o}=h_(e,r,t);return{x:i,y:n,x2:s,y2:o,width:Math.abs(s-i),height:Math.abs(o-n)}}function qre(r,{mouseX:e,mouseY:t},i=Ka,n){const{x:s,y:o,x2:a,y2:l}=r.getProps(["x","y","x2","y2"],n),c=a-s,u=l-o,h=bh(c)+bh(u),d=h===0?-1:((e-s)*c+(t-o)*u)/h;let f,g;return d<0?(f=s,g=o):d>1?(f=a,g=l):(f=s+d*c,g=o+d*u),bh(e-f)+bh(t-g)<=i}function cy(r,{mouseX:e,mouseY:t},i,n){const s=r.label;return s.options.display&&s.inRange(e,t,n,i)}function Yre(r,e,t){const i=t.borderWidth,n=sn(t.padding),s=Dm(r.ctx,t),o=s.width+n.width+i,a=s.height+n.height+i;return Qre(e,t,{width:o,height:a,padding:n},r.chartArea)}function Xre(r){const{x:e,y:t,x2:i,y2:n}=r,s=Math.atan2(n-t,i-e);return s>Pt/2?s-Pt:s<Pt/-2?s+Pt:s}function Qre(r,e,t,i){const{width:n,height:s,padding:o}=t,{xAdjust:a,yAdjust:l}=e,c={x:r.x,y:r.y},u={x:r.x2,y:r.y2},h=e.rotation==="auto"?Xre(r):Vi(e.rotation),d=Jre(n,s,h),f=ene(r,e,{labelSize:d,padding:o},i),g=r.cp?ly(c,r.cp,u,f):Ib(c,u,f),m={size:d.w,min:i.left,max:i.right,padding:o.left},v={size:d.h,min:i.top,max:i.bottom,padding:o.top},y=f_(g.x,m)+a,_=f_(g.y,v)+l;return{x:y-n/2,y:_-s/2,x2:y+n/2,y2:_+s/2,centerX:y,centerY:_,pointX:g.x,pointY:g.y,width:n,height:s,rotation:sA(h)}}function Jre(r,e,t){const i=Math.cos(t),n=Math.sin(t);return{w:Math.abs(r*i)+Math.abs(e*n),h:Math.abs(r*n)+Math.abs(e*i)}}function ene(r,e,t,i){let n;const s=tne(r,i);return e.position==="start"?n=d_({w:r.x2-r.x,h:r.y2-r.y},t,e,s):e.position==="end"?n=1-d_({w:r.x-r.x2,h:r.y-r.y2},t,e,s):n=Lb(1,e.position),n}function d_(r,e,t,i){const{labelSize:n,padding:s}=e,o=r.w*i.dx,a=r.h*i.dy,l=o>0&&(n.w/2+s.left-i.x)/o,c=a>0&&(n.h/2+s.top-i.y)/a;return Mm(Math.max(l,c),0,.25)}function tne(r,e){const{x:t,x2:i,y:n,y2:s}=r,o=Math.min(n,s)-e.top,a=Math.min(t,i)-e.left,l=e.bottom-Math.max(n,s),c=e.right-Math.max(t,i);return{x:Math.min(a,c),y:Math.min(o,l),dx:a<=c?1:-1,dy:o<=l?1:-1}}function f_(r,e){const{size:t,min:i,max:n,padding:s}=e,o=t/2;return t>n-i?(n+i)/2:(i>=r-s-o&&(r=i+s+o),n<=r+s+o&&(r=n-s-o),r)}function fk(r){const e=r.options,t=e.arrowHeads&&e.arrowHeads.start,i=e.arrowHeads&&e.arrowHeads.end;return{startOpts:t,endOpts:i,startAdjust:p_(r,t),endAdjust:p_(r,i)}}function p_(r,e){if(!e||!e.display)return 0;const{length:t,width:i}=e,n=r.options.borderWidth/2,s={x:t,y:i+n};return Math.abs(ay(0,s,{x:0,y:n}))}function uy(r,e,t,i){if(!i||!i.display)return;const{length:n,width:s,fill:o,backgroundColor:a,borderColor:l}=i,c=Math.abs(e-n)+t;r.beginPath(),Tu(r,i),lo(r,i),r.moveTo(c,-s),r.lineTo(e+t,0),r.lineTo(c,s),o===!0?(r.fillStyle=a||l,r.closePath(),r.fill(),r.shadowColor="transparent"):r.shadowColor=i.borderShadowColor,r.stroke()}function ine(r,e,t){const{x:i,y:n,x2:s,y2:o,centerX:a,centerY:l}=r,c=Math.atan2(o-n,s-i),u=Sb(e.controlPoint,0),h={x:a+da(t,u.x,!1),y:l+da(t,u.y,!1)};return Pl(h,{x:a,y:l},c)}function g_(r,{x:e,y:t},{angle:i,adjust:n},s){!s||!s.display||(r.save(),r.translate(e,t),r.rotate(i),uy(r,0,-n,s),r.restore())}function rne(r,e,t,i){const{x:n,y:s,x2:o,y2:a,options:l}=e,{startOpts:c,endOpts:u,startAdjust:h,endAdjust:d}=fk(e),f={x:n,y:s},g={x:o,y:a},m=c_(f,t,g,0),v=c_(f,t,g,1)-Pt,y=ly(f,t,g,h/i),_=ly(f,t,g,1-d/i),w=new Path2D;r.beginPath(),w.moveTo(y.x,y.y),w.quadraticCurveTo(t.x,t.y,_.x,_.y),r.shadowColor=l.borderShadowColor,r.stroke(w),e.path=w,e.ctx=r,g_(r,y,{angle:m,adjust:h},c),g_(r,_,{angle:v,adjust:d},u)}class bf extends an{inRange(e,t,i,n){const s=this.options.rotation,o=(this.options.borderWidth+this.options.hitTolerance)/2;if(i!=="x"&&i!=="y")return nne({x:e,y:t},this.getProps(["width","height","centerX","centerY"],n),s,o);const{x:a,y:l,x2:c,y2:u}=this.getProps(["x","y","x2","y2"],n),h=i==="y"?{start:l,end:u}:{start:a,end:c},d=Pl({x:e,y:t},this.getCenterPoint(n),Vi(-s));return d[i]>=h.start-o-Ka&&d[i]<=h.end+o+Ka}getCenterPoint(e){return Rl(this,e)}draw(e){const{width:t,height:i,centerX:n,centerY:s,options:o}=this;e.save(),Rm(e,this.getCenterPoint(),o.rotation),Tu(e,this.options),e.beginPath(),e.fillStyle=o.backgroundColor;const a=lo(e,o);e.ellipse(n,s,i/2,t/2,Pt/2,0,2*Pt),e.fill(),a&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return uk(e,t)}}bf.id="ellipseAnnotation";bf.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},Lu.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};bf.defaultRoutes={borderColor:"color",backgroundColor:"color"};bf.descriptors={label:{_fallback:!0}};function nne(r,e,t,i){const{width:n,height:s,centerX:o,centerY:a}=e,l=n/2,c=s/2;if(l<=0||c<=0)return!1;const u=Vi(t||0),h=Math.cos(u),d=Math.sin(u),f=Math.pow(h*(r.x-o)+d*(r.y-a),2),g=Math.pow(d*(r.x-o)-h*(r.y-a),2);return f/Math.pow(l+i,2)+g/Math.pow(c+i,2)<=1.0001}class $m extends an{inRange(e,t,i,n){const{x:s,y:o,x2:a,y2:l,width:c}=this.getProps(["x","y","x2","y2","width"],n),u=(this.options.borderWidth+this.options.hitTolerance)/2;return i!=="x"&&i!=="y"?Qie({x:e,y:t},this.getCenterPoint(n),c/2,u):ZA(i==="y"?{start:o,end:l,value:t}:{start:s,end:a,value:e},u)}getCenterPoint(e){return Rl(this,e)}draw(e){const t=this.options,i=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,Tu(e,t);const n=lo(e,t);ore(e,this,this.centerX,this.centerY),n&&!Pm(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=i}resolveElementProperties(e,t){const i=ck(e,t);return i.initProperties=Eu(e,i,t),i}}$m.id="pointAnnotation";$m.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};$m.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Vm extends an{inRange(e,t,i,n){if(i!=="x"&&i!=="y")return this.options.radius>=.1&&this.elements.length>1&&one(this.elements,e,t,n);const s=Pl({x:e,y:t},this.getCenterPoint(n),Vi(-this.options.rotation)),o=this.elements.map(c=>i==="y"?c.bY:c.bX),a=Math.min(...o),l=Math.max(...o);return s[i]>=a&&s[i]<=l}getCenterPoint(e){return Rl(this,e)}draw(e){const{elements:t,options:i}=this;e.save(),e.beginPath(),e.fillStyle=i.backgroundColor,Tu(e,i);const n=lo(e,i);let s=!0;for(const o of t)s?(e.moveTo(o.x,o.y),s=!1):e.lineTo(o.x,o.y);e.closePath(),e.fill(),n&&(e.shadowColor=i.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){const i=ck(e,t),{sides:n,rotation:s}=t,o=[],a=2*Pt/n;let l=s*fb;for(let c=0;c<n;c++,l+=a){const u=sne(i,t,l);u.initProperties=Eu(e,i,t),o.push(u)}return i.elements=o,i}}Vm.id="polygonAnnotation";Vm.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Vm.defaultRoutes={borderColor:"color",backgroundColor:"color"};function sne({centerX:r,centerY:e},{radius:t,borderWidth:i,hitTolerance:n},s){const o=(i+n)/2,a=Math.sin(s),l=Math.cos(s),c={x:r+a*t,y:e-l*t};return{type:"point",optionScope:"point",properties:{x:c.x,y:c.y,centerX:c.x,centerY:c.y,bX:r+a*(t+o),bY:e-l*(t+o)}}}function one(r,e,t,i){let n=!1,s=r[r.length-1].getProps(["bX","bY"],i);for(const o of r){const a=o.getProps(["bX","bY"],i);a.bY>t!=s.bY>t&&e<(s.bX-a.bX)*(t-a.bY)/(s.bY-a.bY)+a.bX&&(n=!n),s=a}return n}const Ko={box:Lu,doughnutLabel:Om,ellipse:bf,label:vf,line:yf,point:$m,polygon:Vm};Object.keys(Ko).forEach(r=>{yi.describe(`elements.${Ko[r].id}`,{_fallback:"plugins.annotation.common"})});const ane={update:Object.assign},lne=kb.concat(Cg),m_=(r,e)=>ut(e)?dy(r,e):r,hy=r=>r==="color"||r==="font";function Mb(r="line"){return Ko[r]?r:(console.warn(`Unknown annotation type: '${r}', defaulting to 'line'`),"line")}function cne(r,e,t,i){const n=hne(r,t.animations,i),s=e.annotations,o=pne(e.elements,s);for(let a=0;a<s.length;a++){const l=s[a],c=pk(o,a,l.type),u=l.setContext(fne(r,c,o,l)),h=c.resolveElementProperties(r,u);h.skip=une(h),"elements"in h&&(dne(c,h.elements,u,n),delete h.elements),Nr(c.x)||Object.assign(c,h),Object.assign(c,h.initProperties),h.options=gk(u),n.update(c,h)}}function une(r){return isNaN(r.x)||isNaN(r.y)}function hne(r,e,t){return t==="reset"||t==="none"||t==="resize"?ane:new Cb(r,e)}function dne(r,e,t,i){const n=r.elements||(r.elements=[]);n.length=e.length;for(let s=0;s<e.length;s++){const o=e[s],a=o.properties,l=pk(n,s,o.type,o.initProperties),c=t[o.optionScope].override(o);a.options=gk(c),i.update(l,a)}}function pk(r,e,t,i){const n=Ko[Mb(t)];let s=r[e];return(!s||!(s instanceof n))&&(s=r[e]=new n,Object.assign(s,i)),s}function gk(r){const e=Ko[Mb(r.type)],t={};t.id=r.id,t.type=r.type,t.drawTime=r.drawTime,Object.assign(t,dy(r,e.defaults),dy(r,e.defaultRoutes));for(const i of lne)t[i]=r[i];return t}function dy(r,e){const t={};for(const i of Object.keys(e)){const n=e[i],s=r[i];hy(i)&&qt(s)?t[i]=s.map(o=>m_(o,n)):t[i]=m_(s,n)}return t}function fne(r,e,t,i){return e.$context||(e.$context=Object.assign(Object.create(r.getContext()),{element:e,get elements(){return t.filter(n=>n&&n.options)},id:i.id,type:"annotation"}))}function pne(r,e){const t=e.length,i=r.length;if(i<t){const n=t-i;r.splice(i,0,...new Array(n))}else i>t&&r.splice(t,i-t);return r}var gne="3.1.0";const Eo=new Map,v_=r=>r.type!=="doughnutLabel",mne=kb.concat(Cg);var vne={id:"annotation",version:gne,beforeRegister(){Jie("chart.js","4.0",Mn.version)},afterRegister(){Mn.register(Ko)},afterUnregister(){Mn.unregister(Ko)},beforeInit(r){Eo.set(r,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(r,e,t){const i=Eo.get(r),n=i.annotations=[];let s=t.annotations;ut(s)?Object.keys(s).forEach(o=>{const a=s[o];ut(a)&&(a.id=o,n.push(a))}):qt(s)&&n.push(...s),Rre(n.filter(v_),r.scales)},afterDataLimits(r,e){const t=Eo.get(r);Pre(r,e.scale,t.annotations.filter(v_).filter(i=>i.display&&i.adjustScaleRange))},afterUpdate(r,e,t){const i=Eo.get(r);Sre(r,i,t),cne(r,i,t,e.mode),i.visibleElements=i.elements.filter(n=>!n.skip&&n.options.display),Mre(r,i,t)},beforeDatasetsDraw(r,e,t){Ju(r,"beforeDatasetsDraw",t.clip)},afterDatasetsDraw(r,e,t){Ju(r,"afterDatasetsDraw",t.clip)},beforeDatasetDraw(r,e,t){Ju(r,e.index,t.clip)},beforeDraw(r,e,t){Ju(r,"beforeDraw",t.clip)},afterDraw(r,e,t){Ju(r,"afterDraw",t.clip)},beforeEvent(r,e,t){const i=Eo.get(r);Are(i,e.event,t)&&(e.changed=!0)},afterDestroy(r){Eo.delete(r)},getAnnotations(r){const e=Eo.get(r);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(r,e,t){return Tb(r,e,t)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:r=>!mne.includes(r)&&r!=="init",annotations:{_allKeys:!1,_fallback:(r,e)=>`elements.${Ko[Mb(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:hy,_fallback:!0},_indexable:hy}},additionalOptionScopes:[""]};function Ju(r,e,t){const{ctx:i,chartArea:n}=r,s=Eo.get(r);t&&Lm(i,n);const o=yne(s.visibleElements,e).sort((a,l)=>a.element.options.z-l.element.options.z);for(const a of o)bne(i,n,s,a);t&&Sm(i)}function yne(r,e){const t=[];for(const i of r)if(i.options.drawTime===e&&t.push({element:i,main:!0}),i.elements&&i.elements.length)for(const n of i.elements)n.options.display&&n.options.drawTime===e&&t.push({element:n});return t}function bne(r,e,t,i){const n=i.element;i.main?(r_(t,n,"beforeDraw"),n.draw(r,e),r_(t,n,"afterDraw")):n.draw(r,e)}const _ne=Ne({__name:"GraphDemo",setup(r){Mn.register(vne,Zie,nie,die,ny,sy,Q1,Bo,iie);const e=je(null),t=je(null),i=je(null),n=Gc();Cr([e,n.$state],()=>{a()});function s(l){const c=e.value;if(!c)throw new Error("Could not find root element");const u=getComputedStyle(c).getPropertyValue(l).trim();if(!u)throw new Error(`Could not find css variable ${l}`);return u}function o(l,c){const[u,h,d]=l.slice(4,-1).split(",").map(f=>parseInt(f.trim()));return`rgba(${u}, ${h}, ${d}, ${c})`}function a(){const l=s("--element-neutral-color"),c=s("--instrument-frame-tertiary-color"),u=s("--instrument-tick-mark-tertiary-color"),h=.3,d=s("--base-red-400"),f=o(d,h),g=s("--base-green-400"),m=o(g,h),v=s("--instrument-enhanced-secondary-color");Mn.defaults.font.size=parseInt(s("--global-typography-ui-label-font-size").split("px")[0]),Mn.defaults.font.family=s("--font-family-main")+", 'Open Sans', sans-serif",Mn.defaults.font.weight=parseInt(s("--global-typography-ui-label-font-weight"));const y=60;t.value={responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!1},annotation:{annotations:{line1:{type:"line",yMin:y,yMax:y,borderColor:u,borderWidth:1,borderDash:[5,5]}}}},scales:{y:{min:0,max:100,ticks:{stepSize:50,color:l},border:{display:!1},grid:{color:c},position:"right",beginAtZero:!0},x:{ticks:{stepSize:5,color:l},border:{color:c},grid:{display:!1},type:"linear"}}},i.value={datasets:[{label:"Power",data:[{x:0,y:51},{x:5,y:70},{x:10,y:30},{x:15,y:63},{x:20,y:63}],showLine:!0,borderWidth:2,pointRadius:0,pointHoverRadius:0,stepped:!0,fill:{above:f,below:m,target:{value:y}},gradient:{borderColor:{axis:"y",colors:{0:g,[y]:g,[y+1e-4]:d,100:d}}}},{data:[{x:5,y:5},{x:10,y:5},{x:10,y:Number.NaN},{x:15,y:Number.NaN},{x:15,y:5},{x:20,y:5}],showLine:!0,borderColor:v,borderWidth:8,borderCapStyle:"round",pointRadius:0,stepped:!0}]}}return(l,c)=>(G(),we("div",{ref_key:"rootElement",ref:e,class:"container"},[t.value&&i.value?(G(),Re(N(kie),{key:0,options:t.value,data:i.value},null,8,["options","data"])):$t("",!0)],512))}}),wne=En(_ne,[["__scopeId","data-v-31aeb158"]]),Cne=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

.container {
  padding: 0;
  background: transparent;
  appearance: none;
  width: 200px;
  height: auto;
  border: none;
  display: flex;
  flex-direction: row;
}

.wrapper {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 0;
}

.wrapper.selected {
  top: calc(var(--obc-poi-target-selected-vertical-offset) * -1);
}
`,xne=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

.container {
  position: relative;
}

:host {
  display: block;
  width: 0;
}

.container > * {
  position: absolute;
  top: -1px;
  left: 0;
}
`;var bl=(r=>(r.Normal="normal",r.Enhanced="enhanced",r))(bl||{});const mk={normal:{lineColor:"var(--element-active-inverted-color)",outlineColor:"var(--element-disabled-color)",width:6,lineWidth:1,outlineWidth:1,shadowAlpha:.8,dotStart:2,lineEnd:3,filterDimensions:{x:.5,y:.5,width:3}},enhanced:{lineColor:"var(--instrument-enhanced-secondary-color)",outlineColor:"var(--element-active-inverted-color)",width:8,lineWidth:1,outlineWidth:2,shadowAlpha:.2,dotStart:0,lineEnd:3,filterDimensions:{x:0,y:0,width:4}}},Ene=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }
.wrapper {
  width: 4px;
}`;var Tne=Object.defineProperty,Lne=Object.getOwnPropertyDescriptor,Su=(r,e,t,i)=>{for(var n=i>1?void 0:i?Lne(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&Tne(e,t,n),n};let fa=class extends ee{constructor(){super(...arguments),this.lineHeight=96,this.width=4,this.lineStart=1,this.lineStyle=bl.Enhanced,this.offset=0}render(){const r=mk[this.lineStyle];return F`
      ${vk({style:r,lineHeight:this.lineHeight,totalHeight:this.lineHeight+this.lineStart,offset:this.offset})}
    `}};fa.styles=ot(Ene);Su([M({type:Number})],fa.prototype,"lineHeight",2);Su([M({type:Number})],fa.prototype,"width",2);Su([M({type:Number})],fa.prototype,"lineStart",2);Su([M({type:String})],fa.prototype,"lineStyle",2);Su([M({type:Number})],fa.prototype,"offset",2);fa=Su([ie("obc-poi-graphic-line")],fa);function vk({style:r,lineHeight:e,totalHeight:t,offset:i}){let s,o;i>=0?(s=r.width/2,o=s+i):(s=r.width/2-i,o=r.width/2);const a=r.width+Math.abs(i),l=1+e,c=11,u=c+30;let h;return i===0?h=`M${s} 1V ${l}`:h=`M${s} 1V ${c} L ${o} ${u}V ${l}`,F`
    <svg
      width="${a}"
      height="${t}"
      viewBox="0 0 ${a} ${t}"
      fill="none"
      vector-effect="non-scaling-stroke"
    >
      <mask id="poi_graphic_line_mask" maskUnits="userSpaceOnUse">
        <rect
          x="0"
          y="0"
          width=${a}
          height=${t}
          fill="url(#poi_graphic_line_linear_gradient)"
        />
      </mask>
      <g mask="url(#poi_graphic_line_mask)">
        <g filter="url(#poi_graphic_line_filter)">
          <path
            d=${h}
            stroke="${r.outlineColor}"
            stroke-width="${r.outlineWidth}"
            stroke-linecap="round"
          />
        </g>
        <path
          d=${h}
          stroke="${r.lineColor}"
          stroke-width="${r.lineWidth}"
          stroke-linecap="round"
        />
      </g>
      <defs>
        <filter
          id="poi_graphic_line_filter"
          filterUnits="userSpaceOnUse"
          color-interpolation-filters="sRGB"
        >
          <feFlood flood-opacity="0" result="BackgroundImageFix" />
          <feColorMatrix
            in="SourceAlpha"
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            result="hardAlpha"
          />
          <feOffset dy="1" />
          <feGaussianBlur stdDeviation="1.5" />
          <feComposite in2="hardAlpha" operator="out" />
          <feColorMatrix
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
          />
          <feBlend
            mode="normal"
            in2="BackgroundImageFix"
            result="effect1_dropShadow_11965_68245"
          />
          <feBlend
            mode="normal"
            in="SourceGraphic"
            in2="effect1_dropShadow_11965_68245"
            result="shape"
          />
        </filter>
        <linearGradient
          id="poi_graphic_line_linear_gradient"
          gradientTransform="rotate(90)"
        >
          <stop stop-color="white" />
          <stop offset="1" stop-color="black" />
        </linearGradient>
      </defs>
    </svg>
  `}function Sne({x:r,y:e,width:t,height:i,rx:n,stroke:s}){return $`<rect x="${r}" y="${e}" width="${t}" height="${i}" rx="${n}" stroke="${s}">`}function Ane({lineStyle:r,centerX:e,centerY:t,width:i,vbHeight:n,lineColor:s,outlineColor:o}){let a=$`<rect
        x="${e}"
        y="${t}"
        width="4"
        height="4"
        rx="2"
        fill="${s}"
      />`,l=null,c=t;return r!==bl.Normal?(l=Sne({x:e-.5,y:t-.5,width:5,height:5,rx:2.5,stroke:o}),c=t-1):a=$`<rect
        x="${e}"
        y="${t}"
        width="2"
        height="2"
        rx="1"
        fill="${s}"
      />`,F`<svg
    width=${i}
    height="${n}"
    viewBox="0 0 ${i} ${n}"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    vector-effect="non-scaling-stroke"
  >
    <g filter="url(#pointerDotFilter)">${a} ${l}</g>
    <defs>
      <filter
        id="pointerDotFilter"
        x="${0}"
        y="${c}"
        width="${i}"
        height="${i}"
        filterUnits="userSpaceOnUse"
        color-interpolation-filters="sRGB"
      >
        <feFlood flood-opacity="0" result="BackgroundImageFix" />
        <feColorMatrix
          in="SourceAlpha"
          type="matrix"
          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
          result="hardAlpha"
        />
        <feOffset dy="1" />
        <feGaussianBlur stdDeviation="0.5" />
        <feColorMatrix
          type="matrix"
          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"
        />
        <feBlend
          mode="normal"
          in2="BackgroundImageFix"
          result="pointerDotDropShadow"
        />
        <feBlend
          mode="normal"
          in="SourceGraphic"
          in2="pointerDotDropShadow"
          result="shape"
        />
      </filter>
    </defs>
  </svg>`}var kne=Object.defineProperty,Ine=Object.getOwnPropertyDescriptor,Fm=(r,e,t,i)=>{for(var n=i>1?void 0:i?Ine(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&kne(e,t,n),n};let lu=class extends ee{constructor(){super(...arguments),this.height=96,this.poiStyle=bl.Normal,this.offset=0}render(){const r=mk[this.poiStyle];let e=this.height-2,t=2,i=1;this.poiStyle===bl.Normal&&(e=this.height-2,i=2,t=2);const n=e+r.width+r.dotStart,s=-3+(this.offset<0?this.offset:0);return F`
      <div
        class="container"
        style="height: ${n}px; width: ${r.width}px; transform: translateX(${s}px);"
      >
        ${vk({style:r,lineHeight:e,totalHeight:n,offset:this.offset})}
        ${Ane({lineStyle:this.poiStyle,centerX:t+(this.offset>0?this.offset:0),centerY:e+i,width:r.width+(this.offset>0?this.offset:0),vbHeight:n,lineColor:r.lineColor,outlineColor:r.outlineColor})}
      </div>
    `}};lu.styles=ot(xne);Fm([M({type:Number})],lu.prototype,"height",2);Fm([M({type:String})],lu.prototype,"poiStyle",2);Fm([M({type:Number})],lu.prototype,"offset",2);lu=Fm([ie("obc-poi-line")],lu);const Mne=re`
          * {
            -webkit-tap-highlight-color: transparent;
          }

* {
  box-sizing: border-box;
}

:host {
  height: 0;
  width: 0;
}

.wrapper,
.wrapper-overlap {
  transform: translate(-50%, -100%);
}

.wrapper {
            cursor: pointer;
}

.wrapper:focus {
            outline: none;
}

.wrapper.activated .state-layer {
            border-color: var(--flat-activated-border-color);
            background-color: var(--flat-activated-background-color);
}

.wrapper .state-layer {
            border-color: var(--flat-enabled-border-color);
            background-color: var(--flat-enabled-background-color);
            border-width: 1px;
            border-style: solid;
            cursor: pointer;
}

@media (hover:hover) {

.wrapper:hover .state-layer {
                        border-color: var(--flat-hover-border-color);
                        background-color: var(--flat-hover-background-color);
            }
}

.wrapper:active .state-layer {
            border-color: var(--flat-pressed-border-color);
            background-color: var(--flat-pressed-background-color);
}

.wrapper:focus-visible .state-layer {
            outline-color: var(--border-focus-color);
            outline-width: var(--global-size-spacing-border-weight-focusframe);
            outline-style: solid;
            border-color: var(--container-global-color);
            z-index: 1;
}

.wrapper:disabled .state-layer {
            border-color: var(--flat-disabled-border-color);
            background-color: var(--flat-disabled-background-color);
            cursor: not-allowed;
            color: var(--on-flat-disabled-color);
}

.wrapper {
  padding: 0;
  position: relative;
  width: fit-content;
  background: transparent;

  display: flex;
  flex-direction: column;
  appearance: none;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;

  user-select: none;
}

.wrapper .button-wrapper {
    position: relative;
    width: 48px;
    min-height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

.wrapper.type-enhanced .button-wrapper {
      width: 64px;
      height: 64px;
    }

.wrapper.type-enhanced .visible-wrapper {
      width: 52px;
      height: 52px;
    }

.wrapper.type-enhanced.alert-none .state-layer {
      width: 52px;
      height: 52px;
    }

.wrapper.type-enhanced .state-layer {
      width: 57px;
      height: 57px;
    }

.wrapper.type-enhanced .icon {
      width: 32px;
      height: 32px;
    }

.wrapper.type-enhanced .alert-ring {
      width: 57px;
      height: 57px;
      clip-path: path(
        'M28.5 5 A23.5 23.5 0 1 0 28.51 5 Z M 0 0 H 57 V 57 H 0 Z'
      );
    }

.wrapper .visible-wrapper {
    height: 38px;
    width: 38px;
    border-radius: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.5);
    background-color: rgba(255, 255, 255, 0.8);
    border: 1px solid var(--element-active-inverted-color);
  }

.wrapper .state-layer {
    position: absolute;
    margin: auto;
    border-radius: 100%;
    width: 41px;
    height: 41px;
  }

.wrapper .icon {
    height: 24px;
    width: 24px;
  }

.wrapper .selection-frame {
    position: absolute;
    top: 0;
    left: 0;
  }

.wrapper:not(.alert-none) .selection-frame {
    left: -1px;
  }

.wrapper.alert-none .state-layer {
      width: 38px;
      height: 38px;
    }

.wrapper.alert-none .alert-ring {
      display: none;
    }

.wrapper.alert-caution .id-label {
      background: var(--alert-caution-color);
      border-color: var(--alert-caution-outline-color);
    }

.wrapper.alert-caution .alert-ring {
      background: var(--alert-caution-color);
      border-color: var(--alert-caution-outline-color);
      outline-color: var(--alert-caution-outline-color);
    }

.wrapper.alert-warning .id-label {
      background: var(--alert-warning-color);
      border-color: var(--alert-warning-outline-color);
    }

.wrapper.alert-warning .alert-ring {
      background: var(--alert-warning-color);
      border-color: var(--alert-warning-outline-color);
      outline-color: var(--alert-warning-outline-color);
    }

.wrapper.alert-alarm .id-label {
      background: var(--alert-alarm-color);
      border-color: var(--alert-alarm-outline-color);
      color: var(--on-alarm-color);
    }

.wrapper.alert-alarm .alert-ring {
      background: var(--alert-alarm-color);
      border-color: var(--alert-alarm-outline-color);
      outline-color: var(--alert-alarm-outline-color);
    }

.wrapper .alert-ring {
    position: absolute;
    margin: auto;
    width: 41px;
    height: 41px;
    border-radius: 100%;
    border: 0.5px solid var(--alert-caution-outline-color);
    outline: 0.5px solid var(--alert-caution-outline-color);
    outline-offset: -5px;
    /* make the inner center of the ring transparent */
    clip-path: path('M20.5 5 A15.5 15.5 0 1 0 20.51 5 Z M 0 0 H 41 V 41 H 0 Z');
  }

.wrapper .id-label {
    font-feature-settings: 'liga' off, 'clig' off;
    font-family: var(--font-family-main);
    font-size: var(--global-typography-ui-label-active-font-size);
    font-style: normal;
    font-weight: var(--global-typography-ui-label-active-font-weight);
    line-height: var(--global-typography-ui-label-active-line-height);
    display: flex;
    align-items: center;
    justify-content: center;
    height: 16px;
    min-width: 16px;
    background: var(--element-active-inverted-color);
    border: 1px solid var(--element-active-inverted-color);
    color: var(--element-active-color);
    border-radius: 100%;
    box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.5);
  }

.wrapper-overlap {
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.wrapper-overlap .vissible-wrapper {
    width: 28px;
    height: 28px;
    border-radius: 100%;
    background-color: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(0, 0, 0, 0.3);
    box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.5);
  }

.wrapper-overlap.type-enhanced {
    width: 64px;
    height: 64px;
  }

.wrapper-overlap.type-enhanced .vissible-wrapper {
      width: 36px;
      height: 36px;
    }

.wrapper-overlap.alert-caution .vissible-wrapper {
      background-color: var(--alert-caution-color);
      border-color: var(--alert-caution-outline-color);
    }

.wrapper-overlap.alert-warning .vissible-wrapper {
      background-color: var(--alert-warning-color);
      border-color: var(--alert-warning-outline-color);
    }

.wrapper-overlap.alert-alarm .vissible-wrapper {
      background-color: var(--alert-alarm-color);
      border-color: var(--alert-alarm-outline-color);
    }
`;var Zd=(r=>(r.None="none",r.Caution="caution",r.Warning="warning",r.Alarm="alarm",r))(Zd||{});function Pne(r,e,t){if(!r)return He;if(e===Zd.None&&t===cc.Button)return F`
      <svg
        width="48"
        height="48"
        viewBox="0 0 48 48"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="selection-frame"
      >
        <g filter="url(#filter0_d_11288_43269)">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M12 5C12 4.44772 11.5523 4 11 4H8C5.79086 4 4 5.79086 4 8V11C4 11.5523 4.44772 12 5 12C5.55228 12 6 11.5523 6 11V8C6 6.89543 6.89543 6 8 6H11C11.5523 6 12 5.55228 12 5ZM37 6C36.4477 6 36 5.55228 36 5C36 4.44772 36.4477 4 37 4H40C42.2091 4 44 5.79086 44 8V11C44 11.5523 43.5523 12 43 12C42.4477 12 42 11.5523 42 11V8C42 6.89543 41.1046 6 40 6H37ZM36 43C36 42.4477 36.4477 42 37 42H40C41.1046 42 42 41.1046 42 40V37C42 36.4477 42.4477 36 43 36C43.5523 36 44 36.4477 44 37V40C44 42.2091 42.2091 44 40 44H37C36.4477 44 36 43.5523 36 43ZM5 36C5.55228 36 6 36.4477 6 37V40C6 41.1046 6.89543 42 8 42H11C11.5523 42 12 42.4477 12 43C12 43.5523 11.5523 44 11 44H8C5.79086 44 4 42.2091 4 40V37C4 36.4477 4.44772 36 5 36Z"
            fill="white"
          />
        </g>
        <defs>
          <filter
            id="filter0_d_11288_43269"
            x="-3"
            y="-2"
            width="54"
            height="54"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="1" />
            <feGaussianBlur stdDeviation="1.5" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
            />
            <feBlend
              mode="normal"
              in2="BackgroundImageFix"
              result="effect1_dropShadow_11288_43269"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow_11288_43269"
              result="shape"
            />
          </filter>
        </defs>
      </svg>
    `;if(t===cc.Button)return F`<svg
      width="50"
      height="50"
      viewBox="0 0 50 50"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="selection-frame"
    >
      <g filter="url(#filter0_d_11326_86245)">
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M11 3C11 2.44772 10.5523 2 10 2H7C4.79086 2 3 3.79086 3 6V9C3 9.55228 3.44772 10 4 10C4.55228 10 5 9.55228 5 9V6C5 4.89543 5.89543 4 7 4H10C10.5523 4 11 3.55228 11 3ZM40 4C39.4477 4 39 3.55228 39 3C39 2.44772 39.4477 2 40 2H43C45.2091 2 47 3.79086 47 6V9C47 9.55228 46.5523 10 46 10C45.4477 10 45 9.55228 45 9V6C45 4.89543 44.1046 4 43 4H40ZM39 45C39 44.4477 39.4477 44 40 44H43C44.1046 44 45 43.1046 45 42V39C45 38.4477 45.4477 38 46 38C46.5523 38 47 38.4477 47 39V42C47 44.2091 45.2091 46 43 46H40C39.4477 46 39 45.5523 39 45ZM4 38C4.55228 38 5 38.4477 5 39V42C5 43.1046 5.89543 44 7 44H10C10.5523 44 11 44.4477 11 45C11 45.5523 10.5523 46 10 46H7C4.79086 46 3 44.2091 3 42V39C3 38.4477 3.44772 38 4 38Z"
          fill="white"
        />
      </g>
      <defs>
        <filter
          id="filter0_d_11326_86245"
          x="-2"
          y="-2"
          width="54"
          height="54"
          filterUnits="userSpaceOnUse"
          color-interpolation-filters="sRGB"
        >
          <feFlood flood-opacity="0" result="BackgroundImageFix" />
          <feColorMatrix
            in="SourceAlpha"
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
            result="hardAlpha"
          />
          <feOffset dy="1" />
          <feGaussianBlur stdDeviation="1.5" />
          <feComposite in2="hardAlpha" operator="out" />
          <feColorMatrix
            type="matrix"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
          />
          <feBlend
            mode="normal"
            in2="BackgroundImageFix"
            result="effect1_dropShadow_11326_86245"
          />
          <feBlend
            mode="normal"
            in="SourceGraphic"
            in2="effect1_dropShadow_11326_86245"
            result="shape"
          />
        </filter>
      </defs>
    </svg>`;if(t===cc.Enhanced&&e===Zd.None)return F`
      <svg
        width="64"
        height="64"
        viewBox="0 0 64 64"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="selection-frame"
      >
        <g filter="url(#filter0_d_11288_43283)">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M14 5C14 4.44772 13.5523 4 13 4H8C5.79086 4 4 5.79086 4 8V13C4 13.5523 4.44772 14 5 14C5.55228 14 6 13.5523 6 13V8C6 6.89543 6.89543 6 8 6H13C13.5523 6 14 5.55228 14 5ZM51 6C50.4477 6 50 5.55228 50 5C50 4.44772 50.4477 4 51 4H56C58.2091 4 60 5.79086 60 8V13C60 13.5523 59.5523 14 59 14C58.4477 14 58 13.5523 58 13V8C58 6.89543 57.1046 6 56 6H51ZM50 59C50 58.4477 50.4477 58 51 58H56C57.1046 58 58 57.1046 58 56V51C58 50.4477 58.4477 50 59 50C59.5523 50 60 50.4477 60 51V56C60 58.2091 58.2091 60 56 60H51C50.4477 60 50 59.5523 50 59ZM5 50C5.55228 50 6 50.4477 6 51V56C6 57.1046 6.89543 58 8 58H13C13.5523 58 14 58.4477 14 59C14 59.5523 13.5523 60 13 60H8C5.79086 60 4 58.2091 4 56V51C4 50.4477 4.44772 50 5 50Z"
            fill="white"
          />
        </g>
        <defs>
          <filter
            id="filter0_d_11288_43283"
            x="-3"
            y="-2"
            width="70"
            height="70"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="1" />
            <feGaussianBlur stdDeviation="1.5" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
            />
            <feBlend
              mode="normal"
              in2="BackgroundImageFix"
              result="effect1_dropShadow_11288_43283"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow_11288_43283"
              result="shape"
            />
          </filter>
        </defs>
      </svg>
    `;if(t===cc.Enhanced)return F`
      <svg
        width="66"
        height="66"
        viewBox="0 0 66 66"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="selection-frame"
      >
        <g filter="url(#filter0_d_11288_43290)">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M14 3C14 2.44772 13.5523 2 13 2H7C4.79086 2 3 3.79086 3 6V12C3 12.5523 3.44772 13 4 13C4.55228 13 5 12.5523 5 12V6C5 4.89543 5.89543 4 7 4H13C13.5523 4 14 3.55228 14 3ZM53 4C52.4477 4 52 3.55228 52 3C52 2.44772 52.4477 2 53 2H59C61.2091 2 63 3.79086 63 6V12C63 12.5523 62.5523 13 62 13C61.4477 13 61 12.5523 61 12V6C61 4.89543 60.1046 4 59 4H53ZM52 61C52 60.4477 52.4477 60 53 60H59C60.1046 60 61 59.1046 61 58V52C61 51.4477 61.4477 51 62 51C62.5523 51 63 51.4477 63 52V58C63 60.2091 61.2091 62 59 62H53C52.4477 62 52 61.5523 52 61ZM4 51C4.55228 51 5 51.4477 5 52V58C5 59.1046 5.89543 60 7 60H13C13.5523 60 14 60.4477 14 61C14 61.5523 13.5523 62 13 62H7C4.79086 62 3 60.2091 3 58V52C3 51.4477 3.44772 51 4 51Z"
            fill="white"
          />
        </g>
        <defs>
          <filter
            id="filter0_d_11288_43290"
            x="-2"
            y="-2"
            width="70"
            height="70"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="1" />
            <feGaussianBlur stdDeviation="1.5" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
            />
            <feBlend
              mode="normal"
              in2="BackgroundImageFix"
              result="effect1_dropShadow_11288_43290"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow_11288_43290"
              result="shape"
            />
          </filter>
        </defs>
      </svg>
    `;throw new Error("Invalid selection frame")}var Rne=Object.defineProperty,Dne=Object.getOwnPropertyDescriptor,xa=(r,e,t,i)=>{for(var n=i>1?void 0:i?Dne(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&Rne(e,t,n),n},cc=(r=>(r.Button="button",r.Enhanced="enhanced",r))(cc||{});let xs=class extends ee{constructor(){super(...arguments),this.relativeDirection=0,this.selected=!1,this.selectedId=null,this.alertType=Zd.None,this.overlap=!1,this.type="button",this.inExpandedGroup=!1}render(){return F`
      ${this.overlap?F`<div
            class=${ti({"wrapper-overlap":!0,[`alert-${this.alertType}`]:!0,[`type-${this.type}`]:!0})}
          >
            <div class="vissible-wrapper"></div>
          </div>`:F`
            <button
              class=${ti({wrapper:!0,selected:this.selected,[`alert-${this.alertType}`]:!0,[`type-${this.type}`]:!0,expanded:this.inExpandedGroup})}
            >
              ${this.selectedId?F`<div class="id-label">${this.selectedId}</div>`:He}
              <div class="button-wrapper">
                ${Pne(this.selected,this.alertType,this.type)}
                <div class="visible-wrapper">
                  <div
                    class="icon"
                    style="transform: rotate(${this.relativeDirection}deg);"
                  >
                    <slot></slot>
                  </div>
                  <div class="alert-ring"></div>
                  <div class="state-layer"></div>
                </div>
              </div>
            </button>
          `}
    `}};xs.styles=ot(Mne);xa([M({type:Number})],xs.prototype,"relativeDirection",2);xa([M({type:Boolean})],xs.prototype,"selected",2);xa([M({type:String})],xs.prototype,"selectedId",2);xa([M({type:String})],xs.prototype,"alertType",2);xa([M({type:Boolean})],xs.prototype,"overlap",2);xa([M({type:String})],xs.prototype,"type",2);xa([M({type:Boolean})],xs.prototype,"inExpandedGroup",2);xs=xa([ie("obc-poi-target-button")],xs);var One=Object.defineProperty,$ne=Object.getOwnPropertyDescriptor,yk=(r,e,t,i)=>{for(var n=i>1?void 0:i?$ne(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&One(e,t,n),n};let xg=class extends ee{constructor(){super(...arguments),this.useCssColor=!1,this.icon=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 1L5 21H19L12 1ZM12 7.05418L7.81896 19H16.181L12 7.05418Z" fill="currentColor"/>
</svg>
`,this.iconCss=$`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 1L5 21H19L12 1ZM12 7.05418L7.81896 19H16.181L12 7.05418Z" style="fill: var(--element-active-color)"/>
</svg>
`}render(){return F`
      <div class="wrapper">${this.useCssColor?this.iconCss:this.icon}</div>
    `}};xg.styles=re`
    .wrapper {
      height: 100%;
      width: 100%;
      line-height: 0;
    }
    .wrapper > * {
      height: 100%;
      width: 100%;
    }
  `;yk([M({type:Boolean})],xg.prototype,"useCssColor",2);xg=yk([ie("obi-ais-target-activated-iec")],xg);var Vne=Object.defineProperty,Fne=Object.getOwnPropertyDescriptor,Un=(r,e,t,i)=>{for(var n=i>1?void 0:i?Fne(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&Vne(e,t,n),n};function Bne(r){let e=null;switch(r){case"enabled":e=bl.Normal;break;case"checked":e=bl.Enhanced;break;default:throw new Error(`Value has no style: ${e}`)}return e}let on=class extends ee{constructor(){super(...arguments),this.height=192,this.selected=!1,this.selectedId=null,this.alertType=Zd.None,this.overlap=!1,this.type=cc.Button,this.value="enabled",this.pointerType="line",this.relativeDirection=0,this.offset=0}render(){let r=null,e=0;if(this.selected){const t=getComputedStyle(this).getPropertyValue("--obc-poi-target-selected-vertical-offset");e=parseInt(t)}switch(this.pointerType){case"line":r=F`
          <obc-poi-line
            height=${this.height+e}
            poiStyle=${Bne(this.value)}
            .offset=${this.offset}
          ></obc-poi-line>
        `;break;case"arrow-left":r="arrow-left";break;case"arrow-right":r="arrow-right";break;case"null":r=null;break;default:throw new Error(`Pointer type ${this.pointerType} not supported`)}return F`
      <div
        class=${ti({wrapper:!0,["type-"+this.pointerType]:!0,selected:this.selected})}
      >
        <obc-poi-target-button
          .relativeDirection=${this.relativeDirection}
          .selected=${this.selected}
          .selectedId=${this.selectedId}
          .alertType=${this.alertType}
          .overlap=${this.overlap}
          .type=${this.type}
        >
          <obi-ais-target-activated-iec></obi-ais-target-activated-iec>
        </obc-poi-target-button>
        ${this.pointerType==="line"?r:null}
      </div>
    `}};on.styles=ot(Cne);Un([M({type:Number})],on.prototype,"height",2);Un([M({type:Boolean})],on.prototype,"selected",2);Un([M({type:String})],on.prototype,"selectedId",2);Un([M({type:String})],on.prototype,"alertType",2);Un([M({type:Boolean})],on.prototype,"overlap",2);Un([M({type:String})],on.prototype,"type",2);Un([M({type:String})],on.prototype,"value",2);Un([M({type:String})],on.prototype,"pointerType",2);Un([M({type:Number})],on.prototype,"relativeDirection",2);Un([M({type:Number})],on.prototype,"offset",2);on=Un([ie("obc-poi-target")],on);const y_=Ne({__name:"ObcPoiTarget",props:{height:{},selected:{type:Boolean},selectedId:{},alertType:{},overlap:{type:Boolean},type:{},value:{},pointerType:{},relativeDirection:{},offset:{}},setup(r){const e=r,t=At({}),i={created(a){for(const l in e)t[l]=a[l]}};let n=!1;const s=mt(),o=()=>{const a={};for(const l in e){const c=e[l];(c!==void 0||n)&&(a[l]=c??t[l])}return n=!0,lt("obc-poi-target",a,vt(s))};return(a,l)=>Ft((G(),Re(o,null,null,512)),[[i]])}}),Ae=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)},Nne=Number.isSafeInteger||function(r){return typeof r=="number"&&Math.abs(r)<=Hne},Hne=Number.MAX_SAFE_INTEGER||9007199254740991;let Ve=function(r){return r.NETWORK_ERROR="networkError",r.MEDIA_ERROR="mediaError",r.KEY_SYSTEM_ERROR="keySystemError",r.MUX_ERROR="muxError",r.OTHER_ERROR="otherError",r}({}),j=function(r){return r.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",r.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",r.KEY_SYSTEM_NO_SESSION="keySystemNoSession",r.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",r.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",r.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",r.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",r.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",r.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",r.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",r.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",r.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",r.MANIFEST_LOAD_ERROR="manifestLoadError",r.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",r.MANIFEST_PARSING_ERROR="manifestParsingError",r.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",r.LEVEL_EMPTY_ERROR="levelEmptyError",r.LEVEL_LOAD_ERROR="levelLoadError",r.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",r.LEVEL_PARSING_ERROR="levelParsingError",r.LEVEL_SWITCH_ERROR="levelSwitchError",r.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",r.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",r.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",r.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",r.FRAG_LOAD_ERROR="fragLoadError",r.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",r.FRAG_DECRYPT_ERROR="fragDecryptError",r.FRAG_PARSING_ERROR="fragParsingError",r.FRAG_GAP="fragGap",r.REMUX_ALLOC_ERROR="remuxAllocError",r.KEY_LOAD_ERROR="keyLoadError",r.KEY_LOAD_TIMEOUT="keyLoadTimeOut",r.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",r.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",r.BUFFER_APPEND_ERROR="bufferAppendError",r.BUFFER_APPENDING_ERROR="bufferAppendingError",r.BUFFER_STALLED_ERROR="bufferStalledError",r.BUFFER_FULL_ERROR="bufferFullError",r.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",r.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",r.ASSET_LIST_LOAD_ERROR="assetListLoadError",r.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",r.ASSET_LIST_PARSING_ERROR="assetListParsingError",r.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",r.INTERNAL_EXCEPTION="internalException",r.INTERNAL_ABORTED="aborted",r.ATTACH_MEDIA_ERROR="attachMediaError",r.UNKNOWN="unknown",r}({}),T=function(r){return r.MEDIA_ATTACHING="hlsMediaAttaching",r.MEDIA_ATTACHED="hlsMediaAttached",r.MEDIA_DETACHING="hlsMediaDetaching",r.MEDIA_DETACHED="hlsMediaDetached",r.MEDIA_ENDED="hlsMediaEnded",r.STALL_RESOLVED="hlsStallResolved",r.BUFFER_RESET="hlsBufferReset",r.BUFFER_CODECS="hlsBufferCodecs",r.BUFFER_CREATED="hlsBufferCreated",r.BUFFER_APPENDING="hlsBufferAppending",r.BUFFER_APPENDED="hlsBufferAppended",r.BUFFER_EOS="hlsBufferEos",r.BUFFERED_TO_END="hlsBufferedToEnd",r.BUFFER_FLUSHING="hlsBufferFlushing",r.BUFFER_FLUSHED="hlsBufferFlushed",r.MANIFEST_LOADING="hlsManifestLoading",r.MANIFEST_LOADED="hlsManifestLoaded",r.MANIFEST_PARSED="hlsManifestParsed",r.LEVEL_SWITCHING="hlsLevelSwitching",r.LEVEL_SWITCHED="hlsLevelSwitched",r.LEVEL_LOADING="hlsLevelLoading",r.LEVEL_LOADED="hlsLevelLoaded",r.LEVEL_UPDATED="hlsLevelUpdated",r.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",r.LEVELS_UPDATED="hlsLevelsUpdated",r.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",r.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",r.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",r.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",r.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",r.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",r.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",r.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",r.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",r.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",r.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",r.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",r.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",r.CUES_PARSED="hlsCuesParsed",r.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",r.INIT_PTS_FOUND="hlsInitPtsFound",r.FRAG_LOADING="hlsFragLoading",r.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",r.FRAG_LOADED="hlsFragLoaded",r.FRAG_DECRYPTED="hlsFragDecrypted",r.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",r.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",r.FRAG_PARSING_METADATA="hlsFragParsingMetadata",r.FRAG_PARSED="hlsFragParsed",r.FRAG_BUFFERED="hlsFragBuffered",r.FRAG_CHANGED="hlsFragChanged",r.FPS_DROP="hlsFpsDrop",r.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",r.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",r.ERROR="hlsError",r.DESTROYING="hlsDestroying",r.KEY_LOADING="hlsKeyLoading",r.KEY_LOADED="hlsKeyLoaded",r.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",r.BACK_BUFFER_REACHED="hlsBackBufferReached",r.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",r.ASSET_LIST_LOADING="hlsAssetListLoading",r.ASSET_LIST_LOADED="hlsAssetListLoaded",r.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",r.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",r.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",r.INTERSTITIAL_STARTED="hlsInterstitialStarted",r.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",r.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",r.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",r.INTERSTITIAL_ENDED="hlsInterstitialEnded",r.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",r.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",r.EVENT_CUE_ENTER="hlsEventCueEnter",r}({});var dt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},De={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Zl{constructor(e,t=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=i}sample(e,t){const i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Une{constructor(e,t,i,n=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Zl(e),this.fast_=new Zl(t),this.defaultTTFB_=n,this.ttfb_=new Zl(e)}update(e,t){const{slow_:i,fast_:n,ttfb_:s}=this;i.halfLife!==e&&(this.slow_=new Zl(e,i.getEstimate(),i.getTotalWeight())),n.halfLife!==t&&(this.fast_=new Zl(t,n.getEstimate(),n.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new Zl(e,s.getEstimate(),s.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const i=8*t,n=e/1e3,s=i/n;this.fast_.sample(n,s),this.slow_.sample(n,s)}sampleTTFB(e){const t=e/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(i,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function zne(r,e,t){return(e=Gne(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ut(){return Ut=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Ut.apply(null,arguments)}function b_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function Ot(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(t),!0).forEach(function(i){zne(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):b_(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function jne(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Gne(r){var e=jne(r,"string");return typeof e=="symbol"?e:e+""}class po{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const i=`[${e}]:`;this.trace=ko,this.debug=t.debug.bind(null,i),this.log=t.log.bind(null,i),this.warn=t.warn.bind(null,i),this.info=t.info.bind(null,i),this.error=t.error.bind(null,i)}}const ko=function(){},Zne={trace:ko,debug:ko,log:ko,warn:ko,info:ko,error:ko};function fy(){return Ut({},Zne)}function Wne(r,e){const t=self.console[r];return t?t.bind(self.console,`${e?"["+e+"] ":""}[${r}] >`):ko}function __(r,e,t){return e[r]?e[r].bind(e):Wne(r,t)}const py=fy();function Kne(r,e,t){const i=fy();if(typeof console=="object"&&r===!0||typeof r=="object"){const n=["debug","log","info","warn","error"];n.forEach(s=>{i[s]=__(s,r,t)});try{i.log(`Debug logs enabled for "${e}" in hls.js version 1.6.2`)}catch{return fy()}n.forEach(s=>{py[s]=__(s,r)})}else Ut(py,i);return i}const _t=py;function pa(r=!0){return typeof self>"u"?void 0:(r||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function qne(r){return typeof self<"u"&&r===self.ManagedMediaSource}function bk(r,e){const t=Object.keys(r),i=Object.keys(e),n=t.length,s=i.length;return!n||!s||n===s&&!t.some(o=>i.indexOf(o)===-1)}function Qr(r,e=!1){if(typeof TextDecoder<"u"){const c=new TextDecoder("utf-8").decode(r);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const t=r.length;let i,n,s,o="",a=0;for(;a<t;){if(i=r[a++],i===0&&e)return o;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:n=r[a++],o+=String.fromCharCode((i&31)<<6|n&63);break;case 14:n=r[a++],s=r[a++],o+=String.fromCharCode((i&15)<<12|(n&63)<<6|(s&63)<<0);break}}return o}const ts={hexDump:function(r){let e="";for(let t=0;t<r.length;t++){let i=r[t].toString(16);i.length<2&&(i="0"+i),e+=i}return e}};function Yne(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sv={exports:{}},w_;function Xne(){return w_||(w_=1,function(r,e){(function(t){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var h=a.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");return h.path=a.normalizePath(h.path),a.buildURLFromParts(h)}var d=a.parseURL(c);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return u.alwaysNormalize?(d.path=a.normalizePath(d.path),a.buildURLFromParts(d)):c;var f=a.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var g=n.exec(f.path);f.netLoc=g[1],f.path=g[2]}f.netLoc&&!f.path&&(f.path="/");var m={scheme:f.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(m.netLoc=f.netLoc,d.path[0]!=="/"))if(!d.path)m.path=f.path,d.params||(m.params=f.params,d.query||(m.query=f.query));else{var v=f.path,y=v.substring(0,v.lastIndexOf("/")+1)+d.path;m.path=a.normalizePath(y)}return m.path===null&&(m.path=u.alwaysNormalize?a.normalizePath(d.path):d.path),a.buildURLFromParts(m)},parseURL:function(l){var c=i.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};r.exports=a})()}(sv)),sv.exports}var Pb=Xne();class Rb{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Ht={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class _k{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,Jne(this,"stats")}setByteRange(e,t){const i=e.split("@",2);let n;i.length===1?n=(t==null?void 0:t.byteRangeEndOffset)||0:n=parseInt(i[1]),this._byteRange=[n,parseInt(i[0])+n]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Ht.AUDIO]:null,[Ht.VIDEO]:null,[Ht.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new Rb),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Pb.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Ht.AUDIO]=null,e[Ht.VIDEO]=null,e[Ht.AUDIOVIDEO]=null}}function Oi(r){return r.sn!=="initSegment"}class ov extends _k{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange){const e=this.byteRange[0],t=this.byteRange[1];if(Ae(e)&&Ae(t))return t-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(i.length===1)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=Ae(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),i=t.length;if(i>1||i===1&&this.levelkeys[t[0]].encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!Ae(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return Oi(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,i,n,s,o=!1){const{elementaryStreams:a}=this,l=a[e];if(!l){a[e]={startPTS:t,endPTS:i,startDTS:n,endDTS:s,partial:o};return}l.startPTS=Math.min(l.startPTS,t),l.endPTS=Math.max(l.endPTS,i),l.startDTS=Math.min(l.startDTS,n),l.endDTS=Math.max(l.endDTS,s)}}class Qne extends _k{constructor(e,t,i,n,s){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=n;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function wk(r,e){const t=Object.getPrototypeOf(r);if(t){const i=Object.getOwnPropertyDescriptor(t,e);return i||wk(t,e)}}function Jne(r,e){const t=wk(r,e);t&&(t.enumerable=!0,Object.defineProperty(r,e,t))}const Eg=Math.pow(2,32)-1,ese=[].push,Ck={video:1,audio:2,id3:3,text:4};function Ti(r){return String.fromCharCode.apply(null,r)}function xk(r,e){const t=r[e]<<8|r[e+1];return t<0?65536+t:t}function ze(r,e){const t=Ek(r,e);return t<0?4294967296+t:t}function C_(r,e){let t=ze(r,e);return t*=Math.pow(2,32),t+=ze(r,e+4),t}function Ek(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}function av(r,e,t){r[e]=t>>24,r[e+1]=t>>16&255,r[e+2]=t>>8&255,r[e+3]=t&255}function tse(r){const e=r.byteLength;for(let t=0;t<e;){const i=ze(r,t);if(i>8&&r[t+4]===109&&r[t+5]===111&&r[t+6]===111&&r[t+7]===102)return!0;t=i>1?t+i:e}return!1}function nt(r,e){const t=[];if(!e.length)return t;const i=r.byteLength;for(let n=0;n<i;){const s=ze(r,n),o=Ti(r.subarray(n+4,n+8)),a=s>1?n+s:i;if(o===e[0])if(e.length===1)t.push(r.subarray(n+8,a));else{const l=nt(r.subarray(n+8,a),e.slice(1));l.length&&ese.apply(t,l)}n=a}return t}function ise(r){const e=[],t=r[0];let i=8;const n=ze(r,i);i+=4;let s=0,o=0;t===0?(s=ze(r,i),o=ze(r,i+4),i+=8):(s=C_(r,i),o=C_(r,i+8),i+=16),i+=2;let a=r.length+o;const l=xk(r,i);i+=2;for(let c=0;c<l;c++){let u=i;const h=ze(r,u);u+=4;const d=h&2147483647;if((h&2147483648)>>>31===1)return _t.warn("SIDX has hierarchical references (not supported)"),null;const g=ze(r,u);u+=4,e.push({referenceSize:d,subsegmentDuration:g,info:{duration:g/n,start:a,end:a+d-1}}),a+=d,u+=4,i=u}return{earliestPresentationTime:s,timescale:n,version:t,referencesCount:l,references:e}}function Tk(r){const e=[],t=nt(r,["moov","trak"]);for(let n=0;n<t.length;n++){const s=t[n],o=nt(s,["tkhd"])[0];if(o){let a=o[0];const l=ze(o,a===0?12:20),c=nt(s,["mdia","mdhd"])[0];if(c){a=c[0];const u=ze(c,a===0?12:20),h=nt(s,["mdia","hdlr"])[0];if(h){const d=Ti(h.subarray(8,12)),f={soun:Ht.AUDIO,vide:Ht.VIDEO}[d],g=nt(s,["mdia","minf","stbl","stsd"])[0],m=rse(g);f?(e[l]={timescale:u,type:f,stsd:m},e[f]=Ot({timescale:u,id:l},m)):e[l]={timescale:u,type:d,stsd:m}}}}}return nt(r,["moov","mvex","trex"]).forEach(n=>{const s=ze(n,4),o=e[s];o&&(o.default={duration:ze(n,12),flags:ze(n,20)})}),e}function rse(r){const e=r.subarray(8),t=e.subarray(86),i=Ti(e.subarray(4,8));let n=i,s;const o=i==="enca"||i==="encv";if(o){const c=nt(e,[i])[0].subarray(i==="enca"?28:78);nt(c,["sinf"]).forEach(h=>{const d=nt(h,["schm"])[0];if(d){const f=Ti(d.subarray(4,8));if(f==="cbcs"||f==="cenc"){const g=nt(h,["frma"])[0];g&&(n=Ti(g))}}})}const a=n;switch(n){case"avc1":case"avc2":case"avc3":case"avc4":{const l=nt(t,["avcC"])[0];l&&l.length>3&&(n+="."+v1(l[1])+v1(l[2])+v1(l[3]),s=m1(a==="avc1"?"dva1":"dvav",t));break}case"mp4a":{const l=nt(e,[i])[0],c=nt(l.subarray(28),["esds"])[0];if(c&&c.length>7){let u=4;if(c[u++]!==3)break;u=lv(c,u),u+=2;const h=c[u++];if(h&128&&(u+=2),h&64&&(u+=c[u++]),c[u++]!==4)break;u=lv(c,u);const d=c[u++];if(d===64)n+="."+v1(d);else break;if(u+=12,c[u++]!==5)break;u=lv(c,u);const f=c[u++];let g=(f&248)>>3;g===31&&(g+=1+((f&7)<<3)+((c[u]&224)>>5)),n+="."+g}break}case"hvc1":case"hev1":{const l=nt(t,["hvcC"])[0];if(l&&l.length>12){const c=l[1],u=["","A","B","C"][c>>6],h=c&31,d=ze(l,2),f=(c&32)>>5?"H":"L",g=l[12],m=l.subarray(6,12);n+="."+u+h,n+="."+d.toString(16).toUpperCase(),n+="."+f+g;let v="";for(let y=m.length;y--;){const _=m[y];(_||v)&&(v="."+_.toString(16).toUpperCase()+v)}n+=v}s=m1(a=="hev1"?"dvhe":"dvh1",t);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{n=m1(n,t)||n;break}case"vp09":{const l=nt(t,["vpcC"])[0];if(l&&l.length>6){const c=l[4],u=l[5],h=l[6]>>4&15;n+="."+Xn(c)+"."+Xn(u)+"."+Xn(h)}break}case"av01":{const l=nt(t,["av1C"])[0];if(l&&l.length>2){const c=l[1]>>>5,u=l[1]&31,h=l[2]>>>7?"H":"M",d=(l[2]&64)>>6,f=(l[2]&32)>>5,g=c===2&&d?f?12:10:d?10:8,m=(l[2]&16)>>4,v=(l[2]&8)>>3,y=(l[2]&4)>>2,_=l[2]&3;n+="."+c+"."+Xn(u)+h+"."+Xn(g)+"."+m+"."+v+y+_+"."+Xn(1)+"."+Xn(1)+"."+Xn(1)+"."+0,s=m1("dav1",t)}break}}return{codec:n,encrypted:o,supplemental:s}}function m1(r,e){const t=nt(e,["dvvC"]),i=t.length?t[0]:nt(e,["dvcC"])[0];if(i){const n=i[2]>>1&127,s=i[2]<<5&32|i[3]>>3&31;return r+"."+Xn(n)+"."+Xn(s)}}function lv(r,e){const t=e+5;for(;r[e++]&128&&e<t;);return e}function v1(r){return("0"+r.toString(16).toUpperCase()).slice(-2)}function Xn(r){return(r<10?"0":"")+r}function nse(r,e){if(!r||!e)return r;const t=e.keyId;return t&&e.isCommonEncryption&&nt(r,["moov","trak"]).forEach(n=>{const o=nt(n,["mdia","minf","stbl","stsd"])[0].subarray(8);let a=nt(o,["enca"]);const l=a.length>0;l||(a=nt(o,["encv"])),a.forEach(c=>{const u=l?c.subarray(28):c.subarray(78);nt(u,["sinf"]).forEach(d=>{const f=Lk(d);if(f){const g=f.subarray(8,24);g.some(m=>m!==0)||(_t.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${ts.hexDump(g)} -> ${ts.hexDump(t)}`),f.set(t,8))}})})}),r}function Lk(r){const e=nt(r,["schm"])[0];if(e){const t=Ti(e.subarray(4,8));if(t==="cbcs"||t==="cenc")return nt(r,["schi","tenc"])[0]}return null}function sse(r,e){return nt(e,["moof","traf"]).reduce((t,i)=>{const n=nt(i,["tfdt"])[0],s=n[0],o=nt(i,["tfhd"]).reduce((a,l)=>{const c=ze(l,4),u=r[c];if(u){let h=ze(n,4);if(s===1){if(h===Eg)return _t.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),a;h*=Eg+1,h+=ze(n,8)}const d=u.timescale||9e4,f=h/d;if(Ae(f)&&(a===null||f<a))return f}return a},null);return o!==null&&Ae(o)&&(t===null||o<t)?o:t},null)}function ose(r,e){let t=0,i=0,n=0;const s=nt(r,["moof","traf"]);for(let o=0;o<s.length;o++){const a=s[o],l=nt(a,["tfhd"])[0],c=ze(l,4),u=e[c];if(!u)continue;const h=u.default,d=ze(l,0)|(h==null?void 0:h.flags);let f=h==null?void 0:h.duration;d&8&&(d&2?f=ze(l,12):f=ze(l,8));const g=u.timescale||9e4,m=nt(a,["trun"]);for(let v=0;v<m.length;v++){if(t=ase(m[v]),!t&&f){const y=ze(m[v],4);t=f*y}u.type===Ht.VIDEO?i+=t/g:u.type===Ht.AUDIO&&(n+=t/g)}}if(i===0&&n===0){let o=1/0,a=0,l=0;const c=nt(r,["sidx"]);for(let u=0;u<c.length;u++){const h=ise(c[u]);if(h!=null&&h.references){o=Math.min(o,h.earliestPresentationTime/h.timescale);const d=h.references.reduce((f,g)=>f+g.info.duration||0,0);a=Math.max(a,d+h.earliestPresentationTime/h.timescale),l=a-o}}if(l&&Ae(l))return l}return i||n}function ase(r){const e=ze(r,0);let t=8;e&1&&(t+=4),e&4&&(t+=4);let i=0;const n=ze(r,4);for(let s=0;s<n;s++){if(e&256){const o=ze(r,t);i+=o,t+=4}e&512&&(t+=4),e&1024&&(t+=4),e&2048&&(t+=4)}return i}function lse(r,e,t){nt(e,["moof","traf"]).forEach(i=>{nt(i,["tfhd"]).forEach(n=>{const s=ze(n,4),o=r[s];if(!o)return;const a=o.timescale||9e4;nt(i,["tfdt"]).forEach(l=>{const c=l[0],u=t*a;if(u){let h=ze(l,4);if(c===0)h-=u,h=Math.max(h,0),av(l,4,h);else{h*=Math.pow(2,32),h+=ze(l,8),h-=u,h=Math.max(h,0);const d=Math.floor(h/(Eg+1)),f=Math.floor(h%(Eg+1));av(l,4,d),av(l,8,f)}}})})})}function cse(r){const e={valid:null,remainder:null},t=nt(r,["moof"]);if(t.length<2)return e.remainder=r,e;const i=t[t.length-1];return e.valid=r.slice(0,i.byteOffset-8),e.remainder=r.slice(i.byteOffset-8),e}function wn(r,e){const t=new Uint8Array(r.length+e.length);return t.set(r),t.set(e,r.length),t}function x_(r,e){const t=[],i=e.samples,n=e.timescale,s=e.id;let o=!1;return nt(i,["moof"]).map(l=>{const c=l.byteOffset-8;nt(l,["traf"]).map(h=>{const d=nt(h,["tfdt"]).map(f=>{const g=f[0];let m=ze(f,4);return g===1&&(m*=Math.pow(2,32),m+=ze(f,8)),m/n})[0];return d!==void 0&&(r=d),nt(h,["tfhd"]).map(f=>{const g=ze(f,4),m=ze(f,0)&16777215,v=(m&1)!==0,y=(m&2)!==0,_=(m&8)!==0;let w=0;const S=(m&16)!==0;let k=0;const P=(m&32)!==0;let x=8;g===s&&(v&&(x+=8),y&&(x+=4),_&&(w=ze(f,x),x+=4),S&&(k=ze(f,x),x+=4),P&&(x+=4),e.type==="video"&&(o=Bm(e.codec)),nt(h,["trun"]).map(C=>{const E=C[0],A=ze(C,0)&16777215,I=(A&1)!==0;let D=0;const R=(A&4)!==0,fe=(A&256)!==0;let se=0;const Y=(A&512)!==0;let K=0;const ae=(A&1024)!==0,ne=(A&2048)!==0;let ce=0;const ke=ze(C,4);let ye=8;I&&(D=ze(C,ye),ye+=4),R&&(ye+=4);let ge=D+c;for(let X=0;X<ke;X++){if(fe?(se=ze(C,ye),ye+=4):se=w,Y?(K=ze(C,ye),ye+=4):K=k,ae&&(ye+=4),ne&&(E===0?ce=ze(C,ye):ce=Ek(C,ye),ye+=4),e.type===Ht.VIDEO){let Fe=0;for(;Fe<K;){const Ce=ze(i,ge);if(ge+=4,use(o,i[ge])){const q=i.subarray(ge,ge+Ce);Db(q,o?2:1,r+ce/n,t)}ge+=Ce,Fe+=Ce+4}}r+=se/n}}))})})}),t}function Bm(r){if(!r)return!1;const e=r.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function use(r,e){if(r){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function Db(r,e,t,i){const n=Sk(r);let s=0;s+=e;let o=0,a=0,l=0;for(;s<n.length;){o=0;do{if(s>=n.length)break;l=n[s++],o+=l}while(l===255);a=0;do{if(s>=n.length)break;l=n[s++],a+=l}while(l===255);const c=n.length-s;let u=s;if(a<c)s+=a;else if(a>c){_t.error(`Malformed SEI payload. ${a} is too small, only ${c} bytes left to parse.`);break}if(o===4){if(n[u++]===181){const d=xk(n,u);if(u+=2,d===49){const f=ze(n,u);if(u+=4,f===1195456820){const g=n[u++];if(g===3){const m=n[u++],v=31&m,y=64&m,_=y?2+v*3:0,w=new Uint8Array(_);if(y){w[0]=m;for(let S=1;S<_;S++)w[S]=n[u++]}i.push({type:g,payloadType:o,pts:t,bytes:w})}}}}}else if(o===5&&a>16){const h=[];for(let g=0;g<16;g++){const m=n[u++].toString(16);h.push(m.length==1?"0"+m:m),(g===3||g===5||g===7||g===9)&&h.push("-")}const d=a-16,f=new Uint8Array(d);for(let g=0;g<d;g++)f[g]=n[u++];i.push({payloadType:o,pts:t,uuid:h.join(""),userData:Qr(f),userDataBytes:f})}}}function Sk(r){const e=r.byteLength,t=[];let i=1;for(;i<e-2;)r[i]===0&&r[i+1]===0&&r[i+2]===3?(t.push(i+2),i+=2):i++;if(t.length===0)return r;const n=e-t.length,s=new Uint8Array(n);let o=0;for(i=0;i<n;o++,i++)o===t[0]&&(o++,t.shift()),s[i]=r[o];return s}function hse(r){const e=r[0];let t="",i="",n=0,s=0,o=0,a=0,l=0,c=0;if(e===0){for(;Ti(r.subarray(c,c+1))!=="\0";)t+=Ti(r.subarray(c,c+1)),c+=1;for(t+=Ti(r.subarray(c,c+1)),c+=1;Ti(r.subarray(c,c+1))!=="\0";)i+=Ti(r.subarray(c,c+1)),c+=1;i+=Ti(r.subarray(c,c+1)),c+=1,n=ze(r,12),s=ze(r,16),a=ze(r,20),l=ze(r,24),c=28}else if(e===1){c+=4,n=ze(r,c),c+=4;const h=ze(r,c);c+=4;const d=ze(r,c);for(c+=4,o=2**32*h+d,Nne(o)||(o=Number.MAX_SAFE_INTEGER,_t.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=ze(r,c),c+=4,l=ze(r,c),c+=4;Ti(r.subarray(c,c+1))!=="\0";)t+=Ti(r.subarray(c,c+1)),c+=1;for(t+=Ti(r.subarray(c,c+1)),c+=1;Ti(r.subarray(c,c+1))!=="\0";)i+=Ti(r.subarray(c,c+1)),c+=1;i+=Ti(r.subarray(c,c+1)),c+=1}const u=r.subarray(c,r.byteLength);return{schemeIdUri:t,value:i,timeScale:n,presentationTime:o,presentationTimeDelta:s,eventDuration:a,id:l,payload:u}}function dse(r,...e){const t=e.length;let i=8,n=t;for(;n--;)i+=e[n].byteLength;const s=new Uint8Array(i);for(s[0]=i>>24&255,s[1]=i>>16&255,s[2]=i>>8&255,s[3]=i&255,s.set(r,4),n=0,i=8;n<t;n++)s.set(e[n],i),i+=e[n].byteLength;return s}function fse(r,e,t){if(r.byteLength!==16)throw new RangeError("Invalid system id");let i,n;i=0,n=new Uint8Array;let s;i>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const o=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(o.buffer).setUint32(0,t.byteLength,!1),dse([112,115,115,104],new Uint8Array([i,0,0,0]),r,s,n,o,t||new Uint8Array)}function pse(r){const e=[];if(r instanceof ArrayBuffer){const t=r.byteLength;let i=0;for(;i+32<t;){const n=new DataView(r,i),s=gse(n);e.push(s),i+=s.size}}return e}function gse(r){const e=r.getUint32(0),t=r.byteOffset,i=r.byteLength;if(i<e)return{offset:t,size:i};if(r.getUint32(4)!==1886614376)return{offset:t,size:e};const s=r.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:t,size:e};const o=r.buffer,a=ts.hexDump(new Uint8Array(o,t+12,16)),l=r.getUint32(28);let c=null,u=null;if(s===0){if(e-32<l||l<22)return{offset:t,size:e};u=new Uint8Array(o,t+32,l)}else if(s===1){if(!l||i<t+32+l*16+16)return{offset:t,size:e};c=[];for(let h=0;h<l;h++)c.push(new Uint8Array(o,t+32+h*16,16))}return{version:s,systemId:a,kids:c,data:u,offset:t,size:e}}const Ak=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),cu={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function kk(r,e){const t=cu[e];return!!t&&!!t[r.slice(0,4)]}function gy(r,e,t=!0){return!r.split(",").some(i=>!Ik(i,e,t))}function Ik(r,e,t=!0){var i;const n=pa(t);return(i=n==null?void 0:n.isTypeSupported(Wd(r,e)))!=null?i:!1}function Wd(r,e){return`${e}/mp4;codecs=${r}`}function E_(r){if(r){const e=r.substring(0,4);return cu.video[e]}return 2}function Tg(r){const e=Ak();return r.split(",").reduce((t,i)=>{const s=e&&Bm(i)?9:cu.video[i];return s?(s*2+t)/(t?3:2):(cu.audio[i]+t)/(t?2:1)},0)}const cv={};function mse(r,e=!0){if(cv[r])return cv[r];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[r];for(let n=0;n<t.length;n++){var i;if(Ik(t[n],"audio",e))return cv[r]=t[n],t[n];if(t[n]==="mp3"&&(i=pa(e))!=null&&i.isTypeSupported("audio/mpeg"))return""}return r}const vse=/flac|opus|mp4a\.40\.34/i;function Lg(r,e=!0){return r.replace(vse,t=>mse(t.toLowerCase(),e))}function yse(r,e){const t=[];if(r){const i=r.split(",");for(let n=0;n<i.length;n++)kk(i[n],"video")||t.push(i[n])}return e&&t.push(e),t.join(",")}function ep(r,e){if(r&&(r.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(r)!==-1))return r;if(e){const t=e.split(",");if(t.length>1){if(r){for(let i=t.length;i--;)if(t[i].substring(0,4)===r.substring(0,4))return t[i]}return t[0]}}return e||r}function bse(r){const e=r.split(",");for(let t=0;t<e.length;t++){const i=e[t].split(".");if(i.length>2){let n=i.shift()+".";n+=parseInt(i.shift()).toString(16),n+=("000"+parseInt(i.shift()).toString(16)).slice(-4),e[t]=n}}return e.join(",")}function _se(r){if(r.startsWith("av01.")){const e=r.split("."),t=["0","111","01","01","01","0"];for(let i=e.length;i>4&&i<10;i++)e[i]=t[i-4];return e.join(".")}return r}function T_(r){const e=pa(r)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function Mk(r){return r.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const Pk={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function Rk(r,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:r}}const L_={};function wse(r,e,t,i,n,s){const o=r.audioCodec?r.audioGroups:null,a=s==null?void 0:s.audioCodec,l=s==null?void 0:s.channels,c=l?parseInt(l):a?1/0:2;let u=null;if(o!=null&&o.length)try{o.length===1&&o[0]?u=e.groups[o[0]].channels:u=o.reduce((h,d)=>{if(d){const f=e.groups[d];if(!f)throw new Error(`Audio track group ${d} not found`);Object.keys(f.channels).forEach(g=>{h[g]=(h[g]||0)+f.channels[g]})}return h},{2:0})}catch{return!0}return r.videoCodec!==void 0&&(r.width>1920&&r.height>1088||r.height>1920&&r.width>1088||r.frameRate>Math.max(i,30)||r.videoRange!=="SDR"&&r.videoRange!==t||r.bitrate>Math.max(n,8e6))||!!u&&Ae(c)&&Object.keys(u).some(h=>parseInt(h)>c)}function Dk(r,e,t){const i=r.videoCodec,n=r.audioCodec;if(!i&&!n||!t)return Promise.resolve(Pk);const s=[];if(i){const o={width:r.width,height:r.height,bitrate:Math.ceil(Math.max(r.bitrate*.9,r.averageBitrate)),framerate:r.frameRate||30},a=r.videoRange;a!=="SDR"&&(o.transferFunction=a.toLowerCase());const l=i.split(","),c=navigator.userAgent;if(l.some(u=>Bm(u))&&Ak())return Promise.resolve(Rk(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: (${c})`),s));s.push.apply(s,l.map(u=>({type:"media-source",video:Ot(Ot({},o),{},{contentType:Wd(_se(u),"video")})})))}return n&&r.audioGroups&&r.audioGroups.forEach(o=>{var a;o&&((a=e.groups[o])==null||a.tracks.forEach(l=>{if(l.groupId===o){const c=l.channels||"",u=parseFloat(c);Ae(u)&&u>2&&s.push.apply(s,n.split(",").map(h=>({type:"media-source",audio:{contentType:Wd(h,"audio"),channels:""+u}})))}}))}),Promise.all(s.map(o=>{const a=Cse(o);return L_[a]||(L_[a]=t.decodingInfo(o))})).then(o=>({supported:!o.some(a=>!a.supported),configurations:s,decodingInfoResults:o})).catch(o=>({supported:!1,configurations:s,decodingInfoResults:[],error:o}))}function Cse(r){const{audio:e,video:t}=r,i=t||e;if(i){const n=Mk(i.contentType);if(t)return`r${t.height}x${t.width}f${Math.ceil(t.framerate)}${t.transferFunction||"sd"}_${n}_${Math.ceil(t.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${n}`}return""}const my=["NONE","TYPE-0","TYPE-1",null];function xse(r){return my.indexOf(r)>-1}const Sg=["SDR","PQ","HLG"];function Ese(r){return!!r&&Sg.indexOf(r)>-1}var tp={No:"",Yes:"YES",v2:"v2"};function S_(r){const{canSkipUntil:e,canSkipDateRanges:t,age:i}=r,n=i<e/2;return e&&n?t?tp.v2:tp.Yes:tp.No}class A_{constructor(e,t,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=i}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class Kd{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(i=>!!i).map(i=>i.substring(0,4)).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const i=(t=e.supplemental)==null?void 0:t.videoCodec;i&&i!==e.videoCodec&&(this.codecSet+=`,${i.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return k_(this._audioGroups,e)}hasSubtitleGroup(e){return k_(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let i=this._audioGroups;i||(i=this._audioGroups=[]),i.indexOf(t)===-1&&i.push(t)}else if(e==="text"){let i=this._subtitleGroups;i||(i=this._subtitleGroups=[]),i.indexOf(t)===-1&&i.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function k_(r,e){return!e||!r?!1:r.indexOf(e)!==-1}function Tse(){if(typeof matchMedia=="function"){const r=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(r.media!==e.media)return r.matches===!0}return!1}function Lse(r,e){let t=!1,i=[];if(r&&(t=r!=="SDR",i=[r]),e){i=e.allowedVideoRanges||Sg.slice(0);const n=i.join("")!=="SDR"&&!e.videoCodec;t=e.preferHDR!==void 0?e.preferHDR:n&&Tse(),t||(i=["SDR"])}return{preferHDR:t,allowedVideoRanges:i}}const Sse=r=>{const e=new WeakSet;return(t,i)=>{if(r&&(i=r(t,i)),typeof i=="object"&&i!==null){if(e.has(i))return;e.add(i)}return i}},ei=(r,e)=>JSON.stringify(r,Sse(e));function Ase(r,e,t,i,n){const s=Object.keys(r),o=i==null?void 0:i.channels,a=i==null?void 0:i.audioCodec,l=n==null?void 0:n.videoCodec,c=o&&parseInt(o)===2;let u=!1,h=!1,d=1/0,f=1/0,g=1/0,m=1/0,v=0,y=[];const{preferHDR:_,allowedVideoRanges:w}=Lse(e,n);for(let C=s.length;C--;){const E=r[s[C]];u||(u=E.channels[2]>0),d=Math.min(d,E.minHeight),f=Math.min(f,E.minFramerate),g=Math.min(g,E.minBitrate),w.filter(I=>E.videoRanges[I]>0).length>0&&(h=!0)}d=Ae(d)?d:0,f=Ae(f)?f:0;const S=Math.max(1080,d),k=Math.max(30,f);g=Ae(g)?g:t,t=Math.max(g,t),h||(e=void 0);const P=s.length>1;return{codecSet:s.reduce((C,E)=>{const A=r[E];if(E===C)return C;if(y=h?w.filter(I=>A.videoRanges[I]>0):[],P){if(A.minBitrate>t)return Gn(E,`min bitrate of ${A.minBitrate} > current estimate of ${t}`),C;if(!A.hasDefaultAudio)return Gn(E,"no renditions with default or auto-select sound found"),C;if(a&&E.indexOf(a.substring(0,4))%5!==0)return Gn(E,`audio codec preference "${a}" not found`),C;if(o&&!c){if(!A.channels[o])return Gn(E,`no renditions with ${o} channel sound found (channels options: ${Object.keys(A.channels)})`),C}else if((!a||c)&&u&&A.channels[2]===0)return Gn(E,"no renditions with stereo sound found"),C;if(A.minHeight>S)return Gn(E,`min resolution of ${A.minHeight} > maximum of ${S}`),C;if(A.minFramerate>k)return Gn(E,`min framerate of ${A.minFramerate} > maximum of ${k}`),C;if(!y.some(I=>A.videoRanges[I]>0))return Gn(E,`no variants with VIDEO-RANGE of ${ei(y)} found`),C;if(l&&E.indexOf(l.substring(0,4))%5!==0)return Gn(E,`video codec preference "${l}" not found`),C;if(A.maxScore<v)return Gn(E,`max score of ${A.maxScore} < selected max of ${v}`),C}return C&&(Tg(E)>=Tg(C)||A.fragmentError>r[C].fragmentError)?C:(m=A.minIndex,v=A.maxScore,E)},void 0),videoRanges:y,preferHDR:_,minFramerate:f,minBitrate:g,minIndex:m}}function Gn(r,e){_t.log(`[abr] start candidates with "${r}" ignored because ${e}`)}function Ok(r){return r.reduce((e,t)=>{let i=e.groups[t.groupId];i||(i=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),i.tracks.push(t);const n=t.channels||"2";return i.channels[n]=(i.channels[n]||0)+1,i.hasDefault=i.hasDefault||t.default,i.hasAutoSelect=i.hasAutoSelect||t.autoselect,i.hasDefault&&(e.hasDefaultAudio=!0),i.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function kse(r,e,t,i){return r.slice(t,i+1).reduce((n,s,o)=>{if(!s.codecSet)return n;const a=s.audioGroups;let l=n[s.codecSet];l||(n[s.codecSet]=l={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:o,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!a,fragmentError:0}),l.minBitrate=Math.min(l.minBitrate,s.bitrate);const c=Math.min(s.height,s.width);return l.minHeight=Math.min(l.minHeight,c),l.minFramerate=Math.min(l.minFramerate,s.frameRate),l.minIndex=Math.min(l.minIndex,o),l.maxScore=Math.max(l.maxScore,s.score),l.fragmentError+=s.fragmentError,l.videoRanges[s.videoRange]=(l.videoRanges[s.videoRange]||0)+1,a&&a.forEach(u=>{if(!u)return;const h=e.groups[u];h&&(l.hasDefaultAudio=l.hasDefaultAudio||e.hasDefaultAudio?h.hasDefault:h.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(h.channels).forEach(d=>{l.channels[d]=(l.channels[d]||0)+h.channels[d]}))}),n},{})}function I_(r){if(!r)return r;const{lang:e,assocLang:t,characteristics:i,channels:n,audioCodec:s}=r;return{lang:e,assocLang:t,characteristics:i,channels:n,audioCodec:s}}function as(r,e,t){if("attrs"in r){const i=e.indexOf(r);if(i!==-1)return i}for(let i=0;i<e.length;i++){const n=e[i];if(sl(r,n,t))return i}return-1}function sl(r,e,t){const{groupId:i,name:n,lang:s,assocLang:o,default:a}=r,l=r.forced;return(i===void 0||e.groupId===i)&&(n===void 0||e.name===n)&&(s===void 0||Ise(s,e.lang))&&(s===void 0||e.assocLang===o)&&(a===void 0||e.default===a)&&(l===void 0||e.forced===l)&&(!("characteristics"in r)||Mse(r.characteristics||"",e.characteristics))&&(t===void 0||t(r,e))}function Ise(r,e="--"){return r.length===e.length?r===e:r.startsWith(e)||e.startsWith(r)}function Mse(r,e=""){const t=r.split(","),i=e.split(",");return t.length===i.length&&!t.some(n=>i.indexOf(n)===-1)}function Ha(r,e){const{audioCodec:t,channels:i}=r;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(i===void 0||i===(e.channels||"2"))}function Pse(r,e,t,i,n){const s=e[i],a=e.reduce((d,f,g)=>{const m=f.uri;return(d[m]||(d[m]=[])).push(g),d},{})[s.uri];a.length>1&&(i=Math.max.apply(Math,a));const l=s.videoRange,c=s.frameRate,u=s.codecSet.substring(0,4),h=M_(e,i,d=>{if(d.videoRange!==l||d.frameRate!==c||d.codecSet.substring(0,4)!==u)return!1;const f=d.audioGroups,g=t.filter(m=>!f||f.indexOf(m.groupId)!==-1);return as(r,g,n)>-1});return h>-1?h:M_(e,i,d=>{const f=d.audioGroups,g=t.filter(m=>!f||f.indexOf(m.groupId)!==-1);return as(r,g,n)>-1})}function M_(r,e,t){for(let i=e;i>-1;i--)if(t(r[i]))return i;for(let i=e+1;i<r.length;i++)if(t(r[i]))return i;return-1}function Ag(r,e){var t;return!!r&&r!==((t=e.loadLevelObj)==null?void 0:t.uri)}class Rse extends po{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var i;const{fragCurrent:n,partCurrent:s,hls:o}=this,{autoLevelEnabled:a,media:l}=o;if(!n||!l)return;const c=performance.now(),u=s?s.stats:n.stats,h=s?s.duration:n.duration,d=c-u.loading.start,f=o.minAutoLevel,g=n.level,m=this._nextAutoLevel;if(u.aborted||u.loaded&&u.loaded===u.total||g<=f){this.clearTimer(),this._nextAutoLevel=-1;return}if(!a)return;const v=m>-1&&m!==g,y=!!t||v;if(!y&&(l.paused||!l.playbackRate||!l.readyState))return;const _=o.mainForwardBufferInfo;if(!y&&_===null)return;const w=this.bwEstimator.getEstimateTTFB(),S=Math.abs(l.playbackRate);if(d<=Math.max(w,1e3*(h/(S*2))))return;const k=_?_.len/S:0,P=u.loading.first?u.loading.first-u.loading.start:-1,x=u.loaded&&P>-1,C=this.getBwEstimate(),E=o.levels,A=E[g],I=Math.max(u.loaded,Math.round(h*(n.bitrate||A.averageBitrate)/8));let D=x?d-P:d;D<1&&x&&(D=Math.min(d,u.loaded*8/C));const R=x?u.loaded*1e3/D:0,fe=w/1e3,se=R?(I-u.loaded)/R:I*8/C+fe;if(se<=k)return;const Y=R?R*8:C,K=((i=(t==null?void 0:t.details)||this.hls.latestLevelDetails)==null?void 0:i.live)===!0,ae=this.hls.config.abrBandWidthUpFactor;let ne=Number.POSITIVE_INFINITY,ce;for(ce=g-1;ce>f;ce--){const X=E[ce].maxBitrate,Fe=!E[ce].details||K;if(ne=this.getTimeToLoadFrag(fe,Y,h*X,Fe),ne<Math.min(k,h+fe))break}if(ne>=se||ne>h*10)return;x?this.bwEstimator.sample(d-Math.min(w,P),u.loaded):this.bwEstimator.sampleTTFB(d);const ke=E[ce].maxBitrate;this.getBwEstimate()*ae>ke&&this.resetEstimator(ke);const ye=this.findBestLevel(ke,f,ce,0,k,1,1);ye>-1&&(ce=ye),this.warn(`Fragment ${n.sn}${s?" part "+s.index:""} of level ${g} is loading too slowly;
      Fragment duration: ${n.duration.toFixed(3)}
      Time to underbuffer: ${k.toFixed(3)} s
      Estimated load time for current fragment: ${se.toFixed(3)} s
      Estimated load time for down switch fragment: ${ne.toFixed(3)} s
      TTFB estimate: ${P|0} ms
      Current BW estimate: ${Ae(C)?C|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${ce} @ ${ke|0} bps`),o.nextLoadLevel=o.nextAutoLevel=ce,this.clearTimer();const ge=()=>{if(this.clearTimer(),this.fragCurrent===n&&this.hls.loadLevel===ce&&ce>0){const X=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${ce>0?"and switching down":""}
      Fragment duration: ${n.duration.toFixed(3)} s
      Time to underbuffer: ${X.toFixed(3)} s`),n.abortRequests(),this.fragCurrent=this.partCurrent=null,ce>f){let Fe=this.findBestLevel(this.hls.levels[f].bitrate,f,ce,0,X,1,1);Fe===-1&&(Fe=f),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Fe,this.resetEstimator(this.hls.levels[Fe].bitrate)}}};v||se>ne*2?ge():this.timer=self.setInterval(ge,ne*1e3),o.trigger(T.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:s,stats:u})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Une(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.FRAG_LOADING,this.onFragLoading,this),e.on(T.FRAG_LOADED,this.onFragLoaded,this),e.on(T.FRAG_BUFFERED,this.onFragBuffered,this),e.on(T.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(T.LEVEL_LOADED,this.onLevelLoaded,this),e.on(T.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(T.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(T.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.FRAG_LOADING,this.onFragLoading,this),e.off(T.FRAG_LOADED,this.onFragLoaded,this),e.off(T.FRAG_BUFFERED,this.onFragBuffered,this),e.off(T.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(T.LEVEL_LOADED,this.onLevelLoaded,this),e.off(T.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(T.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(T.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const i=t.frag;if(!this.ignoreFragment(i)){if(!i.bitrateTest){var n;this.fragCurrent=i,this.partCurrent=(n=t.part)!=null?n:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case j.BUFFER_ADD_CODEC_ERROR:case j.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case j.FRAG_LOAD_TIMEOUT:{const i=t.frag,{fragCurrent:n,partCurrent:s}=this;if(i&&n&&i.sn===n.sn&&i.level===n.level){const o=performance.now(),a=s?s.stats:i.stats,l=o-a.loading.start,c=a.loading.first?a.loading.first-a.loading.start:-1;if(a.loaded&&c>-1){const h=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(h,c),a.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,t,i,n){const s=e+i/t,o=n?e+this.lastLevelLoadSec:0;return s+o}onLevelLoaded(e,t){const i=this.hls.config,{loading:n}=t.stats,s=n.end-n.first;Ae(s)&&(this.lastLevelLoadSec=s/1e3),t.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,{frag:t,part:i}){const n=i?i.stats:t.stats;if(t.type===De.MAIN&&this.bwEstimator.sampleTTFB(n.loading.first-n.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=i?i.duration:t.duration,o=this.hls.levels[t.level],a=(o.loaded?o.loaded.bytes:0)+n.loaded,l=(o.loaded?o.loaded.duration:0)+s;o.loaded={bytes:a,duration:l},o.realBitrate=Math.round(8*a/l)}if(t.bitrateTest){const s={stats:n,frag:t,part:i,id:t.type};this.onFragBuffered(T.FRAG_BUFFERED,s),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:i,part:n}=t,s=n!=null&&n.stats.loaded?n.stats:i.stats;if(s.aborted||this.ignoreFragment(i))return;const o=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,s.loaded),s.bwEstimate=this.getBwEstimate(),i.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==De.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,i=this.getBwEstimate(),n=this.hls.config.maxStarvationDelay,s=this.findBestLevel(i,t,e,0,n,1,1);if(s>-1)return s;const o=this.hls.firstLevel,a=Math.min(Math.max(o,t),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,i=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(e!==-1&&(!i||!n||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=i&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,s)&&o[e].loadError<=o[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:i}=this;if(i.levels.length<=1)return i.loadLevel;const{maxAutoLevel:n,config:s,minAutoLevel:o}=i,a=t?t.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=s.abrBandWidthFactor,h=s.abrBandWidthUpFactor;if(c){const v=this.findBestLevel(l,o,n,c,0,u,h);if(v>=0)return this.rebufferNotice=-1,v}let d=a?Math.min(a,s.maxStarvationDelay):s.maxStarvationDelay;if(!c){const v=this.bitrateTestDelay;v&&(d=(a?Math.min(a,s.maxLoadingDelay):s.maxLoadingDelay)-v,this.info(`bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),u=h=1)}const f=this.findBestLevel(l,o,n,c,d,u,h);if(this.rebufferNotice!==f&&(this.rebufferNotice=f,this.info(`${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${f}`)),f>-1)return f;const g=i.levels[o],m=i.loadLevelObj;return m&&(g==null?void 0:g.bitrate)<m.bitrate?o:i.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const i=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,n=e.mainForwardBufferInfo;return(n?n.len:0)/i}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,i,n,s,o,a){var l;const c=n+s,u=this.lastLoadedFragLevel,h=u===-1?this.hls.firstLevel:u,{fragCurrent:d,partCurrent:f}=this,{levels:g,allAudioTracks:m,loadLevel:v,config:y}=this.hls;if(g.length===1)return 0;const _=g[h],w=!!((l=this.hls.latestLevelDetails)!=null&&l.live),S=v===-1||u===-1;let k,P="SDR",x=(_==null?void 0:_.frameRate)||0;const{audioPreference:C,videoPreference:E}=y,A=this.audioTracksByGroup||(this.audioTracksByGroup=Ok(m));let I=-1;if(S){if(this.firstSelection!==-1)return this.firstSelection;const Y=this.codecTiers||(this.codecTiers=kse(g,A,t,i)),K=Ase(Y,P,e,C,E),{codecSet:ae,videoRanges:ne,minFramerate:ce,minBitrate:ke,minIndex:ye,preferHDR:ge}=K;I=ye,k=ae,P=ge?ne[ne.length-1]:ne[0],x=ce,e=Math.max(e,ke),this.log(`picked start tier ${ei(K)}`)}else k=_==null?void 0:_.codecSet,P=_==null?void 0:_.videoRange;const D=f?f.duration:d?d.duration:0,R=this.bwEstimator.getEstimateTTFB()/1e3,fe=[];for(let Y=i;Y>=t;Y--){var se;const K=g[Y],ae=Y>h;if(!K)continue;if(y.useMediaCapabilities&&!K.supportedResult&&!K.supportedPromise){const Fe=navigator.mediaCapabilities;typeof(Fe==null?void 0:Fe.decodingInfo)=="function"&&(wse(K,A,P,x,e,C)||Bm(K.videoCodec))?(K.supportedPromise=Dk(K,A,Fe),K.supportedPromise.then(Ce=>{if(!this.hls)return;K.supportedResult=Ce;const q=this.hls.levels,xe=q.indexOf(K);Ce.error?this.warn(`MediaCapabilities decodingInfo error: "${Ce.error}" for level ${xe} ${ei(Ce)}`):Ce.supported||(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${xe} ${ei(Ce)}`),xe>-1&&q.length>1&&(this.log(`Removing unsupported level ${xe}`),this.hls.removeLevel(xe),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))})):K.supportedResult=Pk}if((k&&K.codecSet!==k||P&&K.videoRange!==P||ae&&x>K.frameRate||!ae&&x>0&&x<K.frameRate||K.supportedResult&&!((se=K.supportedResult.decodingInfoResults)!=null&&se[0].smooth))&&(!S||Y!==I)){fe.push(Y);continue}const ne=K.details,ce=(f?ne==null?void 0:ne.partTarget:ne==null?void 0:ne.averagetargetduration)||D;let ke;ae?ke=a*e:ke=o*e;const ye=D&&n>=D*2&&s===0?K.averageBitrate:K.maxBitrate,ge=this.getTimeToLoadFrag(R,ke,ye*ce,ne===void 0);if(ke>=ye&&(Y===u||K.loadError===0&&K.fragmentError===0)&&(ge<=R||!Ae(ge)||w&&!this.bitrateTestDelay||ge<c)){const Fe=this.forcedAutoLevel;return Y!==v&&(Fe===-1||Fe!==v)&&(fe.length&&this.trace(`Skipped level(s) ${fe.join(",")} of ${i} max with CODECS and VIDEO-RANGE:"${g[fe[0]].codecs}" ${g[fe[0]].videoRange}; not compatible with "${k}" ${P}`),this.info(`switch candidate:${h}->${Y} adjustedbw(${Math.round(ke)})-bitrate=${Math.round(ke-ye)} ttfb:${R.toFixed(1)} avgDuration:${ce.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${ge.toFixed(1)} firstSelection:${S} codecSet:${K.codecSet} videoRange:${K.videoRange} hls.loadLevel:${v}`)),S&&(this.firstSelection=Y),Y}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:i}=this.hls;return Math.min(Math.max(e,i),t)}}const Ob={search:function(r,e){let t=0,i=r.length-1,n=null,s=null;for(;t<=i;){n=(t+i)/2|0,s=r[n];const o=e(s);if(o>0)t=n+1;else if(o<0)i=n-1;else return s}return null}};function Dse(r,e,t){if(e===null||!Array.isArray(r)||!r.length||!Ae(e))return null;const i=r[0].programDateTime;if(e<(i||0))return null;const n=r[r.length-1].endProgramDateTime;if(e>=(n||0))return null;t=t||0;for(let s=0;s<r.length;++s){const o=r[s];if($se(e,t,o))return o}return null}function _l(r,e,t=0,i=0,n=.005){let s=null;if(r){s=e[1+r.sn-e[0].sn]||null;const a=r.endDTS-t;a>0&&a<15e-7&&(t+=15e-7),s&&r.level!==s.level&&s.end<=r.end&&(s=e[2+r.sn-e[0].sn]||null)}else t===0&&e[0].start===0&&(s=e[0]);if(s&&((!r||r.level===s.level)&&P_(t,i,s)===0||Ose(s,r,Math.min(n,i))))return s;const o=Ob.search(e,P_.bind(null,t,i));return o&&(o!==r||!s)?o:s}function Ose(r,e,t){if(e&&e.start===0&&e.level<r.level&&(e.endPTS||0)>0){const i=e.tagList.reduce((n,s)=>(s[0]==="INF"&&(n+=parseFloat(s[1])),n),t);return r.start<=i}return!1}function P_(r=0,e=0,t){if(t.start<=r&&t.start+t.duration>r)return 0;const i=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-i<=r?1:t.start-i>r&&t.start?-1:0}function $se(r,e,t){const i=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-i>r}function $k(r,e){return Ob.search(r,t=>t.cc<e?1:t.cc>e?-1:0)}function Vse(r,e,t){if(r&&r.startCC<=e&&r.endCC>=e){const i=t.start,n=t.end;let s=r.fragments;if(!t.relurl){const{fragmentHint:o}=r;o&&(s=s.concat(o))}return Ob.search(s,o=>o.cc<e||o.end<=i?1:o.cc>e||o.start>=n?-1:0)}return null}function kg(r){switch(r.details){case j.FRAG_LOAD_TIMEOUT:case j.KEY_LOAD_TIMEOUT:case j.LEVEL_LOAD_TIMEOUT:case j.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function R_(r,e){const t=kg(e);return r.default[`${t?"timeout":"error"}Retry`]}function $b(r,e){const t=r.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*r.retryDelayMs,r.maxRetryDelayMs)}function D_(r){return Ot(Ot({},r),{errorRetry:null,timeoutRetry:null})}function Ig(r,e,t,i){if(!r)return!1;const n=i==null?void 0:i.code,s=e<r.maxNumRetry&&(Fse(n)||!!t);return r.shouldRetry?r.shouldRetry(r,e,t,i,s):s}function Fse(r){return r===0&&navigator.onLine===!1||!!r&&(r<400||r>499)}var tr={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},Sn={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class Bse extends po{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(T.ERROR,this.onError,this),e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(T.ERROR,this.onError,this),e.off(T.ERROR,this.onErrorOut,this),e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===De.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var i;if(t.fatal)return;const n=this.hls,s=t.context;switch(t.details){case j.FRAG_LOAD_ERROR:case j.FRAG_LOAD_TIMEOUT:case j.KEY_LOAD_ERROR:case j.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case j.FRAG_PARSING_ERROR:if((i=t.frag)!=null&&i.gap){t.errorAction=qd();return}case j.FRAG_GAP:case j.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=tr.SendAlternateToPenaltyBox;return}case j.LEVEL_EMPTY_ERROR:case j.LEVEL_PARSING_ERROR:{var o,a;const c=t.parent===De.MAIN?t.level:n.loadLevel;t.details===j.LEVEL_EMPTY_ERROR&&((o=t.context)!=null&&(a=o.levelDetails)!=null&&a.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,c):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,c))}return;case j.LEVEL_LOAD_ERROR:case j.LEVEL_LOAD_TIMEOUT:typeof(s==null?void 0:s.level)=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,s.level));return;case j.AUDIO_TRACK_LOAD_ERROR:case j.AUDIO_TRACK_LOAD_TIMEOUT:case j.SUBTITLE_LOAD_ERROR:case j.SUBTITLE_TRACK_LOAD_TIMEOUT:if(s){const c=n.loadLevelObj;if(c&&(s.type===dt.AUDIO_TRACK&&c.hasAudioGroup(s.groupId)||s.type===dt.SUBTITLE_TRACK&&c.hasSubtitleGroup(s.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,n.loadLevel),t.errorAction.action=tr.SendAlternateToPenaltyBox,t.errorAction.flags=Sn.MoveAllAlternatesMatchingHost;return}}return;case j.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=n.loadLevelObj,u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?t.errorAction={action:tr.SendAlternateToPenaltyBox,flags:Sn.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(t)}return;case j.BUFFER_ADD_CODEC_ERROR:case j.REMUX_ALLOC_ERROR:case j.BUFFER_APPEND_ERROR:if(!t.errorAction){var l;t.errorAction=this.getLevelSwitchAction(t,(l=t.level)!=null?l:n.loadLevel)}return;case j.INTERNAL_EXCEPTION:case j.BUFFER_APPENDING_ERROR:case j.BUFFER_FULL_ERROR:case j.LEVEL_SWITCH_ERROR:case j.BUFFER_STALLED_ERROR:case j.BUFFER_SEEK_OVER_HOLE:case j.BUFFER_NUDGE_ON_STALL:t.errorAction=qd();return}t.type===Ve.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const i=this.hls,n=R_(i.config.playlistLoadPolicy,e),s=this.playlistError++;if(Ig(n,s,kg(e),e.response))return{action:tr.RetryRequest,flags:Sn.None,retryConfig:n,retryCount:s};const a=this.getLevelSwitchAction(e,t);return n&&(a.retryConfig=n,a.retryCount=s),a}getFragRetryOrSwitchAction(e){const t=this.hls,i=this.getVariantLevelIndex(e.frag),n=t.levels[i],{fragLoadPolicy:s,keyLoadPolicy:o}=t.config,a=R_(e.details.startsWith("key")?o:s,e),l=t.levels.reduce((u,h)=>u+h.fragmentError,0);if(n&&(e.details!==j.FRAG_GAP&&n.fragmentError++,Ig(a,l,kg(e),e.response)))return{action:tr.RetryRequest,flags:Sn.None,retryConfig:a,retryCount:l};const c=this.getLevelSwitchAction(e,i);return a&&(c.retryConfig=a,c.retryCount=l),c}getLevelSwitchAction(e,t){const i=this.hls;t==null&&(t=i.loadLevel);const n=this.hls.levels[t];if(n){var s,o;const c=e.details;n.loadError++,c===j.BUFFER_APPEND_ERROR&&n.fragmentError++;let u=-1;const{levels:h,loadLevel:d,minAutoLevel:f,maxAutoLevel:g}=i;i.autoLevelEnabled||(i.loadLevel=-1);const m=(s=e.frag)==null?void 0:s.type,y=(m===De.AUDIO&&c===j.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===j.BUFFER_ADD_CODEC_ERROR||c===j.BUFFER_APPEND_ERROR))&&h.some(({audioCodec:P})=>n.audioCodec!==P),w=e.sourceBufferName==="video"&&(c===j.BUFFER_ADD_CODEC_ERROR||c===j.BUFFER_APPEND_ERROR)&&h.some(({codecSet:P,audioCodec:x})=>n.codecSet!==P&&n.audioCodec===x),{type:S,groupId:k}=(o=e.context)!=null?o:{};for(let P=h.length;P--;){const x=(P+d)%h.length;if(x!==d&&x>=f&&x<=g&&h[x].loadError===0){var a,l;const C=h[x];if(c===j.FRAG_GAP&&m===De.MAIN&&e.frag){const E=h[x].details;if(E){const A=_l(e.frag,E.fragments,e.frag.start);if(A!=null&&A.gap)continue}}else{if(S===dt.AUDIO_TRACK&&C.hasAudioGroup(k)||S===dt.SUBTITLE_TRACK&&C.hasSubtitleGroup(k))continue;if(m===De.AUDIO&&(a=n.audioGroups)!=null&&a.some(E=>C.hasAudioGroup(E))||m===De.SUBTITLE&&(l=n.subtitleGroups)!=null&&l.some(E=>C.hasSubtitleGroup(E))||y&&n.audioCodec===C.audioCodec||!y&&n.audioCodec!==C.audioCodec||w&&n.codecSet===C.codecSet)continue}u=x;break}}if(u>-1&&i.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:tr.SendAlternateToPenaltyBox,flags:Sn.None,nextAutoLevel:u}}return{action:tr.SendAlternateToPenaltyBox,flags:Sn.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var i;switch((i=t.errorAction)==null?void 0:i.action){case tr.DoNothing:break;case tr.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==j.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,i=e.errorAction;if(!i)return;const{flags:n,hdcpLevel:s,nextAutoLevel:o}=i;switch(n){case Sn.None:this.switchLevel(e,o);break;case Sn.MoveAllAlternatesMatchingHDCP:s&&(t.maxHdcpLevel=my[my.indexOf(s)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}i.resolved||this.switchLevel(e,o)}switchLevel(e,t){if(t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===j.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const i=Mk(e.mimeType),n=this.hls.levels;for(let s=n.length;s--;)n[s][`${e.sourceBufferName}Codec`]===i&&this.hls.removeLevel(s)}}}function qd(r){const e={action:tr.DoNothing,flags:Sn.None};return r&&(e.resolved=!0),e}var Si={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class Nse{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.BUFFER_APPENDED,this.onBufferAppended,this),e.on(T.FRAG_BUFFERED,this.onFragBuffered,this),e.on(T.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.BUFFER_APPENDED,this.onBufferAppended,this),e.off(T.FRAG_BUFFERED,this.onFragBuffered,this),e.off(T.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const i=this.activePartLists[t];if(i)for(let n=i.length;n--;){const s=i[n];if(!s)break;const o=s.end;if(s.start<=e&&o!==null&&e<=o)return s}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,i){const{fragments:n}=this,s=Object.keys(n);for(let o=s.length;o--;){const a=n[s[o]];if((a==null?void 0:a.body.type)===t&&(!i||a.buffered)){const l=a.body;if(l.start<=e&&e<=l.end)return l}}return null}detectEvictedFragments(e,t,i,n,s){this.timeRanges&&(this.timeRanges[e]=t);const o=(n==null?void 0:n.fragment.sn)||-1;Object.keys(this.fragments).forEach(a=>{const l=this.fragments[a];if(!l||o>=l.body.sn)return;if(!l.buffered&&(!l.loaded||s)){l.body.type===i&&this.removeFragment(l.body);return}const c=l.range[e];if(c){if(c.time.length===0){this.removeFragment(l.body);return}c.time.some(u=>{const h=!this.isTimeBuffered(u.startPTS,u.endPTS,t);return h&&this.removeFragment(l.body),h})}})}detectPartialFragments(e){const t=this.timeRanges;if(!t||e.frag.sn==="initSegment")return;const i=e.frag,n=Wl(i),s=this.fragments[n];if(!s||s.buffered&&i.gap)return;const o=!i.relurl;Object.keys(t).forEach(a=>{const l=i.elementaryStreams[a];if(!l)return;const c=t[a],u=o||l.partial===!0;s.range[a]=this.getBufferedTimes(i,e.part,u,c)}),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,(s.body.endList=i.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),y1(s)||this.removeParts(i.sn-1,i.type)):this.removeFragment(s.body)}removeParts(e,t){const i=this.activePartLists[t];i&&(this.activePartLists[t]=O_(i,n=>n.fragment.sn>=e))}fragBuffered(e,t){const i=Wl(e);let n=this.fragments[i];!n&&t&&(n=this.fragments[i]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),n&&(n.loaded=null,n.buffered=!0)}getBufferedTimes(e,t,i,n){const s={time:[],partial:i},o=e.start,a=e.end,l=e.minEndPTS||a,c=e.maxStartPTS||o;for(let u=0;u<n.length;u++){const h=n.start(u)-this.bufferPadding,d=n.end(u)+this.bufferPadding;if(c>=h&&l<=d){s.time.push({startPTS:Math.max(o,n.start(u)),endPTS:Math.min(a,n.end(u))});break}else if(o<d&&a>h){const f=Math.max(o,n.start(u)),g=Math.min(a,n.end(u));g>f&&(s.partial=!0,s.time.push({startPTS:f,endPTS:g}))}else if(a<=h)break}return s}getPartialFragment(e){let t=null,i,n,s,o=0;const{bufferPadding:a,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&y1(u)&&(n=u.body.start-a,s=u.body.end+a,e>=n&&e<=s&&(i=Math.min(e-n,s-e),o<=i&&(t=u.body,o=i)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||y1(t))}getState(e){const t=Wl(e),i=this.fragments[t];return i?i.buffered?y1(i)?Si.PARTIAL:Si.OK:Si.APPENDING:Si.NOT_LOADED}isTimeBuffered(e,t,i){let n,s;for(let o=0;o<i.length;o++){if(n=i.start(o)-this.bufferPadding,s=i.end(o)+this.bufferPadding,e>=n&&t<=s)return!0;if(t<=n)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if(t.frag.sn==="initSegment"||t.frag.bitrateTest)return;const i=t.frag,n=t.part?null:t,s=Wl(i);this.fragments[s]={body:i,appendedPTS:null,loaded:n,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:i,part:n,timeRanges:s,type:o}=t;if(i.sn==="initSegment")return;const a=i.type;if(n){let c=this.activePartLists[a];c||(this.activePartLists[a]=c=[]),c.push(n)}this.timeRanges=s;const l=s[o];this.detectEvictedFragments(o,l,a,n)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=Wl(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,i=Object.keys(t);if(!e)return i.length>0;for(let n=i.length;n--;){const s=t[i[n]];if((s==null?void 0:s.body.type)===e)return!0}return!1}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,i,n,s){n&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const a=this.fragments[o];if(!a)return;const l=a.body;l.type!==i||n&&!l.gap||l.start<t&&l.end>e&&(a.buffered||s)&&this.removeFragment(l)})}removeFragment(e){const t=Wl(e);e.clearElementaryStreamInfo();const i=this.activePartLists[e.type];if(i){const n=e.sn;this.activePartLists[e.type]=O_(i,s=>s.fragment.sn!==n)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e,t;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const i=(e=this.hls)==null||(t=e.latestLevelDetails)==null?void 0:t.partList;i&&i.forEach(n=>n.clearElementaryStreamInfo())}}function y1(r){var e,t,i;return r.buffered&&(r.body.gap||((e=r.range.video)==null?void 0:e.partial)||((t=r.range.audio)==null?void 0:t.partial)||((i=r.range.audiovideo)==null?void 0:i.partial))}function Wl(r){return`${r.type}_${r.level}_${r.sn}`}function O_(r,e){return r.filter(t=>{const i=e(t);return i||t.clearElementaryStreamInfo(),i})}var ga={cbc:0,ctr:1};class Hse{constructor(e,t,i){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=i}decrypt(e,t){switch(this.aesMode){case ga.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case ga.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function Use(r){const e=r.byteLength,t=e&&new DataView(r.buffer).getUint8(e-1);return t?r.slice(0,e-t):r}class zse{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),i=new Uint32Array(4);for(let n=0;n<4;n++)i[n]=t.getUint32(n*4);return i}initTable(){const e=this.sBox,t=this.invSBox,i=this.subMix,n=i[0],s=i[1],o=i[2],a=i[3],l=this.invSubMix,c=l[0],u=l[1],h=l[2],d=l[3],f=new Uint32Array(256);let g=0,m=0,v=0;for(v=0;v<256;v++)v<128?f[v]=v<<1:f[v]=v<<1^283;for(v=0;v<256;v++){let y=m^m<<1^m<<2^m<<3^m<<4;y=y>>>8^y&255^99,e[g]=y,t[y]=g;const _=f[g],w=f[_],S=f[w];let k=f[y]*257^y*16843008;n[g]=k<<24|k>>>8,s[g]=k<<16|k>>>16,o[g]=k<<8|k>>>24,a[g]=k,k=S*16843009^w*65537^_*257^g*16843008,c[y]=k<<24|k>>>8,u[y]=k<<16|k>>>16,h[y]=k<<8|k>>>24,d[y]=k,g?(g=_^f[f[f[S^_]]],m^=f[f[m]]):g=m=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let i=!0,n=0;for(;n<t.length&&i;)i=t[n]===this.key[n],n++;if(i)return;this.key=t;const s=this.keySize=t.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const o=this.ksRows=(s+6+1)*4;let a,l;const c=this.keySchedule=new Uint32Array(o),u=this.invKeySchedule=new Uint32Array(o),h=this.sBox,d=this.rcon,f=this.invSubMix,g=f[0],m=f[1],v=f[2],y=f[3];let _,w;for(a=0;a<o;a++){if(a<s){_=c[a]=t[a];continue}w=_,a%s===0?(w=w<<8|w>>>24,w=h[w>>>24]<<24|h[w>>>16&255]<<16|h[w>>>8&255]<<8|h[w&255],w^=d[a/s|0]<<24):s>6&&a%s===4&&(w=h[w>>>24]<<24|h[w>>>16&255]<<16|h[w>>>8&255]<<8|h[w&255]),c[a]=_=(c[a-s]^w)>>>0}for(l=0;l<o;l++)a=o-l,l&3?w=c[a]:w=c[a-4],l<4||a<=4?u[l]=w:u[l]=g[h[w>>>24]]^m[h[w>>>16&255]]^v[h[w>>>8&255]]^y[h[w&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,i){const n=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,l=a[0],c=a[1],u=a[2],h=a[3],d=this.uint8ArrayToUint32Array_(i);let f=d[0],g=d[1],m=d[2],v=d[3];const y=new Int32Array(e),_=new Int32Array(y.length);let w,S,k,P,x,C,E,A,I,D,R,fe,se,Y;const K=this.networkToHostOrderSwap;for(;t<y.length;){for(I=K(y[t]),D=K(y[t+1]),R=K(y[t+2]),fe=K(y[t+3]),x=I^s[0],C=fe^s[1],E=R^s[2],A=D^s[3],se=4,Y=1;Y<n;Y++)w=l[x>>>24]^c[C>>16&255]^u[E>>8&255]^h[A&255]^s[se],S=l[C>>>24]^c[E>>16&255]^u[A>>8&255]^h[x&255]^s[se+1],k=l[E>>>24]^c[A>>16&255]^u[x>>8&255]^h[C&255]^s[se+2],P=l[A>>>24]^c[x>>16&255]^u[C>>8&255]^h[E&255]^s[se+3],x=w,C=S,E=k,A=P,se=se+4;w=o[x>>>24]<<24^o[C>>16&255]<<16^o[E>>8&255]<<8^o[A&255]^s[se],S=o[C>>>24]<<24^o[E>>16&255]<<16^o[A>>8&255]<<8^o[x&255]^s[se+1],k=o[E>>>24]<<24^o[A>>16&255]<<16^o[x>>8&255]<<8^o[C&255]^s[se+2],P=o[A>>>24]<<24^o[x>>16&255]<<16^o[C>>8&255]<<8^o[E&255]^s[se+3],_[t]=K(w^f),_[t+1]=K(P^g),_[t+2]=K(k^m),_[t+3]=K(S^v),f=I,g=D,m=R,v=fe,t=t+4}return _.buffer}}class jse{constructor(e,t,i){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=i}expandKey(){const e=Gse(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function Gse(r){switch(r){case ga.cbc:return"AES-CBC";case ga.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${r}`)}}const Zse=16;class Vb{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Use(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,i,n){return this.useSoftware?new Promise((s,o)=>{const a=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(a,t,i,n);const l=this.flush();l?s(l.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,i,n)}softwareDecrypt(e,t,i,n){const{currentIV:s,currentResult:o,remainderData:a}=this;if(n!==ga.cbc||t.byteLength!==16)return _t.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),a&&(e=wn(a,e),this.remainderData=null);const l=this.getValidChunk(e);if(!l.length)return null;s&&(i=s);let c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new zse),c.expandKey(t);const u=o;return this.currentResult=c.decrypt(l.buffer,0,i),this.currentIV=l.slice(-16).buffer,u||null}webCryptoDecrypt(e,t,i,n){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,i,n));this.key=t,this.fastAesKey=new jse(this.subtle,t,n)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new Hse(this.subtle,new Uint8Array(i),n).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(_t.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,t,i,n)))}onWebCryptoError(e,t,i,n){const s=this.enableSoftwareAES;if(s){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,i,n);const o=this.flush();if(o)return o.buffer}throw new Error("WebCrypto"+(s?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const i=e.length-e.length%Zse;return i!==e.length&&(t=e.slice(0,i),this.remainderData=e.slice(i)),t}logOnce(e){this.logEnabled&&(_t.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const $_=Math.pow(2,17);class Wse{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const i=e.url;if(!i)return Promise.reject(new Vs({type:Ve.NETWORK_ERROR,details:j.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${i?"part list":"url"}`),networkDetails:null}));this.abort();const n=this.config,s=n.fLoader,o=n.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(g=>g[0]==="GAP")){l(F_(e));return}else e.gap=!1;const c=this.loader=s?new s(n):new o(n),u=V_(e);e.loader=c;const h=D_(n.fragLoadPolicy.default),d={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:$_};e.stats=c.stats;const f={onSuccess:(g,m,v,y)=>{this.resetLoader(e,c);let _=g.data;v.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(_.slice(0,16)),_=_.slice(16)),a({frag:e,part:null,payload:_,networkDetails:y})},onError:(g,m,v,y)=>{this.resetLoader(e,c),l(new Vs({type:Ve.NETWORK_ERROR,details:j.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Ot({url:i,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:v,stats:y}))},onAbort:(g,m,v)=>{this.resetLoader(e,c),l(new Vs({type:Ve.NETWORK_ERROR,details:j.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:v,stats:g}))},onTimeout:(g,m,v)=>{this.resetLoader(e,c),l(new Vs({type:Ve.NETWORK_ERROR,details:j.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:v,stats:g}))}};t&&(f.onProgress=(g,m,v,y)=>t({frag:e,part:null,payload:v,networkDetails:y})),c.load(u,d,f)})}loadPart(e,t,i){this.abort();const n=this.config,s=n.fLoader,o=n.loader;return new Promise((a,l)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){l(F_(e,t));return}const c=this.loader=s?new s(n):new o(n),u=V_(e,t);e.loader=c;const h=D_(n.fragLoadPolicy.default),d={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:$_};t.stats=c.stats,c.load(u,d,{onSuccess:(f,g,m,v)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,t);const y={frag:e,part:t,payload:f.data,networkDetails:v};i(y),a(y)},onError:(f,g,m,v)=>{this.resetLoader(e,c),l(new Vs({type:Ve.NETWORK_ERROR,details:j.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:Ot({url:u.url,data:void 0},f),error:new Error(`HTTP Error ${f.code} ${f.text}`),networkDetails:m,stats:v}))},onAbort:(f,g,m)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,c),l(new Vs({type:Ve.NETWORK_ERROR,details:j.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:m,stats:f}))},onTimeout:(f,g,m)=>{this.resetLoader(e,c),l(new Vs({type:Ve.NETWORK_ERROR,details:j.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:m,stats:f}))}})})}updateStatsFromPart(e,t){const i=e.stats,n=t.stats,s=n.total;if(i.loaded+=n.loaded,s){const l=Math.round(e.duration/t.duration),c=Math.min(Math.round(i.loaded/s),l),h=(l-c)*Math.round(i.loaded/c);i.total=i.loaded+h}else i.total=Math.max(i.loaded,i.total);const o=i.loading,a=n.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function V_(r,e=null){const t=e||r,i={frag:r,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},n=t.byteRangeStartOffset,s=t.byteRangeEndOffset;if(Ae(n)&&Ae(s)){var o;let a=n,l=s;if(r.sn==="initSegment"&&Kse((o=r.decryptdata)==null?void 0:o.method)){const c=s-n;c%16&&(l=s+(16-c%16)),n!==0&&(i.resetIV=!0,a=n-16)}i.rangeStart=a,i.rangeEnd=l}return i}function F_(r,e){const t=new Error(`GAP ${r.gap?"tag":"attribute"} found`),i={type:Ve.MEDIA_ERROR,details:j.FRAG_GAP,fatal:!1,frag:r,error:t,networkDetails:null};return e&&(i.part=e),(e||r).stats.aborted=!0,new Vs(i)}function Kse(r){return r==="AES-128"||r==="AES-256"}class Vs extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class Vk extends po{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class Fb{constructor(e,t,i,n=0,s=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=b1(),this.buffering={audio:b1(),video:b1(),audiovideo:b1()},this.level=e,this.sn=t,this.id=i,this.size=n,this.part=s,this.partial=o}}function b1(){return{start:0,executeStart:0,executeEnd:0,end:0}}const B_={length:0,start:()=>0,end:()=>0};class ct{static isBuffered(e,t){if(e){const i=ct.getBuffered(e);for(let n=i.length;n--;)if(t>=i.start(n)&&t<=i.end(n))return!0}return!1}static bufferedRanges(e){if(e){const t=ct.getBuffered(e);return ct.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t}static bufferInfo(e,t,i){if(e){const n=ct.bufferedRanges(e);if(n.length)return ct.bufferedInfo(n,t,i)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,i){t=Math.max(0,t),e.length>1&&e.sort((u,h)=>u.start-h.start||h.end-u.end);let n=-1,s=[];if(i)for(let u=0;u<e.length;u++){t>=e[u].start&&t<=e[u].end&&(n=u);const h=s.length;if(h){const d=s[h-1].end;e[u].start-d<i?e[u].end>d&&(s[h-1].end=e[u].end):s.push(e[u])}else s.push(e[u])}else s=e;let o=0,a,l=t,c=t;for(let u=0;u<s.length;u++){const h=s[u].start,d=s[u].end;if(n===-1&&t>=h&&t<=d&&(n=u),t+i>=h&&t<d)l=h,c=d,o=c-t;else if(t+i<h){a=h;break}}return{len:o,start:l||0,end:c||0,nextStart:a,buffered:e,bufferedIndex:n}}static getBuffered(e){try{return e.buffered||B_}catch(t){return _t.log("failed to get media.buffered",t),B_}}}const Fk=/\{\$([a-zA-Z0-9-_]+)\}/g;function N_(r){return Fk.test(r)}function vy(r,e){if(r.variableList!==null||r.hasVariableRefs){const t=r.variableList;return e.replace(Fk,i=>{const n=i.substring(2,i.length-1),s=t==null?void 0:t[n];return s===void 0?(r.playlistParsingError||(r.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${n}"`)),i):s})}return e}function H_(r,e,t){let i=r.variableList;i||(r.variableList=i={});let n,s;if("QUERYPARAM"in e){n=e.QUERYPARAM;try{const o=new self.URL(t).searchParams;if(o.has(n))s=o.get(n);else throw new Error(`"${n}" does not match any query parameter in URI: "${t}"`)}catch(o){r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else n=e.NAME,s=e.VALUE;n in i?r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${n}"`)):i[n]=s||""}function qse(r,e,t){const i=e.IMPORT;if(t&&i in t){let n=r.variableList;n||(r.variableList=n={}),n[i]=t[i]}else r.playlistParsingError||(r.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}const Yse=/^(\d+)x(\d+)$/,U_=/(.+?)=(".*?"|.*?)(?:,|$)/g;class si{constructor(e,t){typeof e=="string"&&(e=si.parseAttrList(e,t)),Ut(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const i=new Uint8Array(t.length/2);for(let n=0;n<t.length/2;n++)i[n]=parseInt(t.slice(n*2,n*2+2),16);return i}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const i=this[e];return i?parseFloat(i):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const i=this[e];return(i?i.split(/[ ,]+/):[]).reduce((n,s)=>(n[s.toLowerCase()]=!0,n),t)}bool(e){return this[e]==="YES"}decimalResolution(e){const t=Yse.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let i;const n={},s='"';for(U_.lastIndex=0;(i=U_.exec(e))!==null;){const o=i[1].trim();let a=i[2];const l=a.indexOf(s)===0&&a.lastIndexOf(s)===a.length-1;let c=!1;if(l)a=a.slice(1,-1);else switch(o){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":c=!0}if(t&&(l||c))a=vy(t,a);else if(!c&&!l)switch(o){case"CLOSED-CAPTIONS":if(a==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":_t.warn(`${e}: attribute ${o} is missing quotes`)}n[o]=a}return n}}const Xse="com.apple.hls.interstitial";function Qse(r){return r!=="ID"&&r!=="CLASS"&&r!=="CUE"&&r!=="START-DATE"&&r!=="DURATION"&&r!=="END-DATE"&&r!=="END-ON-NEXT"}function Jse(r){return r==="SCTE35-OUT"||r==="SCTE35-IN"||r==="SCTE35-CMD"}class Bk{constructor(e,t,i=0){var n;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=(t==null?void 0:t.tagAnchor)||null,this.tagOrder=(n=t==null?void 0:t.tagOrder)!=null?n:i,t){const s=t.attr;for(const o in s)if(Object.prototype.hasOwnProperty.call(e,o)&&e[o]!==s[o]){_t.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=o;break}e=Ut(new si({}),s,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const s=(t==null?void 0:t.endDate)||new Date(this.attr["END-DATE"]);Ae(s.getTime())&&(this._endDate=s)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(_t.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return t!==null?this._dateAtEnd=new Date(this._startDate.getTime()+t*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Ae(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===Xse}get isValid(){return!!this.id&&!this._badValueForSameId&&Ae(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const eoe=10;class toe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&i>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}get hasProgramDateTime(){return this.fragments.length?Ae(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||eoe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(t!==-1){for(let i=e.length;i--;)if(e[i].index>t)return e[i].index;return t}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function xc(r){return r==="AES-128"||r==="AES-256"||r==="AES-256-CTR"}function Bb(r){switch(r){case"AES-128":case"AES-256":return ga.cbc;case"AES-256-CTR":return ga.ctr;default:throw new Error(`invalid full segment method ${r}`)}}function Nb(r){return Uint8Array.from(atob(r),e=>e.charCodeAt(0))}function yy(r){return Uint8Array.from(unescape(encodeURIComponent(r)),e=>e.charCodeAt(0))}function ioe(r){const e=yy(r).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function roe(r){const e=function(i,n,s){const o=i[n];i[n]=i[s],i[s]=o};e(r,0,3),e(r,1,2),e(r,4,5),e(r,6,7)}function noe(r){const e=r.split(":");let t=null;if(e[0]==="data"&&e.length===2){const i=e[1].split(";"),n=i[i.length-1].split(",");if(n.length===2){const s=n[0]==="base64",o=n[1];s?(i.splice(-1,1),t=Nb(o)):t=ioe(o)}}return t}const Mg=typeof self<"u"?self:void 0;var Vt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},kr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function uv(r){switch(r){case kr.FAIRPLAY:return Vt.FAIRPLAY;case kr.PLAYREADY:return Vt.PLAYREADY;case kr.WIDEVINE:return Vt.WIDEVINE;case kr.CLEARKEY:return Vt.CLEARKEY}}var _1={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function hv(r){if(r===_1.WIDEVINE)return Vt.WIDEVINE;if(r===_1.PLAYREADY)return Vt.PLAYREADY;if(r===_1.CENC||r===_1.CLEARKEY)return Vt.CLEARKEY}function dv(r){switch(r){case Vt.FAIRPLAY:return kr.FAIRPLAY;case Vt.PLAYREADY:return kr.PLAYREADY;case Vt.WIDEVINE:return kr.WIDEVINE;case Vt.CLEARKEY:return kr.CLEARKEY}}function w1(r){const{drmSystems:e,widevineLicenseUrl:t}=r,i=e?[Vt.FAIRPLAY,Vt.WIDEVINE,Vt.PLAYREADY,Vt.CLEARKEY].filter(n=>!!e[n]):[];return!i[Vt.WIDEVINE]&&t&&i.push(Vt.WIDEVINE),i}const Nk=function(r){return Mg!=null&&(r=Mg.navigator)!=null&&r.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function soe(r,e,t,i){let n;switch(r){case Vt.FAIRPLAY:n=["cenc","sinf"];break;case Vt.WIDEVINE:case Vt.PLAYREADY:n=["cenc"];break;case Vt.CLEARKEY:n=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${r}`)}return ooe(n,e,t,i)}function ooe(r,e,t,i){return[{initDataTypes:r,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs=${s}`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:t.map(s=>({contentType:`video/mp4; codecs=${s}`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}function aoe(r){var e;return r.sessionType==="persistent-license"||!!((e=r.sessionTypes)!=null&&e.some(t=>t==="persistent-license"))}function Hk(r){const e=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),i=t.substring(t.indexOf("<"),t.length),o=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(o){const a=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(a){const l=Nb(a).subarray(0,16);return roe(l),l}}return null}let C1={};class Yd{static clearKeyUriToKeyIdMap(){C1={}}constructor(e,t,i,n=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=i,this.keyFormatVersions=n,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!xc(e)}isSupported(){if(this.method){if(xc(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case kr.FAIRPLAY:case kr.WIDEVINE:case kr.PLAYREADY:case kr.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(xc(this.method)&&this.uri&&!this.iv){typeof e!="number"&&(_t.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const i=loe(e);return new Yd(this.method,this.uri,"identity",this.keyFormatVersions,i)}const t=noe(this.uri);if(t)switch(this.keyFormat){case kr.WIDEVINE:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case kr.PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=fse(i,null,t),this.keyId=Hk(t);break}default:{let i=t.subarray(0,16);if(i.length!==16){const n=new Uint8Array(16);n.set(i,16-i.length),i=n}this.keyId=i;break}}if(!this.keyId||this.keyId.byteLength!==16){let i=C1[this.uri];if(!i){const n=Object.keys(C1).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,n),C1[this.uri]=i}this.keyId=i}return this}}function loe(r){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=r>>8*(15-t)&255;return e}const z_=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,j_=/#EXT-X-MEDIA:(.*)/g,coe=/^#EXT(?:INF|-X-TARGETDURATION):/m,fv=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),uoe=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class ls{static findGroup(e,t){for(let i=0;i<e.length;i++){const n=e[i];if(n.id===t)return n}}static resolve(e,t){return Pb.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return coe.test(e)}static parseMasterPlaylist(e,t){const i=N_(e),n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:i},s=[];z_.lastIndex=0;let o;for(;(o=z_.exec(e))!=null;)if(o[1]){var a;const c=new si(o[1],n),u=vy(n,o[2]),h={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:ls.resolve(u,t)},d=c.decimalResolution("RESOLUTION");d&&(h.width=d.width,h.height=d.height),W_(c.CODECS,h);const f=c["SUPPLEMENTAL-CODECS"];f&&(h.supplemental={},W_(f,h.supplemental)),(a=h.unknownCodecs)!=null&&a.length||s.push(h),n.levels.push(h)}else if(o[3]){const c=o[3],u=o[4];switch(c){case"SESSION-DATA":{const h=new si(u,n),d=h["DATA-ID"];d&&(n.sessionData===null&&(n.sessionData={}),n.sessionData[d]=h);break}case"SESSION-KEY":{const h=G_(u,t,n);h.encrypted&&h.isSupported()?(n.sessionKeys===null&&(n.sessionKeys=[]),n.sessionKeys.push(h)):_t.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const h=new si(u,n);H_(n,h,t)}break}case"CONTENT-STEERING":{const h=new si(u,n);n.contentSteering={uri:ls.resolve(h["SERVER-URI"],t),pathwayId:h["PATHWAY-ID"]||"."};break}case"START":{n.startTimeOffset=Z_(u);break}}}const l=s.length>0&&s.length<n.levels.length;return n.levels=l?s:n.levels,n.levels.length===0&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(e,t,i){let n;const s={},o=i.levels,a={AUDIO:o.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:o.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(j_.lastIndex=0;(n=j_.exec(e))!==null;){const c=new si(n[1],i),u=c.TYPE;if(u){const h=a[u],d=s[u]||[];s[u]=d;const f=c.LANGUAGE,g=c["ASSOC-LANGUAGE"],m=c.CHANNELS,v=c.CHARACTERISTICS,y=c["INSTREAM-ID"],_={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||f||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:f,url:c.URI?ls.resolve(c.URI,t):""};if(g&&(_.assocLang=g),m&&(_.channels=m),v&&(_.characteristics=v),y&&(_.instreamId=y),h!=null&&h.length){const w=ls.findGroup(h,_.groupId)||h[0];K_(_,w,"audioCodec"),K_(_,w,"textCodec")}d.push(_)}}return s}static parseLevelPlaylist(e,t,i,n,s,o){var a;const l={url:t},c=new toe(t),u=c.fragments,h=[];let d=null,f=0,g=0,m=0,v=0,y=0,_=null,w=new ov(n,l),S,k,P,x=-1,C=!1,E=null,A;if(fv.lastIndex=0,c.m3u8=e,c.hasVariableRefs=N_(e),((a=fv.exec(e))==null?void 0:a[0])!=="#EXTM3U")return c.playlistParsingError=new Error("Missing format identifier #EXTM3U"),c;for(;(S=fv.exec(e))!==null;){C&&(C=!1,w=new ov(n,l),w.playlistOffset=m,w.start=m,w.sn=f,w.cc=v,y&&(w.bitrate=y),w.level=i,d&&(w.initSegment=d,d.rawProgramDateTime&&(w.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null),E&&(w.setByteRange(E),E=null)));const fe=S[1];if(fe){w.duration=parseFloat(fe);const se=(" "+S[2]).slice(1);w.title=se||null,w.tagList.push(se?["INF",fe,se]:["INF",fe])}else if(S[3]){if(Ae(w.duration)){w.playlistOffset=m,w.start=m,P&&Y_(w,P,c),w.sn=f,w.level=i,w.cc=v,u.push(w);const se=(" "+S[3]).slice(1);w.relurl=vy(c,se),by(w,_,h),_=w,m+=w.duration,f++,g=0,C=!0}}else{if(S=S[0].match(uoe),!S){_t.warn("No matches on slow regex match for level playlist!");continue}for(k=1;k<S.length&&S[k]===void 0;k++);const se=(" "+S[k]).slice(1),Y=(" "+S[k+1]).slice(1),K=S[k+2]?(" "+S[k+2]).slice(1):null;switch(se){case"BYTERANGE":_?w.setByteRange(Y,_):w.setByteRange(Y);break;case"PROGRAM-DATE-TIME":w.rawProgramDateTime=Y,w.tagList.push(["PROGRAM-DATE-TIME",Y]),x===-1&&(x=u.length);break;case"PLAYLIST-TYPE":c.type&&Is(c,se,S),c.type=Y.toUpperCase();break;case"MEDIA-SEQUENCE":c.startSN!==0?Is(c,se,S):u.length>0&&X_(c,se,S),f=c.startSN=parseInt(Y);break;case"SKIP":{c.skippedSegments&&Is(c,se,S);const ae=new si(Y,c),ne=ae.decimalInteger("SKIPPED-SEGMENTS");if(Ae(ne)){c.skippedSegments+=ne;for(let ke=ne;ke--;)u.push(null);f+=ne}const ce=ae.enumeratedString("RECENTLY-REMOVED-DATERANGES");ce&&(c.recentlyRemovedDateranges=(c.recentlyRemovedDateranges||[]).concat(ce.split("	")));break}case"TARGETDURATION":c.targetduration!==0&&Is(c,se,S),c.targetduration=Math.max(parseInt(Y),1);break;case"VERSION":c.version!==null&&Is(c,se,S),c.version=parseInt(Y);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":c.live||Is(c,se,S),c.live=!1;break;case"#":(Y||K)&&w.tagList.push(K?[Y,K]:[Y]);break;case"DISCONTINUITY":v++,w.tagList.push(["DIS"]);break;case"GAP":w.gap=!0,w.tagList.push([se]);break;case"BITRATE":w.tagList.push([se,Y]),y=parseInt(Y)*1e3,Ae(y)?w.bitrate=y:y=0;break;case"DATERANGE":{const ae=new si(Y,c),ne=new Bk(ae,c.dateRanges[ae.ID],c.dateRangeTagCount);c.dateRangeTagCount++,ne.isValid||c.skippedSegments?c.dateRanges[ne.id]=ne:_t.warn(`Ignoring invalid DATERANGE tag: "${Y}"`),w.tagList.push(["EXT-X-DATERANGE",Y]);break}case"DEFINE":{{const ae=new si(Y,c);"IMPORT"in ae?qse(c,ae,o):H_(c,ae,t)}break}case"DISCONTINUITY-SEQUENCE":c.startCC!==0?Is(c,se,S):u.length>0&&X_(c,se,S),c.startCC=v=parseInt(Y);break;case"KEY":{const ae=G_(Y,t,c);if(ae.isSupported()){if(ae.method==="NONE"){P=void 0;break}P||(P={}),P[ae.keyFormat]&&(P=Ut({},P)),P[ae.keyFormat]=ae}else _t.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${Y}"`);break}case"START":c.startTimeOffset=Z_(Y);break;case"MAP":{const ae=new si(Y,c);if(w.duration){const ne=new ov(n,l);q_(ne,ae,i,P),d=ne,w.initSegment=d,d.rawProgramDateTime&&!w.rawProgramDateTime&&(w.rawProgramDateTime=d.rawProgramDateTime)}else{const ne=w.byteRangeEndOffset;if(ne){const ce=w.byteRangeStartOffset;E=`${ne-ce}@${ce}`}else E=null;q_(w,ae,i,P),d=w,C=!0}d.cc=v;break}case"SERVER-CONTROL":{A&&Is(c,se,S),A=new si(Y),c.canBlockReload=A.bool("CAN-BLOCK-RELOAD"),c.canSkipUntil=A.optionalFloat("CAN-SKIP-UNTIL",0),c.canSkipDateRanges=c.canSkipUntil>0&&A.bool("CAN-SKIP-DATERANGES"),c.partHoldBack=A.optionalFloat("PART-HOLD-BACK",0),c.holdBack=A.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{c.partTarget&&Is(c,se,S);const ae=new si(Y);c.partTarget=ae.decimalFloatingPoint("PART-TARGET");break}case"PART":{let ae=c.partList;ae||(ae=c.partList=[]);const ne=g>0?ae[ae.length-1]:void 0,ce=g++,ke=new si(Y,c),ye=new Qne(ke,w,l,ce,ne);ae.push(ye),w.duration+=ye.duration;break}case"PRELOAD-HINT":{const ae=new si(Y,c);c.preloadHint=ae;break}case"RENDITION-REPORT":{const ae=new si(Y,c);c.renditionReports=c.renditionReports||[],c.renditionReports.push(ae);break}default:_t.warn(`line parsed but not handled: ${S}`);break}}}_&&!_.relurl?(u.pop(),m-=_.duration,c.partList&&(c.fragmentHint=_)):c.partList&&(by(w,_,h),w.cc=v,c.fragmentHint=w,P&&Y_(w,P,c)),c.targetduration||(c.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const I=u.length,D=u[0],R=u[I-1];if(m+=c.skippedSegments*c.targetduration,m>0&&I&&R){c.averagetargetduration=m/I;const fe=R.sn;c.endSN=fe!=="initSegment"?fe:0,c.live||(R.endList=!0),D&&c.startCC===void 0&&(c.startCC=D.cc),x>0&&(doe(u,x),D&&h.unshift(D))}else c.endSN=0,c.startCC=0;return c.fragmentHint&&(m+=c.fragmentHint.duration),c.totalduration=m,h.length&&c.dateRangeTagCount&&D&&Uk(h,c),c.endCC=v,c}}function Uk(r,e){const t=r.length,i=r[t-1],n=e.live?1/0:e.totalduration,s=Object.keys(e.dateRanges);for(let o=s.length;o--;){const a=e.dateRanges[s[o]],l=a.startDate.getTime();a.tagAnchor=i.ref;for(let c=t;c--;){const u=hoe(e,l,r,c,n);if(u!==-1){a.tagAnchor=e.fragments[u].ref;break}}}}function hoe(r,e,t,i,n){const s=t[i];if(s){const a=s.programDateTime;if(e>=a||i===0){var o;const l=(((o=t[i+1])==null?void 0:o.start)||n)-s.start;if(e<=a+l*1e3){const c=t[i].sn-r.startSN,u=r.fragments;if(u.length>t.length){const d=(t[i+1]||u[u.length-1]).sn-r.startSN;for(let f=d;f>c;f--){const g=u[f].programDateTime;if(e>=g&&e<g+u[f].duration*1e3)return f}}return c}}}return-1}function G_(r,e,t){var i,n;const s=new si(r,t),o=(i=s.METHOD)!=null?i:"",a=s.URI,l=s.hexadecimalInteger("IV"),c=s.KEYFORMATVERSIONS,u=(n=s.KEYFORMAT)!=null?n:"identity";a&&s.IV&&!l&&_t.error(`Invalid IV: ${s.IV}`);const h=a?ls.resolve(a,e):"",d=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Yd(o,h,u,d,l)}function Z_(r){const t=new si(r).decimalFloatingPoint("TIME-OFFSET");return Ae(t)?t:null}function W_(r,e){let t=(r||"").split(/[ ,]+/).filter(i=>i);["video","audio","text"].forEach(i=>{const n=t.filter(s=>kk(s,i));n.length&&(e[`${i}Codec`]=n.map(s=>s.split("/")[0]).join(","),t=t.filter(s=>n.indexOf(s)===-1))}),e.unknownCodecs=t}function K_(r,e,t){const i=e[t];i&&(r[t]=i)}function doe(r,e){let t=r[e];for(let i=e;i--;){const n=r[i];if(!n)return;n.programDateTime=t.programDateTime-n.duration*1e3,t=n}}function by(r,e,t){r.rawProgramDateTime?t.push(r):e!=null&&e.programDateTime&&(r.programDateTime=e.endProgramDateTime)}function q_(r,e,t,i){r.relurl=e.URI,e.BYTERANGE&&r.setByteRange(e.BYTERANGE),r.level=t,r.sn="initSegment",i&&(r.levelkeys=i),r.initSegment=null}function Y_(r,e,t){r.levelkeys=e;const{encryptedFragments:i}=t;(!i.length||i[i.length-1].levelkeys!==e)&&Object.keys(e).some(n=>e[n].isCommonEncryption)&&i.push(r)}function Is(r,e,t){r.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${t[0]})`)}function X_(r,e,t){r.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${t[0]})`)}function pv(r,e){const t=e.startPTS;if(Ae(t)){let i=0,n;e.sn>r.sn?(i=t-r.start,n=r):(i=r.start-t,n=e),n.duration!==i&&n.setDuration(i)}else e.sn>r.sn?r.cc===e.cc&&r.minEndPTS?e.setStart(r.start+(r.minEndPTS-r.start)):e.setStart(r.start+r.duration):e.setStart(Math.max(r.start-e.duration,0))}function zk(r,e,t,i,n,s){i-t<=0&&(_t.warn("Fragment should have a positive duration",e),i=t+e.duration,s=n+e.duration);let a=t,l=i;const c=e.startPTS,u=e.endPTS;if(Ae(c)){const v=Math.abs(c-t);Ae(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,a=Math.max(t,c),t=Math.min(t,c),n=Math.min(n,e.startDTS),l=Math.min(i,u),i=Math.max(i,u),s=Math.max(s,e.endDTS)}const h=t-e.start;e.start!==0&&e.setStart(t),e.setDuration(i-e.start),e.startPTS=t,e.maxStartPTS=a,e.startDTS=n,e.endPTS=i,e.minEndPTS=l,e.endDTS=s;const d=e.sn;if(!r||d<r.startSN||d>r.endSN)return 0;let f;const g=d-r.startSN,m=r.fragments;for(m[g]=e,f=g;f>0;f--)pv(m[f],m[f-1]);for(f=g;f<m.length-1;f++)pv(m[f],m[f+1]);return r.fragmentHint&&pv(m[m.length-1],r.fragmentHint),r.PTSKnown=r.alignedSliding=!0,h}function foe(r,e){if(r===e)return;let t=null;const i=r.fragments;for(let l=i.length-1;l>=0;l--){const c=i[l].initSegment;if(c){t=c;break}}r.fragmentHint&&delete r.fragmentHint.endPTS;let n;moe(r,e,(l,c,u,h)=>{if(!e.startCC&&c.cc!==l.cc){var d,f;const g=l.cc-c.cc;for(let m=u;m<h.length;m++)h[m].cc+=g;e.startCC=(d=(f=Zk(r,e.startSN-1))==null?void 0:f.cc)!=null?d:h[0].cc,e.endCC=h[h.length-1].cc}Ae(l.startPTS)&&Ae(l.endPTS)&&(c.setStart(c.startPTS=l.startPTS),c.startDTS=l.startDTS,c.maxStartPTS=l.maxStartPTS,c.endPTS=l.endPTS,c.endDTS=l.endDTS,c.minEndPTS=l.minEndPTS,c.setDuration(l.endPTS-l.startPTS),c.duration&&(n=c),e.PTSKnown=e.alignedSliding=!0),l.hasStreams&&(c.elementaryStreams=l.elementaryStreams),c.loader=l.loader,l.hasStats&&(c.stats=l.stats),l.initSegment&&(c.initSegment=l.initSegment,t=l.initSegment)});const s=e.fragments,o=e.fragmentHint?s.concat(e.fragmentHint):s;if(t&&o.forEach(l=>{var c;l&&(!l.initSegment||l.initSegment.relurl===((c=t)==null?void 0:c.relurl))&&(l.initSegment=t)}),e.skippedSegments)if(e.deltaUpdateFailed=s.some(l=>!l),e.deltaUpdateFailed){_t.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let l=e.skippedSegments;l--;)s.shift();e.startSN=s[0].sn}else{e.endCC=s[s.length-1].cc,e.canSkipDateRanges&&(e.dateRanges=poe(r.dateRanges,e));const l=r.fragments.filter(c=>c.rawProgramDateTime);if(r.hasProgramDateTime&&!e.hasProgramDateTime)for(let c=1;c<o.length;c++)o[c].programDateTime===null&&by(o[c],o[c-1],l);Uk(l,e)}goe(r.partList,e.partList,(l,c)=>{c.elementaryStreams=l.elementaryStreams,c.stats=l.stats}),n?zk(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):jk(r,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=r.driftStartTime,e.driftStart=r.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const l=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=l),e.driftEndTime=a,e.driftEnd=l}else e.driftEndTime=r.driftEndTime,e.driftEnd=r.driftEnd,e.advancedDateTime=r.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=r.requestScheduled)}function poe(r,e){const{dateRanges:t,recentlyRemovedDateranges:i}=e,n=Ut({},r);i&&i.forEach(a=>{delete n[a]});const o=Object.keys(n).length;return o&&Object.keys(t).forEach(a=>{const l=n[a],c=new Bk(t[a].attr,l);c.isValid?(n[a]=c,l||(c.tagOrder+=o)):_t.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${ei(t[a].attr)}"`)}),n}function goe(r,e,t){if(r&&e){let i=0;for(let n=0,s=r.length;n<=s;n++){const o=r[n],a=e[n+i];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?t(o,a):i--}}}function moe(r,e,t){const i=e.skippedSegments,n=Math.max(r.startSN,e.startSN)-e.startSN,s=(r.fragmentHint?1:0)+(i?e.endSN:Math.min(r.endSN,e.endSN))-e.startSN,o=e.startSN-r.startSN,a=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=r.fragmentHint?r.fragments.concat(r.fragmentHint):r.fragments;for(let c=n;c<=s;c++){const u=l[o+c];let h=a[c];if(i&&!h&&u&&(h=e.fragments[c]=u),u&&h){if(t(u,h,c,a),u.url&&u.url!==h.url){e.playlistParsingError=Q_(`media sequence mismatch ${h.sn}:`,r,e,u,h);return}else if(u.cc!==h.cc){e.playlistParsingError=Q_(`discontinuity sequence mismatch (${u.cc}!=${h.cc})`,r,e,u,h);return}}}}function Q_(r,e,t,i,n){return new Error(`${r} ${n.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${t.startSN}
${t.m3u8}`)}function jk(r,e,t=!0){const i=e.startSN+e.skippedSegments-r.startSN,n=r.fragments,s=i>=0;let o=0;if(s&&i<n.length)o=n[i].start;else if(s&&e.startSN===r.endSN+1)o=r.fragmentEnd;else if(s&&t)o=r.fragmentStart+i*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)o=r.fragmentStart;else return;_y(e,o)}function _y(r,e){if(e){const t=r.fragments;for(let i=r.skippedSegments;i<t.length;i++)t[i].addStart(e);r.fragmentHint&&r.fragmentHint.addStart(e)}}function Gk(r,e=1/0){let t=1e3*r.targetduration;if(r.updated){const i=r.fragments;if(i.length&&t*4>e){const s=i[i.length-1].duration*1e3;s<t&&(t=s)}}else t/=2;return Math.round(t)}function Zk(r,e,t){if(!r)return null;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e)?i:e<r.startSN&&t&&t.sn===e?t:null}function J_(r,e,t){return r?Wk(r.partList,e,t):null}function Wk(r,e,t){if(r)for(let i=r.length;i--;){const n=r[i];if(n.index===t&&n.fragment.sn===e)return n}return null}function Kk(r){r.forEach((e,t)=>{var i;(i=e.details)==null||i.fragments.forEach(n=>{n.level=t,n.initSegment&&(n.initSegment.level=t)})})}function Zh(r,e){for(let i=0,n=r.length;i<n;i++){var t;if(((t=r[i])==null?void 0:t.cc)===e)return r[i]}return null}function voe(r,e){return!!(r&&e.startCC<r.endCC&&e.endCC>r.startCC)}function ew(r,e){if(r){const t=r.start+e;r.start=r.startPTS=t,r.endPTS=t+r.duration}}function qk(r,e){const t=e.fragments;for(let i=0,n=t.length;i<n;i++)ew(t[i],r);e.fragmentHint&&ew(e.fragmentHint,r),e.alignedSliding=!0}function yoe(r,e){r&&(Yk(e,r),!e.alignedSliding&&r&&Pg(e,r),!e.alignedSliding&&r&&!e.skippedSegments&&jk(r,e,!1))}function Yk(r,e){if(!voe(e,r))return;const t=Math.min(e.endCC,r.endCC),i=Zh(e.fragments,t),n=Zh(r.fragments,t);if(!i||!n)return;_t.log(`Aligning playlist at start of dicontinuity sequence ${t}`);const s=i.start-n.start;qk(s,r)}function Pg(r,e){if(!r.hasProgramDateTime||!e.hasProgramDateTime)return;const t=r.fragments,i=e.fragments;if(!t.length||!i.length)return;let n,s;const o=Math.min(e.endCC,r.endCC);e.startCC<o&&r.startCC<o&&(n=Zh(i,o),s=Zh(t,o)),(!n||!s)&&(n=i[Math.floor(i.length/2)],s=Zh(t,n.cc)||t[Math.floor(t.length/2)]);const a=n.programDateTime,l=s.programDateTime;if(!a||!l)return;const c=(l-a)/1e3-(s.start-n.start);qk(c,r)}const boe={toString:function(r){let e="";const t=r.length;for(let i=0;i<t;i++)e+=`[${r.start(i).toFixed(3)}-${r.end(i).toFixed(3)}]`;return e}},oe={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Hb extends Vk{constructor(e,t,i,n,s){super(n,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=oe.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:o,fragCurrent:a,media:l,mediaBuffer:c,state:u}=this,h=l?l.currentTime:0,d=ct.bufferInfo(c||l,h,o.maxBufferHole);if(this.log(`media seeking to ${Ae(h)?h.toFixed(3):h}, state: ${u}`),this.state===oe.ENDED)this.resetLoadingState();else if(a){const f=o.maxFragLookUpTolerance,g=a.start-f,m=a.start+a.duration+f;if(!d.len||m<d.start||g>d.end){const v=h>m;(h<g||v)&&(v&&a.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(l){this.fragmentTracker.removeFragmentsInRange(h,1/0,this.playlistType,!0);const f=this.lastCurrentTime;if(h>f&&(this.lastCurrentTime=h),!this.loadingParts){const g=Math.max(d.end,h),m=this.shouldLoadParts(this.getLevelDetails(),g);m&&(this.log(`LL-Part loading ON after seeking to ${h.toFixed(2)} with buffer @${g.toFixed(2)}`),this.loadingParts=m)}}!this.hls.hasEnoughToStart&&!d.len&&(this.log(`setting startPosition to ${h} because of seek before start`),this.nextLoadPosition=this.startPosition=h),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=s,this.hls=e,this.fragmentLoader=new Wse(e.config),this.keyLoader=i,this.fragmentTracker=t,this.config=e.config,this.decrypter=new Vb(e.config)}registerListeners(){const{hls:e}=this;e.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(T.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(T.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===oe.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=oe.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return t===-1&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const i=e.end||0,n=this.config.timelineOffset||0;if(i<=n)return!1;const s=e.nextStart;if(s&&s>n&&s<t.edge||this.media.currentTime<e.start)return!1;const a=t.partList;if(a!=null&&a.length){const c=a[a.length-1];return ct.isBuffered(this.media,c.start+c.duration/2)}const l=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(l)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}get timelineOffset(){const e=this.config.timelineOffset;if(e){var t;return((t=this.getLevelDetails())==null?void 0:t.appliedTimelineOffset)||e}return 0}onMediaAttached(e,t){const i=this.media=this.mediaBuffer=t.media;i.removeEventListener("seeking",this.onMediaSeeking),i.removeEventListener("ended",this.onMediaEnded),i.addEventListener("seeking",this.onMediaSeeking),i.addEventListener("ended",this.onMediaEnded);const n=this.config;this.levels&&n.autoStartLoad&&this.state===oe.STOPPED&&this.startLoad(n.startPosition)}onMediaDetaching(e,t){const i=!!t.transferMedia,n=this.media;if(n!==null){if(n.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),n.removeEventListener("seeking",this.onMediaSeeking),n.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!i&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,i){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=oe.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,i){this.startFragRequested=!0,this._loadFragForPlayback(e,t,i)}_loadFragForPlayback(e,t,i){const n=s=>{const o=s.frag;if(this.fragContextChanged(o)){this.warn(`${o.type} sn: ${o.sn}${s.part?" part: "+s.part.index:""} of ${this.fragInfo(o,!1,s.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(o);return}o.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,t,i,n).then(s=>{if(!s)return;const o=this.state,a=s.frag;if(this.fragContextChanged(a)){(o===oe.FRAG_LOADING||!this.fragCurrent&&o===oe.PARSING)&&(this.fragmentTracker.removeFragment(a),this.state=oe.IDLE);return}"payload"in s&&(this.log(`Loaded ${a.type} sn: ${a.sn} of ${this.playlistLabel()} ${a.level}`),this.hls.trigger(T.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===oe.STOPPED||this.state===oe.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:i}=this;if(i.getState(e)===Si.APPENDING){const s=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,s),a=Math.max(e.duration,o?o.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(a,e.duration))&&i.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?i.removeAllFragments():i.hasParts(e.type)&&(i.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),i.getState(e)===Si.PARTIAL&&i.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return(t==null?void 0:t.live)&&t.type!=="EVENT"&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t,i=null){if(!(e-t))return;const n={startOffset:e,endOffset:t,type:i};this.hls.trigger(T.BUFFER_FLUSHING,n)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(i=>{const n=i==null?void 0:i.frag;if(!n||this.fragContextChanged(n)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:n}=this,{frag:s,payload:o}=i,a=s.decryptdata;if(o&&o.byteLength>0&&a!=null&&a.key&&a.iv&&xc(a.method)){const l=self.performance.now();return this.decrypter.decrypt(new Uint8Array(o),a.key.buffer,a.iv.buffer,Bb(a.method)).catch(c=>{throw n.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:s}),c}).then(c=>{const u=self.performance.now();return n.trigger(T.FRAG_DECRYPTED,{frag:s,payload:c,stats:{tstart:l,tdecrypt:u}}),i.payload=c,this.completeInitSegmentLoad(i)})}return this.completeInitSegmentLoad(i)}).catch(i=>{this.state===oe.STOPPED||this.state===oe.ERROR||(this.warn(i),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const i=e.frag.stats;this.state!==oe.STOPPED&&(this.state=oe.IDLE),e.frag.data=new Uint8Array(e.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const i=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)} > buffer:${i?boe.toString(ct.getBuffered(i)):"(detached)"})`),Oi(e)){var n;if(e.type!==De.SUBTITLE){const o=e.elementaryStreams;if(!Object.keys(o).some(a=>!!o[a])){this.state=oe.IDLE;return}}const s=(n=this.levels)==null?void 0:n[e.level];s!=null&&s.fragmentError&&(this.log(`Resetting level fragment error count of ${s.fragmentError} on frag buffered`),s.fragmentError=0)}this.state=oe.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:i,part:n,partsLoaded:s}=e,o=!s||s.length===0||s.some(l=>!l),a=new Fb(i.level,i.sn,i.stats.chunkCount+1,0,n?n.index:-1,!o);t.flush(a)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,i=null,n){var s;this.fragCurrent=e;const o=t==null?void 0:t.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=oe.KEY_LOADING,this.fragCurrent=e,a=this.keyLoader.load(e).then(h=>{if(!this.fragContextChanged(h.frag))return this.hls.trigger(T.KEY_LOADED,h),this.state===oe.KEY_LOADING&&(this.state=oe.IDLE),h}),this.hls.trigger(T.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments);const l=this.fragPrevious;if(Oi(e)&&(!l||e.sn!==l.sn)){const h=this.shouldLoadParts(t.details,e.end);h!==this.loadingParts&&(this.log(`LL-Part loading ${h?"ON":"OFF"} loading sn ${l==null?void 0:l.sn}->${e.sn}`),this.loadingParts=h)}if(i=Math.max(e.start,i||0),this.loadingParts&&Oi(e)){const h=o.partList;if(h&&n){i>e.end&&o.fragmentHint&&(e=o.fragmentHint);const d=this.getNextPart(h,e,i);if(d>-1){const f=h[d];e=this.fragCurrent=f.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${f.index} (${d}/${h.length-1}) of ${this.fragInfo(e,!1,f)}) cc: ${e.cc} [${o.startSN}-${o.endSN}], target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=f.start+f.duration,this.state=oe.FRAG_LOADING;let g;return a?g=a.then(m=>!m||this.fragContextChanged(m.frag)?null:this.doFragPartsLoad(e,f,t,n)).catch(m=>this.handleFragLoadError(m)):g=this.doFragPartsLoad(e,f,t,n).catch(m=>this.handleFragLoadError(m)),this.hls.trigger(T.FRAG_LOADING,{frag:e,part:f,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):g}else if(!e.url||this.loadedEndOfParts(h,i))return Promise.resolve(null)}}if(Oi(e)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${i.toFixed(2)}`),this.loadingParts=!1;else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${o?"["+o.startSN+"-"+o.endSN+"]":""}, target: ${parseFloat(i.toFixed(3))}`),Ae(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=oe.FRAG_LOADING;const c=this.config.progressive;let u;return c&&a?u=a.then(h=>!h||this.fragContextChanged(h==null?void 0:h.frag)?null:this.fragmentLoader.load(e,n)).catch(h=>this.handleFragLoadError(h)):u=Promise.all([this.fragmentLoader.load(e,c?n:void 0),a]).then(([h])=>(!c&&h&&n&&n(h),h)).catch(h=>this.handleFragLoadError(h)),this.hls.trigger(T.FRAG_LOADING,{frag:e,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):u}doFragPartsLoad(e,t,i,n){return new Promise((s,o)=>{var a;const l=[],c=(a=i.details)==null?void 0:a.partList,u=h=>{this.fragmentLoader.loadPart(e,h,n).then(d=>{l[h.index]=d;const f=d.part;this.hls.trigger(T.FRAG_LOADED,d);const g=J_(i.details,e.sn,h.index+1)||Wk(c,e.sn,h.index+1);if(g)u(g);else return s({frag:e,part:f,partsLoaded:l})}).catch(o)};u(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===j.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(T.ERROR,t)}else this.hls.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==oe.PARSING){!this.fragCurrent&&this.state!==oe.STOPPED&&this.state!==oe.ERROR&&(this.state=oe.IDLE);return}const{frag:i,part:n,level:s}=t,o=self.performance.now();i.stats.parsing.end=o,n&&(n.stats.parsing.end=o);const a=this.getLevelDetails(),c=a&&i.sn>a.endSN||this.shouldLoadParts(a,i.end);c!==this.loadingParts&&(this.log(`LL-Part loading ${c?"ON":"OFF"} after parsing segment ending @${i.end.toFixed(2)}`),this.loadingParts=c),this.updateLevelTiming(i,n,s,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e!=null&&e.partList){var i;const s=e.partList[0],o=s.end+(((i=e.fragmentHint)==null?void 0:i.duration)||0);if(t>=o){var n;if((this.hls.hasEnoughToStart?((n=this.media)==null?void 0:n.currentTime)||this.lastCurrentTime:this.getLoadPosition())>s.start-s.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:i}=this,{level:n,sn:s,part:o}=e;if(!(t!=null&&t[n]))return this.warn(`Levels object was unset while buffering fragment ${s} of ${this.playlistLabel()} ${n}. The current chunk will not be buffered.`),null;const a=t[n],l=a.details,c=o>-1?J_(l,s,o):null,u=c?c.fragment:Zk(l,s,i);return u?(i&&i!==u&&(u.stats=i.stats),{frag:u,part:c,level:a}):null}bufferFragmentData(e,t,i,n,s){var o;if(!e||this.state!==oe.PARSING)return;const{data1:a,data2:l}=e;let c=a;if(a&&l&&(c=wn(a,l)),!((o=c)!=null&&o.length))return;const u={type:e.type,frag:t,part:i,chunkMeta:n,parent:t.type,data:c};if(this.hls.trigger(T.BUFFER_APPENDING,u),e.dropped&&e.independent&&!i){if(s)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!ct.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const i=t.currentTime,n=ct.bufferInfo(t,i,0),s=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),a=Math.max(Math.min(e.start-o,n.end-o),i+o);e.start-a>o&&this.flushMainBuffer(a,e.start)}getFwdBufferInfo(e,t){var i;const n=this.getLoadPosition();if(!Ae(n))return null;const o=this.lastCurrentTime>n||(i=this.media)!=null&&i.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,n,t,o)}getFwdBufferInfoAtPos(e,t,i,n){const s=ct.bufferInfo(e,t,n);if(s.len===0&&s.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(t,i);if(o&&(s.nextStart<=o.end||o.gap)){const a=Math.max(Math.min(s.nextStart,o.end)-t,n);return ct.bufferInfo(e,t,a)}}return s}getMaxBufferLength(e){const{config:t}=this;let i;return e?i=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):i=t.maxBufferLength,Math.min(i,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const i=this.config,n=Math.max(Math.min(e-t,i.maxBufferLength),t),s=Math.max(e-t*3,i.maxMaxBufferLength/2,n);return s>=n?(i.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,t=De.MAIN){var i;const n=(i=this.fragmentTracker)==null?void 0:i.getAppendedFrag(e,t);return n&&"fragment"in n?n.fragment:n}getNextFragment(e,t){const i=t.fragments,n=i.length;if(!n)return null;const{config:s}=this,o=i[0].start,a=s.lowLatencyMode&&!!t.partList;let l=null;if(t.live){const h=s.initialLiveManifestSize;if(n<h)return this.warn(`Not enough fragments to start playback (have: ${n}, need: ${h})`),null;if(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o){var c;a&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),l=this.getInitialLiveFragment(t,i);const d=this.hls.startPosition,f=this.hls.liveSyncPosition,g=l?(d!==-1&&d>=o?d:f)||l.start:e;this.log(`Setting startPosition to ${g} to match start frag at live edge. mainStart: ${d} liveSyncPosition: ${f} frag.start: ${(c=l)==null?void 0:c.start}`),this.startPosition=this.nextLoadPosition=g}}else e<=o&&(l=i[0]);if(!l){const h=this.loadingParts?t.partEnd:t.fragmentEnd;l=this.getFragmentAtPosition(e,h,t)}let u=this.filterReplacedPrimary(l,t);if(!u&&l){const h=l.sn-t.startSN;u=this.filterReplacedPrimary(i[h+1]||null,t)}return this.mapToInitFragWhenRequired(u)}isLoopLoading(e,t){const i=this.fragmentTracker.getState(e);return(i===Si.OK||i===Si.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,i,n,s){let o=null;if(e.gap&&(o=this.getNextFragment(this.nextLoadPosition,t),o&&!o.gap&&i.nextStart)){const a=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,n,0);if(a!==null&&i.len+a.len>=s){const l=o.sn;return this.loopSn!==l&&(this.log(`buffer full after gaps in "${n}" playlist starting at sn: ${l}`),this.loopSn=l),null}}return this.loopSn=void 0,o}get primaryPrefetch(){if(tw(this.hls.config)){var e,t;if((e=this.hls.interstitialsManager)==null||(t=e.playingItem)==null?void 0:t.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(tw(this.hls.config)&&e.type!==De.SUBTITLE){const i=this.hls.interstitialsManager,n=i==null?void 0:i.bufferingItem;if(n){const o=n.event;if(o){if(o.appendInPlace||Math.abs(e.start-n.start)>1||n.start===0)return null}else if(e.end<=n.start&&(t==null?void 0:t.live)===!1||e.start>n.end&&n.nextEvent&&(n.nextEvent.appendInPlace||e.start-n.end>1))return null}const s=i==null?void 0:i.playerQueue;if(s)for(let o=s.length;o--;){const a=s[o].interstitial;if(a.appendInPlace&&e.start>=a.startTime&&e.end<=a.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,i){let n=-1,s=!1,o=!0;for(let a=0,l=e.length;a<l;a++){const c=e[a];if(o=o&&!c.independent,n>-1&&i<c.start)break;const u=c.loaded;u?n=-1:(s||c.independent||o)&&c.fragment===t&&(n=a),s=u}return n}loadedEndOfParts(e,t){const i=e[e.length-1];return i&&t>i.start&&i.loaded}getInitialLiveFragment(e,t){const i=this.fragPrevious;let n=null;if(i){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),n=Dse(t,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){const s=i.sn+1;if(s>=e.startSN&&s<=e.endSN){const o=t[s-e.startSN];i.cc===o.cc&&(n=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${n.sn}`))}n||(n=$k(t,i.cc),n&&this.log(`Live playlist, switching playlist, load frag with same CC: ${n.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(n=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n}getFragmentAtPosition(e,t,i){const{config:n}=this;let{fragPrevious:s}=this,{fragments:o,endSN:a}=i;const{fragmentHint:l}=i,{maxFragLookUpTolerance:c}=n,u=i.partList,h=!!(this.loadingParts&&u!=null&&u.length&&l);h&&l&&!this.bitrateTest&&u[u.length-1].fragment.sn===l.sn&&(o=o.concat(l),a=l.sn);let d;if(e<t){var f;const m=e<this.lastCurrentTime||e>t-c||(f=this.media)!=null&&f.paused||!this.startFragRequested?0:c;d=_l(s,o,e,m)}else d=o[o.length-1];if(d){const g=d.sn-i.startSN,m=this.fragmentTracker.getState(d);if((m===Si.OK||m===Si.PARTIAL&&d.gap)&&(s=d),s&&d.sn===s.sn&&(!h||u[0].fragment.sn>d.sn||!i.live&&!h)&&s&&d.level===s.level){const y=o[g+1];d.sn<a&&this.fragmentTracker.getState(y)!==Si.OK?d=y:d=null}}return d}alignPlaylists(e,t,i){const n=e.fragments.length;if(!n)return this.warn("No fragments in live playlist"),0;const s=e.fragmentStart,o=!t,a=e.alignedSliding&&Ae(s);if(o||!a&&!s){yoe(i,e);const l=e.fragmentStart;return this.log(`Live playlist sliding: ${l.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} fragments: ${n}`),l}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let i=this.startPosition;i<t&&(i=-1);const n=this.timelineOffset;if(i===-1){const s=this.startTimeOffset!==null,o=s?this.startTimeOffset:e.startTimeOffset;o!==null&&Ae(o)?(i=t+o,o<0&&(i+=e.edge),i=Math.min(Math.max(t,i),t+e.totalduration),this.log(`Setting startPosition to ${i} for start time offset ${o} found in ${s?"multivariant":"media"} playlist`),this.startPosition=i):e.live?(i=this.hls.liveSyncPosition||t,this.log(`Setting startPosition to -1 to start at live edge ${i}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=i=0),this.lastCurrentTime=i+n}this.nextLoadPosition=i+n}getLoadPosition(){var e;const{media:t}=this;let i=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&t?i=t.currentTime:this.nextLoadPosition>=0&&(i=this.nextLoadPosition),i}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&Oi(e)&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${t?" part "+t.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==oe.FRAG_LOADING_WAITING_RETRY)&&(this.state=oe.IDLE)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const g=this.getCurrentContext(t.chunkMeta);g&&(t.frag=g.frag)}const i=t.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var n;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(n=this.fragCurrent)==null?void 0:n.url}`);return}const s=t.details===j.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(i,!0);const o=t.errorAction,{action:a,flags:l,retryCount:c=0,retryConfig:u}=o||{},h=!!o&&!!u,d=h&&a===tr.RetryRequest,f=h&&!o.resolved&&l===Sn.MoveAllAlternatesMatchingHost;if(!d&&f&&Oi(i)&&!i.endList)this.resetFragmentErrors(e),this.treatAsGap(i),o.resolved=!0;else if((d||f)&&c<u.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const g=$b(u,c);this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${t.details}, retrying loading ${c+1}/${u.maxNumRetry} in ${g}ms`),o.resolved=!0,this.retryDate=self.performance.now()+g,this.state=oe.FRAG_LOADING_WAITING_RETRY}else if(u&&o)if(this.resetFragmentErrors(e),c<u.maxNumRetry)!s&&a!==tr.RemoveAlternatePermanently&&(o.resolved=!0);else{this.warn(`${t.details} reached or exceeded max retry (${c})`);return}else a===tr.SendAlternateToPenaltyBox?this.state=oe.WAITING_LEVEL:this.state=oe.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===oe.PARSING||this.state===oe.PARSED){const t=e.frag,i=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,i),s=n&&n.len>.5;s&&this.reduceMaxBufferLength(n.len,(t==null?void 0:t.duration)||10);const o=!s;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${i} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===De.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==oe.STOPPED&&(this.state=oe.IDLE)}afterBufferFlushed(e,t,i){if(!e)return;const n=ct.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,i),this.state===oe.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==oe.STOPPED&&(this.state=oe.IDLE)}resetStartWhenNotLoaded(e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const t=e?e.details:null;t!=null&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of ${this.playlistLabel()} ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,i,n){const s=i.details;if(!s){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const h=u.endPTS-u.startPTS;if(h<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${h})`),l||!1;const d=n?0:zk(s,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(T.LEVEL_PTS_UPDATED,{details:s,level:i,drift:d,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)){var a;if(i.fragmentError===0&&this.treatAsGap(e,i),((a=this.transmuxer)==null?void 0:a.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(l.message),this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=oe.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)})`),this.hls.trigger(T.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===De.MAIN?"level":"track"}fragInfo(e,t=!0,i){var n,s;return`${this.playlistLabel()} ${e.level} (${i?"part":"frag"}:[${((n=t&&!i?e.startPTS:(i||e).start)!=null?n:NaN).toFixed(3)}-${((s=t&&!i?e.endPTS:(i||e).end)!=null?s:NaN).toFixed(3)}]${i&&e.type==="main"?"INDEPENDENT="+(i.independent?"YES":"NO"):""}`}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}function tw(r){return!!r.interstitialsController&&r.enableInterstitialPlayback!==!1}class Xk{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let i;if(e.length)e.length===1?i=e[0]:i=_oe(e,t);else return new Uint8Array(0);return this.reset(),i}reset(){this.chunks.length=0,this.dataLength=0}}function _oe(r,e){const t=new Uint8Array(e);let i=0;for(let n=0;n<r.length;n++){const s=r[n];t.set(s,i),i+=s.length}return t}var gv={exports:{}},iw;function woe(){return iw||(iw=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function n(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new n(u,h||l,d),g=t?t+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=t?t+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,g=new Array(f);d<f;d++)g[d]=h[d].fn;return g},a.prototype.listenerCount=function(c){var u=t?t+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,d,f,g){var m=t?t+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,_,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,h),!0;case 4:return v.fn.call(v.context,u,h,d),!0;case 5:return v.fn.call(v.context,u,h,d,f),!0;case 6:return v.fn.call(v.context,u,h,d,f,g),!0}for(w=1,_=new Array(y-1);w<y;w++)_[w-1]=arguments[w];v.fn.apply(v.context,_)}else{var S=v.length,k;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,h);break;case 4:v[w].fn.call(v[w].context,u,h,d);break;default:if(!_)for(k=1,_=new Array(y-1);k<y;k++)_[k-1]=arguments[k];v[w].fn.apply(v[w].context,_)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,d){var f=t?t+c:c;if(!this._events[f])return this;if(!u)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===u&&(!d||g.once)&&(!h||g.context===h)&&o(this,f);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||d&&!g[m].once||h&&g[m].context!==h)&&v.push(g[m]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=t?t+c:c,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a}(gv)),gv.exports}var Coe=woe(),Ub=Yne(Coe);const Xd="1.6.2",uu={};function xoe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function Eoe(){const r=uu[Xd];if(r)return r.clientCount++,r;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e),n={worker:new self.Worker(t),objectURL:t,clientCount:1};return uu[Xd]=n,n}function Toe(r){const e=uu[r];if(e)return e.clientCount++,e;const t=new self.URL(r,self.location.href).href,n={worker:new self.Worker(t),scriptURL:t,clientCount:1};return uu[r]=n,n}function Loe(r){const e=uu[r||Xd];if(e&&e.clientCount--===1){const{worker:i,objectURL:n}=e;delete uu[r||Xd],n&&self.URL.revokeObjectURL(n),i.terminate()}}function Qk(r,e){return e+10<=r.length&&r[e]===51&&r[e+1]===68&&r[e+2]===73&&r[e+3]<255&&r[e+4]<255&&r[e+6]<128&&r[e+7]<128&&r[e+8]<128&&r[e+9]<128}function zb(r,e){return e+10<=r.length&&r[e]===73&&r[e+1]===68&&r[e+2]===51&&r[e+3]<255&&r[e+4]<255&&r[e+6]<128&&r[e+7]<128&&r[e+8]<128&&r[e+9]<128}function Nm(r,e){let t=0;return t=(r[e]&127)<<21,t|=(r[e+1]&127)<<14,t|=(r[e+2]&127)<<7,t|=r[e+3]&127,t}function Qd(r,e){const t=e;let i=0;for(;zb(r,e);){i+=10;const n=Nm(r,e+6);i+=n,Qk(r,e+10)&&(i+=10),e+=i}if(i>0)return r.subarray(t,t+i)}function Soe(r,e,t,i){const n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=e[t+2],o=s>>2&15;if(o>12){const f=new Error(`invalid ADTS sampling index:${o}`);r.emit(T.ERROR,T.ERROR,{type:Ve.MEDIA_ERROR,details:j.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}const a=(s>>6&3)+1,l=e[t+3]>>6&3|(s&1)<<2,c="mp4a.40."+a,u=n[o];let h=o;(a===5||a===29)&&(h-=3);const d=[a<<3|(h&14)>>1,(h&1)<<7|l<<3];return _t.log(`manifest codec:${i}, parsed codec:${c}, channels:${l}, rate:${u} (ADTS object type:${a} sampling index:${o})`),{config:d,samplerate:u,channelCount:l,codec:c,parsedCodec:c,manifestCodec:i}}function Jk(r,e){return r[e]===255&&(r[e+1]&246)===240}function eI(r,e){return r[e+1]&1?7:9}function jb(r,e){return(r[e+3]&3)<<11|r[e+4]<<3|(r[e+5]&224)>>>5}function Aoe(r,e){return e+5<r.length}function Rg(r,e){return e+1<r.length&&Jk(r,e)}function koe(r,e){return Aoe(r,e)&&Jk(r,e)&&jb(r,e)<=r.length-e}function Ioe(r,e){if(Rg(r,e)){const t=eI(r,e);if(e+t>=r.length)return!1;const i=jb(r,e);if(i<=t)return!1;const n=e+i;return n===r.length||Rg(r,n)}return!1}function tI(r,e,t,i,n){if(!r.samplerate){const s=Soe(e,t,i,n);if(!s)return;Ut(r,s)}}function iI(r){return 1024*9e4/r}function Moe(r,e){const t=eI(r,e);if(e+t<=r.length){const i=jb(r,e)-t;if(i>0)return{headerLength:t,frameLength:i}}}function rI(r,e,t,i,n){const s=iI(r.samplerate),o=i+n*s,a=Moe(e,t);let l;if(a){const{frameLength:h,headerLength:d}=a,f=d+h,g=Math.max(0,t+f-e.length);g?(l=new Uint8Array(f-d),l.set(e.subarray(t+d,e.length),0)):l=e.subarray(t+d,t+f);const m={unit:l,pts:o};return g||r.samples.push(m),{sample:m,length:f,missing:g}}const c=e.length-t;return l=new Uint8Array(c),l.set(e.subarray(t,e.length),0),{sample:{unit:l,pts:o},length:c,missing:-1}}function Poe(r,e){return zb(r,e)&&Nm(r,e+6)+10<=r.length-e}function Roe(r){if(r.size<2)return;const e=Qr(r.data,!0),t=new Uint8Array(r.data.subarray(e.length+1));return{key:r.type,info:e,data:t.buffer}}function Doe(r){if(r.size<2)return;if(r.type==="TXXX"){let t=1;const i=Qr(r.data.subarray(t),!0);t+=i.length+1;const n=Qr(r.data.subarray(t));return{key:r.type,info:i,data:n}}const e=Qr(r.data.subarray(1));return{key:r.type,info:"",data:e}}function Ooe(r){if(r.type==="WXXX"){if(r.size<2)return;let t=1;const i=Qr(r.data.subarray(t),!0);t+=i.length+1;const n=Qr(r.data.subarray(t));return{key:r.type,info:i,data:n}}const e=Qr(r.data);return{key:r.type,info:"",data:e}}function $oe(r){return btoa(String.fromCharCode(...r))}function nI(r,e){if(r<0)return-nI(-r,e);const t=Math.pow(10,e);if(Math.abs(r*t%1-.5)<Number.EPSILON){const n=Math.floor(r*t);return(n%2===0?n:n+1)/t}else return Math.round(r*t)/t}function Voe(r,e){const t=new URL(r),i=new URL(e);if(t.origin!==i.origin)return r;const n=t.pathname.split("/").slice(1),s=i.pathname.split("/").slice(1,-1);for(;n[0]===s[0];)n.shift(),s.shift();for(;s.length;)s.shift(),n.unshift("..");return n.join("/")}function Foe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const s=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(n=="x"?s:s&3|8).toString(16)})}}}function Boe(r){return r instanceof ArrayBuffer?r:r.byteOffset==0&&r.byteLength==r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer}function mv(r,e=0,t=1/0){return Noe(r,e,t,Uint8Array)}function Noe(r,e,t,i){const n=Hoe(r);let s=1;"BYTES_PER_ELEMENT"in i&&(s=i.BYTES_PER_ELEMENT);const o=Uoe(r)?r.byteOffset:0,a=(o+r.byteLength)/s,l=(o+e)/s,c=Math.floor(Math.max(0,Math.min(l,a))),u=Math.floor(Math.min(c+Math.max(t,0),a));return new i(n,c,u-c)}function Hoe(r){return r instanceof ArrayBuffer?r:r.buffer}function Uoe(r){return r&&r.buffer instanceof ArrayBuffer&&r.byteLength!==void 0&&r.byteOffset!==void 0}function zoe(r){const e={key:r.type,description:"",data:"",mimeType:null,pictureType:null},t=3;if(r.size<2)return;if(r.data[0]!==t){console.log("Ignore frame with unrecognized character encoding");return}const i=r.data.subarray(1).indexOf(0);if(i===-1)return;const n=Qr(mv(r.data,1,i)),s=r.data[2+i],o=r.data.subarray(3+i).indexOf(0);if(o===-1)return;const a=Qr(mv(r.data,3+i,o));let l;return n==="-->"?l=Qr(mv(r.data,4+i+o)):l=Boe(r.data.subarray(4+i+o)),e.mimeType=n,e.pictureType=s,e.description=a,e.data=l,e}function joe(r){return r.type==="PRIV"?Roe(r):r.type[0]==="W"?Ooe(r):r.type==="APIC"?zoe(r):Doe(r)}function Goe(r){const e=String.fromCharCode(r[0],r[1],r[2],r[3]),t=Nm(r,4),i=10;return{type:e,size:t,data:r.subarray(i,i+t)}}const x1=10,Zoe=10;function sI(r){let e=0;const t=[];for(;zb(r,e);){const i=Nm(r,e+6);r[e+5]>>6&1&&(e+=x1),e+=x1;const n=e+i;for(;e+Zoe<n;){const s=Goe(r.subarray(e)),o=joe(s);o&&t.push(o),e+=s.size+x1}Qk(r,e)&&(e+=x1)}return t}function oI(r){return r&&r.key==="PRIV"&&r.info==="com.apple.streaming.transportStreamTimestamp"}function Woe(r){if(r.data.byteLength===8){const e=new Uint8Array(r.data),t=e[3]&1;let i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,t&&(i+=4772185884e-2),Math.round(i)}}function Gb(r){const e=sI(r);for(let t=0;t<e.length;t++){const i=e[t];if(oI(i))return Woe(i)}}let Zr=function(r){return r.audioId3="org.id3",r.dateRange="com.apple.quicktime.HLS",r.emsg="https://aomedia.org/emsg/ID3",r.misbklv="urn:misb:KLV:bin:1910.1",r}({});function rs(r="",e=9e4){return{type:r,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Zb{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,i,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,i){}demux(e,t){this.cachedData&&(e=wn(this.cachedData,e),this.cachedData=null);let i=Qd(e,0),n=i?i.length:0,s;const o=this._audioTrack,a=this._id3Track,l=i?Gb(i):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&Ae(l))&&(this.basePTS=Koe(l,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),i&&i.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Zr.audioId3,duration:Number.POSITIVE_INFINITY});n<c;){if(this.canParse(e,n)){const u=this.appendFrame(o,e,n);u?(this.frameIndex++,this.lastPTS=u.sample.pts,n+=u.length,s=n):n=c}else Poe(e,n)?(i=Qd(e,n),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Zr.audioId3,duration:Number.POSITIVE_INFINITY}),n+=i.length,s=n):n++;if(n===c&&s!==c){const u=e.slice(s);this.cachedData?this.cachedData=wn(this.cachedData,u):this.cachedData=u}}return{audioTrack:o,videoTrack:rs(),id3Track:a,textTrack:rs()}}demuxSampleAes(e,t,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:rs(),id3Track:this._id3Track,textTrack:rs()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const Koe=(r,e,t)=>{if(Ae(r))return r*90;const i=t?t.baseTime*9e4/t.timescale:0;return e*9e4+i};let E1=null;const qoe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Yoe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Xoe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Qoe=[0,1,1,4];function aI(r,e,t,i,n){if(t+24>e.length)return;const s=lI(e,t);if(s&&t+s.frameLength<=e.length){const o=s.samplesPerFrame*9e4/s.sampleRate,a=i+n*o,l={unit:e.subarray(t,t+s.frameLength),pts:a,dts:a};return r.config=[],r.channelCount=s.channelCount,r.samplerate=s.sampleRate,r.samples.push(l),{sample:l,length:s.frameLength,missing:0}}}function lI(r,e){const t=r[e+1]>>3&3,i=r[e+1]>>1&3,n=r[e+2]>>4&15,s=r[e+2]>>2&3;if(t!==1&&n!==0&&n!==15&&s!==3){const o=r[e+2]>>1&1,a=r[e+3]>>6,l=t===3?3-i:i===3?3:4,c=qoe[l*14+n-1]*1e3,h=Yoe[(t===3?0:t===2?1:2)*3+s],d=a===3?1:2,f=Xoe[t][i],g=Qoe[i],m=f*8*g,v=Math.floor(f*c/h+o)*g;if(E1===null){const w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);E1=w?parseInt(w[1]):0}return!!E1&&E1<=87&&i===2&&c>=224e3&&a===0&&(r[e+3]=r[e+3]|128),{sampleRate:h,channelCount:d,frameLength:v,samplesPerFrame:m}}}function Wb(r,e){return r[e]===255&&(r[e+1]&224)===224&&(r[e+1]&6)!==0}function cI(r,e){return e+1<r.length&&Wb(r,e)}function Joe(r,e){return Wb(r,e)&&4<=r.length-e}function uI(r,e){if(e+1<r.length&&Wb(r,e)){const i=lI(r,e);let n=4;i!=null&&i.frameLength&&(n=i.frameLength);const s=e+n;return s===r.length||cI(r,s)}return!1}class eae extends Zb{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,i,n){super.resetInitSegment(e,t,i,n),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const i=Qd(e,0);let n=(i==null?void 0:i.length)||0;if(uI(e,n))return!1;for(let s=e.length;n<s;n++)if(Ioe(e,n))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return koe(e,t)}appendFrame(e,t,i){tI(e,this.observer,t,i,e.manifestCodec);const n=rI(e,t,i,this.basePTS,this.frameIndex);if(n&&n.missing===0)return n}}const hI=(r,e)=>{let t=0,i=5;e+=i;const n=new Uint32Array(1),s=new Uint32Array(1),o=new Uint8Array(1);for(;i>0;){o[0]=r[e];const a=Math.min(i,8),l=8-a;s[0]=4278190080>>>24+l<<l,n[0]=(o[0]&s[0])>>l,t=t?t<<a|n[0]:n[0],e+=1,i-=a}return t};class tae extends Zb{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,i,n){super.resetInitSegment(e,t,i,n),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,i){const n=dI(e,t,i,this.basePTS,this.frameIndex);if(n!==-1)return{sample:e.samples[e.samples.length-1],length:n,missing:0}}static probe(e){if(!e)return!1;const t=Qd(e,0);if(!t)return!1;const i=t.length;return e[i]===11&&e[i+1]===119&&Gb(t)!==void 0&&hI(e,i)<16}}function dI(r,e,t,i,n){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const s=e[t+4]>>6;if(s>=3)return-1;const a=[48e3,44100,32e3][s],l=e[t+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+s]*2;if(t+u>e.length)return-1;const h=e[t+6]>>5;let d=0;h===2?d+=2:(h&1&&h!==1&&(d+=2),h&4&&(d+=2));const f=(e[t+6]<<8|e[t+7])>>12-d&1,m=[2,1,2,3,3,4,4,5][h]+f,v=e[t+5]>>3,y=e[t+5]&7,_=new Uint8Array([s<<6|v<<1|y>>2,(y&3)<<6|h<<3|f<<2|l>>4,l<<4&224]),w=1536/a*9e4,S=i+n*w,k=e.subarray(t,t+u);return r.config=_,r.channelCount=m,r.samplerate=a,r.samples.push({unit:k,pts:S}),u}class iae extends Zb{resetInitSegment(e,t,i,n){super.resetInitSegment(e,t,i,n),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:n,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Qd(e,0);let i=(t==null?void 0:t.length)||0;if(t&&e[i]===11&&e[i+1]===119&&Gb(t)!==void 0&&hI(e,i)<=16)return!1;for(let n=e.length;i<n;i++)if(uI(e,i))return _t.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return Joe(e,t)}appendFrame(e,t,i){if(this.basePTS!==null)return aI(e,t,i,this.basePTS,this.frameIndex)}}const rae=/\/emsg[-/]ID3/i;class nae{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,i,n){const s=this.videoTrack=rs("video",1),o=this.audioTrack=rs("audio",1),a=this.txtTrack=rs("text",1);if(this.id3Track=rs("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=Tk(e);if(l.video){const{id:c,timescale:u,codec:h,supplemental:d}=l.video;s.id=c,s.timescale=a.timescale=u,s.codec=h,s.supplemental=d}if(l.audio){const{id:c,timescale:u,codec:h}=l.audio;o.id=c,o.timescale=u,o.codec=h}a.id=Ck.text,s.sampleDuration=0,s.duration=o.duration=n}resetContiguity(){this.remainderData=null}static probe(e){return tse(e)}demux(e,t){this.timeOffset=t;let i=e;const n=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=wn(this.remainderData,e));const a=cse(i);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=i;const o=this.extractID3Track(n,t);return s.samples=x_(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,i=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const n=this.extractID3Track(t,this.timeOffset);return i.samples=x_(e,t),{videoTrack:t,audioTrack:rs(),id3Track:n,textTrack:rs()}}extractID3Track(e,t){const i=this.id3Track;if(e.samples.length){const n=nt(e.samples,["emsg"]);n&&n.forEach(s=>{const o=hse(s);if(rae.test(o.schemeIdUri)){const a=rw(o,t);let l=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=o.payload;i.samples.push({data:c,len:c.byteLength,dts:a,pts:a,type:Zr.emsg,duration:l})}else if(this.config.enableEmsgKLVMetadata&&o.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const a=rw(o,t);i.samples.push({data:o.payload,len:o.payload.byteLength,dts:a,pts:a,type:Zr.misbklv,duration:Number.POSITIVE_INFINITY})}})}return i}demuxSampleAes(e,t,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function rw(r,e){return Ae(r.presentationTime)?r.presentationTime/r.timeScale:e+r.presentationTimeDelta/r.timeScale}class sae{constructor(e,t,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new Vb(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,ga.cbc)}decryptAacSample(e,t,i){const n=e[t].unit;if(n.length<=16)return;const s=n.subarray(16,n.length-n.length%16),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(o).then(a=>{const l=new Uint8Array(a);n.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,i)})}decryptAacSamples(e,t,i){for(;;t++){if(t>=e.length){i();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,i=new Int8Array(t);let n=0;for(let s=32;s<e.length-16;s+=160,n+=16)i.set(e.subarray(s,s+16),n);return i}getAvcDecryptedUnit(e,t){const i=new Uint8Array(t);let n=0;for(let s=32;s<e.length-16;s+=160,n+=16)e.set(i.subarray(n,n+16),s);return e}decryptAvcSample(e,t,i,n,s){const o=Sk(s.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then(l=>{s.data=this.getAvcDecryptedUnit(o,l),this.decrypter.isSync()||this.decryptAvcSamples(e,t,i+1,n)})}decryptAvcSamples(e,t,i,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,i=0){if(t>=e.length){n();return}const s=e[t].units;for(;!(i>=s.length);i++){const o=s[i];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,t,i,n,o),!this.decrypter.isSync()))return}}}}class fI{constructor(){this.VideoSample=null}createVideoSample(e,t,i){return{key:e,frame:!1,pts:t,dts:i,units:[],length:0}}getLastNalUnit(e){var t;let i=this.VideoSample,n;if((!i||i.units.length===0)&&(i=e[e.length-1]),(t=i)!=null&&t.units){const s=i.units;n=s[s.length-1]}return n}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const i=t.samples,n=i.length;if(n){const s=i[n-1];e.pts=s.pts,e.dts=s.dts}else{t.dropped++;return}}t.samples.push(e)}}parseNALu(e,t,i){const n=t.byteLength;let s=e.naluState||0;const o=s,a=[];let l=0,c,u,h,d=-1,f=0;for(s===-1&&(d=0,f=this.getNALuType(t,0),s=0,l=1);l<n;){if(c=t[l++],!s){s=c?0:1;continue}if(s===1){s=c?0:2;continue}if(!c)s=3;else if(c===1){if(u=l-s-1,d>=0){const g={data:t.subarray(d,u),type:f};a.push(g)}else{const g=this.getLastNalUnit(e.samples);g&&(o&&l<=4-o&&g.state&&(g.data=g.data.subarray(0,g.data.byteLength-o)),u>0&&(g.data=wn(g.data,t.subarray(0,u)),g.state=0))}l<n?(h=this.getNALuType(t,l),d=l,f=h,s=0):s=-1}else s=0}if(d>=0&&s>=0){const g={data:t.subarray(d,n),type:f,state:s};a.push(g)}if(a.length===0){const g=this.getLastNalUnit(e.samples);g&&(g.data=wn(g.data,t))}return e.naluState=s,a}}class Wh{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,i=e.byteLength-t,n=new Uint8Array(4),s=Math.min(4,t);if(s===0)throw new Error("no bytes available");n.set(e.subarray(i,i+s)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const i=this.word>>>32-t;if(e>32&&_t.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class nw extends fI{parsePES(e,t,i,n){const s=this.parseNALu(e,i.data,n);let o=this.VideoSample,a,l=!1;i.data=null,o&&s.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),s.forEach(c=>{var u,h;switch(c.type){case 1:{let m=!1;a=!0;const v=c.data;if(l&&v.length>4){const y=this.readSliceType(v);(y===2||y===4||y===7||y===9)&&(m=!0)}if(m){var d;(d=o)!=null&&d.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),o.frame=!0,o.key=m;break}case 5:a=!0,(u=o)!=null&&u.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),o.key=!0,o.frame=!0;break;case 6:{a=!0,Db(c.data,1,i.pts,t.samples);break}case 7:{var f,g;a=!0,l=!0;const m=c.data,v=this.readSPS(m);if(!e.sps||e.width!==v.width||e.height!==v.height||((f=e.pixelRatio)==null?void 0:f[0])!==v.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==v.pixelRatio[1]){e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[m];const y=m.subarray(1,4);let _="avc1.";for(let w=0;w<3;w++){let S=y[w].toString(16);S.length<2&&(S="0"+S),_+=S}e.codec=_}break}case 8:a=!0,e.pps=[c.data];break;case 9:a=!0,e.audFound=!0,(h=o)!=null&&h.frame&&(this.pushAccessUnit(o,e),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts));break;case 12:a=!0;break;default:a=!1;break}o&&a&&o.units.push(c)}),n&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}getNALuType(e,t){return e[t]&31}readSliceType(e){const t=new Wh(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let i=8,n=8,s;for(let o=0;o<e;o++)n!==0&&(s=t.readEG(),n=(i+s+256)%256),i=n===0?i:n}readSPS(e){const t=new Wh(e);let i=0,n=0,s=0,o=0,a,l,c;const u=t.readUByte.bind(t),h=t.readBits.bind(t),d=t.readUEG.bind(t),f=t.readBoolean.bind(t),g=t.skipBits.bind(t),m=t.skipEG.bind(t),v=t.skipUEG.bind(t),y=this.skipScalingList.bind(this);u();const _=u();if(h(5),g(3),u(),v(),_===100||_===110||_===122||_===244||_===44||_===83||_===86||_===118||_===128){const C=d();if(C===3&&g(1),v(),v(),g(1),f())for(l=C!==3?8:12,c=0;c<l;c++)f()&&(c<6?y(16,t):y(64,t))}v();const w=d();if(w===0)d();else if(w===1)for(g(1),m(),m(),a=d(),c=0;c<a;c++)m();v(),g(1);const S=d(),k=d(),P=h(1);P===0&&g(1),g(1),f()&&(i=d(),n=d(),s=d(),o=d());let x=[1,1];if(f()&&f())switch(u()){case 1:x=[1,1];break;case 2:x=[12,11];break;case 3:x=[10,11];break;case 4:x=[16,11];break;case 5:x=[40,33];break;case 6:x=[24,11];break;case 7:x=[20,11];break;case 8:x=[32,11];break;case 9:x=[80,33];break;case 10:x=[18,11];break;case 11:x=[15,11];break;case 12:x=[64,33];break;case 13:x=[160,99];break;case 14:x=[4,3];break;case 15:x=[3,2];break;case 16:x=[2,1];break;case 255:{x=[u()<<8|u(),u()<<8|u()];break}}return{width:Math.ceil((S+1)*16-i*2-n*2),height:(2-P)*(k+1)*16-(P?2:4)*(s+o),pixelRatio:x}}}class sw extends fI{constructor(...e){super(...e),this.initVPS=null}parsePES(e,t,i,n){const s=this.parseNALu(e,i.data,n);let o=this.VideoSample,a,l=!1;i.data=null,o&&s.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),s.forEach(c=>{var u,h;switch(c.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:o||(o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts)),o.frame=!0,a=!0;break;case 16:case 17:case 18:case 21:if(a=!0,l){var d;(d=o)!=null&&d.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),o.key=!0,o.frame=!0;break;case 19:case 20:a=!0,(u=o)!=null&&u.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),o.key=!0,o.frame=!0;break;case 39:a=!0,Db(c.data,2,i.pts,t.samples);break;case 32:a=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=Ut(e.params,this.readVPS(c.data)),this.initVPS=c.data),e.vps=[c.data];break;case 33:if(a=!0,l=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],c.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const f=this.readSPS(c.data);e.width=f.width,e.height=f.height,e.pixelRatio=f.pixelRatio,e.codec=f.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const g in f.params)e.params[g]=f.params[g]}this.pushParameterSet(e.sps,c.data,e.vps),o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts)),o.key=!0;break;case 34:if(a=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const f=this.readPPS(c.data);for(const g in f)e.params[g]=f[g]}this.pushParameterSet(e.pps,c.data,e.vps)}break;case 35:a=!0,e.audFound=!0,(h=o)!=null&&h.frame&&(this.pushAccessUnit(o,e),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts));break;default:a=!1;break}o&&a&&o.units.push(c)}),n&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}pushParameterSet(e,t,i){(i&&i[0]===this.initVPS||!i&&!e.length)&&e.push(t)}getNALuType(e,t){return(e[t]&126)>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let i=0;for(let n=0;n<e.byteLength;n++)n>=2&&e[n]===3&&e[n-1]===0&&e[n-2]===0||(t[i]=e[n],i++);return new Uint8Array(t.buffer,0,i)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new Wh(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);const i=t.readBits(3),n=t.readBoolean();return{numTemporalLayers:i+1,temporalIdNested:n}}readSPS(e){const t=new Wh(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const i=t.readBits(3);t.readBoolean();const n=t.readBits(2),s=t.readBoolean(),o=t.readBits(5),a=t.readUByte(),l=t.readUByte(),c=t.readUByte(),u=t.readUByte(),h=t.readUByte(),d=t.readUByte(),f=t.readUByte(),g=t.readUByte(),m=t.readUByte(),v=t.readUByte(),y=t.readUByte(),_=[],w=[];for(let W=0;W<i;W++)_.push(t.readBoolean()),w.push(t.readBoolean());if(i>0)for(let W=i;W<8;W++)t.readBits(2);for(let W=0;W<i;W++)_[W]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),w[W]&&t.readUByte();t.readUEG();const S=t.readUEG();S==3&&t.skipBits(1);const k=t.readUEG(),P=t.readUEG(),x=t.readBoolean();let C=0,E=0,A=0,I=0;x&&(C+=t.readUEG(),E+=t.readUEG(),A+=t.readUEG(),I+=t.readUEG());const D=t.readUEG(),R=t.readUEG(),fe=t.readUEG(),se=t.readBoolean();for(let W=se?0:i;W<=i;W++)t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.readBoolean()&&t.readBoolean())for(let te=0;te<4;te++)for(let _e=0;_e<(te===3?2:6);_e++)if(!t.readBoolean())t.readUEG();else{const pe=Math.min(64,1<<4+(te<<1));te>1&&t.readEG();for(let de=0;de<pe;de++)t.readEG()}t.readBoolean(),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const ae=t.readUEG();let ne=0;for(let W=0;W<ae;W++){let te=!1;if(W!==0&&(te=t.readBoolean()),te){W===ae&&t.readUEG(),t.readBoolean(),t.readUEG();let _e=0;for(let be=0;be<=ne;be++){const pe=t.readBoolean();let de=!1;pe||(de=t.readBoolean()),(pe||de)&&_e++}ne=_e}else{const _e=t.readUEG(),be=t.readUEG();ne=_e+be;for(let pe=0;pe<_e;pe++)t.readUEG(),t.readBoolean();for(let pe=0;pe<be;pe++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const W=t.readUEG();for(let te=0;te<W;te++){for(let _e=0;_e<fe+4;_e++)t.readBits(1);t.readBits(1)}}let ke=0,ye=1,ge=1,X=!0,Fe=1,Ce=0;t.readBoolean(),t.readBoolean();let q=!1;if(t.readBoolean()){if(t.readBoolean()){const Be=t.readUByte(),Le=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],Oe=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Be>0&&Be<16?(ye=Le[Be-1],ge=Oe[Be-1]):Be===255&&(ye=t.readBits(16),ge=t.readBits(16))}if(t.readBoolean()&&t.readBoolean(),t.readBoolean()&&(t.readBits(3),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())),t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),q=t.readBoolean(),q&&(C+=t.readUEG(),E+=t.readUEG(),A+=t.readUEG(),I+=t.readUEG()),t.readBoolean()&&(Fe=t.readBits(32),Ce=t.readBits(32),t.readBoolean()&&t.readUEG(),t.readBoolean())){const Oe=t.readBoolean(),Ge=t.readBoolean();let Ue=!1;(Oe||Ge)&&(Ue=t.readBoolean(),Ue&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),Ue&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let Je=0;Je<=i;Je++){X=t.readBoolean();const ft=X||t.readBoolean();let Ei=!1;ft?t.readEG():Ei=t.readBoolean();const bi=Ei?1:t.readUEG()+1;if(Oe)for(let Pi=0;Pi<bi;Pi++)t.readUEG(),t.readUEG(),Ue&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(Ge)for(let Pi=0;Pi<bi;Pi++)t.readUEG(),t.readUEG(),Ue&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),ke=t.readUEG())}let Ee=k,Pe=P;if(x||q){let W=1,te=1;S===1?W=te=2:S==2&&(W=2),Ee=k-W*E-W*C,Pe=P-te*I-te*A}const Ct=n?["A","B","C"][n]:"",V=a<<24|l<<16|c<<8|u;let B=0;for(let W=0;W<32;W++)B=(B|(V>>W&1)<<31-W)>>>0;let H=B.toString(16);return o===1&&H==="2"&&(H="6"),{codecString:`hvc1.${Ct}${o}.${H}.${s?"H":"L"}${y}.B0`,params:{general_tier_flag:s,general_profile_idc:o,general_profile_space:n,general_profile_compatibility_flags:[a,l,c,u],general_constraint_indicator_flags:[h,d,f,g,m,v],general_level_idc:y,bit_depth:D+8,bit_depth_luma_minus8:D,bit_depth_chroma_minus8:R,min_spatial_segmentation_idc:ke,chroma_format_idc:S,frame_rate:{fixed:X,fps:Ce/Fe}},width:Ee,height:Pe,pixelRatio:[ye,ge]}}readPPS(e){const t=new Wh(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2),t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const n=t.readBoolean(),s=t.readBoolean();let o=1;return s&&n?o=0:s?o=3:n&&(o=2),{parallelismType:o}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const Ri=188;class Io{constructor(e,t,i,n){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.logger=n,this.videoParser=null}static probe(e,t){const i=Io.syncOffset(e);return i>0&&t.warn(`MPEG2-TS detected but first sync word found @ offset ${i}`),i!==-1}static syncOffset(e){const t=e.length;let i=Math.min(Ri*5,t-Ri)+1,n=0;for(;n<i;){let s=!1,o=-1,a=0;for(let l=n;l<t;l+=Ri)if(e[l]===71&&(t-l===Ri||e[l+Ri]===71)){if(a++,o===-1&&(o=l,o!==0&&(i=Math.min(o+Ri*99,e.length-Ri)+1)),s||(s=wy(e,l)===0),s&&a>1&&(o===0&&a>2||l+Ri>i))return o}else{if(a)return-1;break}n++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:Ck[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,i,n){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Io.createTrack("video"),this._videoTrack.duration=n,this._audioTrack=Io.createTrack("audio",n),this._id3Track=Io.createTrack("id3"),this._txtTrack=Io.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:i}=this;e&&(e.pesData=null),t&&(t.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,i=!1,n=!1){i||(this.sampleAes=null);let s;const o=this._videoTrack,a=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=o.pid,h=o.pesData,d=a.pid,f=l.pid,g=a.pesData,m=l.pesData,v=null,y=this.pmtParsed,_=this._pmtId,w=e.length;if(this.remainderData&&(e=wn(this.remainderData,e),w=e.length,this.remainderData=null),w<Ri&&!n)return this.remainderData=e,{audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};const S=Math.max(0,Io.syncOffset(e));w-=(w-S)%Ri,w<e.byteLength&&!n&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));let k=0;for(let x=S;x<w;x+=Ri)if(e[x]===71){const C=!!(e[x+1]&64),E=wy(e,x),A=(e[x+3]&48)>>4;let I;if(A>1){if(I=x+5+e[x+4],I===x+Ri)continue}else I=x+4;switch(E){case u:if(C){if(h&&(s=Kl(h,this.logger))){if(this.videoParser===null)switch(o.segmentCodec){case"avc":this.videoParser=new nw;break;case"hevc":this.videoParser=new sw;break}this.videoParser!==null&&this.videoParser.parsePES(o,c,s,!1)}h={data:[],size:0}}h&&(h.data.push(e.subarray(I,x+Ri)),h.size+=x+Ri-I);break;case d:if(C){if(g&&(s=Kl(g,this.logger)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,s);break;case"mp3":this.parseMPEGPES(a,s);break;case"ac3":this.parseAC3PES(a,s);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(I,x+Ri)),g.size+=x+Ri-I);break;case f:C&&(m&&(s=Kl(m,this.logger))&&this.parseID3PES(l,s),m={data:[],size:0}),m&&(m.data.push(e.subarray(I,x+Ri)),m.size+=x+Ri-I);break;case 0:C&&(I+=e[I]+1),_=this._pmtId=oae(e,I);break;case _:{C&&(I+=e[I]+1);const D=aae(e,I,this.typeSupported,i,this.observer,this.logger);u=D.videoPid,u>0&&(o.pid=u,o.segmentCodec=D.segmentVideoCodec),d=D.audioPid,d>0&&(a.pid=d,a.segmentCodec=D.segmentAudioCodec),f=D.id3Pid,f>0&&(l.pid=f),v!==null&&!y&&(this.logger.warn(`MPEG-TS PMT found at ${x} after unknown PID '${v}'. Backtracking to sync byte @${S} to parse all TS packets.`),v=null,x=S-188),y=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=E;break}}else k++;k>0&&Cy(this.observer,new Error(`Found ${k} TS packet/s that do not start with 0x47`),void 0,this.logger),o.pesData=h,a.pesData=g,l.pesData=m;const P={audioTrack:a,videoTrack:o,id3Track:l,textTrack:c};return n&&this.extractRemainingSamples(P),P}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:i,id3Track:n,textTrack:s}=e,o=i.pesData,a=t.pesData,l=n.pesData;let c;if(o&&(c=Kl(o,this.logger))){if(this.videoParser===null)switch(i.segmentCodec){case"avc":this.videoParser=new nw;break;case"hevc":this.videoParser=new sw;break}this.videoParser!==null&&(this.videoParser.parsePES(i,s,c,!0),i.pesData=null)}else i.pesData=o;if(a&&(c=Kl(a,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,c);break;case"mp3":this.parseMPEGPES(t,c);break;case"ac3":this.parseAC3PES(t,c);break}t.pesData=null}else a!=null&&a.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=a;l&&(c=Kl(l,this.logger))?(this.parseID3PES(n,c),n.pesData=null):n.pesData=l}demuxSampleAes(e,t,i){const n=this.demux(e,i,!0,!this.config.progressive),s=this.sampleAes=new sae(this.observer,this.config,t);return this.decrypt(n,s)}decrypt(e,t){return new Promise(i=>{const{audioTrack:n,videoTrack:s}=e;n.samples&&n.segmentCodec==="aac"?t.decryptAacSamples(n.samples,0,()=>{s.samples?t.decryptAvcSamples(s.samples,0,0,()=>{i(e)}):i(e)}):s.samples&&t.decryptAvcSamples(s.samples,0,0,()=>{i(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let i=0;const n=this.aacOverFlow;let s=t.data;if(n){this.aacOverFlow=null;const h=n.missing,d=n.sample.unit.byteLength;if(h===-1)s=wn(n.sample.unit,s);else{const f=d-h;n.sample.unit.set(s.subarray(0,h),f),e.samples.push(n.sample),i=n.missing}}let o,a;for(o=i,a=s.length;o<a-1&&!Rg(s,o);o++);if(o!==i){let h;const d=o<a-1;if(d?h=`AAC PES did not start with ADTS header,offset:${o}`:h="No ADTS header found in AAC PES",Cy(this.observer,new Error(h),d,this.logger),!d)return}tI(e,this.observer,s,o,this.audioCodec);let l;if(t.pts!==void 0)l=t.pts;else if(n){const h=iI(e.samplerate);l=n.sample.pts+h}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;o<a;)if(u=rI(e,s,o,l,c),o+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;o<a-1&&!Rg(s,o);o++);}parseMPEGPES(e,t){const i=t.data,n=i.length;let s=0,o=0;const a=t.pts;if(a===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<n;)if(cI(i,o)){const l=aI(e,i,o,a,s);if(l)o+=l.length,s++;else break}else o++}parseAC3PES(e,t){{const i=t.data,n=t.pts;if(n===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=i.length;let o=0,a=0,l;for(;a<s&&(l=dI(e,i,a,n,o++))>0;)a+=l}}parseID3PES(e,t){if(t.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const i=Ut({},t,{type:this._videoTrack?Zr.emsg:Zr.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(i)}}function wy(r,e){return((r[e+1]&31)<<8)+r[e+2]}function oae(r,e){return(r[e+10]&31)<<8|r[e+11]}function aae(r,e,t,i,n,s){const o={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=(r[e+1]&15)<<8|r[e+2],l=e+3+a-4,c=(r[e+10]&15)<<8|r[e+11];for(e+=12+c;e<l;){const u=wy(r,e),h=(r[e+3]&15)<<8|r[e+4];switch(r[e]){case 207:if(!i){vv("ADTS AAC",s);break}case 15:o.audioPid===-1&&(o.audioPid=u);break;case 21:o.id3Pid===-1&&(o.id3Pid=u);break;case 219:if(!i){vv("H.264",s);break}case 27:o.videoPid===-1&&(o.videoPid=u);break;case 3:case 4:!t.mpeg&&!t.mp3?s.log("MPEG audio found, not supported in this browser"):o.audioPid===-1&&(o.audioPid=u,o.segmentAudioCodec="mp3");break;case 193:if(!i){vv("AC-3",s);break}case 129:t.ac3?o.audioPid===-1&&(o.audioPid=u,o.segmentAudioCodec="ac3"):s.log("AC-3 audio found, not supported in this browser");break;case 6:if(o.audioPid===-1&&h>0){let d=e+5,f=h;for(;f>2;){switch(r[d]){case 106:t.ac3!==!0?s.log("AC-3 audio found, not supported in this browser for now"):(o.audioPid=u,o.segmentAudioCodec="ac3");break}const m=r[d+1]+2;d+=m,f-=m}}break;case 194:case 135:return Cy(n,new Error("Unsupported EC-3 in M2TS found"),void 0,s),o;case 36:o.videoPid===-1&&(o.videoPid=u,o.segmentVideoCodec="hevc",s.log("HEVC in M2TS found"));break}e+=h+5}return o}function Cy(r,e,t,i){i.warn(`parsing error: ${e.message}`),r.emit(T.ERROR,T.ERROR,{type:Ve.MEDIA_ERROR,details:j.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function vv(r,e){e.log(`${r} with AES-128-CBC encryption found in unencrypted stream`)}function Kl(r,e){let t=0,i,n,s,o,a;const l=r.data;if(!r||r.size===0)return null;for(;l[0].length<19&&l.length>1;)l[0]=wn(l[0],l[1]),l.splice(1,1);if(i=l[0],(i[0]<<16)+(i[1]<<8)+i[2]===1){if(n=(i[4]<<8)+i[5],n&&n>r.size-6)return null;const u=i[7];u&192&&(o=(i[9]&14)*536870912+(i[10]&255)*4194304+(i[11]&254)*16384+(i[12]&255)*128+(i[13]&254)/2,u&64?(a=(i[14]&14)*536870912+(i[15]&255)*4194304+(i[16]&254)*16384+(i[17]&255)*128+(i[18]&254)/2,o-a>60*9e4&&(e.warn(`${Math.round((o-a)/9e4)}s delta between PTS and DTS, align them`),o=a)):a=o),s=i[8];let h=s+9;if(r.size<=h)return null;r.size-=h;const d=new Uint8Array(r.size);for(let f=0,g=l.length;f<g;f++){i=l[f];let m=i.byteLength;if(h)if(h>m){h-=m;continue}else i=i.subarray(h),m-=h,h=0;d.set(i,t),t+=m}return n&&(n-=s+3),{data:d,pts:o,dts:a,len:n}}return null}class lae{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const _o=Math.pow(2,32)-1;class U{static init(){U.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in U.types)U.types.hasOwnProperty(e)&&(U.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);U.HDLR_TYPES={video:t,audio:i};const n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);U.STTS=U.STSC=U.STCO=s,U.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),U.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),U.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);U.FTYP=U.box(U.types.ftyp,o,l,o,a),U.DINF=U.box(U.types.dinf,U.box(U.types.dref,n))}static box(e,...t){let i=8,n=t.length;const s=n;for(;n--;)i+=t[n].byteLength;const o=new Uint8Array(i);for(o[0]=i>>24&255,o[1]=i>>16&255,o[2]=i>>8&255,o[3]=i&255,o.set(e,4),n=0,i=8;n<s;n++)o.set(t[n],i),i+=t[n].byteLength;return o}static hdlr(e){return U.box(U.types.hdlr,U.HDLR_TYPES[e])}static mdat(e){return U.box(U.types.mdat,e)}static mdhd(e,t){t*=e;const i=Math.floor(t/(_o+1)),n=Math.floor(t%(_o+1));return U.box(U.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,n>>24,n>>16&255,n>>8&255,n&255,85,196,0,0]))}static mdia(e){return U.box(U.types.mdia,U.mdhd(e.timescale||0,e.duration||0),U.hdlr(e.type),U.minf(e))}static mfhd(e){return U.box(U.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?U.box(U.types.minf,U.box(U.types.smhd,U.SMHD),U.DINF,U.stbl(e)):U.box(U.types.minf,U.box(U.types.vmhd,U.VMHD),U.DINF,U.stbl(e))}static moof(e,t,i){return U.box(U.types.moof,U.mfhd(e),U.traf(i,t))}static moov(e){let t=e.length;const i=[];for(;t--;)i[t]=U.trak(e[t]);return U.box.apply(null,[U.types.moov,U.mvhd(e[0].timescale||0,e[0].duration||0)].concat(i).concat(U.mvex(e)))}static mvex(e){let t=e.length;const i=[];for(;t--;)i[t]=U.trex(e[t]);return U.box.apply(null,[U.types.mvex,...i])}static mvhd(e,t){t*=e;const i=Math.floor(t/(_o+1)),n=Math.floor(t%(_o+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,n>>24,n>>16&255,n>>8&255,n&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return U.box(U.types.mvhd,s)}static sdtp(e){const t=e.samples||[],i=new Uint8Array(4+t.length);let n,s;for(n=0;n<t.length;n++)s=t[n].flags,i[n+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return U.box(U.types.sdtp,i)}static stbl(e){return U.box(U.types.stbl,U.stsd(e),U.box(U.types.stts,U.STTS),U.box(U.types.stsc,U.STSC),U.box(U.types.stsz,U.STSZ),U.box(U.types.stco,U.STCO))}static avc1(e){let t=[],i=[],n,s,o;for(n=0;n<e.sps.length;n++)s=e.sps[n],o=s.byteLength,t.push(o>>>8&255),t.push(o&255),t=t.concat(Array.prototype.slice.call(s));for(n=0;n<e.pps.length;n++)s=e.pps[n],o=s.byteLength,i.push(o>>>8&255),i.push(o&255),i=i.concat(Array.prototype.slice.call(s));const a=U.box(U.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(i))),l=e.width,c=e.height,u=e.pixelRatio[0],h=e.pixelRatio[1];return U.box(U.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,U.box(U.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),U.box(U.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,h>>24,h>>16&255,h>>8&255,h&255])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return U.box(U.types.mp4a,U.audioStsd(e),U.box(U.types.esds,U.esds(e)))}static mp3(e){return U.box(U.types[".mp3"],U.audioStsd(e))}static ac3(e){return U.box(U.types["ac-3"],U.audioStsd(e),U.box(U.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if(e.type==="audio"){if(t==="aac")return U.box(U.types.stsd,U.STSD,U.mp4a(e));if(t==="ac3"&&e.config)return U.box(U.types.stsd,U.STSD,U.ac3(e));if(t==="mp3"&&e.codec==="mp3")return U.box(U.types.stsd,U.STSD,U.mp3(e))}else if(e.pps&&e.sps){if(t==="avc")return U.box(U.types.stsd,U.STSD,U.avc1(e));if(t==="hevc"&&e.vps)return U.box(U.types.stsd,U.STSD,U.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${t}/${e.codec})`)}static tkhd(e){const t=e.id,i=(e.duration||0)*(e.timescale||0),n=e.width||0,s=e.height||0,o=Math.floor(i/(_o+1)),a=Math.floor(i%(_o+1));return U.box(U.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,a>>24,a>>16&255,a>>8&255,a&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,n&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,t){const i=U.sdtp(e),n=e.id,s=Math.floor(t/(_o+1)),o=Math.floor(t%(_o+1));return U.box(U.types.traf,U.box(U.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255])),U.box(U.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255])),U.trun(e,i.length+16+20+8+16+8+8),i)}static trak(e){return e.duration=e.duration||4294967295,U.box(U.types.trak,U.tkhd(e),U.mdia(e))}static trex(e){const t=e.id;return U.box(U.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const i=e.samples||[],n=i.length,s=12+16*n,o=new Uint8Array(s);let a,l,c,u,h,d;for(t+=8+s,o.set([e.type==="video"?1:0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,n&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),a=0;a<n;a++)l=i[a],c=l.duration,u=l.size,h=l.flags,d=l.cts,o.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.paddingValue<<1|h.isNonSync,h.degradPrio&61440,h.degradPrio&15,d>>>24&255,d>>>16&255,d>>>8&255,d&255],12+16*a);return U.box(U.types.trun,o)}static initSegment(e){U.types||U.init();const t=U.moov(e);return wn(U.FTYP,t)}static hvc1(e){const t=e.params,i=[e.vps,e.sps,e.pps],n=4,s=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),n-1|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),i.length]);let o=s.length;for(let g=0;g<i.length;g+=1){o+=3;for(let m=0;m<i[g].length;m+=1)o+=2+i[g][m].length}const a=new Uint8Array(o);a.set(s,0),o=s.length;const l=i.length-1;for(let g=0;g<i.length;g+=1){a.set(new Uint8Array([32+g|(g===l?128:0),0,i[g].length]),o),o+=3;for(let m=0;m<i[g].length;m+=1)a.set(new Uint8Array([i[g][m].length>>8,i[g][m].length&255]),o),o+=2,a.set(i[g][m],o),o+=i[g][m].length}const c=U.box(U.types.hvcC,a),u=e.width,h=e.height,d=e.pixelRatio[0],f=e.pixelRatio[1];return U.box(U.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,h>>8&255,h&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,U.box(U.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),U.box(U.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,d&255,f>>24,f>>16&255,f>>8&255,f&255])))}}U.types=void 0;U.HDLR_TYPES=void 0;U.STTS=void 0;U.STSC=void 0;U.STCO=void 0;U.STSZ=void 0;U.VMHD=void 0;U.SMHD=void 0;U.STSD=void 0;U.FTYP=void 0;U.DINF=void 0;const pI=9e4;function Kb(r,e,t=1,i=!1){const n=r*e*t;return i?Math.round(n):n}function cae(r,e,t=1,i=!1){return Kb(r,e,1/t,i)}function eh(r,e=!1){return Kb(r,1e3,1/pI,e)}function uae(r,e=1){return Kb(r,pI,1/e)}const hae=10*1e3,dae=1024,fae=1152,pae=1536;let ql=null,yv=null;function ow(r,e,t,i){return{duration:e,size:t,cts:i,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:r?2:1,isNonSync:r?0:1}}}class ip{constructor(e,t,i,n){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=i,this.logger=n,this.ISGenerated=!1,ql===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ql=o?parseInt(o[1]):0}if(yv===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);yv=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const i=e[0].pts,n=e.reduce((s,o)=>{let a=o.pts,l=a-s;return l<-4294967296&&(t=!0,a=dn(a,i),l=a-s),l>0?s:a},i);return t&&this.logger.debug("PTS rollover detected"),n}remux(e,t,i,n,s,o,a,l){let c,u,h,d,f,g,m=s,v=s;const y=e.pid>-1,_=t.pid>-1,w=t.samples.length,S=e.samples.length>0,k=a&&w>0||w>1;if((!y||S)&&(!_||k)||this.ISGenerated||a){if(this.ISGenerated){var x,C,E,A;const fe=this.videoTrackConfig;(fe&&(t.width!==fe.width||t.height!==fe.height||((x=t.pixelRatio)==null?void 0:x[0])!==((C=fe.pixelRatio)==null?void 0:C[0])||((E=t.pixelRatio)==null?void 0:E[1])!==((A=fe.pixelRatio)==null?void 0:A[1]))||!fe&&k||this.nextAudioPts===null&&S)&&this.resetInitSegment()}this.ISGenerated||(h=this.generateIS(e,t,s,o));const I=this.isVideoContiguous;let D=-1,R;if(k&&(D=gae(t.samples),!I&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,D>0){this.logger.warn(`[mp4-remuxer]: Dropped ${D} out of ${w} video samples due to a missing keyframe`);const fe=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(D),t.dropped+=D,v+=(t.samples[0].pts-fe)/t.inputTimeScale,R=v}else D===-1&&(this.logger.warn(`[mp4-remuxer]: No keyframe found out of ${w} video samples`),g=!1);if(this.ISGenerated){if(S&&k){const fe=this.getVideoStartPts(t.samples),Y=(dn(e.samples[0].pts,fe)-fe)/t.inputTimeScale;m+=Math.max(0,Y),v+=Math.max(0,-Y)}if(S){if(e.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(e,t,s,o)),u=this.remuxAudio(e,m,this.isAudioContiguous,o,_||k||l===De.AUDIO?v:void 0),k){const fe=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(e,t,s,o)),c=this.remuxVideo(t,v,I,fe)}}else k&&(c=this.remuxVideo(t,v,I,0));c&&(c.firstKeyFrame=D,c.independent=D!==-1,c.firstKeyFramePTS=R)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(f=gI(i,s,this._initPTS,this._initDTS)),n.samples.length&&(d=mI(n,s,this._initPTS))),{audio:u,video:c,initSegment:h,independent:g,text:d,id3:f}}generateIS(e,t,i,n){const s=e.samples,o=t.samples,a=this.typeSupported,l={},c=this._initPTS;let u=!c||n,h="audio/mp4",d,f,g;if(u&&(d=f=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":a.mpeg?(h="audio/mpeg",e.codec=""):a.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:h,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&a.mpeg?new Uint8Array(0):U.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(g=e.inputTimeScale,!c||g!==c.timescale?d=f=s[0].pts-Math.round(g*i):u=!1)}if(t.sps&&t.pps&&o.length){if(t.timescale=t.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:U.initSegment([t]),metadata:{width:t.width,height:t.height}},u)if(g=t.inputTimeScale,!c||g!==c.timescale){const m=this.getVideoStartPts(o),v=Math.round(g*i);f=Math.min(f,dn(o[0].dts,m)-v),d=Math.min(d,m-v)}else u=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:d,timescale:g},this._initDTS={baseTime:f,timescale:g}):d=g=void 0,{tracks:l,initPTS:d,timescale:g}}remuxVideo(e,t,i,n){const s=e.inputTimeScale,o=e.samples,a=[],l=o.length,c=this._initPTS;let u=this.nextAvcDts,h=8,d=this.videoSampleDuration,f,g,m=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=!1;if(!i||u===null){const ne=t*s,ce=o[0].pts-dn(o[0].dts,o[0].pts);ql&&u!==null&&Math.abs(ne-ce-u)<15e3?i=!0:u=ne-ce}const _=c.baseTime*s/c.timescale;for(let ne=0;ne<l;ne++){const ce=o[ne];ce.pts=dn(ce.pts-_,u),ce.dts=dn(ce.dts-_,u),ce.dts<o[ne>0?ne-1:ne].dts&&(y=!0)}y&&o.sort(function(ne,ce){const ke=ne.dts-ce.dts,ye=ne.pts-ce.pts;return ke||ye}),f=o[0].dts,g=o[o.length-1].dts;const w=g-f,S=w?Math.round(w/(l-1)):d||e.inputTimeScale/30;if(i){const ne=f-u,ce=ne>S,ke=ne<-1;if((ce||ke)&&(ce?this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${eh(ne,!0)} ms (${ne}dts) hole between fragments detected at ${t.toFixed(3)}`):this.logger.warn(`${(e.segmentCodec||"").toUpperCase()}: ${eh(-ne,!0)} ms (${ne}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!ke||u>=o[0].pts||ql)){f=u;const ye=o[0].pts-ne;if(ce)o[0].dts=f,o[0].pts=ye;else{let ge=!0;for(let X=0;X<o.length&&!(o[X].dts>ye&&ge);X++){const Fe=o[X].pts;if(o[X].dts-=ne,o[X].pts-=ne,X<o.length-1){const Ce=o[X+1].pts,q=o[X].pts,xe=Ce<=q,Ee=Ce<=Fe;ge=xe==Ee}}}this.logger.log(`Video: Initial PTS/DTS adjusted: ${eh(ye,!0)}/${eh(f,!0)}, delta: ${eh(ne,!0)} ms`)}}f=Math.max(0,f);let k=0,P=0,x=f;for(let ne=0;ne<l;ne++){const ce=o[ne],ke=ce.units,ye=ke.length;let ge=0;for(let X=0;X<ye;X++)ge+=ke[X].data.length;P+=ge,k+=ye,ce.length=ge,ce.dts<x?(ce.dts=x,x+=S/4|0||1):x=ce.dts,m=Math.min(ce.pts,m),v=Math.max(ce.pts,v)}g=o[l-1].dts;const C=P+4*k+8;let E;try{E=new Uint8Array(C)}catch(ne){this.observer.emit(T.ERROR,T.ERROR,{type:Ve.MUX_ERROR,details:j.REMUX_ALLOC_ERROR,fatal:!1,error:ne,bytes:C,reason:`fail allocating video mdat ${C}`});return}const A=new DataView(E.buffer);A.setUint32(0,C),E.set(U.types.mdat,4);let I=!1,D=Number.POSITIVE_INFINITY,R=Number.POSITIVE_INFINITY,fe=Number.NEGATIVE_INFINITY,se=Number.NEGATIVE_INFINITY;for(let ne=0;ne<l;ne++){const ce=o[ne],ke=ce.units;let ye=0;for(let Fe=0,Ce=ke.length;Fe<Ce;Fe++){const q=ke[Fe],xe=q.data,Ee=q.data.byteLength;A.setUint32(h,Ee),h+=4,E.set(xe,h),h+=Ee,ye+=4+Ee}let ge;if(ne<l-1)d=o[ne+1].dts-ce.dts,ge=o[ne+1].pts-ce.pts;else{const Fe=this.config,Ce=ne>0?ce.dts-o[ne-1].dts:S;if(ge=ne>0?ce.pts-o[ne-1].pts:S,Fe.stretchShortVideoTrack&&this.nextAudioPts!==null){const q=Math.floor(Fe.maxBufferHole*s),xe=(n?m+n*s:this.nextAudioPts)-ce.pts;xe>q?(d=xe-Ce,d<0?d=Ce:I=!0,this.logger.log(`[mp4-remuxer]: It is approximately ${xe/90} ms to the next segment; using duration ${d/90} ms for the last video frame.`)):d=Ce}else d=Ce}const X=Math.round(ce.pts-ce.dts);D=Math.min(D,d),fe=Math.max(fe,d),R=Math.min(R,ge),se=Math.max(se,ge),a.push(ow(ce.key,d,ye,X))}if(a.length){if(ql){if(ql<70){const ne=a[0].flags;ne.dependsOn=2,ne.isNonSync=0}}else if(yv&&se-R<fe-D&&S/fe<.025&&a[0].cts===0){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let ne=f;for(let ce=0,ke=a.length;ce<ke;ce++){const ye=ne+a[ce].duration,ge=ne+a[ce].cts;if(ce<ke-1){const X=ye+a[ce+1].cts;a[ce].duration=X-ge}else a[ce].duration=ce?a[ce-1].duration:S;a[ce].cts=0,ne=ye}}}d=I||!d?S:d,this.nextAvcDts=u=g+d,this.videoSampleDuration=d,this.isVideoContiguous=!0;const ae={data1:U.moof(e.sequenceNumber++,f,Ut(e,{samples:a})),data2:E,startPTS:m/s,endPTS:(v+d)/s,startDTS:f/s,endDTS:u/s,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:e.dropped};return e.samples=[],e.dropped=0,ae}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return fae;case"ac3":return pae;default:return dae}}remuxAudio(e,t,i,n,s){const o=e.inputTimeScale,a=e.samplerate?e.samplerate:o,l=o/a,c=this.getSamplesPerFrame(e),u=c*l,h=this._initPTS,d=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,f=[],g=s!==void 0;let m=e.samples,v=d?0:8,y=this.nextAudioPts||-1;const _=t*o,w=h.baseTime*o/h.timescale;if(this.isAudioContiguous=i=i||m.length&&y>0&&(n&&Math.abs(_-y)<9e3||Math.abs(dn(m[0].pts-w,_)-y)<20*u),m.forEach(function(Y){Y.pts=dn(Y.pts-w,_)}),!i||y<0){if(m=m.filter(Y=>Y.pts>=0),!m.length)return;s===0?y=0:n&&!g?y=Math.max(0,_):y=m[0].pts}if(e.segmentCodec==="aac"){const Y=this.config.maxAudioFramesDrift;for(let K=0,ae=y;K<m.length;K++){const ne=m[K],ce=ne.pts,ke=ce-ae,ye=Math.abs(1e3*ke/o);if(ke<=-Y*u&&g)K===0&&(this.logger.warn(`Audio frame @ ${(ce/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*ke/o)} ms.`),this.nextAudioPts=y=ae=ce);else if(ke>=Y*u&&ye<hae&&g){let ge=Math.round(ke/u);ae=ce-ge*u,ae<0&&(ge--,ae+=u),K===0&&(this.nextAudioPts=y=ae),this.logger.warn(`[mp4-remuxer]: Injecting ${ge} audio frame @ ${(ae/o).toFixed(3)}s due to ${Math.round(1e3*ke/o)} ms gap.`);for(let X=0;X<ge;X++){const Fe=Math.max(ae,0);let Ce=lae.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Ce||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Ce=ne.unit.subarray()),m.splice(K,0,{unit:Ce,pts:Fe}),ae+=u,K++}}ne.pts=ae,ae+=u}}let S=null,k=null,P,x=0,C=m.length;for(;C--;)x+=m[C].unit.byteLength;for(let Y=0,K=m.length;Y<K;Y++){const ae=m[Y],ne=ae.unit;let ce=ae.pts;if(k!==null){const ye=f[Y-1];ye.duration=Math.round((ce-k)/l)}else if(i&&e.segmentCodec==="aac"&&(ce=y),S=ce,x>0){x+=v;try{P=new Uint8Array(x)}catch(ye){this.observer.emit(T.ERROR,T.ERROR,{type:Ve.MUX_ERROR,details:j.REMUX_ALLOC_ERROR,fatal:!1,error:ye,bytes:x,reason:`fail allocating audio mdat ${x}`});return}d||(new DataView(P.buffer).setUint32(0,x),P.set(U.types.mdat,4))}else return;P.set(ne,v);const ke=ne.byteLength;v+=ke,f.push(ow(!0,c,ke,0)),k=ce}const E=f.length;if(!E)return;const A=f[f.length-1];this.nextAudioPts=y=k+l*A.duration;const I=d?new Uint8Array(0):U.moof(e.sequenceNumber++,S/l,Ut({},e,{samples:f}));e.samples=[];const D=S/o,R=y/o,se={data1:I,data2:P,startPTS:D,endPTS:R,startDTS:D,endDTS:R,type:"audio",hasAudio:!0,hasVideo:!1,nb:E};return this.isAudioContiguous=!0,se}}function dn(r,e){let t;if(e===null)return r;for(e<r?t=-8589934592:t=8589934592;Math.abs(r-e)>4294967296;)r+=t;return r}function gae(r){for(let e=0;e<r.length;e++)if(r[e].key)return e;return-1}function gI(r,e,t,i){const n=r.samples.length;if(!n)return;const s=r.inputTimeScale;for(let a=0;a<n;a++){const l=r.samples[a];l.pts=dn(l.pts-t.baseTime*s/t.timescale,e*s)/s,l.dts=dn(l.dts-i.baseTime*s/i.timescale,e*s)/s}const o=r.samples;return r.samples=[],{samples:o}}function mI(r,e,t){const i=r.samples.length;if(!i)return;const n=r.inputTimeScale;for(let o=0;o<i;o++){const a=r.samples[o];a.pts=dn(a.pts-t.baseTime*n/t.timescale,e*n)/n}r.samples.sort((o,a)=>o.pts-a.pts);const s=r.samples;return r.samples=[],{samples:s}}class mae{constructor(e,t,i,n){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.logger=n}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,i,n){this.audioCodec=t,this.videoCodec=i,this.generateInitSegment(nse(e,n)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const n=this.initData=Tk(e);n.audio&&(t=aw(n.audio,Ht.AUDIO)),n.video&&(i=aw(n.video,Ht.VIDEO));const s={};n.audio&&n.video?s.audiovideo={container:"video/mp4",codec:t+","+i,supplemental:n.video.supplemental,initSegment:e,id:"main"}:n.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?s.video={container:"video/mp4",codec:i,supplemental:n.video.supplemental,initSegment:e,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,t,i,n,s,o){var a,l;let{initPTS:c,lastEndTime:u}=this;const h={audio:void 0,video:void 0,text:n,id3:i,initSegment:void 0};Ae(u)||(u=this.lastEndTime=s||0);const d=t.samples;if(!(d!=null&&d.length))return h;const f={initPTS:void 0,timescale:1};let g=this.initData;if((a=g)!=null&&a.length||(this.generateInitSegment(d),g=this.initData),!((l=g)!=null&&l.length))return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);const m=ose(d,g),v=sse(g,d),y=v===null?s:v;(o||!c)&&(vae(c,y,s,m)||f.timescale!==c.timescale)&&(f.initPTS=y-s,c&&c.timescale===1&&this.logger.warn(`Adjusting initPTS @${s} from ${c.baseTime/c.timescale} to ${f.initPTS}`),this.initPTS=c={baseTime:f.initPTS,timescale:1});const _=e?y-c.baseTime/c.timescale:u,w=_+m;lse(g,d,c.baseTime/c.timescale),m>0?this.lastEndTime=w:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const S=!!g.audio,k=!!g.video;let P="";S&&(P+="audio"),k&&(P+="video");const x={data1:d,startPTS:_,startDTS:_,endPTS:w,endDTS:w,type:P,hasAudio:S,hasVideo:k,nb:1,dropped:0};return h.audio=x.type==="audio"?x:void 0,h.video=x.type!=="audio"?x:void 0,h.initSegment=f,h.id3=gI(i,s,c,c),n.samples.length&&(h.text=mI(n,s,c)),h}}function vae(r,e,t,i){if(r===null)return!0;const n=Math.max(i,1),s=e-r.baseTime/r.timescale;return Math.abs(s-t)>n}function aw(r,e){const t=r==null?void 0:r.codec;return t&&t.length>4?t:e===Ht.AUDIO?t==="ec-3"||t==="ac-3"||t==="alac"?t:t==="fLaC"||t==="Opus"?Lg(t,!1):(_t.warn(`Unhandled audio codec "${t}" in mp4 MAP`),t||"mp4a"):(_t.warn(`Unhandled video codec "${t}" in mp4 MAP`),t||"avc1")}let Fs;try{Fs=self.performance.now.bind(self.performance)}catch{Fs=Date.now}const rp=[{demux:nae,remux:mae},{demux:Io,remux:ip},{demux:eae,remux:ip},{demux:iae,remux:ip}];rp.splice(2,0,{demux:tae,remux:ip});class lw{constructor(e,t,i,n,s,o){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=i,this.id=s,this.logger=o}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,i,n){const s=i.transmuxing;s.executeStart=Fs();let o=new Uint8Array(e);const{currentTransmuxState:a,transmuxConfig:l}=this;n&&(this.currentTransmuxState=n);const{contiguous:c,discontinuity:u,trackSwitch:h,accurateTimeOffset:d,timeOffset:f,initSegmentChange:g}=n||a,{audioCodec:m,videoCodec:v,defaultInitPts:y,duration:_,initSegmentData:w}=l,S=yae(o,t);if(S&&xc(S.method)){const C=this.getDecrypter(),E=Bb(S.method);if(C.isSync()){let A=C.softwareDecrypt(o,S.key.buffer,S.iv.buffer,E);if(i.part>-1){const D=C.flush();A=D&&D.buffer}if(!A)return s.executeEnd=Fs(),bv(i);o=new Uint8Array(A)}else return this.asyncResult=!0,this.decryptionPromise=C.webCryptoDecrypt(o,S.key.buffer,S.iv.buffer,E).then(A=>{const I=this.push(A,null,i);return this.decryptionPromise=null,I}),this.decryptionPromise}const k=this.needsProbing(u,h);if(k){const C=this.configureTransmuxer(o);if(C)return this.logger.warn(`[transmuxer] ${C.message}`),this.observer.emit(T.ERROR,T.ERROR,{type:Ve.MEDIA_ERROR,details:j.FRAG_PARSING_ERROR,fatal:!1,error:C,reason:C.message}),s.executeEnd=Fs(),bv(i)}(u||h||g||k)&&this.resetInitSegment(w,m,v,_,t),(u||g||k)&&this.resetInitialTimestamp(y),c||this.resetContiguity();const P=this.transmux(o,S,f,d,i);this.asyncResult=Jd(P);const x=this.currentTransmuxState;return x.contiguous=!0,x.discontinuity=!1,x.trackSwitch=!1,s.executeEnd=Fs(),P}flush(e){const t=e.transmuxing;t.executeStart=Fs();const{decrypter:i,currentTransmuxState:n,decryptionPromise:s}=this;if(s)return this.asyncResult=!0,s.then(()=>this.flush(e));const o=[],{timeOffset:a}=n;if(i){const h=i.flush();h&&o.push(this.push(h.buffer,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c){t.executeEnd=Fs();const h=[bv(e)];return this.asyncResult?Promise.resolve(h):h}const u=l.flush(a);return Jd(u)?(this.asyncResult=!0,u.then(h=>(this.flushRemux(o,h,e),o))):(this.flushRemux(o,u,e),this.asyncResult?Promise.resolve(o):o)}flushRemux(e,t,i){const{audioTrack:n,videoTrack:s,id3Track:o,textTrack:a}=t,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${i.sn}${i.part>-1?" part: "+i.part:""} of ${this.id===De.MAIN?"level":"track"} ${i.level}`);const u=this.remuxer.remux(n,s,o,a,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:i}),i.transmuxing.executeEnd=Fs()}resetInitialTimestamp(e){const{demuxer:t,remuxer:i}=this;!t||!i||(t.resetTimeStamp(e),i.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,i,n,s){const{demuxer:o,remuxer:a}=this;!o||!a||(o.resetInitSegment(e,t,i,n),a.resetInitSegment(e,t,i,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,i,n,s){let o;return t&&t.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,t,i,n,s):o=this.transmuxUnencrypted(e,i,n,s),o}transmuxUnencrypted(e,t,i,n){const{audioTrack:s,videoTrack:o,id3Track:a,textTrack:l}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,o,a,l,t,i,!1,this.id),chunkMeta:n}}transmuxSampleAes(e,t,i,n,s){return this.demuxer.demuxSampleAes(e,t,i).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,i,n,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:t,observer:i,typeSupported:n}=this;let s;for(let h=0,d=rp.length;h<d;h++){var o;if((o=rp[h].demux)!=null&&o.probe(e,this.logger)){s=rp[h];break}}if(!s)return new Error("Failed to find demuxer by probing fragment data");const a=this.demuxer,l=this.remuxer,c=s.remux,u=s.demux;(!l||!(l instanceof c))&&(this.remuxer=new c(i,t,n,this.logger)),(!a||!(a instanceof u))&&(this.demuxer=new u(i,t,n,this.logger),this.probe=u.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Vb(this.config)),e}}function yae(r,e){let t=null;return r.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const bv=r=>({remuxResult:{},chunkMeta:r});function Jd(r){return"then"in r&&r.then instanceof Function}class bae{constructor(e,t,i,n,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=i,this.duration=n,this.defaultInitPts=s||null}}class _ae{constructor(e,t,i,n,s,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=i,this.trackSwitch=n,this.timeOffset=s,this.initSegmentChange=o}}let cw=0;class vI{constructor(e,t,i,n){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=cw++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=l=>{const c=l.data,u=this.hls;if(!(!u||!(c!=null&&c.event)||c.instanceNo!==this.instanceNo))switch(c.event){case"init":{var h;const d=(h=this.workerContext)==null?void 0:h.objectURL;d&&self.URL.revokeObjectURL(d);break}case"transmuxComplete":{this.handleTransmuxComplete(c.data);break}case"flush":{this.onFlush(c.data);break}case"workerLog":{u.logger[c.data.logType]&&u.logger[c.data.logType](c.data.message);break}default:{c.data=c.data||{},c.data.frag=this.frag,c.data.part=this.part,c.data.id=this.id,u.trigger(c.event,c.data);break}}},this.onWorkerError=l=>{if(!this.hls)return;const c=new Error(`${l.message}  (${l.filename}:${l.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:c})};const s=e.config;this.hls=e,this.id=t,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=i,this.onFlush=n;const o=(l,c)=>{c=c||{},c.frag=this.frag||void 0,l===T.ERROR&&(c=c,c.parent=this.id,c.part=this.part,this.error=c.error),this.hls.trigger(l,c)};this.observer=new Ub,this.observer.on(T.FRAG_DECRYPTED,o),this.observer.on(T.ERROR,o);const a=T_(s.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const l=this.hls.logger;if(s.workerPath||xoe()){try{s.workerPath?(l.log(`loading Web Worker ${s.workerPath} for "${t}"`),this.workerContext=Toe(s.workerPath)):(l.log(`injecting Web Worker for "${t}"`),this.workerContext=Eoe());const{worker:u}=this.workerContext;u.addEventListener("message",this.onWorkerMessage),u.addEventListener("error",this.onWorkerError),u.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:a,id:t,config:ei(s)})}catch(u){l.warn(`Error setting up "${t}" Web Worker, fallback to inline`,u),this.terminateWorker(),this.error=null,this.transmuxer=new lw(this.observer,a,s,"",t,e.logger)}return}}this.transmuxer=new lw(this.observer,a,s,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=cw++;const t=this.hls.config,i=T_(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:i,id:this.id,config:ei(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),Loe(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,i,n,s,o,a,l,c,u){var h,d;c.transmuxing.start=self.performance.now();const{instanceNo:f,transmuxer:g}=this,m=o?o.start:s.start,v=s.decryptdata,y=this.frag,_=!(y&&s.cc===y.cc),w=!(y&&c.level===y.level),S=y?c.sn-y.sn:-1,k=this.part?c.part-this.part.index:-1,P=S===0&&c.id>1&&c.id===(y==null?void 0:y.stats.chunkCount),x=!w&&(S===1||S===0&&(k===1||P&&k<=0)),C=self.performance.now();(w||S||s.stats.parsing.start===0)&&(s.stats.parsing.start=C),o&&(k||!x)&&(o.stats.parsing.start=C);const E=!(y&&((h=s.initSegment)==null?void 0:h.url)===((d=y.initSegment)==null?void 0:d.url)),A=new _ae(_,x,l,w,m,E);if(!x||_||E){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${s.type} sn: ${c.sn}${c.part>-1?" part: "+c.part:""} ${this.id===De.MAIN?"level":"track"}: ${c.level} id: ${c.id}
        discontinuity: ${_}
        trackSwitch: ${w}
        contiguous: ${x}
        accurateTimeOffset: ${l}
        timeOffset: ${m}
        initSegmentChange: ${E}`);const I=new bae(i,n,t,a,u);this.configureTransmuxer(I)}if(this.frag=s,this.part=o,this.workerContext)this.workerContext.worker.postMessage({instanceNo:f,cmd:"demux",data:e,decryptdata:v,chunkMeta:c,state:A},e instanceof ArrayBuffer?[e]:[]);else if(g){const I=g.push(e,v,c,A);Jd(I)?I.then(D=>{this.handleTransmuxComplete(D)}).catch(D=>{this.transmuxerError(D,c,"transmuxer-interface push error")}):this.handleTransmuxComplete(I)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:i}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(i){const n=i.flush(e);Jd(n)?n.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")}):this.handleFlushResult(n,e)}}transmuxerError(e,t,i){this.hls&&(this.error=e,this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:i}))}handleFlushResult(e,t){e.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:i}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):i&&i.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const uw=100;class wae extends Hb{constructor(e,t,i){super(e,t,i,"audio-stream-controller",De.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(T.LEVEL_LOADED,this.onLevelLoaded,this),e.on(T.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(T.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(T.BUFFER_RESET,this.onBufferReset,this),e.on(T.BUFFER_CREATED,this.onBufferCreated,this),e.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(T.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(T.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(T.FRAG_LOADING,this.onFragLoading,this),e.on(T.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(T.LEVEL_LOADED,this.onLevelLoaded,this),e.off(T.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(T.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(T.BUFFER_RESET,this.onBufferReset,this),e.off(T.BUFFER_CREATED,this.onBufferCreated,this),e.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(T.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(T.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(T.FRAG_LOADING,this.onFragLoading,this),e.off(T.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:t,id:i,initPTS:n,timescale:s}){if(i===De.MAIN){const o=t.cc,a=this.fragCurrent;if(this.initPTS[o]={baseTime:n,timescale:s},this.log(`InitPTS for cc: ${o} found from main: ${n}/${s}`),this.mainAnchor=t,this.state===oe.WAITING_INIT_PTS){const l=this.waitingData;(!l&&!this.loadingParts||l&&l.frag.cc!==o)&&(this.nextLoadPosition=this.findSyncFrag(t).start),this.tick()}else!this.hls.hasEnoughToStart&&a&&a.cc!==o?(this.startFragRequested=!1,this.nextLoadPosition=this.findSyncFrag(t).start,a.abortRequests(),this.resetLoadingState()):this.state===oe.IDLE&&this.tick()}}findSyncFrag(e){const t=this.getLevelDetails(),i=e.cc;return Vse(t,i,e)||t&&$k(t.fragments,i)||e}startLoad(e,t){if(!this.levels){this.startPosition=e,this.state=oe.STOPPED;return}const i=this.lastCurrentTime;this.stopLoad(),this.setInterval(uw),i>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),e=i,this.state=oe.IDLE):this.state=oe.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case oe.IDLE:this.doTickIdle();break;case oe.WAITING_TRACK:{const{levels:t,trackId:i}=this,n=t==null?void 0:t[i],s=n==null?void 0:n.details;if(s&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(s))break;this.state=oe.WAITING_INIT_PTS}break}case oe.FRAG_LOADING_WAITING_RETRY:{var e;const t=performance.now(),i=this.retryDate;if(!i||t>=i||(e=this.media)!=null&&e.seeking){const{levels:n,trackId:s}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((n==null?void 0:n[s])||null),this.state=oe.IDLE}break}case oe.WAITING_INIT_PTS:{const t=this.waitingData;if(t){const{frag:i,part:n,cache:s,complete:o}=t,a=this.mainAnchor;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.state=oe.FRAG_LOADING;const l=s.flush().buffer,c={frag:i,part:n,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),o&&super._handleFragmentLoadComplete(c)}else a&&a.cc!==t.frag.cc&&(this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${a.cc}`),this.nextLoadPosition=this.findSyncFrag(a).start,this.clearWaitingFragment())}else this.state=oe.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.state!==oe.STOPPED&&(this.state=oe.IDLE))}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:i,media:n,trackId:s}=this,o=t.config;if(!this.buffering||!n&&!this.primaryPrefetch&&(this.startFragRequested||!o.startFragPrefetch)||!(i!=null&&i[s]))return;const a=i[s],l=a.details;if(!l||this.waitForLive(a)||this.waitForCdnTuneIn(l)){this.state=oe.WAITING_TRACK,this.startFragRequested=!1;return}const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,Ht.AUDIO,De.AUDIO));const u=this.getFwdBufferInfo(c,De.AUDIO);if(u===null)return;if(!this.switchingTrack&&this._streamEnded(u,l)){t.trigger(T.BUFFER_EOS,{type:"audio"}),this.state=oe.ENDED;return}const h=u.len,d=t.maxBufferLength,f=l.fragments,g=f[0].start,m=this.getLoadPosition(),v=this.flushing?m:u.end;if(this.switchingTrack&&n){const w=m;l.PTSKnown&&w<g&&(u.end>g||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=g+.05)}if(h>=d&&!this.switchingTrack&&v<f[f.length-1].start)return;let y=this.getNextFragment(v,l);if(y&&this.isLoopLoading(y,v)&&(y=this.getNextFragmentLoopLoading(y,l,u,De.MAIN,d)),!y){this.bufferFlushed=!0;return}let _=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&_&&Oi(y)&&!y.endList&&(!l.live||!this.loadingParts&&v<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(_)===Si.OK&&(this.mainFragLoading=_=null),_&&Oi(_))){if(y.start>_.end){const S=this.fragmentTracker.getFragAtPos(v,De.MAIN);S&&S.end>_.end&&(_=S,this.mainFragLoading={frag:S,targetBufferTime:null})}if(y.start>_.end)return}this.loadFragment(y,a,v)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(i=>new Kd(i))}onAudioTrackSwitching(e,t){const i=!!t.url;this.trackId=t.id;const{fragCurrent:n}=this;n&&(n.abortRequests(),this.removeUnbufferedFrags(n.start)),this.resetLoadingState(),i?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==oe.STOPPED&&(this.setInterval(uw),this.state=oe.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const i=this.cachedTrackLoadedData;i&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(T.AUDIO_TRACK_LOADED,i))}onAudioTrackLoaded(e,t){var i;const{levels:n}=this,{details:s,id:o,groupId:a,track:l}=t;if(!n){this.warn(`Audio tracks reset while loading track ${o} "${l.name}" of "${a}"`);return}const c=this.mainDetails;if(!c||s.endCC>c.endCC||c.expired){this.cachedTrackLoadedData=t,this.state!==oe.STOPPED&&(this.state=oe.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${o} "${l.name}" of "${a}" loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const u=n[o];let h=0;if(s.live||(i=u.details)!=null&&i.live){if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;if(u.details){var d;h=this.alignPlaylists(s,u.details,(d=this.levelLastLoaded)==null?void 0:d.details)}s.alignedSliding||(Yk(s,c),s.alignedSliding||Pg(s,c),h=s.fragmentStart)}u.details=s,this.levelLastLoaded=u,this.startFragRequested||this.setStartPosition(c,h),this.hls.trigger(T.AUDIO_TRACK_UPDATED,{details:s,id:o,groupId:t.groupId}),this.state===oe.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=oe.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const i=e.frag,{part:n,payload:s}=e,{config:o,trackId:a,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const c=l[a];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(i.start);return}const h=o.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new vI(this.hls,De.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const f=this.initPTS[i.cc],g=(t=i.initSegment)==null?void 0:t.data;if(f!==void 0){const v=n?n.index:-1,y=v!==-1,_=new Fb(i.level,i.sn,i.stats.chunkCount,s.byteLength,v,y);d.push(s,g,h,"",i,n,u.totalduration,!1,_,f)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${u.startSN} ,${u.endSN}],track ${a}`);const{cache:m}=this.waitingData=this.waitingData||{frag:i,part:n,cache:new Xk,complete:!1};m.push(new Uint8Array(s)),this.state!==oe.STOPPED&&(this.state=oe.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const i=t.tracks.audio;i&&(this.mediaBuffer=i.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===De.MAIN&&Oi(t.frag)&&(this.mainFragLoading=t,this.state===oe.IDLE&&this.tick())}onFragBuffered(e,t){const{frag:i,part:n}=t;if(i.type!==De.AUDIO){!this.audioOnly&&i.type===De.MAIN&&!i.elementaryStreams.video&&!i.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${n?" p: "+n.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(Oi(i)){this.fragPrevious=i;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(T.AUDIO_TRACK_SWITCHED,Ot({},s)))}this.fragBufferedComplete(i,n),this.media&&this.tick()}onError(e,t){var i;if(t.fatal){this.state=oe.ERROR;return}switch(t.details){case j.FRAG_GAP:case j.FRAG_PARSING_ERROR:case j.FRAG_DECRYPT_ERROR:case j.FRAG_LOAD_ERROR:case j.FRAG_LOAD_TIMEOUT:case j.KEY_LOAD_ERROR:case j.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(De.AUDIO,t);break;case j.AUDIO_TRACK_LOAD_ERROR:case j.AUDIO_TRACK_LOAD_TIMEOUT:case j.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===oe.WAITING_TRACK&&((i=t.context)==null?void 0:i.type)===dt.AUDIO_TRACK&&(this.state=oe.IDLE);break;case j.BUFFER_ADD_CODEC_ERROR:case j.BUFFER_APPEND_ERROR:if(t.parent!=="audio")return;this.resetLoadingState();break;case j.BUFFER_FULL_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case j.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==Ht.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Ht.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===oe.ENDED&&(this.state=oe.IDLE);const i=this.mediaBuffer||this.media;i&&(this.afterBufferFlushed(i,t,De.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const i="audio",{hls:n}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:u}=a,{details:h}=u,{audio:d,text:f,id3:g,initSegment:m}=s;if(this.fragContextChanged(l)||!h){this.fragmentTracker.removeFragment(l);return}if(this.state=oe.PARSING,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks){const v=l.initSegment||l;this._bufferInitSegment(u,m.tracks,v,o),n.trigger(T.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:i,tracks:m.tracks})}if(d){const{startPTS:v,endPTS:y,startDTS:_,endDTS:w}=d;c&&(c.elementaryStreams[Ht.AUDIO]={startPTS:v,endPTS:y,startDTS:_,endDTS:w}),l.setElementaryStreamInfo(Ht.AUDIO,v,y,_,w),this.bufferFragmentData(d,l,c,o)}if(g!=null&&(t=g.samples)!=null&&t.length){const v=Ut({id:i,frag:l,details:h},g);n.trigger(T.FRAG_PARSING_METADATA,v)}if(f){const v=Ut({id:i,frag:l,details:h},f);n.trigger(T.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,t,i,n){if(this.state!==oe.PARSING||(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio))return;const s=t.audio;s.id=De.AUDIO;const o=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${o}/${s.codec}]`),o&&o.split(",").length===1&&(s.levelCodec=o),this.hls.trigger(T.BUFFER_CODECS,t);const a=s.initSegment;if(a!=null&&a.byteLength){const l={type:"audio",frag:i,part:null,chunkMeta:n,parent:i.type,data:a};this.hls.trigger(T.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,t,i){const n=this.fragmentTracker.getState(e);if(this.switchingTrack||n===Si.NOT_LOADED||n===Si.PARTIAL){var s;if(!Oi(e))this._loadInitSegment(e,t);else if((s=t.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=oe.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragmentStart!==t.details.fragmentStart&&Pg(t.details,o)}else super.loadFragment(e,t,i)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:i,assocLang:n,characteristics:s,audioCodec:o,channels:a}=this.bufferedTrack;sl({name:t,lang:i,assocLang:n,characteristics:s,audioCodec:o,channels:a},e,Ha)||(Ag(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(T.AUDIO_TRACK_SWITCHED,Ot({},e))}}class qb extends po{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,i){const n=t==null?void 0:t.renditionReports;if(n){let s=-1;for(let o=0;o<n.length;o++){const a=n[o];let l;try{l=new self.URL(a.URI,t.url).href}catch(c){this.warn(`Could not construct new URL for Rendition Report: ${c}`),l=a.URI||""}if(l===e){s=o;break}else l===e.substring(0,l.length)&&(s=o)}if(s!==-1){const o=n[s],a=parseInt(o["LAST-MSN"])||(t==null?void 0:t.lastPartSn);let l=parseInt(o["LAST-PART"])||(t==null?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(t.age-t.partTarget,t.targetduration);l>=0&&u>t.partTarget&&(l+=1)}const c=i&&S_(i);return new A_(a,l>=0?l:void 0,c)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(i){this.warn(`Could not construct new URL with HLS Delivery Directives: ${i}`)}return e}playlistLoaded(e,t,i){const{details:n,stats:s}=t,o=self.performance.now(),a=s.loading.first?Math.max(0,o-s.loading.first):0;n.advancedDateTime=Date.now()-a;const l=this.hls.config.timelineOffset;if(l!==n.appliedTimelineOffset){const u=Math.max(l||0,0);n.appliedTimelineOffset=u,n.fragments.forEach(h=>{h.start=h.playlistOffset+u})}if(n.live||i!=null&&i.live){const u="levelInfo"in t?t.levelInfo:t.track;if(n.reloaded(i),i&&n.fragments.length>0){foe(i,n);const _=n.playlistParsingError;if(_){this.warn(_);const w=this.hls;if(!w.config.ignorePlaylistParsingErrors){var c;const{networkDetails:S}=t;w.trigger(T.ERROR,{type:Ve.NETWORK_ERROR,details:j.LEVEL_PARSING_ERROR,fatal:!1,url:n.url,error:_,reason:_.message,level:t.level||void 0,parent:(c=n.fragments[0])==null?void 0:c.type,networkDetails:S,stats:s});return}n.playlistParsingError=null}}n.requestScheduled===-1&&(n.requestScheduled=s.loading.start);const h=this.hls.mainForwardBufferInfo,d=h?h.end-h.len:0,f=(n.edge-d)*1e3,g=Gk(n,f);if(n.requestScheduled+g<o?n.requestScheduled=o:n.requestScheduled+=g,this.log(`live playlist ${e} ${n.advanced?"REFRESHED "+n.lastPartSn+"-"+n.lastPartIndex:n.updated?"UPDATED":"MISSED"}`),!this.canLoad||!n.live)return;let m,v,y;if(n.canBlockReload&&n.endSN&&n.advanced){const _=this.hls.config.lowLatencyMode,w=n.lastPartSn,S=n.endSN,k=n.lastPartIndex,P=k!==-1,x=w===S;P?x?(v=S+1,y=_?0:k):(v=w,y=_?k+1:n.maxPartIndex):v=S+1;const C=n.age,E=C+n.ageHeader;let A=Math.min(E-n.partTarget,n.targetduration*1.5);if(A>0){if(E>n.targetduration*3)this.log(`Playlist last advanced ${C.toFixed(2)}s ago. Omitting segment and part directives.`),v=void 0,y=void 0;else if(i!=null&&i.tuneInGoal&&E-n.partTarget>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${A} with playlist age: ${n.age}`),A=0;else{const I=Math.floor(A/n.targetduration);if(v+=I,y!==void 0){const D=Math.round(A%n.targetduration/n.partTarget);y+=D}this.log(`CDN Tune-in age: ${n.ageHeader}s last advanced ${C.toFixed(2)}s goal: ${A} skip sn ${I} to part ${y}`)}n.tuneInGoal=A}if(m=this.getDeliveryDirectives(n,t.deliveryDirectives,v,y),_||!x){n.requestScheduled=o,this.loadingPlaylist(u,m);return}}else(n.canBlockReload||n.canSkipUntil)&&(m=this.getDeliveryDirectives(n,t.deliveryDirectives,v,y));m&&v!==void 0&&n.canBlockReload&&(n.requestScheduled=s.loading.first+Math.max(g-a*2,g/2)),this.scheduleLoading(u,m,n)}else this.clearTimer()}scheduleLoading(e,t,i){const n=i||e.details;if(!n){this.loadingPlaylist(e,t);return}const s=self.performance.now(),o=n.requestScheduled;if(s>=o){this.loadingPlaylist(e,t);return}const a=o-s;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(a)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,t),a)}getDeliveryDirectives(e,t,i,n){let s=S_(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(i=t.msn,n=t.part,s=tp.No),new A_(i,n,s)}checkRetry(e){const t=e.details,i=kg(e),n=e.errorAction,{action:s,retryCount:o=0,retryConfig:a}=n||{},l=!!n&&!!a&&(s===tr.RetryRequest||!n.resolved&&s===tr.SendAlternateToPenaltyBox);if(l){var c;if(o>=a.maxNumRetry)return!1;if(i&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const u=$b(a,o);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${t}" in ${u}ms`)}e.levelRetry=!0,n.resolved=!0}return l}}function yI(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(!ef(r[t].attrs,e[t].attrs))return!1;return!0}function ef(r,e,t){const i=r["STABLE-RENDITION-ID"];return i&&!t?i===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(n=>r[n]!==e[n])}function xy(r,e){return e.label.toLowerCase()===r.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(r.lang||"").toLowerCase())}class Cae extends qb{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.MANIFEST_PARSED,this.onManifestParsed,this),e.on(T.LEVEL_LOADING,this.onLevelLoading,this),e.on(T.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(T.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(T.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.MANIFEST_PARSED,this.onManifestParsed,this),e.off(T.LEVEL_LOADING,this.onLevelLoading,this),e.off(T.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(T.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(T.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:i,groupId:n,details:s}=t,o=this.tracksInGroup[i];if(!o||o.groupId!==n){this.warn(`Audio track with id:${i} and group:${n} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=t.details,this.log(`Audio track ${i} "${o.name}" lang:${o.lang} group:${n} loaded [${s.startSN}-${s.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,a)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const i=t.audioGroups||null,n=this.groupIds;let s=this.currentTrack;if(!i||(n==null?void 0:n.length)!==(i==null?void 0:i.length)||i!=null&&i.some(a=>(n==null?void 0:n.indexOf(a))===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(d=>!i||i.indexOf(d.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(d=>d.default)&&(this.selectDefaultTrack=!1),a.forEach((d,f)=>{d.id=f});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const l=this.hls.config.audioPreference;if(!s&&l){const d=as(l,a,Ha);if(d>-1)s=a[d];else{const f=as(l,this.tracks);s=this.tracks[f]}}let c=this.findTrackId(s);c===-1&&s&&(c=this.findTrackId(null));const u={audioTracks:a};this.log(`Updating audio tracks, ${a.length} track(s) found in group(s): ${i==null?void 0:i.join(",")}`),this.hls.trigger(T.AUDIO_TRACKS_UPDATED,u);const h=this.trackId;if(c!==-1&&h===-1)this.setAudioTrack(c);else if(a.length&&h===-1){var o;const d=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${a.length}`);this.warn(d.message),this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:d})}}}onError(e,t){t.fatal||!t.context||t.context.type===dt.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const i=this.allAudioTracks;if(this.selectDefaultTrack=!1,i.length){const n=this.currentTrack;if(n&&sl(e,n,Ha))return n;const s=as(e,this.tracksInGroup,Ha);if(s>-1){const o=this.tracksInGroup[s];return this.setAudioTrack(s),o}else if(n){let o=t.loadLevel;o===-1&&(o=t.firstAutoLevel);const a=Pse(e,t.levels,i,o,Ha);if(a===-1)return null;t.nextLoadLevel=a}if(e.channels||e.audioCodec){const o=as(e,i);if(o>-1)return i[o]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const i=this.currentTrack,n=t[e],s=n.details&&!n.details.live;if(e===this.trackId&&n===i&&s||(this.log(`Switching to audio-track ${e} "${n.name}" lang:${n.lang} group:${n.groupId} channels:${n.channels}`),this.trackId=e,this.currentTrack=n,this.hls.trigger(T.AUDIO_TRACK_SWITCHING,Ot({},n)),s))return;const o=this.switchParams(n.url,i==null?void 0:i.details,n.details);this.loadPlaylist(o)}findTrackId(e){const t=this.tracksInGroup;for(let i=0;i<t.length;i++){const n=t[i];if(!(this.selectDefaultTrack&&!n.default)&&(!e||sl(e,n,Ha)))return i}if(e){const{name:i,lang:n,assocLang:s,characteristics:o,audioCodec:a,channels:l}=e;for(let c=0;c<t.length;c++){const u=t[c];if(sl({name:i,lang:n,assocLang:s,characteristics:o,audioCodec:a,channels:l},u,Ha))return c}for(let c=0;c<t.length;c++){const u=t[c];if(ef(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<t.length;c++){const u=t[c];if(ef(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&Ag(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const i=e.id,n=e.groupId,s=this.getUrlWithDirectives(e.url,t),o=e.details,a=o==null?void 0:o.age;this.log(`Loading audio-track ${i} "${e.name}" lang:${e.lang} group:${n}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${a&&o.live?" age "+a.toFixed(1)+(o.type&&" "+o.type||""):""} ${s}`),this.hls.trigger(T.AUDIO_TRACK_LOADING,{url:s,id:i,groupId:n,deliveryDirectives:t||null,track:e})}}class xae{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,i){if(this.queues===null||this.tracks===null)return;const n=this.queues[t];n.push(e),n.length===1&&!i&&this.executeNext(t)}appendBlocker(e){return new Promise(t=>{const i={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(i,e)})}prependBlocker(e){return new Promise(t=>{if(this.queues){const i={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(i)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var t;const i=(t=e[0])==null?void 0:t.label;(i==="async-blocker"||i==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const t=this.queues[e];if(t.length){const n=t[0];try{n.execute()}catch(s){var i;if(n.onError(s),this.queues===null||this.tracks===null)return;const o=(i=this.tracks[e])==null?void 0:i.buffer;o!=null&&o.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return((t=this.queues)==null?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return e===null||t===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var t,i;return(t=this.queues)!=null&&t[e]||(i=this.tracks)!=null&&i[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var t;const i=(t=this.tracks)==null?void 0:t[e],n=i==null?void 0:i.buffer;return n?`SourceBuffer${n.updating?" updating":""}${i.ended?" ended":""}${i.ending?" ending":""}`:"none"}listOps(e){var t;return((t=this.queues)==null?void 0:t[e].map(i=>i.label).join(", "))||""}}const hw=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,bI="HlsJsTrackRemovedError";class Eae extends Error{constructor(e){super(e),this.name=bI}}class Tae extends po{constructor(e,t){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=i=>{var n;this.hls&&((n=this.mediaSource)==null?void 0:n.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=i=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=i=>{const{media:n,mediaSource:s}=this;i&&this.log("Media source opened"),!(!n||!s)&&(s.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(T.MEDIA_ATTACHED,{media:n,mediaSource:s}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:i,_objectUrl:n}=this;i!==n&&this.error(`Media element src was set while attaching MediaSource (${n} > ${i})`)},this.hls=e,this.fragmentTracker=t,this.appendSource=qne(pa(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.MANIFEST_PARSED,this.onManifestParsed,this),e.on(T.BUFFER_RESET,this.onBufferReset,this),e.on(T.BUFFER_APPENDING,this.onBufferAppending,this),e.on(T.BUFFER_CODECS,this.onBufferCodecs,this),e.on(T.BUFFER_EOS,this.onBufferEos,this),e.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(T.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(T.FRAG_PARSED,this.onFragParsed,this),e.on(T.FRAG_CHANGED,this.onFragChanged,this),e.on(T.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.MANIFEST_PARSED,this.onManifestParsed,this),e.off(T.BUFFER_RESET,this.onBufferReset,this),e.off(T.BUFFER_APPENDING,this.onBufferAppending,this),e.off(T.BUFFER_CODECS,this.onBufferCodecs,this),e.off(T.BUFFER_EOS,this.onBufferEos,this),e.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(T.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(T.FRAG_PARSED,this.onFragParsed,this),e.off(T.FRAG_CHANGED,this.onFragChanged,this),e.off(T.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const i={};if(this.operationQueue){const s=this.isUpdating();s||this.operationQueue.removeBlockers();const o=this.isQueued();(s||o)&&this.warn(`Transfering MediaSource with${o?" operations in queue":""}${s?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const n=this.transferData;return!this.sourceBufferCount&&n&&n.mediaSource===t?Ut(i,n.tracks):this.sourceBuffers.forEach(s=>{const[o]=s;o&&(i[o]=Ut({},this.tracks[o]),this.removeBuffer(o)),s[0]=s[1]=null}),{media:e,mediaSource:t,tracks:i}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var i;let n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsTotal=n,this.log(`${n} bufferCodec event(s) expected.`),(i=this.transferData)!=null&&i.mediaSource&&this.sourceBufferCount&&n&&this.bufferCreated()}onMediaAttaching(e,t){const i=this.media=t.media,n=pa(this.appendSource);if(this.transferData=this.overrides=void 0,i&&n){const s=!!t.mediaSource;(s||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const o=this.mediaSource=t.mediaSource||new n;if(this.assignMediaSource(o),s)this._objectUrl=i.src,this.attachTransferred();else{const a=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{i.removeAttribute("src");const l=self.ManagedMediaSource;i.disableRemotePlayback=i.disableRemotePlayback||l&&o instanceof l,dw(i),Lae(i,a),i.load()}catch{i.src=a}else i.src=a}i.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,i;this.log(`${((t=this.transferData)==null?void 0:t.mediaSource)===e?"transferred":"created"} media source: ${(i=e.constructor)==null?void 0:i.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const i=this.tracks,n=t.tracks,s=n?Object.keys(n):null,o=s?s.length:0,a=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(n&&s&&o){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${ei(i,(l,c)=>l==="initSegment"?void 0:c)};
transfer tracks: ${ei(n,(l,c)=>l==="initSegment"?void 0:c)}}`),!bk(n,i)){t.mediaSource=null,t.tracks=void 0;const l=e.currentTime,c=this.details,u=Math.max(l,(c==null?void 0:c.fragments[0].start)||0);if(u-l>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${l} -> ${u}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(n)}"->"${Object.keys(i)}") start time: ${u} currentTime: ${l}`),this.onMediaDetaching(T.MEDIA_DETACHING,{}),this.onMediaAttaching(T.MEDIA_ATTACHING,t),e.currentTime=u;return}this.transferData=void 0,s.forEach(l=>{const c=l,u=n[c];if(u){const h=u.buffer;if(h){const d=this.fragmentTracker,f=u.id;if(d.hasFragments(f)||d.hasParts(f)){const v=ct.getBuffered(h);d.detectEvictedFragments(c,v,f,null,!0)}const g=_v(c),m=[c,h];this.sourceBuffers[g]=m,h.updating&&this.operationQueue&&this.operationQueue.prependBlocker(c),this.trackSourceBuffer(c,u)}}}),a(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),a()}get mediaSourceOpenOrEnded(){var e;const t=(e=this.mediaSource)==null?void 0:e.readyState;return t==="open"||t==="ended"}onMediaDetaching(e,t){const i=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:n,mediaSource:s,_objectUrl:o}=this;if(s){if(this.log(`media source ${i?"transferring":"detaching"}`),i)this.sourceBuffers.forEach(([a])=>{a&&this.removeBuffer(a)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const a=s.readyState==="open";try{const l=s.sourceBuffers;for(let c=l.length;c--;)a&&l[c].abort(),s.removeSourceBuffer(l[c]);a&&s.endOfStream()}catch(l){this.warn(`onMediaDetaching: ${l.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}s.removeEventListener("sourceopen",this._onMediaSourceOpen),s.removeEventListener("sourceended",this._onMediaSourceEnded),s.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(s.removeEventListener("startstreaming",this._onStartStreaming),s.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}n&&(n.removeEventListener("emptied",this._onMediaEmptied),i||(o&&self.URL.revokeObjectURL(o),this.mediaSrc===o?(n.removeAttribute("src"),this.appendSource&&dw(n),n.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(T.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var t;const i=(t=this.tracks[e])==null?void 0:t.buffer;if(this.removeBuffer(e),i)try{var n;(n=this.mediaSource)!=null&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(i)}catch(s){this.warn(`onBufferReset ${e}`,s)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[_v(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new xae(this.tracks)}onBufferCodecs(e,t){const i=this.tracks,n=Object.keys(t);this.log(`BUFFER_CODECS: "${n}" (current SB count ${this.sourceBufferCount})`);const s="audiovideo"in t&&(i.audio||i.video)||i.audiovideo&&("audio"in t||"video"in t),o=!s&&this.sourceBufferCount&&this.media&&n.some(a=>!i[a]);if(s||o){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${n}" SourceBuffers`);return}n.forEach(a=>{var l,c,u;const h=t[a],{id:d,codec:f,levelCodec:g,container:m,metadata:v,supplemental:y}=h;let _=i[a];const w=(l=this.transferData)==null||(c=l.tracks)==null?void 0:c[a],S=w!=null&&w.buffer?w:_,k=(S==null?void 0:S.pendingCodec)||(S==null?void 0:S.codec),P=S==null?void 0:S.levelCodec;_||(_=i[a]={buffer:void 0,listeners:[],codec:f,supplemental:y,container:m,levelCodec:g,metadata:v,id:d});const x=ep(k,P),C=x==null?void 0:x.replace(hw,"$1");let E=ep(f,g);const A=(u=E)==null?void 0:u.replace(hw,"$1");E&&x&&C!==A&&(a.slice(0,5)==="audio"&&(E=Lg(E,this.appendSource)),this.log(`switching codec ${k} to ${E}`),E!==(_.pendingCodec||_.codec)&&(_.pendingCodec=E),_.container=m,this.appendChangeType(a,m,E))}),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,t)=>{const i=this.tracks[t];return e[t]={id:i.id,container:i.container,codec:i.codec,levelCodec:i.levelCodec},e},{})}appendChangeType(e,t,i){const n=`${t};codecs=${i}`,s={label:`change-type=${n}`,execute:()=>{const o=this.tracks[e];if(o){const a=o.buffer;a!=null&&a.changeType&&(this.log(`changing ${e} sourceBuffer type to ${n}`),a.changeType(n),o.codec=i,o.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:o=>{this.warn(`Failed to change ${e} SourceBuffer type`,o)}};this.append(s,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const i=e.start,n=i+e.duration*.05;if(((t=this.fragmentTracker.getAppendedFrag(i,De.MAIN))==null?void 0:t.gap)===!0)return;const o={label:"block-audio",execute:()=>{var a;const l=this.tracks.video;(this.lastVideoAppendEnd>n||l!=null&&l.buffer&&ct.isBuffered(l.buffer,n)||((a=this.fragmentTracker.getAppendedFrag(n,De.MAIN))==null?void 0:a.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:a=>{this.warn("Error executing block-audio operation",a)}};this.blockedAudioAppend={op:o,frag:e},this.append(o,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:i}=this,{data:n,type:s,parent:o,frag:a,part:l,chunkMeta:c}=t,u=c.buffering[s],h=a.sn,d=self.performance.now();u.start=d;const f=a.stats.buffering,g=l?l.stats.buffering:null;f.start===0&&(f.start=d),g&&g.start===0&&(g.start=d);const m=i.audio;let v=!1;s==="audio"&&(m==null?void 0:m.container)==="audio/mpeg"&&(v=!this.lastMpegAudioChunk||c.id===1||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const y=this.tracks.video,_=y==null?void 0:y.buffer;if(_&&h!=="initSegment"){const k=l||a,P=this.blockedAudioAppend;if(s==="audio"&&o!=="main"&&!this.blockedAudioAppend){const C=k.start+k.duration*.05,E=_.buffered,A=this.currentOp("video");!E.length&&!A?this.blockAudio(k):!A&&!ct.isBuffered(_,C)&&this.lastVideoAppendEnd<C&&this.blockAudio(k)}else if(s==="video"){const x=k.end;if(P){const C=P.frag.start;(x>C||x<this.lastVideoAppendEnd||ct.isBuffered(_,C))&&this.unblockAudio()}this.lastVideoAppendEnd=x}}const w=(l||a).start,S={label:`append-${s}`,execute:()=>{if(u.executeStart=self.performance.now(),v){const k=this.tracks[s];if(k){const P=k.buffer;if(P){const x=w-P.timestampOffset;Math.abs(x)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${w} (delta: ${x}) sn: ${h})`),P.timestampOffset=w)}}}this.appendExecutor(n,s)},onStart:()=>{},onComplete:()=>{const k=self.performance.now();u.executeEnd=u.end=k,f.first===0&&(f.first=k),g&&g.first===0&&(g.first=k);const P={};this.sourceBuffers.forEach(([x,C])=>{x&&(P[x]=ct.getBuffered(C))}),this.appendErrors[s]=0,s==="audio"||s==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(T.BUFFER_APPENDED,{type:s,frag:a,part:l,chunkMeta:c,parent:a.type,timeRanges:P})},onError:k=>{var P;const x={type:Ve.MEDIA_ERROR,parent:a.type,details:j.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:a,part:l,chunkMeta:c,error:k,err:k,fatal:!1},C=(P=this.media)==null?void 0:P.error;if(k.code===DOMException.QUOTA_EXCEEDED_ERR)x.details=j.BUFFER_FULL_ERROR;else if(k.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!C)x.errorAction=qd(!0);else if(k.name===bI&&this.sourceBufferCount===0)x.errorAction=qd(!0);else{const E=++this.appendErrors[s];this.warn(`Failed ${E}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer (${C||"no media error"})`),(E>=this.hls.config.appendErrorMaxRetry||C)&&(x.fatal=!0)}this.hls.trigger(T.ERROR,x)}};this.append(S,s,this.isPending(this.tracks[s]))}getFlushOp(e,t,i){return this.log(`queuing "${e}" remove ${t}-${i}`),{label:"remove",execute:()=>{this.removeExecutor(e,t,i)},onStart:()=>{},onComplete:()=>{this.hls.trigger(T.BUFFER_FLUSHED,{type:e})},onError:n=>{this.warn(`Failed to remove ${t}-${i} from "${e}" SourceBuffer`,n)}}}onBufferFlushing(e,t){const{type:i,startOffset:n,endOffset:s}=t;i?this.append(this.getFlushOp(i,n,s),i):this.sourceBuffers.forEach(([o])=>{o&&this.append(this.getFlushOp(o,n,s),o)})}onFragParsed(e,t){const{frag:i,part:n}=t,s=[],o=n?n.elementaryStreams:i.elementaryStreams;o[Ht.AUDIOVIDEO]?s.push("audiovideo"):(o[Ht.AUDIO]&&s.push("audio"),o[Ht.VIDEO]&&s.push("video"));const a=()=>{const l=self.performance.now();i.stats.buffering.end=l,n&&(n.stats.buffering.end=l);const c=n?n.stats:i.stats;this.hls.trigger(T.FRAG_BUFFERED,{frag:i,part:n,stats:c,id:i.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(a,s).catch(l=>{this.warn(`Fragment buffered callback ${l}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{var t,i;return e&&(!((t=this.tracks[e])!=null&&t.ended)||((i=this.tracks[e])==null?void 0:i.ending))})}onBufferEos(e,t){var i;this.sourceBuffers.forEach(([o])=>{if(o){const a=this.tracks[o];(!t.type||t.type===o)&&(a.ending=!0,a.ended||(a.ended=!0,this.log(`${o} buffer reached EOS`)))}});const n=((i=this.overrides)==null?void 0:i.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([o])=>{var a;return o&&!((a=this.tracks[o])!=null&&a.ended)})&&(n?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:o}=this;if(!o||o.readyState!=="open"){o&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),o.endOfStream(),this.hls.trigger(T.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(T.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const t=this.tracks[e];t&&(t.ending=!1)}})}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.updateDuration())}updateDuration(){const e=this.getDurationAndRange();e&&this.blockUntilOpen(()=>this.updateMediaSource(e))}onError(e,t){if(t.details===j.BUFFER_APPEND_ERROR&&t.frag){var i;const n=(i=t.errorAction)==null?void 0:i.nextAutoLevel;Ae(n)&&n!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:i}=this;if(!i||t===null||!this.sourceBufferCount)return;const n=e.config,s=i.currentTime,o=t.levelTargetDuration,a=t.live&&n.liveBackBufferLength!==null?n.liveBackBufferLength:n.backBufferLength;if(Ae(a)&&a>=0){const l=Math.max(a,o),c=Math.floor(s/o)*o-l;this.flushBackBuffer(s,o,c)}if(Ae(n.frontBufferFlushThreshold)&&n.frontBufferFlushThreshold>0){const l=Math.max(n.maxBufferLength,n.frontBufferFlushThreshold),c=Math.max(l,o),u=Math.floor(s/o)*o+c;this.flushFrontBuffer(s,o,u)}}flushBackBuffer(e,t,i){this.sourceBuffers.forEach(([n,s])=>{if(s){const a=ct.getBuffered(s);if(a.length>0&&i>a.start(0)){var o;this.hls.trigger(T.BACK_BUFFER_REACHED,{bufferEnd:i});const l=this.tracks[n];if((o=this.details)!=null&&o.live)this.hls.trigger(T.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i});else if(l!=null&&l.ended){this.log(`Cannot flush ${n} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(T.BUFFER_FLUSHING,{startOffset:0,endOffset:i,type:n})}}})}flushFrontBuffer(e,t,i){this.sourceBuffers.forEach(([n,s])=>{if(s){const o=ct.getBuffered(s),a=o.length;if(a<2)return;const l=o.start(a-1),c=o.end(a-1);if(i>l||e>=l&&e<=c)return;this.hls.trigger(T.BUFFER_FLUSHING,{startOffset:l,endOffset:1/0,type:n})}})}getDurationAndRange(){var e;const{details:t,mediaSource:i}=this;if(!t||!this.media||(i==null?void 0:i.readyState)!=="open")return null;const n=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&t.live&&i.setLiveSeekableRange){const c=Math.max(0,t.fragmentStart),u=Math.max(c,n);return{duration:1/0,start:c,end:u}}return{duration:1/0}}const s=(e=this.overrides)==null?void 0:e.duration;if(s)return Ae(s)?{duration:s}:null;const o=this.media.duration,a=Ae(i.duration)?i.duration:0;return n>a&&n>o||!Ae(o)?{duration:n}:null}updateMediaSource({duration:e,start:t,end:i}){const n=this.mediaSource;!this.media||!n||n.readyState!=="open"||(n.duration!==e&&(Ae(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),n.duration=e),t!==void 0&&i!==void 0&&(this.log(`MediaSource duration is set to ${n.duration}. Setting seekable range to ${t}-${i}.`),n.setLiveSeekableRange(t,i)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:i}=this;if(this.log(`checkPendingTracks (pending: ${t} codec events expected: ${e}) ${ei(i)}`),this.tracksReady){var n;const s=(n=this.transferData)==null?void 0:n.tracks;s&&Object.keys(s).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([t,i])=>{if(t){const n=this.tracks[t];e[t]={buffer:i,container:n.container,codec:n.codec,supplemental:n.supplemental,levelCodec:n.levelCodec,id:n.id,metadata:n.metadata}}}),this.hls.trigger(T.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([t])=>{this.executeNext(t)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:i}=this;if(!i)throw new Error("createSourceBuffers called when mediaSource was null");for(const s in e){const o=s,a=e[o];if(this.isPending(a)){const l=this.getTrackCodec(a,o),c=`${a.container};codecs=${l}`;a.codec=l,this.log(`creating sourceBuffer(${c})${this.currentOp(o)?" Queued":""} ${ei(a)}`);try{const u=i.addSourceBuffer(c),h=_v(o),d=[o,u];t[h]=d,a.buffer=u}catch(u){var n;this.error(`error while trying to add sourceBuffer: ${u.message}`),this.shiftAndExecuteNext(o),(n=this.operationQueue)==null||n.removeBlockers(),delete this.tracks[o],this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:u,sourceBufferName:o,mimeType:c,parent:a.id});return}this.trackSourceBuffer(o,a)}}this.bufferCreated()}getTrackCodec(e,t){const i=e.supplemental;let n=e.codec;i&&(t==="video"||t==="audiovideo")&&gy(i,"video")&&(n=yse(n,i));const s=ep(n,e.levelCodec);return s?t.slice(0,5)==="audio"?Lg(s,this.appendSource):s:""}trackSourceBuffer(e,t){const i=t.buffer;if(!i)return;const n=this.getTrackCodec(t,e);this.tracks[e]={buffer:i,codec:n,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(s,o)=>{const a=o.removedRanges;a!=null&&a.length&&this.hls.trigger(T.BUFFER_FLUSHED,{type:s})})}get mediaSrc(){var e,t;const i=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return i==null?void 0:i.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const i=this.currentOp(e);i&&(i.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var i;const n=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(i=this.mediaSource)==null?void 0:i.readyState}`);this.error(`${n}`,t),this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:n,fatal:!1});const s=this.currentOp(e);s&&s.onError(n)}removeExecutor(e,t,i){const{media:n,mediaSource:s}=this,o=this.tracks[e],a=o==null?void 0:o.buffer;if(!n||!s||!a){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const l=Ae(n.duration)?n.duration:1/0,c=Ae(s.duration)?s.duration:1/0,u=Math.max(0,t),h=Math.min(i,l,c);h>u&&(!o.ending||o.ended)?(o.ended=!1,this.log(`Removing [${u},${h}] from the ${e} SourceBuffer`),a.remove(u,h)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const i=this.tracks[t],n=i==null?void 0:i.buffer;if(!n)throw new Eae(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);i.ending=!1,i.ended=!1,n.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some(([e,t])=>e&&t.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,t=this.sourceBufferTypes){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:i}=this,n=t.map(o=>this.appendBlocker(o));return t.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(n).then(o=>{i===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(t=>{var i;const n=(i=this.tracks[t])==null?void 0:i.buffer;!n||n.updating||this.shiftAndExecuteNext(t)})}append(e,t,i){this.operationQueue&&this.operationQueue.append(e,t,i)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,t)=>e+(this.isPending(this.tracks[t])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[t])=>e+(t?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,t,i){const n=this.tracks[e];if(!n)return;const s=n.buffer;if(!s)return;const o=i.bind(this,e);n.listeners.push({event:t,listener:o}),s.addEventListener(t,o)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const i=t.buffer;i&&(t.listeners.forEach(n=>{i.removeEventListener(n.event,n.listener)}),t.listeners.length=0)}}function dw(r){const e=r.querySelectorAll("source");[].slice.call(e).forEach(t=>{r.removeChild(t)})}function Lae(r,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,r.appendChild(t)}function _v(r){return r==="audio"?1:0}class Yb{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(T.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(T.MANIFEST_PARSED,this.onManifestParsed,this),e.on(T.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(T.BUFFER_CODECS,this.onBufferCodecs,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(T.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(T.MANIFEST_PARSED,this.onManifestParsed,this),e.off(T.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(T.BUFFER_CODECS,this.onBufferCodecs,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const i=this.hls.levels[t.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const i=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,i.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&Ae(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,i=this.getMaxLevel(e.length-1);i!==this.autoLevelCapping&&t.logger.log(`Setting autoLevelCapping to ${i}: ${e[i].height}p@${e[i].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=i,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const i=t.filter((n,s)=>this.isLevelAllowed(n)&&s<=e);return this.clientRect=null,Yb.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const i=e.getBoundingClientRect();t.width=i.width,t.height=i.height,!t.width&&!t.height&&(t.width=i.right-i.left||e.width||0,t.height=i.bottom-i.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(i=>e.bitrate===i.bitrate&&e.width===i.width&&e.height===i.height)}static getMaxLevelByMediaSize(e,t,i){if(!(e!=null&&e.length))return-1;const n=(a,l)=>l?a.width!==l.width||a.height!==l.height:!0;let s=e.length-1;const o=Math.max(t,i);for(let a=0;a<e.length;a+=1){const l=e[a];if((l.width>=o||l.height>=o)&&n(l,e[a+1])){s=a;break}}return s}}const Sae={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",TIMED_TEXT:"tt"},Tr=Sae,Aae={HLS:"h"},kae=Aae,Iae="CMCD-Object",Mae="CMCD-Request",Pae="CMCD-Session",Rae="CMCD-Status",_h={OBJECT:Iae,REQUEST:Mae,SESSION:Pae,STATUS:Rae},Dae={[_h.OBJECT]:["br","d","ot","tb"],[_h.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[_h.SESSION]:["cid","pr","sf","sid","st","v"],[_h.STATUS]:["bs","rtp"]};class hu{constructor(e,t){Array.isArray(e)&&(e=e.map(i=>i instanceof hu?i:new hu(i))),this.value=e,this.params=t}}const Oae="Dict";function $ae(r){return Array.isArray(r)?JSON.stringify(r):r instanceof Map?"Map{}":r instanceof Set?"Set{}":typeof r=="object"?JSON.stringify(r):String(r)}function Vae(r,e,t,i){return new Error(`failed to ${r} "${$ae(e)}" as ${t}`,{cause:i})}function Es(r,e,t){return Vae("serialize",r,e,t)}class _I{constructor(e){this.description=e}}const fw="Bare Item",Fae="Boolean";function Bae(r){if(typeof r!="boolean")throw Es(r,Fae);return r?"?1":"?0"}const Nae="Byte Sequence";function Hae(r){if(ArrayBuffer.isView(r)===!1)throw Es(r,Nae);return`:${$oe(r)}:`}const Uae="Integer";function zae(r){return r<-999999999999999||999999999999999<r}function wI(r){if(zae(r))throw Es(r,Uae);return r.toString()}function jae(r){return`@${wI(r.getTime()/1e3)}`}const Gae="Decimal";function Zae(r){const e=nI(r,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Es(r,Gae);const t=e.toString();return t.includes(".")?t:`${t}.0`}const Wae="String",Kae=/[\x00-\x1f\x7f]+/;function qae(r){if(Kae.test(r))throw Es(r,Wae);return`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function Yae(r){return r.description||r.toString().slice(7,-1)}const Xae="Token";function pw(r){const e=Yae(r);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Es(e,Xae);return e}function Ey(r){switch(typeof r){case"number":if(!Ae(r))throw Es(r,fw);return Number.isInteger(r)?wI(r):Zae(r);case"string":return qae(r);case"symbol":return pw(r);case"boolean":return Bae(r);case"object":if(r instanceof Date)return jae(r);if(r instanceof Uint8Array)return Hae(r);if(r instanceof _I)return pw(r);default:throw Es(r,fw)}}const Qae="Key";function Ty(r){if(/^[a-z*][a-z0-9\-_.*]*$/.test(r)===!1)throw Es(r,Qae);return r}function Xb(r){return r==null?"":Object.entries(r).map(([e,t])=>t===!0?`;${Ty(e)}`:`;${Ty(e)}=${Ey(t)}`).join("")}function CI(r){return r instanceof hu?`${Ey(r.value)}${Xb(r.params)}`:Ey(r)}function Jae(r){return`(${r.value.map(CI).join(" ")})${Xb(r.params)}`}function ele(r,e={whitespace:!0}){if(typeof r!="object")throw Es(r,Oae);const t=r instanceof Map?r.entries():Object.entries(r),i=e!=null&&e.whitespace?" ":"";return Array.from(t).map(([n,s])=>{s instanceof hu||(s=new hu(s));let o=Ty(n);return s.value===!0?o+=Xb(s.params):(o+="=",Array.isArray(s.value)?o+=Jae(s):o+=CI(s)),o}).join(`,${i}`)}function tle(r,e){return ele(r,e)}function ile(r){return r==="ot"||r==="sf"||r==="st"}function rle(r){return typeof r=="number"?Ae(r):r!=null&&r!==""&&r!==!1}const np=r=>Math.round(r),nle=(r,e)=>(e!=null&&e.baseUrl&&(r=Voe(r,e.baseUrl)),encodeURIComponent(r)),T1=r=>np(r/100)*100,sle={br:np,d:np,bl:T1,dl:T1,mtp:T1,nor:nle,rtp:T1,tb:np};function ole(r,e){const t={};if(r==null||typeof r!="object")return t;const i=Object.keys(r).sort(),n=Ut({},sle,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return i.forEach(o=>{if(s!=null&&s(o))return;let a=r[o];const l=n[o];l&&(a=l(a,e)),!(o==="v"&&a===1)&&(o=="pr"&&a===1||rle(a)&&(ile(o)&&typeof a=="string"&&(a=new _I(a)),t[o]=a))}),t}function xI(r,e={}){return r?tle(ole(r,e),Ut({whitespace:!1},e)):""}function ale(r,e={}){const t={};if(!r)return t;const i=Object.entries(r),n=Object.entries(Dae).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),s=i.reduce((o,a)=>{var l,c;const[u,h]=a,d=((l=n.find(f=>f[1].includes(u)))===null||l===void 0?void 0:l[0])||_h.REQUEST;return(c=o[d])!==null&&c!==void 0||(o[d]={}),o[d][u]=h,o},{});return Object.entries(s).reduce((o,[a,l])=>(o[a]=xI(l,e),o),t)}function lle(r,e,t){return Ut(r,ale(e,t))}const cle="CMCD";function ule(r,e={}){if(!r)return"";const t=xI(r,e);return`${cle}=${encodeURIComponent(t)}`}const gw=/CMCD=[^&#]+/;function hle(r,e,t){const i=ule(e,t);if(!i)return r;if(gw.test(r))return r.replace(gw,i);const n=r.includes("?")?"&":"?";return`${r}${n}${i}`}class dle{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=n=>{try{this.apply(n,{ot:Tr.MANIFEST,su:!this.initialized})}catch(s){this.hls.logger.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=n=>{try{const{frag:s,part:o}=n,a=this.hls.levels[s.level],l=this.getObjectType(s),c={d:(o||s).duration*1e3,ot:l};(l===Tr.VIDEO||l===Tr.AUDIO||l==Tr.MUXED)&&(c.br=a.bitrate/1e3,c.tb=this.getTopBandwidth(l)/1e3,c.bl=this.getBufferLength(l));const u=o?this.getNextPart(o):this.getNextFrag(s);u!=null&&u.url&&u.url!==s.url&&(c.nor=u.url),this.apply(n,c)}catch(s){this.hls.logger.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const t=this.config=e.config,{cmcd:i}=t;i!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||e.sessionId,this.cid=i.contentId,this.useHeaders=i.useHeaders===!0,this.includeKeys=i.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(T.MEDIA_DETACHED,this.onMediaDetached,this),e.on(T.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(T.MEDIA_DETACHED,this.onMediaDetached,this),e.off(T.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var i,n;this.audioBuffer=(i=t.tracks.audio)==null?void 0:i.buffer,this.videoBuffer=(n=t.tracks.video)==null?void 0:n.buffer}createData(){var e;return{v:1,sf:kae.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){Ut(t,this.createData());const i=t.ot===Tr.INIT||t.ot===Tr.VIDEO||t.ot===Tr.MUXED;this.starved&&i&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:n}=this;n&&(t=Object.keys(t).reduce((o,a)=>(n.includes(a)&&(o[a]=t[a]),o),{}));const s={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),lle(e.headers,t,s)):e.url=hle(e.url,t,s)}getNextFrag(e){var t;const i=(t=this.hls.levels[e.level])==null?void 0:t.details;if(i){const n=e.sn-i.startSN;return i.fragments[n+1]}}getNextPart(e){var t,i;const{index:n,fragment:s}=e,o=(t=this.hls.levels[s.level])==null||(i=t.details)==null?void 0:i.partList;if(o){const{sn:a}=s;for(let l=o.length-1;l>=0;l--){const c=o[l];if(c.index===n&&c.fragment.sn===a)return o[l+1]}}}getObjectType(e){const{type:t}=e;if(t==="subtitle")return Tr.TIMED_TEXT;if(e.sn==="initSegment")return Tr.INIT;if(t==="audio")return Tr.AUDIO;if(t==="main")return this.hls.audioTracks.length?Tr.VIDEO:Tr.MUXED}getTopBandwidth(e){let t=0,i;const n=this.hls;if(e===Tr.AUDIO)i=n.audioTracks;else{const s=n.maxAutoLevel,o=s>-1?s+1:n.levels.length;i=n.levels.slice(0,o)}for(const s of i)s.bitrate>t&&(t=s.bitrate);return t>0?t:NaN}getBufferLength(e){const t=this.media,i=e===Tr.AUDIO?this.audioBuffer:this.videoBuffer;return!i||!t?NaN:ct.bufferInfo(i,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,i=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new i(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){t(s),this.loader.load(s,o,a)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,i=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new i(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,a){t(s),this.loader.load(s,o,a)}}}}const fle=3e5;class ple extends po{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(T.MANIFEST_PARSED,this.onManifestParsed,this),e.on(T.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(T.MANIFEST_PARSED,this.onManifestParsed,this),e.off(T.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,t)=>(e.indexOf(t.pathwayId)===-1&&e.push(t.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(i=>i!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:i}=t;i!==null&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:i}=t;if((i==null?void 0:i.action)===tr.SendAlternateToPenaltyBox&&i.flags===Sn.MoveAllAlternatesMatchingHost){const n=this.levels;let s=this._pathwayPriority,o=this.pathwayId;if(t.context){const{groupId:a,pathwayId:l,type:c}=t.context;a&&n?o=this.getPathwayForGroupId(a,c,o):l&&(o=l)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!s&&n&&(s=this.pathways()),s&&s.length>1&&(this.updatePathwayPriority(s),i.resolved=this.pathwayId!==o),i.resolved||this.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${o} levels: ${n&&n.length} priorities: ${ei(s)} penalized: ${ei(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const i=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),t=this.getLevelsForPathway(i),this.pathwayId=i}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let t;const i=this.penalizedPathways,n=performance.now();Object.keys(i).forEach(s=>{n-i[s]>fle&&delete i[s]});for(let s=0;s<e.length;s++){const o=e[s];if(o in i)continue;if(o===this.pathwayId)return;const a=this.hls.nextLoadLevel,l=this.hls.levels[a];if(t=this.getLevelsForPathway(o),t.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,Kk(t),this.hls.trigger(T.LEVELS_UPDATED,{levels:t});const c=this.hls.levels[a];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=a);break}}}getPathwayForGroupId(e,t,i){const n=this.getLevelsForPathway(i).concat(this.levels||[]);for(let s=0;s<n.length;s++)if(t===dt.AUDIO_TRACK&&n[s].hasAudioGroup(e)||t===dt.SUBTITLE_TRACK&&n[s].hasSubtitleGroup(e))return n[s].pathwayId;return i}clonePathways(e){const t=this.levels;if(!t)return;const i={},n={};e.forEach(s=>{const{ID:o,"BASE-ID":a,"URI-REPLACEMENT":l}=s;if(t.some(u=>u.pathwayId===o))return;const c=this.getLevelsForPathway(a).map(u=>{const h=new si(u.attrs);h["PATHWAY-ID"]=o;const d=h.AUDIO&&`${h.AUDIO}_clone_${o}`,f=h.SUBTITLES&&`${h.SUBTITLES}_clone_${o}`;d&&(i[h.AUDIO]=d,h.AUDIO=d),f&&(n[h.SUBTITLES]=f,h.SUBTITLES=f);const g=EI(u.uri,h["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),m=new Kd({attrs:h,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:g,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let v=1;v<u.audioGroups.length;v++)m.addGroupId("audio",`${u.audioGroups[v]}_clone_${o}`);if(u.subtitleGroups)for(let v=1;v<u.subtitleGroups.length;v++)m.addGroupId("text",`${u.subtitleGroups[v]}_clone_${o}`);return m});t.push(...c),mw(this.audioTracks,i,l,o),mw(this.subtitleTracks,n,l,o)})}loadSteeringManifest(e){const t=this.hls.config,i=t.loader;this.loader&&this.loader.destroy(),this.loader=new i(t);let n;try{n=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(n.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;n.searchParams.set("_HLS_pathway",this.pathwayId),n.searchParams.set("_HLS_throughput",""+u)}const s={responseType:"json",url:n.href},o=t.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},l={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(u,h,d,f)=>{this.log(`Loaded steering manifest: "${n}"`);const g=u.data;if((g==null?void 0:g.VERSION)!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":m,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":y}=g;if(m)try{this.uri=new self.URL(m,n).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||d.url),v&&this.clonePathways(v);const _={steeringManifest:g,url:n.toString()};this.hls.trigger(T.STEERING_MANIFEST_LOADED,_),y&&this.updatePathwayPriority(y)},onError:(u,h,d,f)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${h.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${h.url} no longer available`);return}let g=this.timeToLoad*1e3;if(u.code===429){const m=this.loader;if(typeof(m==null?void 0:m.getResponseHeader)=="function"){const v=m.getResponseHeader("Retry-After");v&&(g=parseFloat(v)*1e3)}this.log(`Steering manifest ${h.url} rate limited`);return}this.scheduleRefresh(this.uri||h.url,g)},onTimeout:(u,h,d)=>{this.log(`Timeout loading steering manifest (${h.url})`),this.scheduleRefresh(this.uri||h.url)}};this.log(`Requesting steering manifest: ${n}`),this.loader.load(s,l,c)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var i;const n=(i=this.hls)==null?void 0:i.media;if(n&&!n.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function mw(r,e,t,i){r&&Object.keys(e).forEach(n=>{const s=r.filter(o=>o.groupId===n).map(o=>{const a=Ut({},o);return a.details=void 0,a.attrs=new si(a.attrs),a.url=a.attrs.URI=EI(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),a.groupId=a.attrs["GROUP-ID"]=e[n],a.attrs["PATHWAY-ID"]=i,a});r.push(...s)})}function EI(r,e,t,i){const{HOST:n,PARAMS:s,[t]:o}=i;let a;e&&(a=o==null?void 0:o[e],a&&(r=a));const l=new self.URL(r);return n&&!a&&(l.host=n),s&&Object.keys(s).sort().forEach(c=>{c&&l.searchParams.set(c,s[c])}),l.href}class Ec extends po{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Ec.CDMCleanupPromise?[Ec.CDMCleanupPromise]:[],this.onMediaEncrypted=t=>{const{initDataType:i,initData:n}=t,s=`"${t.type}" event: init data type: "${i}"`;if(this.debug(s),n!==null){if(!this.keyFormatPromise){let o=Object.keys(this.keySystemAccessPromises);o.length||(o=w1(this.config));const a=o.map(dv).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(a)}this.keyFormatPromise.then(o=>{const a=uv(o);let l,c;if(i==="sinf"){if(a!==Vt.FAIRPLAY){this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${i}" for selected key-system ${a}`);return}const g=Ti(new Uint8Array(n));try{const m=Nb(JSON.parse(g).sinf),v=Lk(m);if(!v)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=new Uint8Array(v.subarray(8,24)),c=Vt.FAIRPLAY}catch(m){this.warn(`${s} Failed to parse sinf: ${m}`);return}}else{if(a!==Vt.WIDEVINE&&a!==Vt.PLAYREADY){this.warn(`Ignoring unexpected "${t.type}" event with init data type: "${i}" for selected key-system ${a}`);return}const g=pse(n),m=g.filter(y=>!!y.systemId&&hv(y.systemId)===a);m.length>1&&this.warn(`${s} Using first of ${m.length} pssh found for selected key-system ${a}`);const v=m[0];if(!v){g.length===0||g.some(y=>!y.systemId)?this.warn(`${s} contains incomplete or invalid pssh data`):this.log(`ignoring ${s} for ${g.map(y=>hv(y.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(c=hv(v.systemId),v.version===0&&v.data)if(c===Vt.WIDEVINE){const y=v.data.length-22;l=new Uint8Array(v.data.subarray(y,y+16))}else c===Vt.PLAYREADY&&(l=Hk(v.data))}if(!c||!l)return;const u=ts.hexDump(l),{keyIdToKeySessionPromise:h,mediaKeySessions:d}=this;let f=h[u];for(let g=0;g<d.length;g++){const m=d[g],v=m.decryptdata;if(!v.keyId)continue;const y=ts.hexDump(v.keyId);if(u===y||v.uri.replace(/-/g,"").indexOf(u)!==-1){if(f=h[y],v.pssh)break;delete h[y],v.pssh=new Uint8Array(n),v.keyId=l,f=h[u]=f.then(()=>this.generateRequestWithPreferredKeySession(m,i,n,"encrypted-event-key-match")),f.catch(_=>this.handleError(_));break}}if(!f){if(c!==a){this.log(`Ignoring "${t.type}" event with ${c} init data for selected key-system ${a}`);return}f=h[u]=this.getKeySystemSelectionPromise([c]).then(({keySystem:g,mediaKeys:m})=>{var v;this.throwIfDestroyed();const y=new Yd("ISO-23001-7",u,(v=dv(g))!=null?v:"");return y.pssh=new Uint8Array(n),y.keyId=l,this.attemptSetMediaKeys(g,m).then(()=>{this.throwIfDestroyed();const _=this.createMediaKeySessionContext({decryptdata:y,keySystem:g,mediaKeys:m});return this.generateRequestWithPreferredKeySession(_,i,n,"encrypted-event-no-match")})}),f.catch(g=>this.handleError(g))}})}},this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){const e=this.media;this.unregisterListeners(),this.onMediaDetached(),this._clear(e);const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(T.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(T.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(T.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(T.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(T.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(T.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:i}=this.config,n=t[e];if(n)return n.licenseUrl;if(e===Vt.WIDEVINE&&i)return i}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,i=t[e];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,i=(o,a,l)=>!!o&&l.indexOf(o)===a,n=t.map(o=>o.audioCodec).filter(i),s=t.map(o=>o.videoCodec).filter(i);return n.length+s.length===0&&s.push("avc1.42e01e"),new Promise((o,a)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,n,s).then(h=>o({keySystem:u,mediaKeys:h})).catch(h=>{c.length?l(c):h instanceof un?a(h):a(new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_NO_ACCESS,error:h,fatal:!0},h.message))})};l(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:i}=this.config;if(typeof i!="function"){let n=`Configured requestMediaKeySystemAccess is not a function ${i}`;return Nk===null&&self.location.protocol==="http:"&&(n=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(n))}return i(e,t)}getMediaKeysPromise(e,t,i){const n=soe(e,t,i,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let o=s==null?void 0:s.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${ei(n)}`),o=this.requestMediaKeySystemAccess(e,n);const a=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),o.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),a.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(h=>h?this.setMediaKeysServerCertificate(u,e,h):u))),a.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),a.mediaKeys})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:i}){this.log(`Creating key-system session "${t}" keyId: ${ts.hexDump(e.keyId||[])}`);const n=i.createSession(),s={decryptdata:e,keySystem:t,mediaKeys:i,mediaKeysSession:n,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const i=this.createMediaKeySessionContext(e),n=this.getKeyIdString(t),s="cenc";this.keyIdToKeySessionPromise[n]=this.generateRequestWithPreferredKeySession(i,s,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return ts.hexDump(e.keyId)}updateKeySession(e,t){var i;const n=e.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyID ${ts.hexDump(((i=e.decryptdata)==null?void 0:i.keyId)||[])}
      } (data length: ${t&&t.byteLength})`),n.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((t,i)=>{const n=w1(this.config),s=e.map(uv).filter(o=>!!o&&n.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:o})=>{const a=dv(o);a?t(a):i(new Error(`Unable to find format for key-system "${o}"`))}).catch(i)})}loadKey(e){const t=e.keyInfo.decryptdata,i=this.getKeyIdString(t),n=`(keyId: ${i} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${n}`);let s=this.keyIdToKeySessionPromise[i];return s||(s=this.getKeySystemForKeyPromise(t).then(({keySystem:a,mediaKeys:l})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${n}`),this.attemptSetMediaKeys(a,l).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:a,mediaKeys:l,decryptdata:t}))))),(this.keyIdToKeySessionPromise[i]=s.then(a=>{const l="cenc",c=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(a,l,c,"playlist-key")})).catch(a=>this.handleError(a))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof un?this.hls.trigger(T.ERROR,e.data):this.hls.trigger(T.ERROR,{type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),i=this.keyIdToKeySessionPromise[t];if(!i){const n=uv(e.keyFormat),s=n?[n]:w1(this.config);return this.attemptKeySystemAccess(s)}return i}getKeySystemSelectionPromise(e){if(e.length||(e=w1(this.config)),e.length===0)throw new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${ei({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){const i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const n=Promise.all(i).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)});return this.setMediaKeysQueue.push(n),n.then(()=>{this.log(`Media-keys set for "${e}"`),i.push(n),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>i.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,t,i,n){var s,o;const a=(s=this.config.drmSystems)==null||(o=s[e.keySystem])==null?void 0:o.generateRequest;if(a)try{const g=a.call(this.hls,t,i,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");t=g.initDataType,i=g.initData?g.initData:null,e.decryptdata.pssh=i?new Uint8Array(i):null}catch(g){var l;if(this.warn(g.message),(l=this.hls)!=null&&l.config.debug)throw g}if(i===null)return this.log(`Skipping key-session request for "${n}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${n}": ${c} (init data type: ${t} length: ${i?i.byteLength:null})`);const u=new Ub,h=e._onmessage=g=>{const m=e.mediaKeysSession;if(!m){u.emit("error",new Error("invalid state"));return}const{messageType:v,message:y}=g;this.log(`"${v}" message event for session "${m.sessionId}" message size: ${y.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,y).catch(_=>{u.eventNames().length?u.emit("error",_):this.handleError(_)}):v==="license-release"?e.keySystem===Vt.FAIRPLAY&&(this.updateKeySession(e,yy("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},d=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;u.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",h),e.mediaKeysSession.addEventListener("keystatuseschange",d);const f=new Promise((g,m)=>{u.on("error",m),u.on("keyStatus",v=>{v.startsWith("usable")?g():v==="output-restricted"?m(new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?m(new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?m(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(t,i).then(()=>{var g;this.log(`Request generated for key-session "${(g=e.mediaKeysSession)==null?void 0:g.sessionId}" keyId: ${c}`)}).catch(g=>{throw new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_NO_SESSION,error:g,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>f).catch(g=>{throw u.removeAllListeners(),this.removeSession(e),g}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((t,i)=>{if(typeof i=="string"&&typeof t=="object"){const n=i;i=t,t=n}this.log(`key status change "${t}" for keyStatuses keyId: ${ts.hexDump("buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))} session keyId: ${ts.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t})}fetchServerCertificate(e){const t=this.config,i=t.loader,n=new i(t),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,a)=>{const l={responseType:"arraybuffer",url:s},c=t.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(d,f,g,m)=>{o(d.data)},onError:(d,f,g,m)=>{a(new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:Ot({url:l.url,data:void 0},d)},`"${e}" certificate request failed (${s}). Status: ${d.code} (${d.text})`))},onTimeout:(d,f,g)=>{a(new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(d,f,g)=>{a(new Error("aborted"))}};n.load(l,u,h)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,i){return new Promise((n,s)=>{e.setServerCertificate(i).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${i==null?void 0:i.byteLength}) on "${t}"`),n(e)}).catch(o=>{s(new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(i=>this.updateKeySession(e,new Uint8Array(i)).catch(n=>{throw new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:n,fatal:!0},n.message)}))}unpackPlayReadyKeyMessage(e,t){const i=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!i.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const n=new DOMParser().parseFromString(i,"application/xml"),s=n.querySelectorAll("HttpHeader");if(s.length>0){let u;for(let h=0,d=s.length;h<d;h++){var o,a;u=s[h];const f=(o=u.querySelector("name"))==null?void 0:o.textContent,g=(a=u.querySelector("value"))==null?void 0:a.textContent;f&&g&&e.setRequestHeader(f,g)}}const l=n.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return yy(atob(c))}setupLicenseXHR(e,t,i,n){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!i.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,t,i,n)}).catch(o=>{if(!i.decryptdata)throw o;return e.open("POST",t,!0),s.call(this.hls,e,t,i,n)}).then(o=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:o||n})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:n}))}requestLicense(e,t){const i=this.config.keyLoadPolicy.default;return new Promise((n,s)=>{const o=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(a.readyState===4)if(a.status===200){this._requestLicenseFailureCount=0;let l=a.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,a,o,e)}catch(u){this.error(u)}n(l)}else{const l=i.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||a.status>=400&&a.status<500)s(new un({type:Ve.KEY_SYSTEM_ERROR,details:j.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,t).then(n,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=a,this.setupLicenseXHR(a,o,e,t).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==Vt.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const i=t.media;this.media=i,i.removeEventListener("encrypted",this.onMediaEncrypted),i.removeEventListener("waitingforkey",this.onWaitingForKey),i.addEventListener("encrypted",this.onMediaEncrypted),i.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null)}_clear(e){var t;const i=this.mediaKeySessions;this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Yd.clearKeyUriToKeyIdMap();const n=i.length;Ec.CDMCleanupPromise=Promise.all(i.map(s=>this.removeSession(s)).concat(e==null||(t=e.setMediaKeys(null))==null?void 0:t.catch(s=>{var o;this.log(`Could not clear media keys: ${s}`),(o=this.hls)==null||o.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${s}`)})}))).then(()=>{n&&(this.log("finished closing key sessions and clearing media keys"),i.length=0)}).catch(s=>{var o;this.log(`Could not close sessions and clear media keys: ${s}`),(o=this.hls)==null||o.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${s}`)})})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const i=t.reduce((n,s)=>(n.indexOf(s.keyFormat)===-1&&n.push(s.keyFormat),n),[]);this.log(`Selecting key-system from session-keys ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:i}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const n=this.mediaKeySessions.indexOf(e);n>-1&&this.mediaKeySessions.splice(n,1);const{drmSystemOptions:s}=this.config;return(aoe(s)?new Promise((a,l)=>{self.setTimeout(()=>l(new Error("MediaKeySession.remove() timeout")),8e3),t.remove().then(a)}):Promise.resolve()).catch(a=>{var l;this.log(`Could not remove session: ${a}`),(l=this.hls)==null||l.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${a}`)})}).then(()=>t.close()).catch(a=>{var l;this.log(`Could not close session: ${a}`),(l=this.hls)==null||l.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${a}`)})})}}}Ec.CDMCleanupPromise=void 0;class un extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}class gle{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(T.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(T.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const i=this.hls.config;if(i.capLevelOnFPSDrop){const n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&typeof n.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,i){const n=performance.now();if(t){if(this.lastTime){const s=n-this.lastTime,o=i-this.lastDroppedFrames,a=t-this.lastDecodedFrames,l=1e3*o/s,c=this.hls;if(c.trigger(T.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:i}),l>0&&o>c.config.fpsDroppedMonitoringThreshold*a){let u=c.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(T.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function TI(r,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=r,e.dispatchEvent(t)}function LI(r,e){const t=r.mode;if(t==="disabled"&&(r.mode="hidden"),r.cues&&!r.cues.getCueById(e.id))try{if(r.addCue(e),!r.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(i){_t.debug(`[texttrack-utils]: ${i}`);try{const n=new self.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,r.addCue(n)}catch(n){_t.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${n}`)}}t==="disabled"&&(r.mode=t)}function uc(r,e){const t=r.mode;if(t==="disabled"&&(r.mode="hidden"),r.cues)for(let i=r.cues.length;i--;)e&&r.cues[i].removeEventListener("enter",e),r.removeCue(r.cues[i]);t==="disabled"&&(r.mode=t)}function Ly(r,e,t,i){const n=r.mode;if(n==="disabled"&&(r.mode="hidden"),r.cues&&r.cues.length>0){const s=vle(r.cues,e,t);for(let o=0;o<s.length;o++)(!i||i(s[o]))&&r.removeCue(s[o])}n==="disabled"&&(r.mode=n)}function mle(r,e){if(e<=r[0].startTime)return 0;const t=r.length-1;if(e>r[t].endTime)return-1;let i=0,n=t,s;for(;i<=n;)if(s=Math.floor((n+i)/2),e<r[s].startTime)n=s-1;else if(e>r[s].startTime&&i<t)i=s+1;else return s;return r[i].startTime-e<e-r[n].startTime?i:n}function vle(r,e,t){const i=[],n=mle(r,e);if(n>-1)for(let s=n,o=r.length;s<o;s++){const a=r[s];if(a.startTime>=e&&a.endTime<=t)i.push(a);else if(a.startTime>t)return i}return i}function sp(r){const e=[];for(let t=0;t<r.length;t++){const i=r[t];(i.kind==="subtitles"||i.kind==="captions")&&i.label&&e.push(r[t])}return e}class yle extends qb{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const i=sp(this.media.textTracks);for(let s=0;s<i.length;s++)if(i[s].mode==="hidden")t=i[s];else if(i[s].mode==="showing"){t=i[s];break}const n=this.findTrackForTextTrack(t);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.MANIFEST_PARSED,this.onManifestParsed,this),e.on(T.LEVEL_LOADING,this.onLevelLoading,this),e.on(T.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(T.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(T.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.MANIFEST_PARSED,this.onManifestParsed,this),e.off(T.LEVEL_LOADING,this.onLevelLoading,this),e.off(T.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(T.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(T.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const i=this.media;if(!i)return;const n=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||i.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,n)return;sp(i.textTracks).forEach(o=>{uc(o)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:i,groupId:n,details:s}=t,o=this.tracksInGroup[i];if(!o||o.groupId!==n){this.warn(`Subtitle track with id:${i} and group:${n} not found in active group ${o==null?void 0:o.groupId}`);return}const a=o.details;o.details=t.details,this.log(`Subtitle track ${i} "${o.name}" lang:${o.lang} group:${n} loaded [${s.startSN}-${s.endSN}]`),i===this.trackId&&this.playlistLoaded(i,t,a)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const i=t.subtitleGroups||null,n=this.groupIds;let s=this.currentTrack;if(!i||(n==null?void 0:n.length)!==(i==null?void 0:i.length)||i!=null&&i.some(o=>(n==null?void 0:n.indexOf(o))===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(u=>!i||i.indexOf(u.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(u=>u.default)&&(this.selectDefaultTrack=!1),o.forEach((u,h)=>{u.id=h});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const a=this.hls.config.subtitlePreference;if(!s&&a){this.selectDefaultTrack=!1;const u=as(a,o);if(u>-1)s=o[u];else{const h=as(a,this.tracks);s=this.tracks[h]}}let l=this.findTrackId(s);l===-1&&s&&(l=this.findTrackId(null));const c={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${i==null?void 0:i.join(",")}" group-id`),this.hls.trigger(T.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}}findTrackId(e){const t=this.tracksInGroup,i=this.selectDefaultTrack;for(let n=0;n<t.length;n++){const s=t[n];if(!(i&&!s.default||!i&&!e)&&(!e||sl(s,e)))return n}if(e){for(let n=0;n<t.length;n++){const s=t[n];if(ef(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<t.length;n++){const s=t[n];if(ef(e.attrs,s.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let i=0;i<t.length;i++){const n=t[i];if(xy(n,e))return i}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===dt.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const i=this.currentTrack;if(i&&sl(e,i))return i;const n=as(e,this.tracksInGroup);if(n>-1){const s=this.tracksInGroup[n];return this.setSubtitleTrack(n),s}else{if(i)return null;{const s=as(e,t);if(s>-1)return t[s]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const i=e.id,n=e.groupId,s=this.getUrlWithDirectives(e.url,t),o=e.details,a=o==null?void 0:o.age;this.log(`Loading subtitle ${i} "${e.name}" lang:${e.lang} group:${n}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${a&&o.live?" age "+a.toFixed(1)+(o.type&&" "+o.type||""):""} ${s}`),this.hls.trigger(T.SUBTITLE_TRACK_LOADING,{url:s,id:i,groupId:n,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=sp(e.textTracks),i=this.currentTrack;let n;if(i&&(n=t.filter(s=>xy(i,s))[0],n||this.warn(`Unable to find subtitle TextTrack with name "${i.name}" and language "${i.lang}"`)),[].slice.call(t).forEach(s=>{s.mode!=="disabled"&&s!==n&&(s.mode="disabled")}),n){const s=this.subtitleDisplay?"showing":"hidden";n.mode!==s&&(n.mode=s)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!Ae(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const i=this.currentTrack,n=t[e]||null;if(this.trackId=e,this.currentTrack=n,this.toggleTrackModes(),!n){this.hls.trigger(T.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!n.details&&!n.details.live;if(e===this.trackId&&n===i&&s)return;this.log(`Switching to subtitle-track ${e}`+(n?` "${n.name}" lang:${n.lang} group:${n.groupId}`:""));const{id:o,groupId:a="",name:l,type:c,url:u}=n;this.hls.trigger(T.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:l,type:c,url:u});const h=this.switchParams(n.url,i==null?void 0:i.details,n.details);this.loadPlaylist(h)}}function Kh(r){let e=5381,t=r.length;for(;t;)e=e*33^r.charCodeAt(--t);return(e>>>0).toString()}const Tc=.025;let Dg=function(r){return r[r.Point=0]="Point",r[r.Range=1]="Range",r}({});function ble(r,e,t){return`${r.identifier}-${t+1}-${Kh(e)}`}class _le{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){if(e>=this.assetList.length)return!0;const t=this.playoutLimit;return e<=0||isNaN(t)?!1:this.assetList[e].startOffset>t}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return wv(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime,i=wv(t,e);return t-i<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=Ae(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return wv(e,t)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<Tc))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return this._duration!==null?t=this._duration:this.dateRange.duration?t=this.dateRange.duration:t=this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Dg.Range:Dg.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return wle(this)}}function wv(r,e){return r-e.start<e.duration/2&&!(Math.abs(r-(e.start+e.duration))<Tc)?e.start:e.start+e.duration}function SI(r,e,t){const i=new self.URL(r,t);return i.protocol!=="data:"&&i.searchParams.set("_HLS_primary_id",e),i}function wle(r){return`["${r.identifier}" ${r.cue.pre?"<pre>":r.cue.post?"<post>":""}${r.timelineStart.toFixed(2)}-${r.resumeTime.toFixed(2)}]`}function Sy(r){const e=r.timelineStart,t=r.duration||0;return`["${r.identifier}" ${e.toFixed(2)}-${(e+t).toFixed(2)}]`}class Cle{constructor(e,t,i,n){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{const c=this.interstitial.playoutLimit,u=this.currentTime;this.startOffset+u>=c&&this.hls.trigger(T.PLAYOUT_LIMIT_REACHED,{})};const s=this.hls=new e(t);this.interstitial=i,this.assetItem=n;let o=n.uri;try{o=SI(o,s.sessionId).href}catch{}s.loadSource(o);const a=()=>{this.hasDetails=!0};s.once(T.LEVEL_LOADED,a),s.once(T.AUDIO_TRACK_LOADED,a),s.once(T.SUBTITLE_TRACK_LOADED,a),s.on(T.MEDIA_ATTACHING,(l,{media:c})=>{this.removeMediaListeners(),this.mediaAttached=c,this.interstitial.playoutLimit&&c.addEventListener("timeupdate",this.checkPlayout)})}bufferedInPlaceToEnd(e){var t;if(!this.interstitial.appendInPlace)return!1;if((t=this.hls)!=null&&t.bufferedToEnd)return!0;if(!e||!this._bufferedEosTime)return!1;const i=this.timelineOffset,n=ct.bufferInfo(e,i,0);return this.getAssetTime(n.end)>=this._bufferedEosTime-.02}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=ct.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;return e||0}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const i=e-t;if(Math.abs(i)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,i=this.duration;return Math.min(Math.max(0,e-t),i)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){this.hls.attachMedia(e)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}on(e,t,i){this.hls.on(e,t)}once(e,t,i){this.hls.once(e,t)}off(e,t,i){this.hls.off(e,t)}toString(){var e,t;return`HlsAssetPlayer: ${Sy(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${(t=this.interstitial)!=null&&t.appendInPlace?"append-in-place":""}`}}const vw=.033;class xle extends po{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce((i,n)=>e<=n.startOffset&&t>n.startOffset?(delete n.error,i+1):i,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let i=-1;e.nextEvent?i=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(i=this.findEventIndex(e.previousEvent.identifier)+1);const n=this.items;if(n)for(n[i]||(t===void 0&&(t=e.start),i=this.findItemIndexAtTime(t));i>=0&&(s=n[i])!=null&&s.event;){var s;i--}return i}findItemIndexAtTime(e,t){const i=this.items;if(i)for(let n=0;n<i.length;n++){let s=i[n];if(t&&t!=="primary"&&(s=s[t]),e===s.start||e>s.start&&e<s.end)return n}return-1}findJumpRestrictedIndex(e,t){const i=this.items;if(i)for(let n=e;n<=t&&i[n];n++){const s=i[n].event;if(s!=null&&s.restrictions.jump&&!s.appendInPlace)return n}return-1}findEventIndex(e){const t=this.items;if(t)for(let n=t.length;n--;){var i;if(((i=t[n].event)==null?void 0:i.identifier)===e)return n}return-1}findAssetIndex(e,t){const i=e.assetList,n=i.length;if(n>1)for(let s=0;s<n;s++){const o=i[s];if(!o.error){const a=o.timelineStart;if(t===a||t>a&&t<a+(o.duration||0))return s}}return 0}get assetIdAtEnd(){var e,t;const i=(e=this.items)==null||(t=e[this.length-1])==null?void 0:t.event;if(i){const n=i.assetList,s=n[n.length-1];if(s)return s.identifier}return null}parseInterstitialDateRanges(e,t){const i=e.main.details,{dateRanges:n}=i,s=this.events,o=this.parseDateRanges(n,{url:i.url},t),a=Object.keys(n),l=s?s.filter(c=>!a.includes(c.identifier)):[];o.length&&o.sort((c,u)=>{const h=c.cue.pre,d=c.cue.post,f=u.cue.pre,g=u.cue.post;if(h&&!f)return-1;if(f&&!h||d&&!g)return 1;if(g&&!d)return-1;if(!h&&!f&&!d&&!g){const m=c.startTime,v=u.startTime;if(m!==v)return m-v}return c.dateRange.tagOrder-u.dateRange.tagOrder}),this.events=o,l.forEach(c=>{this.removeEvent(c)}),this.updateSchedule(e,l)}updateSchedule(e,t=[]){const i=this.events||[];if(i.length||t.length||this.length<2){const n=this.items,s=this.parseSchedule(i,e);(t.length||(n==null?void 0:n.length)!==s.length||s.some((a,l)=>Math.abs(a.playout.start-n[l].playout.start)>.005||Math.abs(a.playout.end-n[l].playout.end)>.005))&&(this.items=s,this.onScheduleUpdate(t,n))}}parseDateRanges(e,t,i){const n=[],s=Object.keys(e);for(let o=0;o<s.length;o++){const a=s[o],l=e[a];if(l.isInterstitial){let c=this.eventMap[a];c?c.setDateRange(l):(c=new _le(l,t),this.eventMap[a]=c,i===!1&&(c.appendInPlace=i)),n.push(c)}}return n}parseSchedule(e,t){const i=[],n=t.main.details,s=n.live?1/0:n.edge;let o=0;if(e=e.filter(l=>!l.error&&!(l.cue.once&&l.hasPlayed)),e.length){this.resolveOffsets(e,t);let l=0,c=0;if(e.forEach((u,h)=>{const d=u.cue.pre,f=u.cue.post,g=e[h-1]||null,m=u.appendInPlace,v=f?s:u.startOffset,y=u.duration,_=u.timelineOccupancy===Dg.Range?y:0,w=u.resumptionOffset,S=(g==null?void 0:g.startTime)===v,k=v+u.cumulativeDuration;let P=m?k+y:v+w;if(d||!f&&v<=0){const C=c;c+=_,u.timelineStart=k;const E=o;o+=y,i.push({event:u,start:k,end:P,playout:{start:E,end:o},integrated:{start:C,end:c}})}else if(v<=s){if(!S){const A=v-l;if(A>vw){const I=l,D=c;c+=A;const R=o;o+=A;const fe={previousEvent:e[h-1]||null,nextEvent:u,start:I,end:I+A,playout:{start:R,end:o},integrated:{start:D,end:c}};i.push(fe)}else A>0&&g&&(g.cumulativeDuration+=A,i[i.length-1].end=v)}f&&(P=k),u.timelineStart=k;const C=c;c+=_;const E=o;o+=y,i.push({event:u,start:k,end:P,playout:{start:E,end:o},integrated:{start:C,end:c}})}else return;const x=u.resumeTime;f||x>s?l=s:l=x}),l<s){var a;const u=l,h=c,d=s-l;c+=d;const f=o;o+=d,i.push({previousEvent:((a=i[i.length-1])==null?void 0:a.event)||null,nextEvent:null,start:l,end:u+d,playout:{start:f,end:o},integrated:{start:h,end:c}})}this.setDurations(s,o,c)}else i.push({previousEvent:null,nextEvent:null,start:0,end:s,playout:{start:0,end:s},integrated:{start:0,end:s}}),this.setDurations(s,s,s);return i}setDurations(e,t,i){this.durations={primary:e,playout:t,integrated:i}}resolveOffsets(e,t){const i=t.main.details,n=i.live?1/0:i.edge;let s=0,o=-1;e.forEach((a,l)=>{const c=a.cue.pre,u=a.cue.post,h=c?0:u?n:a.startTime;this.updateAssetDurations(a),o===h?a.cumulativeDuration=s:(s=0,o=h),!u&&a.snapOptions.in&&(a.resumeAnchor=_l(null,i.fragments,a.startOffset+a.resumptionOffset,0,0)||void 0),a.appendInPlace&&!a.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(a,t)||(a.appendInPlace=!1)),!a.appendInPlace&&l+1<e.length&&e[l+1].startTime-e[l].resumeTime<vw&&(e[l+1].appendInPlace=!1,e[l+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${a}`));const f=Ae(a.resumeOffset)?a.resumeOffset:a.duration;s+=f})}primaryCanResumeInPlaceAt(e,t){const i=e.resumeTime,n=e.startTime+e.resumptionOffset;return Math.abs(i-n)>Tc?(this.log(`"${e.identifier}" resumption ${i} not aligned with estimated timeline end ${n}`),!1):t?!Object.keys(t).some(o=>{const a=t[o].details,l=a.edge;if(i>=l)return this.log(`"${e.identifier}" resumption ${i} past ${o} playlist end ${l}`),!1;const c=_l(null,a.fragments,i);if(!c)return this.log(`"${e.identifier}" resumption ${i} does not align with any fragments in ${o} playlist (${a.fragStart}-${a.fragmentEnd})`),!0;const u=o==="audio"?.175:0;return Math.abs(c.start-i)<Tc+u||Math.abs(c.end-i)<Tc+u?!1:(this.log(`"${e.identifier}" resumption ${i} not aligned with ${o} fragment bounds (${c.start}-${c.end} sn: ${c.sn} cc: ${c.cc})`),!0)}):(this.log(`"${e.identifier}" resumption ${i} can not be aligned with media (none selected)`),!1)}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let i=0,n=!1,s=!1;e.assetList.forEach((o,a)=>{const l=t+i;o.startOffset=i,o.timelineStart=l,n||(n=o.duration===null),s||(s=!!o.error);const c=o.error?0:o.duration||0;i+=c}),n&&!s?e.duration=Math.max(i,e.duration):e.duration=i}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function wo(r){return`[${r.event?'"'+r.event.identifier+'"':"primary"}: ${r.start.toFixed(2)}-${r.end.toFixed(2)}]`}class Ele{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const i=e.assetListUrl;let n;try{n=SI(i,this.hls.sessionId,e.baseUrl)}catch(d){const f=this.assignAssetListError(e,j.ASSET_LIST_LOAD_ERROR,d,i);this.hls.trigger(T.ERROR,f);return}t&&n.protocol!=="data:"&&n.searchParams.set("_HLS_start_offset",""+t);const s=this.hls.config,o=s.loader,a=new o(s),l={responseType:"json",url:n.href},c=s.interstitialAssetListLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(d,f,g,m)=>{const v=d.data,y=v==null?void 0:v.ASSETS;if(!Array.isArray(y)){const _=this.assignAssetListError(e,j.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),g.url,f,m);this.hls.trigger(T.ERROR,_);return}e.assetListResponse=v,this.hls.trigger(T.ASSET_LIST_LOADED,{event:e,assetListResponse:v,networkDetails:m})},onError:(d,f,g,m)=>{const v=this.assignAssetListError(e,j.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${d.code} ${d.text} (${f.url})`),f.url,m,g);this.hls.trigger(T.ERROR,v)},onTimeout:(d,f,g)=>{const m=this.assignAssetListError(e,j.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${f.url})`),f.url,d,g);this.hls.trigger(T.ERROR,m)}};return a.load(l,u,h),this.hls.trigger(T.ASSET_LIST_LOADING,{event:e}),a}assignAssetListError(e,t,i,n,s,o){return e.error=i,{type:Ve.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:n,error:i,networkDetails:o,stats:s}}}function Zs(r,e,t){cs(r,e,t),r.addEventListener(e,t)}function cs(r,e,t){r.removeEventListener(e,t)}function yw(r){r==null||r.play().catch(()=>{})}class Tle extends po{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const i=this.currentTime;if(i===void 0||this.playbackDisabled)return;const n=i-this.timelinePos;if(Math.abs(n)<1/7056e5)return;const o=n<=-.01;this.timelinePos=i,this.bufferedPos=i;const a=this.playingItem;if(!a){this.checkBuffer();return}if(o&&this.schedule.resetErrorsInRange(i,i-n)&&this.updateSchedule(),this.checkBuffer(),o&&i<a.start||i>=a.end){var l;const d=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(a)&&(l=this.media)!=null&&l.paused&&(this.shouldPlay=!1),!o){const f=this.findItemIndex(a);if(d>f){const g=this.schedule.findJumpRestrictedIndex(f+1,d);if(g>f){this.setSchedulePosition(g);return}}}this.setSchedulePosition(d);return}const c=this.playingAsset;if(!c){if(this.playingLastItem&&this.isInterstitial(a)){const d=a.event.assetList[0];d&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(i,d))}return}const u=c.timelineStart,h=c.duration||0;(o&&i<u||i>=u+h)&&this.setScheduleToAssetAtTime(i,c)},this.onTimeupdate=()=>{const i=this.currentTime;if(i===void 0||this.playbackDisabled)return;if(i>this.timelinePos)this.timelinePos=i,i>this.bufferedPos&&this.checkBuffer();else return;const n=this.playingItem;if(!n||this.playingLastItem)return;if(i>=n.end){this.timelinePos=n.end;const a=this.findItemIndex(n);this.setSchedulePosition(a+1)}const s=this.playingAsset;if(!s)return;const o=s.timelineStart+(s.duration||0);i>=o&&this.setScheduleToAssetAtTime(i,s)},this.onScheduleUpdate=(i,n)=>{const s=this.schedule,o=this.playingItem,a=s.events||[],l=s.items||[],c=s.durations,u=i.map(f=>f.identifier),h=!!(a.length||u.length);if(h&&this.log(`INTERSTITIALS_UPDATED (${a.length}): ${a}
Schedule: ${l.map(f=>wo(f))}`),u.length&&this.log(`Removed events ${u}`),this.playerQueue.forEach(f=>{if(f.interstitial.appendInPlace){const g=f.assetItem.timelineStart,m=f.timelineOffset-g;if(m)try{f.timelineOffset=g}catch(v){Math.abs(m)>Tc&&this.warn(`${v} ("${f.assetId}" ${f.timelineOffset}->${g})`)}}}),o){const f=this.updateItem(o,this.timelinePos);this.itemsMatch(o,f)&&(this.playingItem=f,this.waitingItem=this.endedItem=null)}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const d=this.bufferingItem;if(d){const f=this.updateItem(d,this.bufferedPos);this.itemsMatch(d,f)?this.bufferingItem=f:d.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(d.event,null))}if(i.forEach(f=>{f.assetList.forEach(g=>{this.clearAssetPlayer(g.identifier,null)})}),h||n){if(this.hls.trigger(T.INTERSTITIALS_UPDATED,{events:a.slice(0),schedule:l.slice(0),durations:c,removedIds:u}),this.isInterstitial(o)&&u.includes(o.event.identifier)){this.warn(`Interstitial "${o.event.identifier}" removed while playing`),this.primaryFallback(o.event);return}this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new Ele(e),this.schedule=new xle(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(T.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(T.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(T.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(T.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(T.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(T.BUFFER_APPENDED,this.onBufferAppended,this),e.on(T.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(T.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(T.MEDIA_ENDED,this.onMediaEnded,this),e.on(T.ERROR,this.onError,this),e.on(T.DESTROYING,this.onDestroying,this)}unregisterListeners(){const e=this.hls;e&&(e.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(T.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(T.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(T.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(T.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(T.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(T.BUFFER_CODECS,this.onBufferCodecs,this),e.off(T.BUFFER_APPENDED,this.onBufferAppended,this),e.off(T.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(T.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(T.MEDIA_ENDED,this.onMediaEnded,this),e.off(T.ERROR,this.onError,this),e.off(T.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){cs(e,"play",this.onPlay),cs(e,"pause",this.onPause),cs(e,"seeking",this.onSeeking),cs(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const i=this.media=t.media;Zs(i,"seeking",this.onSeeking),Zs(i,"timeupdate",this.onTimeupdate),Zs(i,"play",this.onPlay),Zs(i,"pause",this.onPause)}onMediaAttached(e,t){const i=this.effectivePlayingItem,n=this.detachedData;if(this.detachedData=null,i===null)this.checkStart();else if(!n){this.clearScheduleState();const s=this.findItemIndex(i);this.setSchedulePosition(s)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const i=!!t.transferMedia,n=this.media;if(this.media=null,!i&&(n&&this.removeMediaListeners(n),this.detachedData)){const s=this.getBufferingPlayer();s&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,s.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const e=this,t=()=>e.bufferingItem||e.waitingItem,i=h=>h&&e.getAssetPlayer(h.identifier),n=(h,d,f,g,m)=>{if(h){let v=h[d].start;const y=h.event;if(y){if(d==="playout"||y.timelineOccupancy!==Dg.Point){const _=i(f);(_==null?void 0:_.interstitial)===y&&(v+=_.assetItem.startOffset+_[m])}}else{const _=g==="bufferedPos"?o():e[g];v+=_-h.start}return v}return 0},s=(h,d)=>{if(h!==0&&d!=="primary"&&e.schedule.length){var f;const g=e.schedule.findItemIndexAtTime(h),m=(f=e.schedule.items)==null?void 0:f[g];if(m){const v=m[d].start-m.start;return h+v}}return h},o=()=>{const h=e.bufferedPos;return h===Number.MAX_VALUE?a("primary"):Math.max(h,0)},a=h=>{var d;return(d=e.primaryDetails)!=null&&d.live?e.primaryDetails.edge:e.schedule.durations[h]},l=(h,d)=>{var f,g;const m=e.effectivePlayingItem;if(m!=null&&(f=m.event)!=null&&f.restrictions.skip)return;e.log(`seek to ${h} "${d}"`);const v=e.effectivePlayingItem,y=e.schedule.findItemIndexAtTime(h,d),_=(g=e.schedule.items)==null?void 0:g[y],w=e.getBufferingPlayer(),S=w==null?void 0:w.interstitial,k=S==null?void 0:S.appendInPlace,P=v&&e.itemsMatch(v,_);if(v&&(k||P)){const C=i(e.playingAsset),E=(C==null?void 0:C.media)||e.primaryMedia;if(E){const A=d==="primary"?E.currentTime:n(v,d,e.playingAsset,"timelinePos","currentTime"),I=h-A,D=(k?A:E.currentTime)+I;if(D>=0&&(!C||k||D<=C.duration)){E.currentTime=D;return}}}if(_){let C=h;if(d!=="primary"){const A=_[d].start,I=h-A;C=_.start+I}const E=!e.isInterstitial(_);if((!e.isInterstitial(v)||v.event.appendInPlace)&&(E||_.event.appendInPlace)){const A=e.media||(k?w==null?void 0:w.media:null);A&&(A.currentTime=C)}else if(v){const A=e.findItemIndex(v);if(y>A){const D=e.schedule.findJumpRestrictedIndex(A+1,y);if(D>A){e.setSchedulePosition(D);return}}let I=0;if(E)e.timelinePos=C,e.checkBuffer();else{var x;const D=_==null||(x=_.event)==null?void 0:x.assetList;if(D){const R=h-(_[d]||_).start;for(let fe=D.length;fe--;){const se=D[fe];if(se.duration&&R>=se.startOffset&&R<se.startOffset+se.duration){I=fe;break}}}}e.setSchedulePosition(y,I)}}},c=()=>{const h=e.effectivePlayingItem;if(e.isInterstitial(h))return h;const d=t();return e.isInterstitial(d)?d:null},u={get currentTime(){const h=c(),d=e.effectivePlayingItem;return d&&d===h?n(d,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-d.playout.start:0},set currentTime(h){const d=c(),f=e.effectivePlayingItem;f&&f===d&&l(h+f.playout.start,"playout")},get duration(){const h=c();return h?h.playout.end-h.playout.start:0},get assetPlayers(){var h;const d=(h=c())==null?void 0:h.event.assetList;return d?d.map(f=>e.getAssetPlayer(f.identifier)):[]},get playingIndex(){var h;const d=(h=c())==null?void 0:h.event;return d&&e.effectivePlayingAsset?d.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return c()}};this.manager={get events(){var h,d;return((h=e.schedule)==null||(d=h.events)==null?void 0:d.slice(0))||[]},get schedule(){var h,d;return((h=e.schedule)==null||(d=h.items)==null?void 0:d.slice(0))||[]},get interstitialPlayer(){return c()?u:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const h=t();return e.findItemIndex(h)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const h=e.effectivePlayingItem;return e.findItemIndex(h)},primary:{get bufferedEnd(){return o()},get currentTime(){const h=e.timelinePos;return h>0?h:0},set currentTime(h){l(h,"primary")},get duration(){return a("primary")},get seekableStart(){var h;return((h=e.primaryDetails)==null?void 0:h.fragmentStart)||0}},integrated:{get bufferedEnd(){return n(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return n(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(h){l(h,"integrated")},get duration(){return a("integrated")},get seekableStart(){var h;return s(((h=e.primaryDetails)==null?void 0:h.fragmentStart)||0,"integrated")}},skip:()=>{const h=e.effectivePlayingItem,d=h==null?void 0:h.event;if(d&&!d.restrictions.skip){const f=e.findItemIndex(h);if(d.appendInPlace){const g=h.playout.start+h.event.duration;l(g+.001,"playout")}else e.advanceAfterAssetEnded(d,f,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,i=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!t||!i?!1:this.findItemIndex(t)===i.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,t,i;if(this.mediaSelection===null)return;const n=this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&!n.event.appendInPlace)return;let s=this.media;!s&&(e=this.bufferingItem)!=null&&(t=e.event)!=null&&t.appendInPlace&&(s=this.primaryMedia);const o=(i=s)==null?void 0:i.currentTime;if(!(o===void 0||!Ae(o)))return o}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,t){const i=this.getAssetPlayer(e);i&&this.transferMediaFromPlayer(i,t)}transferMediaFromPlayer(e,t){const i=e.interstitial.appendInPlace,n=e.media;if(i&&n===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&n){this.detachedData={media:n};return}const s=e.transferMedia();this.log(`transfer MediaSource from ${e} ${ei(s)}`),this.detachedData=s}else t&&n&&(this.shouldPlay||(this.shouldPlay=!n.paused))}transferMediaTo(e,t){var i,n;if(e.media===t)return;let s=null;const o=this.hls,a=e!==o,l=a&&e.interstitial.appendInPlace,c=(i=this.detachedData)==null?void 0:i.mediaSource;let u;if(o.media)l&&(s=o.transferMedia(),this.detachedData=s),u="Primary";else if(c){const f=this.getBufferingPlayer();f?(s=f.transferMedia(),u=`${f}`):u="detached MediaSource"}else u="detached media";if(!s){if(c)s=this.detachedData,this.log(`using detachedData: MediaSource ${ei(s)}`);else if(!this.detachedData||o.media===t){const f=this.playerQueue;f.length>1&&f.forEach(g=>{if(a&&g.interstitial.appendInPlace!==l){const m=g.interstitial;this.clearInterstitial(g.interstitial,null),m.appendInPlace=!1,m.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${m}`)}}),this.hls.detachMedia(),this.detachedData={media:t}}}const h=s&&"mediaSource"in s&&((n=s.mediaSource)==null?void 0:n.readyState)!=="closed",d=h&&s?s:t;if(this.log(`${h?"transfering MediaSource":"attaching media"} to ${a?e:"Primary"} from ${u}`),d===s){const f=a&&e.assetId===this.schedule.assetIdAtEnd;d.overrides={duration:this.schedule.duration,endOfStream:!a||f,cueRemoval:!a}}e.attachMedia(d)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e.events;if(!t||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const i=this.timelinePos,n=this.effectivePlayingItem;if(i===-1){const s=this.hls.startPosition;if(this.timelinePos=s,t.length&&t[0].cue.pre){const o=e.findEventIndex(t[0].identifier);this.setSchedulePosition(o)}else if(s>=0||!this.primaryLive){const o=this.timelinePos=s>0?s:0,a=e.findItemIndexAtTime(o);this.setSchedulePosition(a)}}else if(n&&!this.playingItem){const s=e.findItemIndex(n);this.setSchedulePosition(s)}}advanceAfterAssetEnded(e,t,i){const n=i+1;if(!e.isAssetPastPlayoutLimit(n)&&!e.assetList[n].error)this.setSchedulePosition(t,n);else{const s=this.schedule.items;if(s){const o=t+1,a=s.length;if(o>=a){this.setSchedulePosition(-1);return}const l=e.resumeTime;this.timelinePos<l&&(this.timelinePos=l,this.checkBuffer()),this.setSchedulePosition(o)}}}setScheduleToAssetAtTime(e,t){const i=this.schedule,n=t.parentIdentifier,s=i.getEvent(n);if(s){const o=i.findEventIndex(n),a=i.findAssetIndex(s,e);this.setSchedulePosition(o,a)}}setSchedulePosition(e,t){const i=this.schedule.items;if(!i||this.playbackDisabled)return;this.log(`setSchedulePosition ${e}, ${t}`);const n=e>=0?i[e]:null,s=this.playingItem,o=this.playingLastItem;if(this.isInterstitial(s)){var a;const c=s.event,u=this.playingAsset,h=u==null?void 0:u.identifier,d=h?this.getAssetPlayer(h):null;if(d&&h&&(!this.eventItemsMatch(s,n)||t!==void 0&&h!==((a=c.assetList)==null?void 0:a[t].identifier))){var l;const f=c.findAssetIndex(u);this.log(`INTERSTITIAL_ASSET_ENDED ${f+1}/${c.assetList.length} ${Sy(u)}`),this.endedAsset=u,this.playingAsset=null,this.hls.trigger(T.INTERSTITIAL_ASSET_ENDED,{asset:u,assetListIndex:f,event:c,schedule:i.slice(0),scheduleIndex:e,player:d}),this.retreiveMediaSource(h,n),d.media&&!((l=this.detachedData)!=null&&l.mediaSource)&&d.detachMedia()}if(!this.eventItemsMatch(s,n)&&(this.endedItem=s,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${c} ${wo(s)}`),c.hasPlayed=!0,this.hls.trigger(T.INTERSTITIAL_ENDED,{event:c,schedule:i.slice(0),scheduleIndex:e}),c.cue.once)){this.updateSchedule();const f=this.schedule.items;if(n&&f){const g=this.schedule.findItemIndex(n);this.advanceSchedule(g,f,t,s,o)}return}}this.advanceSchedule(e,i,t,s,o)}advanceSchedule(e,t,i,n,s){const o=e>=0?t[e]:null,a=this.primaryMedia,l=this.playerQueue;if(l.length&&l.forEach(c=>{const u=c.interstitial,h=this.schedule.findEventIndex(u.identifier);(h<e||h>e+1)&&this.clearInterstitial(u,o)}),this.isInterstitial(o)){this.timelinePos=Math.min(Math.max(this.timelinePos,o.start),o.end);const c=o.event;i===void 0&&(i=this.schedule.findAssetIndex(c,this.timelinePos));const u=this.waitingItem;this.assetsBuffered(o,a)||this.setBufferingItem(o);let h=this.preloadAssets(c,i);if(this.eventItemsMatch(o,u||n)||(this.waitingItem=o,this.log(`INTERSTITIAL_STARTED ${wo(o)} ${c.appendInPlace?"append in place":""}`),this.hls.trigger(T.INTERSTITIAL_STARTED,{event:c,schedule:t.slice(0),scheduleIndex:e})),!c.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${c}`);return}if(c.assetListLoader&&(c.assetListLoader.destroy(),c.assetListLoader=void 0),!a){this.log(`Waiting for attachMedia to start Interstitial ${c}`);return}this.waitingItem=this.endedItem=null,this.playingItem=o;const d=c.assetList[i];if(!d){const f=t[e+1],g=this.media;f&&g&&!this.isInterstitial(f)&&g.currentTime<f.start&&(g.currentTime=this.timelinePos=f.start),this.advanceAfterAssetEnded(c,e,i||0);return}if(h||(h=this.getAssetPlayer(d.identifier)),h===null||h.destroyed){const f=c.assetList.length;this.warn(`asset ${i+1}/${f} player destroyed ${c}`),h=this.createAssetPlayer(c,d,i)}if(!this.eventItemsMatch(o,this.bufferingItem)&&c.appendInPlace&&this.isAssetBuffered(d))return;this.startAssetPlayer(h,i,t,e,a),this.shouldPlay&&yw(h.media)}else o!==null?(this.resumePrimary(o,e,n),this.shouldPlay&&yw(this.hls.media)):s&&this.isInterstitial(n)&&(this.endedItem=null,this.playingItem=n,n.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e,t;return(e=this.mediaSelection)==null||(t=e.main)==null?void 0:t.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,t,i){var n;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${wo(e)}`),!((n=this.detachedData)!=null&&n.mediaSource)){let o=this.timelinePos;(o<e.start||o>=e.end)&&(o=this.getPrimaryResumption(e,t),this.timelinePos=o),this.attachPrimary(o,e)}if(!i)return;const s=this.schedule.items;s&&(this.log(`resumed ${wo(e)}`),this.hls.trigger(T.INTERSTITIALS_PRIMARY_RESUMED,{schedule:s.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const i=e.start;if(this.primaryLive){const n=this.primaryDetails;if(t===0)return this.hls.startPosition;if(n&&(i<n.fragmentStart||i>n.edge))return this.hls.liveSyncPosition||-1}return i}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);return t!=null&&t.hls?t.hls.bufferedToEnd:ct.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,i){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const n=this.primaryMedia;if(!n)return;const s=this.hls;s.media?this.checkBuffer():(this.transferMediaTo(s,n),i&&this.startLoadingPrimaryAt(e,i)),i||(this.timelinePos=e,this.startLoadingPrimaryAt(e,i))}startLoadingPrimaryAt(e,t){var i;const n=this.hls;!n.loadingEnabled||!n.media||Math.abs((((i=n.mainForwardBufferInfo)==null?void 0:i.start)||n.media.currentTime)-e)>.5?n.startLoad(e,t):n.bufferingEnabled||n.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(T.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(T.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(t.level===-1)return;const i=this.hls.levels[t.level],n=Ot(Ot({},this.mediaSelection||this.altSelection),{},{main:i});this.mediaSelection=n,this.schedule.parseInterstitialDateRanges(n,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const i=this.hls.audioTracks[t.id],n=this.mediaSelection;if(!n){this.altSelection=Ot(Ot({},this.altSelection),{},{audio:i});return}const s=Ot(Ot({},n),{},{audio:i});this.mediaSelection=s}onSubtitleTrackUpdated(e,t){const i=this.hls.subtitleTracks[t.id],n=this.mediaSelection;if(!n){this.altSelection=Ot(Ot({},this.altSelection),{},{subtitles:i});return}const s=Ot(Ot({},n),{},{subtitles:i});this.mediaSelection=s}onAudioTrackSwitching(e,t){const i=I_(t);this.playerQueue.forEach(n=>n.hls.setAudioOption(t)||n.hls.setAudioOption(i))}onSubtitleTrackSwitch(e,t){const i=I_(t);this.playerQueue.forEach(n=>n.hls.setSubtitleOption(t)||t.id!==-1&&n.hls.setSubtitleOption(i))}onBufferCodecs(e,t){const i=t.tracks;i&&(this.requiredTracks=i)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const i=this.playingItem;if(i&&!this.itemsMatch(i,this.bufferingItem)&&!this.isInterstitial(i)){const n=this.timelinePos;this.bufferedPos=n,this.checkBuffer()}}onBufferedToEnd(e){const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let n=0;n<t.length;n++){const s=t[n];if(s.cue.post){var i;const o=this.schedule.findEventIndex(s.identifier),a=(i=this.schedule.items)==null?void 0:i[o];this.isInterstitial(a)&&this.eventItemsMatch(a,this.bufferingItem)&&this.bufferedToItem(a,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const i=this.findItemIndex(t);this.setSchedulePosition(i+1)}else this.shouldPlay=!1}updateItem(e,t){const i=this.schedule.items;if(e&&i){const n=this.findItemIndex(e,t);return i[n]||null}return null}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var i;return!!t&&(e===t||e.event.identifier===((i=t.event)==null?void 0:i.identifier))}findItemIndex(e,t){return e?this.schedule.findItemIndex(e,t):-1}updateSchedule(){const e=this.mediaSelection;e&&this.schedule.updateSchedule(e,[])}checkBuffer(e){const t=this.schedule.items;if(!t)return;const i=ct.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=i.len<1),this.updateBufferedPos(i.end,t,e)}updateBufferedPos(e,t,i){const n=this.schedule,s=this.bufferingItem;if(this.bufferedPos>e)return;if(t.length===1&&this.itemsMatch(t[0],s)){this.bufferedPos=e;return}const o=this.playingItem,a=this.findItemIndex(o);let l=n.findItemIndexAtTime(e);if(this.bufferedPos<e){var c,u;const h=this.findItemIndex(s),d=Math.min(h+1,t.length-1),f=t[d];if((l===-1&&s&&e>=s.end||(c=f.event)!=null&&c.appendInPlace&&e+.01>=f.start)&&(l=d),d-a>1&&(s==null||(u=s.event)==null?void 0:u.appendInPlace)===!1)return;if(this.bufferedPos=e,l>h&&l>a)this.bufferedToItem(f);else{const g=this.primaryDetails;this.primaryLive&&g&&e>g.edge-g.targetduration&&f.start<g.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(f)&&this.preloadAssets(f.event,0)}}else i&&o&&!this.itemsMatch(o,s)&&(l===a?this.bufferedToItem(o):l===a+1&&this.bufferedToItem(t[l]))}assetsBuffered(e,t){return e.event.assetList.length===0?!1:!e.event.assetList.some(n=>{const s=this.getAssetPlayer(n.identifier);return!(s!=null&&s.bufferedInPlaceToEnd(t))})}setBufferingItem(e){const t=this.bufferingItem,i=this.schedule;if(this.itemsMatch(e,t))this.bufferingItem!==e&&(this.bufferingItem=e);else{const{items:n,events:s}=i;if(!n||!s)return t;const o=this.isInterstitial(e),a=this.getBufferingPlayer();if(this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos)),!this.playbackDisabled){const l=a?a.remaining:t?t.end-this.timelinePos:0;this.log(`buffered to boundary ${wo(e)}`+(t?` (${l.toFixed(2)} remaining)`:"")),o?e.event.assetList.forEach(c=>{const u=this.getAssetPlayer(c.identifier);u&&u.resumeBuffering()}):(this.hls.resumeBuffering(),this.playerQueue.forEach(c=>c.pauseBuffering()))}this.hls.trigger(T.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:s.slice(0),schedule:n.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}return t}bufferedToItem(e,t=0){const i=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(i!==null){this.bufferingAsset=null;const n=this.detachedData;n?n.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const t=this.findItemIndex(e),i=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(i)}bufferedToEvent(e,t){const i=e.event,n=i.assetList.length===0&&!i.assetListLoader,s=i.cue.once;if(n||!s){const o=this.preloadAssets(i,t);if(o!=null&&o.interstitial.appendInPlace){const a=i.assetList[t],l=this.primaryMedia;a&&l&&this.bufferAssetPlayer(o,l)}}}preloadAssets(e,t){const i=e.assetUrl,n=e.assetList.length,s=n===0&&!e.assetListLoader,o=e.cue.once;if(s){const l=e.timelineStart;if(e.appendInPlace){var a;const d=this.playingItem;!this.isInterstitial(d)&&(d==null||(a=d.nextEvent)==null?void 0:a.identifier)===e.identifier&&this.flushFrontBuffer(l+.25)}let c,u=0;if(!this.playingItem&&this.primaryLive&&(u=this.hls.startPosition,u===-1&&(u=this.hls.liveSyncPosition||0)),u&&!(e.cue.pre||e.cue.post)){const d=u-l;d>0&&(c=Math.round(d*1e3)/1e3)}if(this.log(`Load interstitial asset ${t+1}/${i?1:n} ${e}${c?` live-start: ${u} start-offset: ${c}`:""}`),i)return this.createAsset(e,0,0,l,e.duration,i);const h=this.assetListLoader.loadAssetList(e,c);h&&(e.assetListLoader=h)}else if(!o&&n){for(let l=t;l<n;l++){const c=e.assetList[l],u=this.getAssetPlayerQueueIndex(c.identifier);(u===-1||this.playerQueue[u].destroyed)&&!c.error&&this.createAssetPlayer(e,c,l)}return this.getAssetPlayer(e.assetList[t].identifier)}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(t).forEach(n=>{this.hls.trigger(T.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:n})})}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let i=0;i<t.length;i++)if(e===t[i].assetId)return i;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t){for(let i=0;i<e.length;i++)if(e[i].media===t)return e[i]}return null}createAsset(e,t,i,n,s,o){const a={parentIdentifier:e.identifier,identifier:ble(e,o,t),duration:s,startOffset:i,timelineStart:n,uri:o};return this.createAssetPlayer(e,a,t)}createAssetPlayer(e,t,i){this.log(`create HLSAssetPlayer for ${Sy(t)}`);const n=this.hls,s=n.userConfig;let o=s.videoPreference;const a=n.loadLevelObj||n.levels[n.currentLevel];(o||a)&&(o=Ut({},o),a.videoCodec&&(o.videoCodec=a.videoCodec),a.videoRange&&(o.allowedVideoRanges=[a.videoRange]));const l=n.audioTracks[n.audioTrack],c=n.subtitleTracks[n.subtitleTrack];let u=0;if(this.primaryLive||e.appendInPlace){const w=this.timelinePos-t.timelineStart;if(w>1){const S=t.duration;S&&w<S&&(u=w)}}const h=t.identifier,d=Ot(Ot({},s),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:n.sessionId,assetPlayerId:h,abrEwmaDefaultEstimate:n.bandwidthEstimate,interstitialsController:void 0,startPosition:u,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:o,audioPreference:l||s.audioPreference,subtitlePreference:c||s.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(d.timelineOffset=t.timelineStart));const f=d.cmcd;f!=null&&f.sessionId&&f.contentId&&(d.cmcd=Ut({},f,{contentId:Kh(t.uri)})),this.getAssetPlayer(h)&&this.warn(`Duplicate date range identifier ${e} and asset ${h}`);const g=new Cle(this.HlsPlayerClass,d,e,t);this.playerQueue.push(g),e.assetList[i]=t;const m=w=>{if(w.live){const P=new Error(`Interstitials MUST be VOD assets ${e}`),x={fatal:!0,type:Ve.OTHER_ERROR,details:j.INTERSTITIAL_ASSET_ITEM_ERROR,error:P};this.handleAssetItemError(x,e,this.schedule.findEventIndex(e.identifier),i,P.message);return}const S=w.edge-w.fragmentStart,k=t.duration;(k===null||S>k)&&(this.log(`Interstitial asset "${h}" duration change ${k} > ${S}`),t.duration=S,this.updateSchedule())};g.on(T.LEVEL_UPDATED,(w,{details:S})=>m(S)),g.on(T.LEVEL_PTS_UPDATED,(w,{details:S})=>m(S));const v=(w,S)=>{const k=this.getAssetPlayer(h);if(k&&S.tracks){k.off(T.BUFFER_CODECS,v),k.tracks=S.tracks;const P=this.primaryMedia;this.bufferingAsset===k.assetItem&&P&&!k.media&&this.bufferAssetPlayer(k,P)}};g.on(T.BUFFER_CODECS,v);const y=()=>{var w;const S=this.getAssetPlayer(h);if(this.log(`buffered to end of asset ${S}`),!S)return;const k=this.schedule.findEventIndex(e.identifier),P=e.findAssetIndex(t),x=P+1,C=(w=this.schedule.items)==null?void 0:w[k];if(this.isInterstitial(C))if(P!==-1&&!e.isAssetPastPlayoutLimit(x)&&!e.assetList[x].error)this.bufferedToItem(C,x);else{var E;const A=(E=this.schedule.items)==null?void 0:E[k+1];A&&this.bufferedToItem(A)}};g.on(T.BUFFERED_TO_END,y);const _=w=>()=>{if(!this.getAssetPlayer(h))return;this.shouldPlay=!0;const k=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,k,w)};return g.once(T.MEDIA_ENDED,_(i)),g.once(T.PLAYOUT_LIMIT_REACHED,_(1/0)),g.on(T.ERROR,(w,S)=>{const k=this.getAssetPlayer(h);if(S.details===j.BUFFER_STALLED_ERROR){if(k!=null&&k.media){const P=k.currentTime,x=k.duration-P;P&&e.appendInPlace&&x/k.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${h} ${e} at ${k.media.currentTime}`),y()):(this.warn(`Stalled at ${P} of ${P+x} in asset ${h} ${e}`),this.onTimeupdate(),this.checkBuffer(!0))}return}this.handleAssetItemError(S,e,this.schedule.findEventIndex(e.identifier),i,`Asset player error ${S.error} ${e}`)}),g.on(T.DESTROYING,()=>{if(!this.getAssetPlayer(h))return;const S=new Error(`Asset player destroyed unexpectedly ${h}`),k={fatal:!0,type:Ve.OTHER_ERROR,details:j.INTERSTITIAL_ASSET_ITEM_ERROR,error:S};this.handleAssetItemError(k,e,this.schedule.findEventIndex(e.identifier),i,S.message)}),this.hls.trigger(T.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:i,event:e,player:g}),g}clearInterstitial(e,t){e.assetList.forEach(i=>{this.clearAssetPlayer(i.identifier,t)}),e.reset()}clearAssetPlayer(e,t){const i=this.getAssetPlayerQueueIndex(e);if(i!==-1){this.log(`clearAssetPlayer "${e}" toSegment: ${t&&wo(t)}`);const n=this.playerQueue[i];this.transferMediaFromPlayer(n,t),this.playerQueue.splice(i,1),n.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,i,n,s){const{interstitial:o,assetItem:a,assetId:l}=e,c=o.assetList.length,u=this.playingAsset;this.endedAsset=null,this.playingAsset=a,(!u||u.identifier!==l)&&(u&&(this.clearAssetPlayer(u.identifier,i[n]),delete u.error),this.log(`INTERSTITIAL_ASSET_STARTED ${t+1}/${c} ${e}`),this.hls.trigger(T.INTERSTITIAL_ASSET_STARTED,{asset:a,assetListIndex:t,event:o,schedule:i.slice(0),scheduleIndex:n,player:e})),this.bufferAssetPlayer(e,s)}bufferAssetPlayer(e,t){var i,n;const{interstitial:s,assetItem:o,assetId:a}=e,l=this.schedule.findEventIndex(s.identifier),c=(i=this.schedule.items)==null?void 0:i[l];if(!c)return;this.setBufferingItem(c),this.bufferingAsset=o;const u=this.getBufferingPlayer();if(u===e)return;const h=s.appendInPlace;if(h&&(u==null?void 0:u.interstitial.appendInPlace)===!1)return;const d=(u==null?void 0:u.tracks)||((n=this.detachedData)==null?void 0:n.tracks)||this.requiredTracks;if(h&&o!==this.playingAsset){if(!e.tracks)return;if(d&&!bk(d,e.tracks)){const f=new Error(`Asset "${a}" SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(d)}')`),g={fatal:!0,type:Ve.OTHER_ERROR,details:j.INTERSTITIAL_ASSET_ITEM_ERROR,error:f},m=s.findAssetIndex(o);this.handleAssetItemError(g,s,l,m,f.message);return}}this.transferMediaTo(e,t)}handleAssetItemError(e,t,i,n,s){if(e.details===j.BUFFER_STALLED_ERROR)return;const o=t.assetList[n]||null;let a=null;if(o){const h=this.getAssetPlayerQueueIndex(o.identifier);a=this.playerQueue[h]||null}const l=this.schedule.items,c=Ut({},e,{fatal:!1,errorAction:qd(!0),asset:o,assetListIndex:n,event:t,schedule:l,scheduleIndex:i,player:a});if(this.warn(`Asset item error: ${e.error}`),this.hls.trigger(T.INTERSTITIAL_ASSET_ERROR,c),!e.fatal)return;const u=new Error(s);o&&(this.playingAsset!==o&&this.clearAssetPlayer(o.identifier,null),o.error=u),t.assetList.some(h=>!h.error)?t.appendInPlace&&(t.error=u):t.error=u,this.primaryFallback(t)}primaryFallback(e){const t=e.timelineStart,i=this.effectivePlayingItem;if(this.updateSchedule(),i){this.log(`Fallback to primary from event "${e.identifier}" start: ${t} pos: ${this.timelinePos} playing: ${i?wo(i):"<none>"} error: ${e.error}`),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t));let n=this.timelinePos;n===-1&&(n=this.hls.startPosition);const s=this.updateItem(i,n);if(this.itemsMatch(i,s))this.clearInterstitial(e,null);else{const o=this.schedule.findItemIndexAtTime(n);this.setSchedulePosition(o)}}else this.checkStart()}onAssetListLoaded(e,t){var i;const n=t.event,s=n.identifier,o=t.assetListResponse.ASSETS;if(!this.schedule.hasEvent(s))return;const a=n.timelineStart,l=n.duration;let c=0;o.forEach((g,m)=>{const v=parseFloat(g.DURATION);this.createAsset(n,m,c,a+c,v,g.URI),c+=v}),n.duration=c,this.log(`Loaded asset-list with duration: ${c} (was: ${l}) ${n}`);const u=this.waitingItem,h=(u==null?void 0:u.event.identifier)===s;this.updateSchedule();const d=(i=this.bufferingItem)==null?void 0:i.event;if(h){var f;const g=this.schedule.findEventIndex(s),m=(f=this.schedule.items)==null?void 0:f[g];if(m){if(!this.playingItem&&this.timelinePos>m.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==g){n.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${n}`),this.primaryFallback(n);return}this.setBufferingItem(m)}this.setSchedulePosition(g)}else if((d==null?void 0:d.identifier)===s&&d.appendInPlace){const g=n.assetList[0],m=this.getAssetPlayer(g.identifier),v=this.primaryMedia;g&&m&&v&&this.bufferAssetPlayer(m,v)}}onError(e,t){switch(t.details){case j.ASSET_LIST_PARSING_ERROR:case j.ASSET_LIST_LOAD_ERROR:case j.ASSET_LIST_LOAD_TIMEOUT:{const i=t.interstitial;i&&this.primaryFallback(i);break}case j.BUFFER_STALLED_ERROR:{this.onTimeupdate(),this.checkBuffer(!0);break}}}}const bw=500;class Lle extends Hb{constructor(e,t,i){super(e,t,i,"subtitle-stream-controller",De.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(T.LEVEL_LOADED,this.onLevelLoaded,this),e.on(T.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(T.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(T.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(T.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(T.LEVEL_LOADED,this.onLevelLoaded,this),e.off(T.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(T.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(T.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(T.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=oe.IDLE,this.setInterval(bw),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:i,success:n}=t;if(Oi(i)&&(this.fragPrevious=i),this.state=oe.IDLE,!n)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let o;const a=i.start;for(let c=0;c<s.length;c++)if(a>=s[c].start&&a<=s[c].end){o=s[c];break}const l=i.start+i.duration;o?o.end=l:(o={start:a,end:l},s.push(o)),this.fragmentTracker.fragBuffered(i),this.fragBufferedComplete(i,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:i,endOffset:n}=t;if(i===0&&n!==Number.POSITIVE_INFINITY){const s=n-1;if(s<=0)return;t.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(o=>{for(let a=0;a<o.length;){if(o[a].end<=s){o.shift();continue}else if(o[a].start<s)o[a].start=s;else break;a++}}),this.fragmentTracker.removeFragmentsInRange(i,s,De.SUBTITLE)}}onError(e,t){const i=t.frag;(i==null?void 0:i.type)===De.SUBTITLE&&(t.details===j.FRAG_GAP&&this.fragmentTracker.fragBuffered(i,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==oe.STOPPED&&(this.state=oe.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&yI(this.levels,t)){this.levels=t.map(i=>new Kd(i));return}this.tracksBuffered=[],this.levels=t.map(i=>{const n=new Kd(i);return this.tracksBuffered[n.id]=[],n}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,De.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var i;if(this.currentTrackId=t.id,!((i=this.levels)!=null&&i.length)||this.currentTrackId===-1){this.clearInterval();return}const n=this.levels[this.currentTrackId];n!=null&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.state!==oe.STOPPED&&this.setInterval(bw)}onSubtitleTrackLoaded(e,t){var i;const{currentTrackId:n,levels:s}=this,{details:o,id:a}=t;if(!s){this.warn(`Subtitle tracks were reset while loading level ${a}`);return}const l=s[a];if(a>=s.length||!l)return;this.log(`Subtitle track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(o.live||(i=l.details)!=null&&i.live){const h=this.mainDetails;if(o.deltaUpdateFailed||!h)return;const d=h.fragments[0];if(!l.details)o.hasProgramDateTime&&h.hasProgramDateTime?(Pg(o,h),c=o.fragmentStart):d&&(c=d.start,_y(o,c));else{var u;c=this.alignPlaylists(o,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&d&&(c=d.start,_y(o,c))}}l.details=o,this.levelLastLoaded=l,a===n&&(this.hls.trigger(T.SUBTITLE_TRACK_UPDATED,{details:o,id:a,groupId:t.groupId}),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===oe.IDLE&&(_l(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:i}=e,n=t.decryptdata,s=this.hls;if(!this.fragContextChanged(t)&&i&&i.byteLength>0&&n!=null&&n.key&&n.iv&&xc(n.method)){const o=performance.now();this.decrypter.decrypt(new Uint8Array(i),n.key.buffer,n.iv.buffer,Bb(n.method)).catch(a=>{throw s.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.FRAG_DECRYPT_ERROR,fatal:!1,error:a,reason:a.message,frag:t}),a}).then(a=>{const l=performance.now();s.trigger(T.FRAG_DECRYPTED,{frag:t,payload:a,stats:{tstart:o,tdecrypt:l}})}).catch(a=>{this.warn(`${a.name}: ${a.message}`),this.state=oe.IDLE})}}doTick(){if(!this.media){this.state=oe.IDLE;return}if(this.state===oe.IDLE){const{currentTrackId:e,levels:t}=this,i=t==null?void 0:t[e];if(!i||!t.length||!i.details||this.waitForLive(i))return;const{config:n}=this,s=this.getLoadPosition(),o=ct.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,n.maxBufferHole),{end:a,len:l}=o,c=i.details,u=this.hls.maxBufferLength+c.levelTargetDuration;if(l>u)return;const h=c.fragments,d=h.length,f=c.edge;let g=null;const m=this.fragPrevious;if(a<f){const _=n.maxFragLookUpTolerance,w=a>f-_?0:_;g=_l(m,h,Math.max(h[0].start,a),w),!g&&m&&m.start<h[0].start&&(g=h[0])}else g=h[d-1];if(g=this.filterReplacedPrimary(g,i.details),!g)return;const v=g.sn-c.startSN,y=h[v-1];if(y&&y.cc===g.cc&&this.fragmentTracker.getState(y)===Si.NOT_LOADED&&(g=y),this.fragmentTracker.getState(g)===Si.NOT_LOADED){const _=this.mapToInitFragWhenRequired(g);_&&this.loadFragment(_,i,a)}}}loadFragment(e,t,i){Oi(e)?super.loadFragment(e,t,i):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new Sle(this.tracksBuffered[this.currentTrackId]||[])}}class Sle{constructor(e){this.buffered=void 0;const t=(i,n,s)=>{if(n=n>>>0,n>s-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${n}) is greater than the maximum bound (${s})`);return e[n][i]};this.buffered={get length(){return e.length},end(i){return t("end",i,e.length)},start(i){return t("start",i,e.length)}}}}const Ale={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},AI=r=>String.fromCharCode(Ale[r]||r),Ln=15,Ms=100,kle={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ile={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Mle={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ple={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Rle=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Dle{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const i=typeof t=="function"?t():t;_t.log(`${this.time} [${e}] ${i}`)}}}const Oa=function(e){const t=[];for(let i=0;i<e.length;i++)t.push(e[i].toString(16));return t};class kI{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let i=0;i<t.length;i++){const n=t[i];e.hasOwnProperty(n)&&(this[n]=e[n])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Ole{constructor(){this.uchar=" ",this.penState=new kI}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class $le{constructor(e){this.chars=[],this.pos=0,this.currPenState=new kI,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Ms;t++)this.chars.push(new Ole);this.logger=e}equals(e){for(let t=0;t<Ms;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Ms;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Ms;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ms&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ms)}moveCursor(e){const t=this.pos+e;if(e>1)for(let i=this.pos+1;i<t+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=AI(e);if(this.pos>=Ms){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<Ms;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let i=0;i<Ms;i++){const n=this.chars[i].uchar;n!==" "&&(t=!1),e.push(n)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Cv{constructor(e){this.rows=[],this.currRow=Ln-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<Ln;t++)this.rows.push(new $le(e));this.logger=e}reset(){for(let e=0;e<Ln;e++)this.rows[e].clear();this.currRow=Ln-1}equals(e){let t=!0;for(let i=0;i<Ln;i++)if(!this.rows[i].equals(e.rows[i])){t=!1;break}return t}copy(e){for(let t=0;t<Ln;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<Ln;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+ei(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let a=0;a<Ln;a++)this.rows[a].clear();const s=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const a=o.rows[s].cueStartTime,l=this.logger.time;if(a!==null&&l!==null&&a<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[t-this.nrRollUpRows+c+1].copy(o.rows[s+c])}}this.currRow=t;const i=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,o=Math.max(s-1,0);i.setCursor(e.indent),e.color=i.chars[o].penState.foreground}const n={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(n)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+ei(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let i="",n=-1;for(let s=0;s<Ln;s++){const o=this.rows[s].getTextString();o&&(n=s+1,e?t.push("Row "+n+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(e?i="["+t.join(" | ")+"]":i=t.join(`
`)),i}getTextAndFormat(){return this.rows}}class _w{constructor(e,t,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Cv(i),this.nonDisplayedMemory=new Cv(i),this.lastOutputScreen=new Cv(i),this.currRollUpRow=this.displayedMemory.rows[Ln-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Ln-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let i=0;i<e.length;i++)this.writeScreen.insertChar(e[i]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const i=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[i]}this.logger.log(2,"MIDROW: "+ei(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class ww{constructor(e,t,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=Fle(),this.logger=void 0;const n=this.logger=new Dle;this.channels=[null,new _w(e,t,n),new _w(e+1,i,n)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let i=0;i<t.length;i+=2){const n=t[i]&127,s=t[i+1]&127;let o=!1,a=null;if(n===0&&s===0)continue;this.logger.log(3,()=>"["+Oa([t[i],t[i+1]])+"] -> ("+Oa([n,s])+")");const l=this.cmdHistory;if(n>=16&&n<=31){if(Vle(n,s,l)){L1(null,null,l),this.logger.log(3,()=>"Repeated command ("+Oa([n,s])+") is dropped");continue}L1(n,s,this.cmdHistory),o=this.parseCmd(n,s),o||(o=this.parseMidrow(n,s)),o||(o=this.parsePAC(n,s)),o||(o=this.parseBackgroundAttributes(n,s))}else L1(null,null,l);if(!o&&(a=this.parseChars(n,s),a)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!a&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Oa([n,s])+" orig: "+Oa([t[i],t[i+1]]))}}parseCmd(e,t){const i=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,n=(e===23||e===31)&&t>=33&&t<=35;if(!(i||n))return!1;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?t===32?o.ccRCL():t===33?o.ccBS():t===34?o.ccAOF():t===35?o.ccAON():t===36?o.ccDER():t===37?o.ccRU(2):t===38?o.ccRU(3):t===39?o.ccRU(4):t===40?o.ccFON():t===41?o.ccRDC():t===42?o.ccTR():t===43?o.ccRTD():t===44?o.ccEDM():t===45?o.ccCR():t===46?o.ccENM():t===47&&o.ccEOC():o.ccTO(t-32),this.currentChannel=s,!0}parseMidrow(e,t){let i=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?i=1:i=2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const n=this.channels[i];return n?(n.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+Oa([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let i;const n=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,s=(e===16||e===24)&&t>=64&&t<=95;if(!(n||s))return!1;const o=e<=23?1:2;t>=64&&t<=95?i=o===1?kle[e]:Mle[e]:i=o===1?Ile[e]:Ple[e];const a=this.channels[o];return a?(a.setPAC(this.interpretPAC(i,t)),this.currentChannel=o,!0):!1}interpretPAC(e,t){let i;const n={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?i=t-96:i=t-64,n.underline=(i&1)===1,i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=Math.floor((i-16)/2)*4,n}parseChars(e,t){let i,n=null,s=null;if(e>=25?(i=2,s=e-8):(i=1,s=e),s>=17&&s<=19){let o;s===17?o=t+80:s===18?o=t+112:o=t+144,this.logger.log(2,()=>"Special char '"+AI(o)+"' in channel "+i),n=[o]}else e>=32&&e<=127&&(n=t===0?[e]:[e,t]);return n&&this.logger.log(3,()=>"Char codes =  "+Oa(n).join(",")),n}parseBackgroundAttributes(e,t){const i=(e===16||e===24)&&t>=32&&t<=47,n=(e===23||e===31)&&t>=45&&t<=47;if(!(i||n))return!1;let s;const o={};e===16||e===24?(s=Math.floor((t-32)/2),o.background=Rle[s],t%2===1&&(o.background=o.background+"_semi")):t===45?o.background="transparent":(o.foreground="black",t===47&&(o.underline=!0));const a=e<=23?1:2;return this.channels[a].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}L1(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const i=this.channels[t];i&&i.cueSplitAtTime(e)}}}function L1(r,e,t){t.a=r,t.b=e}function Vle(r,e,t){return t.a===r&&t.b===e}function Fle(){return{a:null,b:null}}var Qb=function(){if(Mg!=null&&Mg.VTTCue)return self.VTTCue;const r=["","lr","rl"],e=["start","middle","end","left","right"];function t(a,l){if(typeof l!="string"||!Array.isArray(a))return!1;const c=l.toLowerCase();return~a.indexOf(c)?c:!1}function i(a){return t(r,a)}function n(a){return t(e,a)}function s(a,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const h in u)a[h]=u[h]}return a}function o(a,l,c){const u=this,h={enumerable:!0};u.hasBeenReset=!1;let d="",f=!1,g=a,m=l,v=c,y=null,_="",w=!0,S="auto",k="start",P=50,x="middle",C=50,E="middle";Object.defineProperty(u,"id",s({},h,{get:function(){return d},set:function(A){d=""+A}})),Object.defineProperty(u,"pauseOnExit",s({},h,{get:function(){return f},set:function(A){f=!!A}})),Object.defineProperty(u,"startTime",s({},h,{get:function(){return g},set:function(A){if(typeof A!="number")throw new TypeError("Start time must be set to a number.");g=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",s({},h,{get:function(){return m},set:function(A){if(typeof A!="number")throw new TypeError("End time must be set to a number.");m=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",s({},h,{get:function(){return v},set:function(A){v=""+A,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",s({},h,{get:function(){return y},set:function(A){y=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",s({},h,{get:function(){return _},set:function(A){const I=i(A);if(I===!1)throw new SyntaxError("An invalid or illegal string was specified.");_=I,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",s({},h,{get:function(){return w},set:function(A){w=!!A,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",s({},h,{get:function(){return S},set:function(A){if(typeof A!="number"&&A!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");S=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",s({},h,{get:function(){return k},set:function(A){const I=n(A);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");k=I,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",s({},h,{get:function(){return P},set:function(A){if(A<0||A>100)throw new Error("Position must be between 0 and 100.");P=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",s({},h,{get:function(){return x},set:function(A){const I=n(A);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");x=I,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",s({},h,{get:function(){return C},set:function(A){if(A<0||A>100)throw new Error("Size must be between 0 and 100.");C=A,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",s({},h,{get:function(){return E},set:function(A){const I=n(A);if(!I)throw new SyntaxError("An invalid or illegal string was specified.");E=I,this.hasBeenReset=!0}})),u.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class Ble{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function II(r){function e(i,n,s,o){return(i|0)*3600+(n|0)*60+(s|0)+parseFloat(o||0)}const t=r.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class Nle{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,i){for(let n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const i=parseFloat(t);if(i>=0&&i<=100)return this.set(e,i),!0}return!1}}function MI(r,e,t,i){const n=i?r.split(i):[r];for(const s in n){if(typeof n[s]!="string")continue;const o=n[s].split(t);if(o.length!==2)continue;const a=o[0],l=o[1];e(a,l)}}const Ay=new Qb(0,0,""),S1=Ay.align==="middle"?"middle":"center";function Hle(r,e,t){const i=r;function n(){const a=II(r);if(a===null)throw new Error("Malformed timestamp: "+i);return r=r.replace(/^[^\sa-zA-Z-]+/,""),a}function s(a,l){const c=new Nle;MI(a,function(d,f){let g;switch(d){case"region":for(let m=t.length-1;m>=0;m--)if(t[m].id===f){c.set(d,t[m].region);break}break;case"vertical":c.alt(d,f,["rl","lr"]);break;case"line":g=f.split(","),c.integer(d,g[0]),c.percent(d,g[0])&&c.set("snapToLines",!1),c.alt(d,g[0],["auto"]),g.length===2&&c.alt("lineAlign",g[1],["start",S1,"end"]);break;case"position":g=f.split(","),c.percent(d,g[0]),g.length===2&&c.alt("positionAlign",g[1],["start",S1,"end","line-left","line-right","auto"]);break;case"size":c.percent(d,f);break;case"align":c.alt(d,f,["start",S1,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&Ay.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",S1);let h=c.get("position","auto");h==="auto"&&Ay.position===50&&(h=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=h}function o(){r=r.replace(/^\s+/,"")}if(o(),e.startTime=n(),o(),r.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+i);r=r.slice(3),o(),e.endTime=n(),o(),s(r,e)}function PI(r){return r.replace(/<br(?: \/)?>/gi,`
`)}class Ule{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Ble,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function i(){let s=t.buffer,o=0;for(s=PI(s);o<s.length&&s[o]!=="\r"&&s[o]!==`
`;)++o;const a=s.slice(0,o);return s[o]==="\r"&&++o,s[o]===`
`&&++o,t.buffer=s.slice(o),a}function n(s){MI(s,function(o,a){},/:/)}try{let s="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;s=i();const a=s.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(a!=null&&a[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let o=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:s=i(),t.state){case"HEADER":/:/.test(s)?n(s):s||(t.state="ID");continue;case"NOTE":s||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){t.state="NOTE";break}if(!s)continue;if(t.cue=new Qb(0,0,""),t.state="CUE",s.indexOf("-->")===-1){t.cue.id=s;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{Hle(s,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const a=s.indexOf("-->")!==-1;if(!s||a&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=s}continue;case"BADCUE":s||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const zle=/\r\n|\n\r|\n|\r/g,xv=function(e,t,i=0){return e.slice(i,i+t.length)===t},jle=function(e){let t=parseInt(e.slice(-3));const i=parseInt(e.slice(-6,-4)),n=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Ae(t)||!Ae(i)||!Ae(n)||!Ae(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*i,t+=60*1e3*n,t+=60*60*1e3*s,t};function Jb(r,e,t){return Kh(r.toString())+Kh(e.toString())+Kh(t)}const Gle=function(e,t,i){let n=e[t],s=e[n.prevCC];if(!s||!s.new&&n.new){e.ccOffset=e.presentationOffset=n.start,n.new=!1;return}for(;(o=s)!=null&&o.new;){var o;e.ccOffset+=n.start-s.start,n.new=!1,n=s,s=e[n.prevCC]}e.presentationOffset=i};function Zle(r,e,t,i,n,s,o){const a=new Ule,l=Qr(new Uint8Array(r)).trim().replace(zle,`
`).split(`
`),c=[],u=e?uae(e.baseTime,e.timescale):0;let h="00:00.000",d=0,f=0,g,m=!0;a.oncue=function(v){const y=t[i];let _=t.ccOffset;const w=(d-u)/9e4;if(y!=null&&y.new&&(f!==void 0?_=t.ccOffset=y.start:Gle(t,i,w)),w){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}_=w-t.presentationOffset}const S=v.endTime-v.startTime,k=dn((v.startTime+_-f)*9e4,n*9e4)/9e4;v.startTime=Math.max(k,0),v.endTime=Math.max(k+S,0);const P=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(P)),v.id||(v.id=Jb(v.startTime,v.endTime,P)),v.endTime>0&&c.push(v)},a.onparsingerror=function(v){g=v},a.onflush=function(){if(g){o(g);return}s(c)},l.forEach(v=>{if(m)if(xv(v,"X-TIMESTAMP-MAP=")){m=!1,v.slice(16).split(",").forEach(y=>{xv(y,"LOCAL:")?h=y.slice(6):xv(y,"MPEGTS:")&&(d=parseInt(y.slice(7)))});try{f=jle(h)/1e3}catch(y){g=y}return}else v===""&&(m=!1);a.parse(v+`
`)}),a.flush()}const Ev="stpp.ttml.im1t",RI=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,DI=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Wle={left:"start",center:"center",right:"end",start:"start",end:"end"};function Cw(r,e,t,i){const n=nt(new Uint8Array(r),["mdat"]);if(n.length===0){i(new Error("Could not parse IMSC1 mdat"));return}const s=n.map(a=>Qr(a)),o=cae(e.baseTime,1,e.timescale);try{s.forEach(a=>t(Kle(a,o)))}catch(a){i(a)}}function Kle(r,e){const n=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(s).reduce((h,d)=>(h[d]=n.getAttribute(`ttp:${d}`)||s[d],h),{}),a=n.getAttribute("xml:space")!=="preserve",l=xw(Tv(n,"styling","style")),c=xw(Tv(n,"layout","region")),u=Tv(n,"body","[begin]");return[].map.call(u,h=>{const d=OI(h,a);if(!d||!h.hasAttribute("begin"))return null;const f=Sv(h.getAttribute("begin"),o),g=Sv(h.getAttribute("dur"),o);let m=Sv(h.getAttribute("end"),o);if(f===null)throw Ew(h);if(m===null){if(g===null)throw Ew(h);m=f+g}const v=new Qb(f-e,m-e,d);v.id=Jb(v.startTime,v.endTime,v.text);const y=c[h.getAttribute("region")],_=l[h.getAttribute("style")],w=qle(y,_,l),{textAlign:S}=w;if(S){const k=Wle[S];k&&(v.lineAlign=k),v.align=S}return Ut(v,w),v}).filter(h=>h!==null)}function Tv(r,e,t){const i=r.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(t)):[]}function xw(r){return r.reduce((e,t)=>{const i=t.getAttribute("xml:id");return i&&(e[i]=t),e},{})}function OI(r,e){return[].slice.call(r.childNodes).reduce((t,i,n)=>{var s;return i.nodeName==="br"&&n?t+`
`:(s=i.childNodes)!=null&&s.length?OI(i,e):e?t+i.textContent.trim().replace(/\s+/g," "):t+i.textContent},"")}function qle(r,e,t){const i="http://www.w3.org/ns/ttml#styling";let n=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=r!=null&&r.hasAttribute("style")?r.getAttribute("style"):null;return o&&t.hasOwnProperty(o)&&(n=t[o]),s.reduce((a,l)=>{const c=Lv(e,i,l)||Lv(r,i,l)||Lv(n,i,l);return c&&(a[l]=c),a},{})}function Lv(r,e,t){return r&&r.hasAttributeNS(e,t)?r.getAttributeNS(e,t):null}function Ew(r){return new Error(`Could not parse ttml timestamp ${r}`)}function Sv(r,e){if(!r)return null;let t=II(r);return t===null&&(RI.test(r)?t=Yle(r,e):DI.test(r)&&(t=Xle(r,e))),t}function Yle(r,e){const t=RI.exec(r),i=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+i/e.frameRate}function Xle(r,e){const t=DI.exec(r),i=Number(t[1]);switch(t[2]){case"h":return i*3600;case"m":return i*60;case"ms":return i*1e3;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}class A1{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,i){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class Qle{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=Lw(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(T.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(T.FRAG_LOADING,this.onFragLoading,this),e.on(T.FRAG_LOADED,this.onFragLoaded,this),e.on(T.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(T.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(T.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(T.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(T.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(T.FRAG_LOADING,this.onFragLoading,this),e.off(T.FRAG_LOADED,this.onFragLoaded,this),e.off(T.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(T.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(T.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(T.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new A1(this,"textTrack1"),t=new A1(this,"textTrack2"),i=new A1(this,"textTrack3"),n=new A1(this,"textTrack4");this.cea608Parser1=new ww(1,e,t),this.cea608Parser2=new ww(3,i,n)}addCues(e,t,i,n,s){let o=!1;for(let a=s.length;a--;){const l=s[a],c=Jle(l[0],l[1],t,i);if(c>=0&&(l[0]=Math.min(l[0],t),l[1]=Math.max(l[1],i),o=!0,c/(i-t)>.5))return}if(o||s.push([t,i]),this.config.renderTextTracksNatively){const a=this.captionsTracks[e];this.Cues.newCue(a,t,i,n)}else{const a=this.Cues.newCue(null,t,i,n);this.hls.trigger(T.CUES_PARSED,{type:"captions",cues:a,track:e})}}onInitPtsFound(e,{frag:t,id:i,initPTS:n,timescale:s}){const{unparsedVttFrags:o}=this;i===De.MAIN&&(this.initPTS[t.cc]={baseTime:n,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(a=>{this.onFragLoaded(T.FRAG_LOADED,a)}))}getExistingTrack(e,t){const{media:i}=this;if(i)for(let n=0;n<i.textTracks.length;n++){const s=i.textTracks[n];if(Tw(s,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:i,media:n}=this,{label:s,languageCode:o}=t[e],a=this.getExistingTrack(s,o);if(a)i[e]=a,uc(i[e]),TI(i[e],n);else{const l=this.createTextTrack("captions",s,o);l&&(l[e]=!0,i[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const i=t.label,n={_id:e,label:i,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(T.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(e,t,i){const n=this.media;if(n)return n.addTextTrack(e,t,i)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const i=!!t.transferMedia;if(this.media=null,i)return;const{captionsTracks:n}=this;Object.keys(n).forEach(s=>{uc(n[s]),delete n[s]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=Lw(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let i=0;i<t.length;i++)uc(t[i])}onSubtitleTracksUpdated(e,t){const i=t.subtitleTracks||[],n=i.some(s=>s.textCodec===Ev);if(this.config.enableWebVTT||n&&this.config.enableIMSC1){if(yI(this.tracks,i)){this.tracks=i;return}if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const o=this.media,a=o?sp(o.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(a){let h=null;for(let d=0;d<a.length;d++)if(a[d]&&Tw(a[d],l)){h=a[d],a[d]=null;break}h&&(u=h)}if(u)uc(u);else{const h=$I(l);u=this.createTextTrack(h,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),a!=null&&a.length){const l=a.filter(c=>c!==null).map(c=>c.label);l.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(a=>({label:a.name,kind:a.type.toLowerCase(),default:a.default,subtitleTrack:a}));this.hls.trigger(T.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(i=>{const n=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!n)return;const s=`textTrack${n[1]}`,o=this.captionsProperties[s];o&&(o.label=i.name,i.lang&&(o.languageCode=i.lang),o.media=i)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t==null?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===De.MAIN){var i,n;const{cea608Parser1:s,cea608Parser2:o,lastSn:a}=this,{cc:l,sn:c}=t.frag,u=(i=(n=t.part)==null?void 0:n.index)!=null?i:-1;s&&o&&(c!==a+1||c===a&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(s.reset(),o.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,t){const{frag:i,payload:n}=t;if(i.type===De.SUBTITLE)if(n.byteLength){const s=i.decryptdata,o="stats"in t;if(s==null||!s.encrypted||o){const a=this.tracks[i.level],l=this.vttCCs;l[i.cc]||(l[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),a&&a.textCodec===Ev?this._parseIMSC1(i,n):this._parseVTTs(t)}}else this.hls.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const i=this.hls;Cw(t,this.initPTS[e.cc],n=>{this._appendCues(n,e.level),i.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},n=>{i.logger.log(`Failed to parse IMSC1: ${n}`),i.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:n})})}_parseVTTs(e){var t;const{frag:i,payload:n}=e,{initPTS:s,unparsedVttFrags:o}=this,a=s.length-1;if(!s[i.cc]&&a===-1){o.push(e);return}const l=this.hls,c=(t=i.initSegment)!=null&&t.data?wn(i.initSegment.data,new Uint8Array(n)).buffer:n;Zle(c,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,u=>{this._appendCues(u,i.level),l.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},u=>{const h=u.message==="Missing initPTS for VTT MPEGTS";h?o.push(e):this._fallbackToIMSC1(i,n),l.logger.log(`Failed to parse VTT cue: ${u}`),!(h&&a>i.cc)&&l.trigger(T.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:u})})}_fallbackToIMSC1(e,t){const i=this.tracks[e.level];i.textCodec||Cw(t,this.initPTS[e.cc],()=>{i.textCodec=Ev,this._parseIMSC1(e,t)},()=>{i.textCodec="wvtt"})}_appendCues(e,t){const i=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[t];if(!n||n.mode==="disabled")return;e.forEach(s=>LI(n,s))}else{const n=this.tracks[t];if(!n)return;const s=n.default?"default":"subtitles"+t;i.trigger(T.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,t){const{frag:i}=t;i.type===De.SUBTITLE&&this.onFragLoaded(T.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:i,samples:n}=t;if(!(i.type===De.MAIN&&this.closedCaptionsForLevel(i)==="NONE"))for(let s=0;s<n.length;s++){const o=n[s].bytes;if(o){this.cea608Parser1||this.initCea608Parsers();const a=this.extractCea608Data(o);this.cea608Parser1.addData(n[s].pts,a[0]),this.cea608Parser2.addData(n[s].pts,a[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:i,endOffsetSubtitles:n,type:s}){const{media:o}=this;if(!(!o||o.currentTime<i)){if(!s||s==="video"){const{captionsTracks:a}=this;Object.keys(a).forEach(l=>Ly(a[l],t,i))}if(this.config.renderTextTracksNatively&&t===0&&n!==void 0){const{textTracks:a}=this;Object.keys(a).forEach(l=>Ly(a[l],t,n))}}}extractCea608Data(e){const t=[[],[]],i=e[0]&31;let n=2;for(let s=0;s<i;s++){const o=e[n++],a=127&e[n++],l=127&e[n++];if(a===0&&l===0)continue;if((4&o)!==0){const u=3&o;(u===0||u===1)&&(t[u].push(a),t[u].push(l))}}return t}}function $I(r){return r.characteristics&&/transcribes-spoken-dialog/gi.test(r.characteristics)&&/describes-music-and-sound/gi.test(r.characteristics)?"captions":"subtitles"}function Tw(r,e){return!!r&&r.kind===$I(e)&&xy(e,r)}function Jle(r,e,t,i){return Math.min(e,i)-Math.max(r,t)}function Lw(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const ece=/\s/,tce={newCue(r,e,t,i){const n=[];let s,o,a,l,c;const u=self.VTTCue||self.TextTrackCue;for(let d=0;d<i.rows.length;d++)if(s=i.rows[d],a=!0,l=0,c="",!s.isEmpty()){var h;for(let m=0;m<s.chars.length;m++)ece.test(s.chars[m].uchar)&&a?l++:(c+=s.chars[m].uchar,a=!1);s.cueStartTime=e,e===t&&(t+=1e-4),l>=16?l--:l++;const f=PI(c.trim()),g=Jb(e,t,f);r!=null&&(h=r.cues)!=null&&h.getCueById(g)||(o=new u(e,t,f),o.id=g,o.line=d+1,o.align="left",o.position=10+Math.min(80,Math.floor(l*8/32)*10),n.push(o))}return r&&n.length&&(n.sort((d,f)=>d.line==="auto"||f.line==="auto"?0:d.line>8&&f.line>8?f.line-d.line:d.line-f.line),n.forEach(d=>LI(r,d))),n}};function ice(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const rce=/(\d+)-(\d+)\/(\d+)/;class Sw{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||ace,this.controller=new self.AbortController,this.stats=new Rb}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,i){const n=this.stats;if(n.loading.start)throw new Error("Loader can only be used once.");n.loading.start=self.performance.now();const s=nce(e,this.controller.signal),o=e.responseType==="arraybuffer",a=o?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=i,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),t.timeout=l&&Ae(l)?l:c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(n,e,this.response))},t.timeout),(Jd(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(h=>{var d;this.response=this.loader=h;const f=Math.max(self.performance.now(),n.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=c,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(n,e,this.response))},c-(f-n.loading.start)),!h.ok){const{status:m,statusText:v}=h;throw new lce(v||"fetch, bad network response",m,h)}n.loading.first=f,n.total=oce(h.headers)||n.total;const g=(d=this.callbacks)==null?void 0:d.onProgress;return g&&Ae(t.highWaterMark)?this.loadProgressively(h,n,e,t.highWaterMark,g):o?h.arrayBuffer():e.responseType==="json"?h.json():h.text()}).then(h=>{var d,f;const g=this.response;if(!g)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first);const m=h[a];m&&(n.loaded=n.total=m);const v={url:g.url,data:h,code:g.status},y=(d=this.callbacks)==null?void 0:d.onProgress;y&&!Ae(t.highWaterMark)&&y(n,e,h,g),(f=this.callbacks)==null||f.onSuccess(v,n,e,g)}).catch(h=>{var d;if(self.clearTimeout(this.requestTimeout),n.aborted)return;const f=h&&h.code||0,g=h?h.message:null;(d=this.callbacks)==null||d.onError({code:f,text:g},e,h?h.details:null,n)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,i,n=0,s){const o=new Xk,a=e.body.getReader(),l=()=>a.read().then(c=>{if(c.done)return o.dataLength&&s(t,i,o.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const u=c.value,h=u.length;return t.loaded+=h,h<n||o.dataLength?(o.push(u),o.dataLength>=n&&s(t,i,o.flush().buffer,e)):s(t,i,u.buffer,e),l()}).catch(()=>Promise.reject());return l()}}function nce(r,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Ut({},r.headers))};return r.rangeEnd&&t.headers.set("Range","bytes="+r.rangeStart+"-"+String(r.rangeEnd-1)),t}function sce(r){const e=rce.exec(r);if(e)return parseInt(e[2])-parseInt(e[1])+1}function oce(r){const e=r.get("Content-Range");if(e){const i=sce(e);if(Ae(i))return i}const t=r.get("Content-Length");if(t)return parseInt(t)}function ace(r,e){return new self.Request(r.url,e)}class lce extends Error{constructor(e,t,i){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=i}}const cce=/^age:\s*[\d.]+\s*$/im;class VI{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Rb,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const i=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0,n.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==i||this.stats.aborted))return s(i,t.url)}).catch(o=>{if(!(this.loader!==i||this.stats.aborted))return i.open("GET",t.url,!0),s(i,t.url)}).then(()=>{this.loader!==i||this.stats.aborted||this.openAndSendXhr(i,t,e)}).catch(o=>{var a;(a=this.callbacks)==null||a.onError({code:i.status,text:o.message},t,i,n)}):this.openAndSendXhr(i,t,e)}openAndSendXhr(e,t,i){e.readyState||e.open("GET",t.url,!0);const n=t.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:o}=i.loadPolicy;if(n)for(const a in n)e.setRequestHeader(a,n[a]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),i.timeout=s&&Ae(s)?s:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:i}=this;if(!e||!t)return;const n=t.readyState,s=this.config;if(!i.aborted&&n>=2&&(i.loading.first===0&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),n===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const c=t.status,u=t.responseType==="text"?t.responseText:null;if(c>=200&&c<300){const g=u??t.response;if(g!=null){var o,a;i.loading.end=Math.max(self.performance.now(),i.loading.first);const m=t.responseType==="arraybuffer"?g.byteLength:g.length;i.loaded=i.total=m,i.bwEstimate=i.total*8e3/(i.loading.end-i.loading.first);const v=(o=this.callbacks)==null?void 0:o.onProgress;v&&v(i,e,g,t);const y={url:t.responseURL,data:g,code:c};(a=this.callbacks)==null||a.onSuccess(y,i,e,t);return}}const h=s.loadPolicy.errorRetry,d=i.retry,f={url:e.url,data:void 0,code:c};if(Ig(h,d,!1,f))this.retry(h);else{var l;_t.error(`${c} while loading ${e.url}`),(l=this.callbacks)==null||l.onError({code:c,text:t.statusText},e,t,i)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(Ig(e,t,!0))this.retry(e);else{var i;_t.warn(`timeout while loading ${(i=this.context)==null?void 0:i.url}`);const n=this.callbacks;n&&(this.abortInternal(),n.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:i}=this;this.retryDelay=$b(e,i.retry),i.retry++,_t.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t==null?void 0:t.url}, retrying ${i.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&cce.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const uce={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},hce=Ot(Ot({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:VI,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Rse,bufferController:Tae,capLevelController:Yb,errorController:Bse,fpsController:gle,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Nk,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,certLoadPolicy:{default:uce},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},dce()),{},{subtitleStreamController:Lle,subtitleTrackController:yle,timelineController:Qle,audioStreamController:wae,audioTrackController:Cae,emeController:Ec,cmcdController:dle,contentSteeringController:ple,interstitialsController:Tle});function dce(){return{cueHandler:tce,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function fce(r,e,t){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=ky(r),n=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return n.forEach(o=>{const a=`${o==="level"?"playlist":o}LoadPolicy`,l=e[a]===void 0,c=[];s.forEach(u=>{const h=`${o}Loading${u}`,d=e[h];if(d!==void 0&&l){c.push(h);const f=i[a].default;switch(e[a]={default:f},u){case"TimeOut":f.maxLoadTimeMs=d,f.maxTimeToFirstByteMs=d;break;case"MaxRetry":f.errorRetry.maxNumRetry=d,f.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":f.errorRetry.retryDelayMs=d,f.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=d,f.timeoutRetry.maxRetryDelayMs=d;break}}}),c.length&&t.warn(`hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${a}": ${ei(e[a])}`)}),Ot(Ot({},i),e)}function ky(r){return r&&typeof r=="object"?Array.isArray(r)?r.map(ky):Object.keys(r).reduce((e,t)=>(e[t]=ky(r[t]),e),{}):r}function pce(r,e){const t=r.loader;t!==Sw&&t!==VI?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),r.progressive=!1):ice()&&(r.loader=Sw,r.progressive=!0,r.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const op=2,gce=.1,mce=.05,vce=100;class yce extends Vk{constructor(e,t){super("gap-controller",e.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var i;(i=this.media)!=null&&i.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var i;this.ended=((i=this.media)==null?void 0:i.currentTime)||1,this.hls.trigger(T.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(T.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(T.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval(vce),this.mediaSource=t.mediaSource;const i=this.media=t.media;Zs(i,"playing",this.onMediaPlaying),Zs(i,"waiting",this.onMediaWaiting),Zs(i,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:i}=this;i&&(cs(i,"playing",this.onMediaPlaying),cs(i,"waiting",this.onMediaWaiting),cs(i,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var i,n;const s=(i=this.hls)==null?void 0:i.config;if(!s)return;const{media:o,stalled:a}=this;if(!o)return;const{seeking:l}=o,c=this.seeking&&!l,u=!this.seeking&&l,h=o.paused&&!l||o.ended||o.playbackRate===0;if(this.seeking=l,e!==t){t&&(this.ended=0),this.moved=!0,l||(this.nudgeRetry=0,s.nudgeOnVideoHole&&!h&&e>t&&this.nudgeOnVideoHole(e,t)),this.waiting===0&&this.stallResolved(e);return}if(u||c){c&&this.stallResolved(e);return}if(h){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&o.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(T.MEDIA_ENDED,{stalled:!1}));return}if(!ct.getBuffered(o).length){this.nudgeRetry=0;return}const d=ct.bufferInfo(o,e,0),f=d.nextStart||0,g=this.fragmentTracker;if(l&&g&&this.hls){const P=Aw(this.hls.inFlightFragments,e),x=d.len>op,C=!f||P||f-e>op&&!g.getPartialFragment(e);if(x||C)return;this.moved=!1}const m=(n=this.hls)==null?void 0:n.latestLevelDetails;if(!this.moved&&this.stalled!==null&&g){if(!(d.len>0)&&!f)return;const x=Math.max(f,d.start||0)-e,E=!!(m!=null&&m.live)?m.targetduration*2:op,A=g.getPartialFragment(e);if(x>0&&(x<=E||A)){o.paused||this._trySkipBufferHole(A);return}}const v=s.detectStallWithCurrentTimeMs,y=self.performance.now(),_=this.waiting;if(a===null){_>0&&y-_<v?this.stalled=_:this.stalled=y;return}const w=y-a;if(!l&&(w>=v||_)&&this.hls){var S;if(((S=this.mediaSource)==null?void 0:S.readyState)==="ended"&&!(m!=null&&m.live)&&Math.abs(e-((m==null?void 0:m.edge)||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(T.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(d),!this.media||!this.hls)return}const k=ct.bufferInfo(o,e,s.maxBufferHole);this._tryFixBufferStall(k,w)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const i=self.performance.now()-t;this.log(`playback not stuck anymore @${e}, after ${Math.round(i)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(T.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var i;const n=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(i=this.buffered.audio)!=null&&i.length&&n&&n.length>1&&e>n.end(0)){const s=ct.bufferedInfo(ct.timeRangesToArray(this.buffered.audio),e,0);if(s.len>1&&t>=s.start){const o=ct.timeRangesToArray(n),a=ct.bufferedInfo(o,t,0).bufferedIndex;if(a>-1&&a<o.length-1){const l=ct.bufferedInfo(o,e,0).bufferedIndex,c=o[a].end,u=o[a+1].start;if((l===-1||l>a)&&u-c<1&&e-c<2){const h=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${c} -> ${u} buffered index: ${l}`);this.warn(h.message),this.media.currentTime+=1e-6;const d=this.fragmentTracker.getPartialFragment(e)||void 0,f=ct.bufferInfo(this.media,e,0);this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:h,reason:h.message,frag:d,buffer:f.len,bufferInfo:f})}}}}}_tryFixBufferStall(e,t){var i,n;const{fragmentTracker:s,media:o}=this,a=(i=this.hls)==null?void 0:i.config;if(!o||!s||!a)return;const l=o.currentTime,c=(n=this.hls)==null?void 0:n.latestLevelDetails,u=s.getPartialFragment(l);if((u||c!=null&&c.live&&l<c.fragmentStart)&&(this._trySkipBufferHole(u)||!this.media))return;const h=e.buffered;(h&&h.length>1&&e.len>a.maxBufferHole||e.nextStart&&e.nextStart-l<a.maxBufferHole)&&(t>a.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}_reportStall(e){const{hls:t,media:i,stallReported:n,stalled:s}=this;if(!n&&s!==null&&i&&t){this.stallReported=!0;const o=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${ei(e)})`);this.warn(o.message),t.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.BUFFER_STALLED_ERROR,fatal:!1,error:o,buffer:e.len,bufferInfo:e,stalled:{start:s}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:i,media:n}=this,s=(t=this.hls)==null?void 0:t.config;if(!n||!i||!s)return 0;const o=n.currentTime,a=ct.bufferInfo(n,o,0),l=o<a.start?a.start:a.nextStart;if(l&&this.hls){const u=a.len<=s.maxBufferHole,h=a.len>0&&a.len<1&&n.readyState<3,d=l-o;if(d>0&&(u||h)){if(d>s.maxBufferHole){let g=!1;if(o===0){const m=i.getAppendedFrag(0,De.MAIN);m&&l<m.end&&(g=!0)}if(!g){const m=e||i.getAppendedFrag(o,De.MAIN);if(m){var c;if(!((c=this.hls.loadLevelObj)!=null&&c.details)||Aw(this.hls.inFlightFragments,l))return 0;let y=!1,_=m.end;for(;_<l;){const w=i.getPartialFragment(_);if(w)_+=w.duration;else{y=!0;break}}if(y)return 0}}}const f=Math.max(l+mce,o+gce);if(this.warn(`skipping hole, adjusting currentTime from ${o} to ${f}`),this.moved=!0,n.currentTime=f,!(e!=null&&e.gap)){const g=new Error(`fragment loaded with buffer holes, seeking from ${o} to ${f}`);this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:g,reason:g.message,frag:e||void 0,buffer:a.len,bufferInfo:a})}return f}}return 0}_tryNudgeBuffer(e){const{hls:t,media:i,nudgeRetry:n}=this,s=t==null?void 0:t.config;if(!i||!s)return 0;const o=i.currentTime;if(this.nudgeRetry++,n<s.nudgeMaxRetry){const a=o+(n+1)*s.nudgeOffset,l=new Error(`Nudging 'currentTime' from ${o} to ${a}`);this.warn(l.message),i.currentTime=a,t.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.BUFFER_NUDGE_ON_STALL,error:l,fatal:!1,buffer:e.len,bufferInfo:e})}else{const a=new Error(`Playhead still not moving while enough data buffered @${o} after ${s.nudgeMaxRetry} nudges`);this.error(a.message),t.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.BUFFER_STALLED_ERROR,error:a,fatal:!0,buffer:e.len,bufferInfo:e})}}}function Aw(r,e){const t=kw(r.main);if(t&&t.start<=e)return t;const i=kw(r.audio);return i&&i.start<=e?i:null}function kw(r){if(!r)return null;switch(r.state){case oe.IDLE:case oe.STOPPED:case oe.ENDED:case oe.ERROR:return null}return r.frag}const bce=.25;function Iy(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function Iw(r,e,t,i,n){let s=new r(e,t,"");try{s.value=i,n&&(s.type=n)}catch{s=new r(e,t,ei(n?Ot({type:n},i):i))}return s}const k1=(()=>{const r=Iy();try{r&&new r(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function _ce(r){return Uint8Array.from(r.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class wce{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(T.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e.on(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(T.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(T.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(T.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(T.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(T.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(T.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(T.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(e,t){var i;this.media=t.media,((i=t.overrides)==null?void 0:i.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){const e=this.hls.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(e,t){this.media=null,!t.transferMedia&&(this.id3Track&&(this.removeCues&&uc(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const i=e[t];if(i.kind==="metadata"&&i.label==="id3")return TI(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:n}}}=this;if(!i&&!n)return;const{samples:s}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=Iy();if(o)for(let a=0;a<s.length;a++){const l=s[a].type;if(l===Zr.emsg&&!i||!n)continue;const c=sI(s[a].data);if(c){const u=s[a].pts;let h=u+s[a].duration;h>k1&&(h=k1),h-u<=0&&(h=u+bce);for(let f=0;f<c.length;f++){const g=c[f];if(!oI(g)){this.updateId3CueEnds(u,l);const m=Iw(o,u,h,g,l);m&&this.id3Track.addCue(m)}}}}}updateId3CueEnds(e,t){var i;const n=(i=this.id3Track)==null?void 0:i.cues;if(n)for(let s=n.length;s--;){const o=n[s];o.type===t&&o.startTime<e&&o.endTime===k1&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:i,type:n}){const{id3Track:s,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:l}}=o;if(s&&(a||l)){let c;n==="audio"?c=u=>u.type===Zr.audioId3&&l:n==="video"?c=u=>u.type===Zr.emsg&&a:c=u=>u.type===Zr.audioId3&&l||u.type===Zr.emsg&&a,Ly(s,t,i,c)}}onLevelUpdated(e,{details:t}){this.updateDateRangeCues(t,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:i}=this,{dateRanges:n}=e,s=Object.keys(n);let o=this.dateRangeCuesAppended;if(i&&t){var a;if((a=i.cues)!=null&&a.length){const u=Object.keys(o).filter(h=>!s.includes(h));for(let h=u.length;h--;){const d=u[h],f=o[d].cues;delete o[d],Object.keys(f).forEach(g=>{try{const m=f[g];m.removeEventListener("enter",this.onEventCueEnter),i.removeCue(m)}catch{}})}}else o=this.dateRangeCuesAppended={}}const l=e.fragments[e.fragments.length-1];if(s.length===0||!Ae(l==null?void 0:l.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const c=Iy();for(let u=0;u<s.length;u++){const h=s[u],d=n[h],f=d.startTime,g=o[h],m=(g==null?void 0:g.cues)||{};let v=(g==null?void 0:g.durationKnown)||!1,y=k1;const{duration:_,endDate:w}=d;if(w&&_!==null)y=f+_,v=!0;else if(d.endOnNext&&!v){const k=s.reduce((P,x)=>{if(x!==d.id){const C=n[x];if(C.class===d.class&&C.startDate>d.startDate&&(!P||d.startDate<P.startDate))return C}return P},null);k&&(y=k.startTime,v=!0)}const S=Object.keys(d.attr);for(let k=0;k<S.length;k++){const P=S[k];if(!Qse(P))continue;const x=m[P];if(x)v&&!g.durationKnown?x.endTime=y:Math.abs(x.startTime-f)>.01&&(x.startTime=f,x.endTime=y);else if(c){let C=d.attr[P];Jse(P)&&(C=_ce(C));const A=Iw(c,f,y,{key:P,data:C},Zr.dateRange);A&&(A.id=h,this.id3Track.addCue(A),m[P]=A,this.hls.config.interstitialsController&&(P==="X-ASSET-LIST"||P==="X-ASSET-URL")&&A.addEventListener("enter",this.onEventCueEnter))}}o[h]={cues:m,dateRange:d,durationKnown:v}}}}class Cce{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,i=this.levelDetails;if(!t||!i)return;this.currentTime=t.currentTime;const n=this.computeLatency();if(n===null)return;this._latency=n;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:o}=this.config;if(!s||o===1||!i.live)return;const a=this.targetLatency;if(a===null)return;const l=n-a,c=Math.min(this.maxLatency,a+i.targetduration);if(l<c&&l>.05&&this.forwardBufferLength>1){const h=Math.min(2,Math.max(1,o)),d=Math.round(2/(1+Math.exp(-.75*l-this.edgeStalled))*20)/20,f=Math.min(h,Math.max(1,d));this.changeMediaPlaybackRate(t,f)}else t.playbackRate!==1&&t.playbackRate!==0&&this.changeMediaPlaybackRate(t,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:t,partHoldBack:i,targetduration:n}=e,{liveSyncDuration:s,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,l=this.hls.userConfig;let c=a&&i||t;(this._targetLatencyUpdated||l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=s!==void 0?s:o*n);const u=n;return c+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,u)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(e===null||t===null)return null;const i=this.levelDetails;if(i===null)return null;const n=i.edge,s=e-t-this.edgeStalled,o=n-i.totalduration,a=n-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(o,s),a)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const i=e.buffered.length;return(i?e.buffered.end(i-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(T.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(T.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(T.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(T.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){t.advanced&&this.onTimeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var i;t.details===j.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(i=this.levelDetails)!=null&&i.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var i,n;e.playbackRate!==t&&((i=this.hls)==null||i.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(n=this.targetLatency)==null?void 0:n.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${t}`),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class xce extends qb{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(T.LEVEL_LOADED,this.onLevelLoaded,this),e.on(T.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(T.FRAG_BUFFERED,this.onFragBuffered,this),e.on(T.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(T.LEVEL_LOADED,this.onLevelLoaded,this),e.off(T.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(T.FRAG_BUFFERED,this.onFragBuffered,this),e.off(T.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const i=this.hls.config.preferManagedMediaSource,n=[],s={},o={};let a=!1,l=!1,c=!1;t.levels.forEach(u=>{var h;const d=u.attrs;let{audioCodec:f,videoCodec:g}=u;f&&(u.audioCodec=f=Lg(f,i)||void 0),((h=g)==null?void 0:h.indexOf("avc1"))===0&&(g=u.videoCodec=bse(g));const{width:m,height:v,unknownCodecs:y}=u;let _=y?y.length:0;if(y)for(let I=_;I--;){const D=y[I];this.isAudioSupported(D)?(u.audioCodec=f=f?`${f},${D}`:D,_--,cu.audio[f.substring(0,4)]=2):this.isVideoSupported(D)&&(u.videoCodec=g=g?`${g},${D}`:D,_--,cu.video[g.substring(0,4)]=2)}if(a||(a=!!(m&&v)),l||(l=!!g),c||(c=!!f),_||f&&!this.isAudioSupported(f)||g&&!this.isVideoSupported(g)){this.log(`Some or all CODECS not supported "${d.CODECS}"`);return}const{CODECS:w,"FRAME-RATE":S,"HDCP-LEVEL":k,"PATHWAY-ID":P,RESOLUTION:x,"VIDEO-RANGE":C}=d,A=`${`${P||"."}-`}${u.bitrate}-${x}-${S}-${w}-${C}-${k}`;if(s[A])if(s[A].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const I=o[A]+=1;u.attrs["PATHWAY-ID"]=new Array(I+1).join(".");const D=this.createLevel(u);s[A]=D,n.push(D)}else s[A].addGroupId("audio",d.AUDIO),s[A].addGroupId("text",d.SUBTITLES);else{const I=this.createLevel(u);s[A]=I,o[A]=1,n.push(I)}}),this.filterAndSortMediaOptions(n,t,a,l,c)}createLevel(e){const t=new Kd(e),i=e.supplemental;if(i!=null&&i.videoCodec&&!this.isVideoSupported(i.videoCodec)){const n=new Error(`SUPPLEMENTAL-CODECS not supported "${i.videoCodec}"`);this.log(n.message),t.supportedResult=Rk(n,[])}return t}isAudioSupported(e){return gy(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return gy(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,i,n,s){let o=[],a=[],l=e;if((i||n)&&s&&(l=l.filter(({videoCodec:v,videoRange:y,width:_,height:w})=>(!!v||!!(_&&w))&&Ese(y))),l.length===0){Promise.resolve().then(()=>{if(this.hls){let v="no level with compatible codecs found in manifest",y=v;t.levels.length&&(y=`one or more CODECS in variant not supported: ${ei(t.levels.map(w=>w.attrs.CODECS).filter((w,S,k)=>k.indexOf(w)===S))}`,this.warn(y),v+=` (${y})`);const _=new Error(v);this.hls.trigger(T.ERROR,{type:Ve.MEDIA_ERROR,details:j.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:_,reason:y})}});return}t.audioTracks&&(o=t.audioTracks.filter(v=>!v.audioCodec||this.isAudioSupported(v.audioCodec)),Mw(o)),t.subtitles&&(a=t.subtitles,Mw(a));const c=l.slice(0);l.sort((v,y)=>{if(v.attrs["HDCP-LEVEL"]!==y.attrs["HDCP-LEVEL"])return(v.attrs["HDCP-LEVEL"]||"")>(y.attrs["HDCP-LEVEL"]||"")?1:-1;if(i&&v.height!==y.height)return v.height-y.height;if(v.frameRate!==y.frameRate)return v.frameRate-y.frameRate;if(v.videoRange!==y.videoRange)return Sg.indexOf(v.videoRange)-Sg.indexOf(y.videoRange);if(v.videoCodec!==y.videoCodec){const _=E_(v.videoCodec),w=E_(y.videoCodec);if(_!==w)return w-_}if(v.uri===y.uri&&v.codecSet!==y.codecSet){const _=Tg(v.codecSet),w=Tg(y.codecSet);if(_!==w)return w-_}return v.averageBitrate!==y.averageBitrate?v.averageBitrate-y.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let v=0;v<c.length;v++)if(c[v].pathwayId===l[0].pathwayId){u=c[v];break}}this._levels=l;for(let v=0;v<l.length;v++)if(l[v]===u){var h;this._firstLevel=v;const y=u.bitrate,_=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${y}`),((h=this.hls.userConfig)==null?void 0:h.abrEwmaDefaultEstimate)===void 0){const w=Math.min(y,this.hls.config.abrEwmaDefaultEstimateMax);w>_&&_===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=w)}break}const d=s&&!n,f=this.hls.config,g=!!(f.audioStreamController&&f.audioTrackController),m={levels:l,audioTracks:o,subtitleTracks:a,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:n,altAudio:g&&!d&&o.some(v=>!!v.url)};this.hls.trigger(T.MANIFEST_PARSED,m)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const u=new Error("invalid level idx"),h=e<0;if(this.hls.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.LEVEL_SWITCH_ERROR,level:e,fatal:h,error:u,reason:u.message}),h)return;e=Math.min(e,t.length-1)}const i=this.currentLevelIndex,n=this.currentLevel,s=n?n.attrs["PATHWAY-ID"]:void 0,o=t[e],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,i===e&&n&&s===a)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${a?" with Pathway "+a:""} from level ${i}${s?" with Pathway "+s:""}`);const l={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(T.LEVEL_SWITCHING,l);const c=o.details;if(!c||c.live){const u=this.switchParams(o.uri,n==null?void 0:n.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),i=e.filter(n=>t.indexOf(n)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${t}`);return}this.steering.pathwayPriority=i}}onError(e,t){t.fatal||!t.context||t.context.type===dt.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===De.MAIN){const i=t.elementaryStreams;if(!Object.keys(i).some(s=>!!i[s]))return;const n=this._levels[t.level];n!=null&&n.loadError&&(this.log(`Resetting level error count of ${n.loadError} on frag buffered`),n.loadError=0)}}onLevelLoaded(e,t){var i;const{level:n,details:s}=t,o=t.levelInfo;if(!o){var a;this.warn(`Invalid level index ${n}`),(a=t.deliveryDirectives)!=null&&a.skip&&(s.deltaUpdateFailed=!0);return}if(o===this.currentLevel||t.withoutMultiVariant){o.fragmentError===0&&(o.loadError=0);let l=o.details;l===t.details&&l.advanced&&(l=void 0),this.playlistLoaded(n,t,l)}else(i=t.deliveryDirectives)!=null&&i.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const i=this.getUrlWithDirectives(e.uri,t),n=this.currentLevelIndex,s=e.attrs["PATHWAY-ID"],o=e.details,a=o==null?void 0:o.age;this.log(`Loading level index ${n}${(t==null?void 0:t.msn)!==void 0?" at sn "+t.msn+" part "+t.part:""}${s?" Pathway "+s:""}${a&&o.live?" age "+a.toFixed(1)+(o.type&&" "+o.type||""):""} ${i}`),this.hls.trigger(T.LEVEL_LOADING,{url:i,level:n,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(this._levels.length===1)return;const i=this._levels.filter((s,o)=>o!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(a=>a.level=-1)),!1));Kk(i),this._levels=i,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const n=i.length-1;this._firstLevel=Math.min(this._firstLevel,n),this._startLevel&&(this._startLevel=Math.min(this._startLevel,n)),this.hls.trigger(T.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:i}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(T.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))}}function Mw(r){const e={};r.forEach(t=>{const i=t.groupId||"";t.id=e[i]=e[i]||0,e[i]++})}function FI(){return self.SourceBuffer||self.WebKitSourceBuffer}function BI(){if(!pa())return!1;const e=FI();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function Ece(){if(!BI())return!1;const r=pa();return typeof(r==null?void 0:r.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>r.isTypeSupported(Wd(e,"video")))||["mp4a.40.2","fLaC"].some(e=>r.isTypeSupported(Wd(e,"audio"))))}function Tce(){var r;const e=FI();return typeof(e==null||(r=e.prototype)==null?void 0:r.changeType)=="function"}const Lce=100;class Sce extends Hb{constructor(e,t,i){super(e,t,i,"stream-controller",De.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const n=this.media,s=n?n.currentTime:null;if(s===null||!Ae(s)||(this.log(`Media seeked to ${s.toFixed(3)}`),!this.getBufferedFrag(s)))return;const o=this.getFwdBufferInfoAtPos(n,s,De.MAIN,0);if(o===null||o.len===0){this.warn(`Main forward buffer length at ${s} on "seeked" event ${o?o.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(T.MANIFEST_PARSED,this.onManifestParsed,this),e.on(T.LEVEL_LOADING,this.onLevelLoading,this),e.on(T.LEVEL_LOADED,this.onLevelLoaded,this),e.on(T.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(T.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(T.BUFFER_CREATED,this.onBufferCreated,this),e.on(T.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(T.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(T.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(T.MANIFEST_PARSED,this.onManifestParsed,this),e.off(T.LEVEL_LOADED,this.onLevelLoaded,this),e.off(T.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(T.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(T.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(T.BUFFER_CREATED,this.onBufferCreated,this),e.off(T.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(T.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(T.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:i,hls:n}=this;if(this.stopLoad(),this.setInterval(Lce),this.level=-1,!this.startFragRequested){let s=n.startLevel;s===-1&&(n.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=n.firstAutoLevel),n.nextLoadLevel=s,this.level=n.loadLevel,this._hasEnoughToStart=!!t}i>0&&e===-1&&!t&&(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),e=i),this.state=oe.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=oe.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case oe.WAITING_LEVEL:{const{levels:t,level:i}=this,n=t==null?void 0:t[i],s=n==null?void 0:n.details;if(s&&(!s.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(s))break;this.state=oe.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=oe.IDLE;break}break}case oe.FRAG_LOADING_WAITING_RETRY:{var e;const t=self.performance.now(),i=this.retryDate;if(!i||t>=i||(e=this.media)!=null&&e.seeking){const{levels:n,level:s}=this,o=n==null?void 0:n[s];this.resetStartWhenNotLoaded(o||null),this.state=oe.IDLE}}break}this.state===oe.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:i,media:n}=this;if(t===null||!n&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(i!=null&&i[s]))return;const o=i[s],a=this.getMainFwdBufferInfo();if(a===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(a,l)){const m={};this.altAudio===2&&(m.type="video"),this.hls.trigger(T.BUFFER_EOS,m),this.state=oe.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const c=o.details;if(!c||this.state===oe.WAITING_LEVEL||this.waitForLive(o)){this.level=s,this.state=oe.WAITING_LEVEL,this.startFragRequested=!1;return}const u=a.len,h=this.getMaxBufferLength(o.maxBitrate);if(u>=h)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const d=this.backtrackFragment?this.backtrackFragment.start:a.end;let f=this.getNextFragment(d,c);if(this.couldBacktrack&&!this.fragPrevious&&f&&Oi(f)&&this.fragmentTracker.getState(f)!==Si.OK){var g;const v=((g=this.backtrackFragment)!=null?g:f).sn-c.startSN,y=c.fragments[v-1];y&&f.cc===y.cc&&(f=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(f&&this.isLoopLoading(f,d)){if(!f.gap){const v=this.audioOnly&&!this.altAudio?Ht.AUDIO:Ht.VIDEO,y=(v===Ht.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,v,De.MAIN)}f=this.getNextFragmentLoopLoading(f,c,a,De.MAIN,h)}f&&(f.initSegment&&!f.initSegment.data&&!this.bitrateTest&&(f=f.initSegment),this.loadFragment(f,o,d))}loadFragment(e,t,i){const n=this.fragmentTracker.getState(e);n===Si.NOT_LOADED||n===Si.PARTIAL?Oi(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,i):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,De.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let i;const n=this.getAppendedFrag(t.currentTime);n&&n.start>1&&this.flushMainBuffer(0,n.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const a=this.getMainFwdBufferInfo();if(!a||a.len<s.targetduration*2)return}if(!t.paused&&e){const a=this.hls.nextLoadLevel,l=e[a],c=this.fragLastKbps;c&&this.fragCurrent?i=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:i=0}else i=0;const o=this.getBufferedFrag(t.currentTime+i);if(o){const a=this.followingBufferedFrag(o);if(a){this.abortCurrentFrag();const l=a.maxStartPTS?a.maxStartPTS:a.start,c=a.duration,u=Math.max(o.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case oe.KEY_LOADING:case oe.FRAG_LOADING:case oe.FRAG_LOADING_WAITING_RETRY:case oe.PARSING:case oe.PARSED:this.state=oe.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio===2?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const i=t.media;Zs(i,"playing",this.onMediaPlaying),Zs(i,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:i}=this;i&&(cs(i,"playing",this.onMediaPlaying),cs(i,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t),!t.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(T.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let i=!1,n=!1;t.levels.forEach(s=>{const o=s.audioCodec;o&&(i=i||o.indexOf("mp4a.40.2")!==-1,n=n||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=i&&n&&!Tce(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:i}=this;if(!i||this.state!==oe.IDLE)return;const n=t.levelInfo;(!n.details||n.details.live&&(this.levelLastLoaded!==n||n.details.expired)||this.waitForCdnTuneIn(n.details))&&(this.state=oe.WAITING_LEVEL)}onLevelLoaded(e,t){var i;const{levels:n,startFragRequested:s}=this,o=t.level,a=t.details,l=a.totalduration;if(!n){this.warn(`Levels were reset while loading level ${o}`);return}this.log(`Level ${o} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${l}`);const c=t.levelInfo,u=this.fragCurrent;u&&(this.state===oe.FRAG_LOADING||this.state===oe.FRAG_LOADING_WAITING_RETRY)&&u.level!==t.level&&u.loader&&this.abortCurrentFrag();let h=0;if(a.live||(i=c.details)!=null&&i.live){var d;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;h=this.alignPlaylists(a,c.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(c.details=a,this.levelLastLoaded=c,s||this.setStartPosition(a,h),this.hls.trigger(T.LEVEL_UPDATED,{details:a,level:o}),this.state===oe.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=oe.IDLE}s&&a.live&&this.synchronizeToLiveEdge(a),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:i}=this;if(!i)return;const n=this.hls.liveSyncPosition,s=this.getLoadPosition(),o=e.fragmentStart,a=e.edge,l=s>=o-t.maxFragLookUpTolerance&&s<=a;if(n!==null&&i.duration>n&&(s<n||!l)){const c=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!l&&i.readyState<4||s<a-c)&&(this._hasEnoughToStart||(this.nextLoadPosition=n),i.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${n.toFixed(3)}`),i.currentTime=n))}}_handleFragmentLoadProgress(e){var t;const i=e.frag,{part:n,payload:s}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const a=o[i.level];if(!a){this.warn(`Level ${i.level} not found on progress`);return}const l=a.details;if(!l){this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),this.fragmentTracker.removeFragment(i);return}const c=a.videoCodec,u=l.PTSKnown||!l.live,h=(t=i.initSegment)==null?void 0:t.data,d=this._getAudioCodec(a),f=this.transmuxer=this.transmuxer||new vI(this.hls,De.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=n?n.index:-1,m=g!==-1,v=new Fb(i.level,i.sn,i.stats.chunkCount,s.byteLength,g,m),y=this.initPTS[i.cc];f.push(s,h,d,c,i,n,l.totalduration,u,v,y)}onAudioTrackSwitching(e,t){const i=this.hls,n=this.altAudio===2;if(Ag(t.url,i))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(n){this.fragmentTracker.removeAllFragments(),i.once(T.BUFFER_FLUSHED,()=>{var o;(o=this.hls)==null||o.trigger(T.AUDIO_TRACK_SWITCHED,t)}),i.trigger(T.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}i.trigger(T.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const i=Ag(t.url,this.hls);if(i){const n=this.videoBuffer;n&&this.mediaBuffer!==n&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i?2:0,this.tick()}onBufferCreated(e,t){const i=t.tracks;let n,s,o=!1;for(const a in i){const l=i[a];if(l.id==="main"){if(s=a,n=l,a==="video"){const c=i[a];c&&(this.videoBuffer=c.buffer)}}else o=!0}o&&n?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:i,part:n}=t,s=i.type===De.MAIN;if(s){if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${n?" p: "+n.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),this.state===oe.PARSED&&(this.state=oe.IDLE);return}const a=n?n.stats:i.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),Oi(i)&&(this.fragPrevious=i),this.fragBufferedComplete(i,n)}const o=this.media;o&&(!this._hasEnoughToStart&&ct.getBuffered(o).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),s&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var i;if(t.fatal){this.state=oe.ERROR;return}switch(t.details){case j.FRAG_GAP:case j.FRAG_PARSING_ERROR:case j.FRAG_DECRYPT_ERROR:case j.FRAG_LOAD_ERROR:case j.FRAG_LOAD_TIMEOUT:case j.KEY_LOAD_ERROR:case j.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(De.MAIN,t);break;case j.LEVEL_LOAD_ERROR:case j.LEVEL_LOAD_TIMEOUT:case j.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===oe.WAITING_LEVEL&&((i=t.context)==null?void 0:i.type)===dt.LEVEL&&(this.state=oe.IDLE);break;case j.BUFFER_ADD_CODEC_ERROR:case j.BUFFER_APPEND_ERROR:if(t.parent!=="main")return;this.resetLoadingState();break;case j.BUFFER_FULL_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case j.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onFragLoadEmergencyAborted(){this.state=oe.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Ht.AUDIO||!this.altAudio){const i=(t===Ht.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;i&&(this.afterBufferFlushed(i,t,De.MAIN),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let i=this.startPosition;if(i>=0&&t<i){if(e.seeking){this.log(`could not seek to ${i}, already seeking at ${t}`);return}const n=this.timelineOffset;n&&i&&(i+=n);const s=this.getLevelDetails(),o=ct.getBuffered(e),a=o.length?o.start(0):0,l=a-i,c=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);l>0&&(l<c||this.loadingParts&&l<2*((s==null?void 0:s.partTarget)||0))&&(this.log(`adjusting start position by ${l} to match buffer start`),i+=l,this.startPosition=i),t<i&&(this.log(`seek to target start position ${i} from current time ${t} buffer start ${a}`),e.currentTime=i)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(i=>{const{hls:n}=this,s=i==null?void 0:i.frag;if(!s||this.fragContextChanged(s))return;t.fragmentError=0,this.state=oe.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const o=s.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),n.trigger(T.FRAG_LOADED,i),s.bitrateTest=!1})}_handleTransmuxComplete(e){var t;const i=this.playlistType,{hls:n}=this,{remuxResult:s,chunkMeta:o}=e,a=this.getCurrentContext(o);if(!a){this.resetWhenMissingContext(o);return}const{frag:l,part:c,level:u}=a,{video:h,text:d,id3:f,initSegment:g}=s,{details:m}=u,v=this.altAudio?void 0:s.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=oe.PARSING,g){if(g!=null&&g.tracks){const w=l.initSegment||l;this._bufferInitSegment(u,g.tracks,w,o),n.trigger(T.FRAG_PARSING_INIT_SEGMENT,{frag:w,id:i,tracks:g.tracks})}const y=g.initPTS,_=g.timescale;Ae(y)&&(this.initPTS[l.cc]={baseTime:y,timescale:_},n.trigger(T.INIT_PTS_FOUND,{frag:l,id:i,initPTS:y,timescale:_}))}if(h&&m){v&&h.type==="audiovideo"&&this.logMuxedErr(l);const y=m.fragments[l.sn-1-m.startSN],_=l.sn===m.startSN,w=!y||l.cc>y.cc;if(s.independent!==!1){const{startPTS:S,endPTS:k,startDTS:P,endDTS:x}=h;if(c)c.elementaryStreams[h.type]={startPTS:S,endPTS:k,startDTS:P,endDTS:x};else if(h.firstKeyFrame&&h.independent&&o.id===1&&!w&&(this.couldBacktrack=!0),h.dropped&&h.independent){const C=this.getMainFwdBufferInfo(),E=(C?C.end:this.getLoadPosition())+this.config.maxBufferHole,A=h.firstKeyFramePTS?h.firstKeyFramePTS:S;if(!_&&E<A-this.config.maxBufferHole&&!w){this.backtrack(l);return}else w&&(l.gap=!0);l.setElementaryStreamInfo(h.type,l.start,k,l.start,x,!0)}else _&&S-(m.appliedTimelineOffset||0)>op&&(l.gap=!0);l.setElementaryStreamInfo(h.type,S,k,P,x),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(h,l,c,o,_||w)}else if(_||w)l.gap=!0;else{this.backtrack(l);return}}if(v){const{startPTS:y,endPTS:_,startDTS:w,endDTS:S}=v;c&&(c.elementaryStreams[Ht.AUDIO]={startPTS:y,endPTS:_,startDTS:w,endDTS:S}),l.setElementaryStreamInfo(Ht.AUDIO,y,_,w,S),this.bufferFragmentData(v,l,c,o)}if(m&&f!=null&&(t=f.samples)!=null&&t.length){const y={id:i,frag:l,details:m,samples:f.samples};n.trigger(T.FRAG_PARSING_METADATA,y)}if(m&&d){const y={id:i,frag:l,details:m,samples:d.samples};n.trigger(T.FRAG_PARSING_USERDATA,y)}}logMuxedErr(e){this.warn(`${Oi(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,t,i,n){if(this.state!==oe.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(i));const{audio:s,video:o,audiovideo:a}=t;if(s){let c=ep(s.codec,e.audioCodec);c==="mp4a"&&(c="mp4a.40.5");const u=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){c&&(c.indexOf("mp4a.40.5")!==-1?c="mp4a.40.2":c="mp4a.40.5");const h=s.metadata;h&&"channelCount"in h&&(h.channelCount||1)!==1&&u.indexOf("firefox")===-1&&(c="mp4a.40.5")}c&&c.indexOf("mp4a.40.5")!==-1&&u.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(c="mp4a.40.2",this.log(`Android: force audio codec to ${c}`)),e.audioCodec&&e.audioCodec!==c&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${c}"`),s.levelCodec=c,s.id=De.MAIN,this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${c||""}/${e.audioCodec||""}/${s.codec}]`),delete t.audiovideo}if(o){o.levelCodec=e.videoCodec,o.id=De.MAIN;const c=o.codec;if((c==null?void 0:c.length)===4)switch(c){case"hvc1":case"hev1":o.codec="hvc1.1.6.L120.90";break;case"av01":o.codec="av01.0.04M.08";break;case"avc1":o.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${c}]${o.codec!==c?" parsed-corrected="+o.codec:""}${o.supplemental?" supplemental="+o.supplemental:""}`),delete t.audiovideo}a&&(this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${e.codecs}/${a.codec}]`),delete t.video,delete t.audio);const l=Object.keys(t);if(l.length){if(this.hls.trigger(T.BUFFER_CODECS,t),!this.hls)return;l.forEach(c=>{const h=t[c].initSegment;h!=null&&h.byteLength&&this.hls.trigger(T.BUFFER_APPENDING,{type:c,data:h,frag:i,part:null,chunkMeta:n,parent:i.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,De.MAIN)}get maxBufferLength(){const{levels:e,level:t}=this,i=e==null?void 0:e[t];return i?this.getMaxBufferLength(i.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=oe.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const i=e.currentTime;if(ct.isBuffered(e,i)?t=this.getAppendedFrag(i):ct.isBuffered(e,i+.1)&&(t=this.getAppendedFrag(i+.1)),t){this.backtrackFragment=null;const n=this.fragPlaying,s=t.level;(!n||t.sn!==n.sn||n.level!==s)&&(this.fragPlaying=t,this.hls.trigger(T.FRAG_CHANGED,{frag:t}),(!n||n.level!==s)&&this.hls.trigger(T.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return Ae(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(Ae(t)){const i=this.getLevelDetails(),n=this.currentFrag||(i?_l(null,i.fragments,t):null);if(n){const s=n.programDateTime;if(s!==null){const o=s+(t-n.start)*1e3;return new Date(o)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Ace{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const i in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[i].loader;if(n){var t;if(e&&e!==((t=n.context)==null?void 0:t.frag.type))return;n.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,t=j.KEY_LOAD_ERROR,i,n,s){return new Vs({type:Ve.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:s,error:i,networkDetails:n})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:n}=e;for(let s=0;s<t.length;s++){const o=t[s];if(n<=o.cc&&(i==="initSegment"||o.sn==="initSegment"||i<o.sn)){this.emeController.selectKeySystemFormat(o).then(a=>{o.setKeyFormat(a)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var i,n;t&&e.setKeyFormat(t);const s=e.decryptdata;if(!s){const c=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,j.KEY_LOAD_ERROR,c))}const o=s.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,j.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if((i=a)!=null&&i.decryptdata.key)return s.key=a.decryptdata.key,Promise.resolve({frag:e,keyInfo:a});if((n=a)!=null&&n.keyLoadPromise){var l;switch((l=a.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then(c=>(s.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:a}))}}switch(a=this.keyUriToKeyInfo[o]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(a,e):this.loadKeyEME(a,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(a,e);default:return Promise.reject(this.createKeyLoadError(e,j.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,t){const i={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const n=this.emeController.loadKey(i);if(n)return(e.keyLoadPromise=n.then(s=>(e.mediaKeySessionContext=s,i))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(i)}loadKeyHTTP(e,t){const i=this.config,n=i.loader,s=new n(i);return t.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((o,a)=>{const l={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},c=i.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(d,f,g,m)=>{const{frag:v,keyInfo:y,url:_}=g;if(!v.decryptdata||y!==this.keyUriToKeyInfo[_])return a(this.createKeyLoadError(v,j.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));y.decryptdata.key=v.decryptdata.key=new Uint8Array(d.data),v.keyLoader=null,y.loader=null,o({frag:v,keyInfo:y})},onError:(d,f,g,m)=>{this.resetLoader(f),a(this.createKeyLoadError(t,j.KEY_LOAD_ERROR,new Error(`HTTP Error ${d.code} loading key ${d.text}`),g,Ot({url:l.url,data:void 0},d)))},onTimeout:(d,f,g)=>{this.resetLoader(f),a(this.createKeyLoadError(t,j.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(d,f,g)=>{this.resetLoader(f),a(this.createKeyLoadError(t,j.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};s.load(l,u,h)})}resetLoader(e){const{frag:t,keyInfo:i,url:n}=e,s=i.loader;t.keyLoader===s&&(t.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[n],s&&s.destroy()}}function Pw(r){const{type:e}=r;switch(e){case dt.AUDIO_TRACK:return De.AUDIO;case dt.SUBTITLE_TRACK:return De.SUBTITLE;default:return De.MAIN}}function Av(r,e){let t=r.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class kce{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(T.MANIFEST_LOADING,this.onManifestLoading,this),e.on(T.LEVEL_LOADING,this.onLevelLoading,this),e.on(T.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(T.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(T.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(T.MANIFEST_LOADING,this.onManifestLoading,this),e.off(T.LEVEL_LOADING,this.onLevelLoading,this),e.off(T.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(T.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(T.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,i=t.pLoader,n=t.loader,s=i||n,o=new s(t);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:i}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:dt.MANIFEST,url:i,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:i,level:n,pathwayId:s,url:o,deliveryDirectives:a,levelInfo:l}=t;this.load({id:i,level:n,pathwayId:s,responseType:"text",type:dt.LEVEL,url:o,deliveryDirectives:a,levelOrTrack:l})}onAudioTrackLoading(e,t){const{id:i,groupId:n,url:s,deliveryDirectives:o,track:a}=t;this.load({id:i,groupId:n,level:null,responseType:"text",type:dt.AUDIO_TRACK,url:s,deliveryDirectives:o,levelOrTrack:a})}onSubtitleTrackLoading(e,t){const{id:i,groupId:n,url:s,deliveryDirectives:o,track:a}=t;this.load({id:i,groupId:n,level:null,responseType:"text",type:dt.SUBTITLE_TRACK,url:s,deliveryDirectives:o,levelOrTrack:a})}onLevelsUpdated(e,t){const i=this.loaders[dt.LEVEL];if(i){const n=i.context;n&&!t.levels.some(s=>s===n.levelOrTrack)&&(i.abort(),delete this.loaders[dt.LEVEL])}}load(e){var t;const i=this.hls.config;let n=this.getInternalLoader(e);if(n){const c=this.hls.logger,u=n.context;if(u&&u.levelOrTrack===e.levelOrTrack&&(u.url===e.url||u.deliveryDirectives&&!e.deliveryDirectives)){u.url===e.url?c.log(`[playlist-loader]: ignore ${e.url} ongoing request`):c.log(`[playlist-loader]: ignore ${e.url} in favor of ${u.url}`);return}c.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),n.abort()}let s;if(e.type===dt.MANIFEST?s=i.manifestLoadPolicy.default:s=Ut({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),n=this.createInternalLoader(e),Ae((t=e.deliveryDirectives)==null?void 0:t.part)){let c;if(e.type===dt.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===dt.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===dt.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,h=c.targetduration;if(u&&h){const d=Math.max(u*3,h*.8)*1e3;s=Ut({},s,{maxTimeToFirstByteMs:Math.min(d,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(d,s.maxTimeToFirstByteMs)})}}}const o=s.errorRetry||s.timeoutRetry||{},a={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(c,u,h,d)=>{const f=this.getInternalLoader(h);this.resetInternalLoader(h.type);const g=c.data;if(g.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,h,new Error("no EXTM3U delimiter"),d||null,u);return}u.parsing.start=performance.now(),ls.isMediaPlaylist(g)||h.type!==dt.MANIFEST?this.handleTrackOrLevelPlaylist(c,u,h,d||null,f):this.handleMasterPlaylist(c,u,h,d)},onError:(c,u,h,d)=>{this.handleNetworkError(u,h,!1,c,d)},onTimeout:(c,u,h)=>{this.handleNetworkError(u,h,!0,void 0,c)}};n.load(e,a,l)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:i}=this.hls;(e||i)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${t}`),this.hls.startLoad(t))}handleMasterPlaylist(e,t,i,n){const s=this.hls,o=e.data,a=Av(e,i),l=ls.parseMasterPlaylist(o,a);if(l.playlistParsingError){this.handleManifestParsingError(e,i,l.playlistParsingError,n,t);return}const{contentSteering:c,levels:u,sessionData:h,sessionKeys:d,startTimeOffset:f,variableList:g}=l;this.variableList=g;const{AUDIO:m=[],SUBTITLES:v,"CLOSED-CAPTIONS":y}=ls.parseMasterPlaylistMedia(o,a,l);m.length&&!m.some(w=>!w.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new si({}),bitrate:0,url:""})),s.trigger(T.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:v,captions:y,contentSteering:c,url:a,stats:t,networkDetails:n,sessionData:h,sessionKeys:d,startTimeOffset:f,variableList:g})}handleTrackOrLevelPlaylist(e,t,i,n,s){const o=this.hls,{id:a,level:l,type:c}=i,u=Av(e,i),h=Ae(l)?l:Ae(a)?a:0,d=Pw(i),f=ls.parseLevelPlaylist(e.data,u,h,d,0,this.variableList);if(c===dt.MANIFEST){const g={attrs:new si({}),bitrate:0,details:f,name:"",url:u};f.requestScheduled=t.loading.start+Gk(f,0),o.trigger(T.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:u,stats:t,networkDetails:n,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),i.levelDetails=f,this.handlePlaylistLoaded(f,e,t,i,n,s)}handleManifestParsingError(e,t,i,n,s){this.hls.trigger(T.ERROR,{type:Ve.NETWORK_ERROR,details:j.MANIFEST_PARSING_ERROR,fatal:t.type===dt.MANIFEST,url:e.url,err:i,error:i,reason:i.message,response:e,context:t,networkDetails:n,stats:s})}handleNetworkError(e,t,i=!1,n,s){let o=`A network ${i?"timeout":"error"+(n?" (status "+n.code+")":"")} occurred while loading ${e.type}`;e.type===dt.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===dt.AUDIO_TRACK||e.type===dt.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const a=new Error(o);this.hls.logger.warn(`[playlist-loader]: ${o}`);let l=j.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case dt.MANIFEST:l=i?j.MANIFEST_LOAD_TIMEOUT:j.MANIFEST_LOAD_ERROR,c=!0;break;case dt.LEVEL:l=i?j.LEVEL_LOAD_TIMEOUT:j.LEVEL_LOAD_ERROR,c=!1;break;case dt.AUDIO_TRACK:l=i?j.AUDIO_TRACK_LOAD_TIMEOUT:j.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case dt.SUBTITLE_TRACK:l=i?j.SUBTITLE_TRACK_LOAD_TIMEOUT:j.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const h={type:Ve.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:a,networkDetails:t,stats:s};if(n){const d=(t==null?void 0:t.url)||e.url;h.response=Ot({url:d,data:void 0},n)}this.hls.trigger(T.ERROR,h)}handlePlaylistLoaded(e,t,i,n,s,o){const a=this.hls,{type:l,level:c,id:u,groupId:h,deliveryDirectives:d}=n,f=Av(t,n),g=Pw(n),m=typeof n.level=="number"&&g===De.MAIN?c:void 0;if(!e.fragments.length){const y=e.playlistParsingError=new Error("No Segments found in Playlist");a.trigger(T.ERROR,{type:Ve.NETWORK_ERROR,details:j.LEVEL_EMPTY_ERROR,fatal:!1,url:f,error:y,reason:y.message,response:t,context:n,level:m,parent:g,networkDetails:s,stats:i});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const v=e.playlistParsingError;if(v){if(this.hls.logger.warn(v),!a.config.ignorePlaylistParsingErrors){a.trigger(T.ERROR,{type:Ve.NETWORK_ERROR,details:j.LEVEL_PARSING_ERROR,fatal:!1,url:f,error:v,reason:v.message,response:t,context:n,level:m,parent:g,networkDetails:s,stats:i});return}e.playlistParsingError=null}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case dt.MANIFEST:case dt.LEVEL:a.trigger(T.LEVEL_LOADED,{details:e,levelInfo:n.levelOrTrack||a.levels[0],level:m||0,id:u||0,stats:i,networkDetails:s,deliveryDirectives:d,withoutMultiVariant:l===dt.MANIFEST});break;case dt.AUDIO_TRACK:a.trigger(T.AUDIO_TRACK_LOADED,{details:e,track:n.levelOrTrack,id:u||0,groupId:h||"",stats:i,networkDetails:s,deliveryDirectives:d});break;case dt.SUBTITLE_TRACK:a.trigger(T.SUBTITLE_TRACK_LOADED,{details:e,track:n.levelOrTrack,id:u||0,groupId:h||"",stats:i,networkDetails:s,deliveryDirectives:d});break}}}class ss{static get version(){return Xd}static isMSESupported(){return BI()}static isSupported(){return Ece()}static getMediaSource(){return pa()}static get Events(){return T}static get MetadataSchema(){return Zr}static get ErrorTypes(){return Ve}static get ErrorDetails(){return j}static get DefaultConfig(){return ss.defaultConfig?ss.defaultConfig:hce}static set DefaultConfig(e){ss.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Ub,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=Kne(e.debug||!1,"Hls instance",e.assetPlayerId),i=this.config=fce(ss.DefaultConfig,e,t);this.userConfig=e,i.progressive&&pce(i,t);const{abrController:n,bufferController:s,capLevelController:o,errorController:a,fpsController:l}=i,c=new a(this),u=this.abrController=new n(this),h=new Nse(this),d=i.interstitialsController,f=d?this.interstitialsController=new d(this,ss):null,g=this.bufferController=new s(this,h),m=this.capLevelController=new o(this),v=new l(this),y=new kce(this),_=i.contentSteeringController,w=_?new _(this):null,S=this.levelController=new xce(this,w),k=new wce(this),P=new Ace(this.config),x=this.streamController=new Sce(this,h,P),C=this.gapController=new yce(this,h);m.setStreamController(x),v.setStreamController(x);const E=[y,S,x];f&&E.splice(1,0,f),w&&E.splice(1,0,w),this.networkControllers=E;const A=[u,g,C,m,v,k,h];this.audioTrackController=this.createController(i.audioTrackController,E);const I=i.audioStreamController;I&&E.push(this.audioStreamController=new I(this,h,P)),this.subtitleTrackController=this.createController(i.subtitleTrackController,E);const D=i.subtitleStreamController;D&&E.push(this.subtititleStreamController=new D(this,h,P)),this.createController(i.timelineController,A),P.emeController=this.emeController=this.createController(i.emeController,A),this.cmcdController=this.createController(i.cmcdController,A),this.latencyController=this.createController(Cce,A),this.coreComponents=A,E.push(c);const R=c.onErrorOut;typeof R=="function"&&this.on(T.ERROR,R,c),this.on(T.MANIFEST_LOADED,y.onManifestLoaded,y)}createController(e,t){if(e){const i=new e(this);return t&&t.push(i),i}return null}on(e,t,i=this){this._emitter.on(e,t,i)}once(e,t,i=this){this._emitter.once(e,t,i)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,i=this,n){this._emitter.off(e,t,i,n)}listeners(e){return this._emitter.listeners(e)}emit(e,t,i){return this._emitter.emit(e,t,i)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(i){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;const n=e===T.ERROR;this.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.INTERNAL_EXCEPTION,fatal:n,event:e,error:i}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(T.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const s=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(T.ERROR,{type:Ve.OTHER_ERROR,details:j.ATTACH_MEDIA_ERROR,fatal:!0,error:s});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,i=t?e.media:e,n=t?e:{media:i};this._media=i,this.trigger(T.MEDIA_ATTACHING,n)}detachMedia(){this.logger.log("detachMedia"),this.trigger(T.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(T.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,i=this._url,n=this._url=Pb.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${n}`),t&&i&&(i!==n||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(T.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,t){this.logger.log(`startLoad(${e+(t?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let i=0;i<this.networkControllers.length&&(this.networkControllers[i].startLoad(e,t),!(!this.started||!this.networkControllers));i++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[De.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[De.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[De.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=e==null?void 0:e.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=Foe()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){xse(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const i=e.length;for(let n=0;n<i;n++)if(e[n].maxBitrate>=t)return n;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:i}=this;let n;if(t===-1&&e!=null&&e.length?n=e.length-1:n=t,i)for(let s=n;s--;){const o=e[s].attrs["HDCP-LEVEL"];if(o&&o<=i)return s}return n}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return((t=this.audioTrackController)==null?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return((t=this.subtitleTrackController)==null?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,t=this.allAudioTracks){const i=Ok(t);return Dk(e,i,navigator.mediaCapabilities)}}ss.defaultConfig=void 0;const Ice={class:"ar-video-container"},Mce=Ne({__name:"ARView",setup(r){const e=je(null),t=je(null),i=je(null),n=je({x:31.5,y:200}),s=je({x:51,y:190}),o=Xe(()=>{var y;const v=((y=e.value)==null?void 0:y.getBoundingClientRect().width)??1024;if(Math.abs(n.value.x-s.value.x)>48/v*100)return{x:s.value.x,y:s.value.y,offset:0};if(n.value.x-s.value.x>0){const _=n.value.x-48/v*100,S=-(_-s.value.x)*v/100;return{x:_,y:s.value.y,offset:S}}else{const _=n.value.x+48/v*100,S=-(_-s.value.x)*v/100;return{x:_,y:s.value.y,offset:S}}}),a={fast:[{t:0,x:31.5,h:200},{t:.414104,x:31.84,h:211},{t:1.119992,x:31.74,h:217},{t:2.141116,x:32.32,h:207},{t:2.917705,x:32.8125,h:200},{t:4.5,x:36.8,h:210},{t:5.884246,x:41.89453125,h:206},{t:7.33,x:46.5,h:215},{t:8.058186,x:47.4609375,h:209},{t:10.344603,x:51.3671875,h:200},{t:12.792545,x:54.98046875,h:203},{t:14.45667,x:55.56640625,h:211},{t:15.880531,x:57.421875,h:213},{t:16.906411,x:58.88671875,h:195},{t:18.034906,x:60.05859375,h:177},{t:19.78957,x:63.96484375,h:189},{t:22.440895,x:63.76953125,h:185},{t:23.511534,x:65.0390625,h:184},{t:24.900687,x:67.67578125,h:181},{t:27.516976,x:70.5078125,h:170},{t:28.870111,x:72.75390625,h:159},{t:31.897547,x:78.02734375,h:161},{t:33.740031,x:80.95703125,h:159},{t:34.714117,x:81.54296875,h:167},{t:37.141955,x:84.66796875,h:164},{t:38.43324,x:86.62109375,h:159},{t:39.249822,x:87.98828125,h:146},{t:40.171051,x:89.94140625,h:134},{t:40.799338,x:90.625,h:135},{t:42.037715,x:91.9921875,h:142},{t:43.312437,x:94.140625,h:129},{t:43.997638,x:94.921875,h:125}],large:[{t:0,x:51.3671875,h:190},{t:.740905,x:50.9765625,h:207},{t:1.670968,x:49.8046875,h:202},{t:2.884489,x:49.31640625,h:188},{t:4.18992,x:50.390625,h:201},{t:4.890533,x:52.05078125,h:201},{t:5.645697,x:54.00390625,h:195},{t:6.482313,x:55.2734375,h:203},{t:7.269345,x:56.640625,h:205},{t:8.307955,x:57.12890625,h:197},{t:9.253666,x:57.12890625,h:199},{t:10.232705,x:57.8125,h:192},{t:10.997486,x:58.59375,h:189},{t:11.682492,x:59.1796875,h:192},{t:12.385106,x:58.7890625,h:191},{t:13.716098,x:58.3984375,h:196},{t:14.60691,x:57.421875,h:201},{t:15.469085,x:57.421875,h:204},{t:16.419076,x:57.51953125,h:193},{t:17.22534,x:57.32421875,h:181},{t:18.231843,x:57.421875,h:167},{t:19.047515,x:58.10546875,h:171},{t:19.916258,x:58.59375,h:180},{t:20.649097,x:57.32421875,h:184},{t:21.530188,x:55.6640625,h:179},{t:22.343294,x:54.8828125,h:173},{t:23.170257,x:54.78515625,h:173},{t:23.971718,x:56.0546875,h:176},{t:24.745182,x:55.76171875,h:171},{t:25.565603,x:55.6640625,h:167},{t:26.46819,x:55.078125,h:162},{t:27.154845,x:54.58984375,h:164},{t:27.993383,x:54.6875,h:156},{t:28.720161,x:54.6875,h:151},{t:29.391205,x:55.37109375,h:149},{t:30.067253,x:55.95703125,h:152},{t:30.827709,x:55.46875,h:151},{t:31.369404,x:55.2734375,h:153},{t:32.321851,x:55.6640625,h:153},{t:33.021565,x:55.76171875,h:149},{t:33.932783,x:55.76171875,h:152},{t:34.791618,x:55.2734375,h:158},{t:35.652239,x:55.078125,h:160},{t:36.457661,x:54.6875,h:161},{t:37.174563,x:54.4921875,h:158},{t:37.875706,x:55.078125,h:155},{t:38.671806,x:54.78515625,h:148},{t:39.422557,x:54.6875,h:136},{t:40.130636,x:55.078125,h:126},{t:40.872285,x:55.17578125,h:130},{t:41.675879,x:54.8828125,h:135},{t:42.572183,x:54.39453125,h:129},{t:43.466537,x:54.8828125,h:120},{t:44.24777,x:54.39453125,h:117}]},l=(v,y,_,w)=>{var se;if(_===null)throw new Error("f is null");if(v<=y[0].t){_.$el.height=y[0].h,_.$el.style.left=`${y[0].x}%`;return}if(v>=y[y.length-1].t){_.$el.height=y[y.length-1].h,_.$el.style.left=`${y[y.length-1].x}%`;return}let S=0;for(;S<y.length-1&&v>y[S+1].t;)S++;const k=y[S],P=y[S+1],x=(v-k.t)/(P.t-k.t),C=k.x+(P.x-k.x)*x,E=k.h+(P.h-k.h)*x,A=((se=e.value)==null?void 0:se.getBoundingClientRect().height)??1,I=A/2-100,D=576/768*(C-50)+50,fe=(E+270)/768*A-I;w?s.value={x:D,y:fe}:n.value={x:D,y:fe}};function c(v){v.code==="Space"&&(e.value&&(e.value.paused?e.value.play():e.value.pause()),v.preventDefault())}let u=null;function h(){if(e.value&&!e.value.paused){const v=e.value.currentTime;l(v,a.fast,t.value,!0),l(v,a.large,i.value,!1)}u=requestAnimationFrame(h)}const d=[];function f(v){const y=e.value;if(!y)return;const _=y.getBoundingClientRect(),w=(v.clientX-_.left)/_.width*100,S=v.clientY-_.top-270,k=y.currentTime;d.push({t:k,x:w,h:S}),console.log(JSON.stringify(d))}Fn(()=>{m(),l(0,a.fast,t.value,!0),l(0,a.large,i.value,!1),window.addEventListener("keydown",c),h()});let g=null;function m(){const v=e.value;if(!v)return;const y="https://vz-39fc4309-d50.b-cdn.net/53fb1b22-cb65-4b11-9036-fd0dfb8d70f0/playlist.m3u8";ss.isSupported()?(g=new ss,g.loadSource(y),g.attachMedia(v),g.on(ss.Events.MANIFEST_PARSED,()=>{v.play()})):v.canPlayType("application/vnd.apple.mpegurl")?(v.src=y,v.addEventListener("loadedmetadata",()=>{v.play()})):console.error("HLS is not supported in this browser.")}return yC(()=>{window.removeEventListener("keydown",c),u!==null&&cancelAnimationFrame(u),g&&g.destroy()}),(v,y)=>(G(),we("div",Ice,[Z("video",{ref_key:"arVideo",ref:e,autoplay:"",loop:"",muted:"",playsinline:"",class:"ar-video",onClick:f},null,512),ue(y_,{class:"ar-poi-target",ref_key:"large",ref:i,"relative-direction":80,height:n.value.y,style:Lc({left:n.value.x+"%"})},null,8,["height","style"]),ue(y_,{class:"ar-poi-target",ref_key:"fast",ref:t,"relative-direction":90,height:s.value.y,style:Lc({left:o.value.x+"%"}),offset:o.value.offset},null,8,["height","style","offset"])]))}}),Pce=En(Mce,[["__scopeId","data-v-2668cc1e"]]),Rce=GD({history:wD("/"),routes:[{path:"/",name:"instrument-demo",component:_Y,meta:{title:"Conning",background:"--container-background-color"}},{path:"/responsive",name:"responsive-instrument-demo",component:YK,meta:{title:"Clock",background:"--container-background-color"}},{path:"/ias",name:"ias",component:GX,meta:{title:"IAS",background:"--container-background-color"}},{path:"/alert",name:"alert",component:qW,meta:{title:"Alerts"}},{path:"/settings",name:"settings",component:hX,meta:{title:"Settings",background:"--container-section-color"}},{path:"/help",name:"help",component:gX,meta:{title:"Help",background:"--container-section-color"}},{path:"/icons",name:"icon-list",component:uQ,meta:{title:"Icons",background:"--container-background-color"}},{path:"/graph",name:"graph",component:wne,meta:{title:"Graph",background:"--container-background-color"}},{path:"/ar",name:"ar",component:Pce,meta:{title:"AR",background:"--container-background-color"}}]}),e3=DR(sW);e3.use(VR());e3.use(Rce);e3.mount("#app");export{$ as b,re as i,M as n,ee as r,ie as t,F as x};
